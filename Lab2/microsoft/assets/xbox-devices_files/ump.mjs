// Universal Media Player
// Build Date: 2025-01-16T19:17:32.571Z
// Commit: f10b591ec73eead1df5d2d9ed284b6bdc8312e5c
// Build Number: 20250116.03

/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let O8=class extends Event{constructor(a,s,l){super("context-request",{bubbles:!0,composed:!0}),this.context=a,this.callback=s,this.subscribe=l??!1}};/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 *//**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let j8=class{constructor(a,s,l,p){if(this.subscribe=!1,this.provided=!1,this.value=void 0,this.t=(d,m)=>{this.unsubscribe&&(this.unsubscribe!==m&&(this.provided=!1,this.unsubscribe()),this.subscribe||this.unsubscribe()),this.value=d,this.host.requestUpdate(),this.provided&&!this.subscribe||(this.provided=!0,this.callback&&this.callback(d,m)),this.unsubscribe=m},this.host=a,s.context!==void 0){const d=s;this.context=d.context,this.callback=d.callback,this.subscribe=d.subscribe??!1}else this.context=s,this.callback=l,this.subscribe=p??!1;this.host.addController(this)}hostConnected(){this.dispatchRequest()}hostDisconnected(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0)}dispatchRequest(){this.host.dispatchEvent(new O8(this.context,this.t,this.subscribe))}};/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let $F=class{get value(){return this.o}set value(a){this.setValue(a)}setValue(a,s=!1){const l=s||!Object.is(a,this.o);this.o=a,l&&this.updateObservers()}constructor(a){this.subscriptions=new Map,this.updateObservers=()=>{for(const[s,{disposer:l}]of this.subscriptions)s(this.o,l)},a!==void 0&&(this.value=a)}addCallback(a,s,l){if(!l)return void a(this.value);this.subscriptions.has(a)||this.subscriptions.set(a,{disposer:()=>{this.subscriptions.delete(a)},consumerHost:s});const{disposer:p}=this.subscriptions.get(a);a(this.value,p)}clearCallbacks(){this.subscriptions.clear()}};/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let HF=class extends Event{constructor(a){super("context-provider",{bubbles:!0,composed:!0}),this.context=a}},Vw=class extends $F{constructor(a,s,l){var p,d;super(s.context!==void 0?s.initialValue:l),this.onContextRequest=m=>{const y=m.composedPath()[0];m.context===this.context&&y!==this.host&&(m.stopPropagation(),this.addCallback(m.callback,y,m.subscribe))},this.onProviderRequest=m=>{const y=m.composedPath()[0];if(m.context!==this.context||y===this.host)return;const f=new Set;for(const[E,{consumerHost:I}]of this.subscriptions)f.has(E)||(f.add(E),I.dispatchEvent(new O8(this.context,E,!0)));m.stopPropagation()},this.host=a,s.context!==void 0?this.context=s.context:this.context=s,this.attachListeners(),(d=(p=this.host).addController)==null||d.call(p,this)}attachListeners(){this.host.addEventListener("context-request",this.onContextRequest),this.host.addEventListener("context-provider",this.onProviderRequest)}hostConnected(){this.host.dispatchEvent(new HF(this.context))}};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function qF({context:a}){return(s,l)=>{const p=new WeakMap;if(typeof l=="object")return l.addInitializer(function(){p.set(this,new Vw(this,{context:a}))}),{get(){return s.get.call(this)},set(d){var m;return(m=p.get(this))==null||m.setValue(d),s.set.call(this,d)},init(d){var m;return(m=p.get(this))==null||m.setValue(d),d}};{s.constructor.addInitializer(y=>{p.set(y,new Vw(y,{context:a}))});const d=Object.getOwnPropertyDescriptor(s,l);let m;if(d===void 0){const y=new WeakMap;m={get(){return y.get(this)},set(f){p.get(this).setValue(f),y.set(this,f)},configurable:!0,enumerable:!0}}else{const y=d.set;m={...d,set(f){p.get(this).setValue(f),y?.call(this,f)}}}return void Object.defineProperty(s,l,m)}}}/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function gr({context:a,subscribe:s}){return(l,p)=>{typeof p=="object"?p.addInitializer(function(){new j8(this,{context:a,callback:d=>{l.set.call(this,d)},subscribe:s})}):l.constructor.addInitializer(d=>{new j8(d,{context:a,callback:m=>{d[p]=m},subscribe:s})})}}var GF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function F8(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var B8={};/*! codem-isoboxer v0.3.10 https://github.com/madebyhiro/codem-isoboxer/blob/master/LICENSE.txt */(function(a){var s={};s.parseBuffer=function(d){return new l(d).parse()},s.addBoxProcessor=function(d,m){typeof d!="string"||typeof m!="function"||(p.prototype._boxProcessors[d]=m)},s.createFile=function(){return new l},s.createBox=function(d,m,y){var f=p.create(d);return m&&m.append(f,y),f},s.createFullBox=function(d,m,y){var f=s.createBox(d,m,y);return f.version=0,f.flags=0,f},s.Utils={},s.Utils.dataViewToString=function(d,m){var y=m||"utf-8";if(typeof TextDecoder<"u")return new TextDecoder(y).decode(d);var f=[],E=0;if(y==="utf-8")for(;E<d.byteLength;){var I=d.getUint8(E++);I<128||(I<224?(I=(I&31)<<6,I|=d.getUint8(E++)&63):I<240?(I=(I&15)<<12,I|=(d.getUint8(E++)&63)<<6,I|=d.getUint8(E++)&63):(I=(I&7)<<18,I|=(d.getUint8(E++)&63)<<12,I|=(d.getUint8(E++)&63)<<6,I|=d.getUint8(E++)&63)),f.push(String.fromCharCode(I))}else for(;E<d.byteLength;)f.push(String.fromCharCode(d.getUint8(E++)));return f.join("")},s.Utils.utf8ToByteArray=function(d){var m,y;if(typeof TextEncoder<"u")m=new TextEncoder().encode(d);else for(m=[],y=0;y<d.length;++y){var f=d.charCodeAt(y);f<128?m.push(f):f<2048?(m.push(192|f>>6),m.push(128|63&f)):f<65536?(m.push(224|f>>12),m.push(128|63&f>>6),m.push(128|63&f)):(m.push(240|f>>18),m.push(128|63&f>>12),m.push(128|63&f>>6),m.push(128|63&f))}return m},s.Utils.appendBox=function(d,m,y){if(m._offset=d._cursor.offset,m._root=d._root?d._root:d,m._raw=d._raw,m._parent=d,y!==-1){if(y==null){d.boxes.push(m);return}var f=-1,E;if(typeof y=="number")f=y;else{if(typeof y=="string")E=y;else if(typeof y=="object"&&y.type)E=y.type;else{d.boxes.push(m);return}for(var I=0;I<d.boxes.length;I++)if(E===d.boxes[I].type){f=I+1;break}}d.boxes.splice(f,0,m)}},a.parseBuffer=s.parseBuffer,a.addBoxProcessor=s.addBoxProcessor,a.createFile=s.createFile,a.createBox=s.createBox,a.createFullBox=s.createFullBox,a.Utils=s.Utils,s.Cursor=function(d){this.offset=typeof d>"u"?0:d};var l=function(d){this._cursor=new s.Cursor,this.boxes=[],d&&(this._raw=new DataView(d))};l.prototype.fetch=function(d){var m=this.fetchAll(d,!0);return m.length?m[0]:null},l.prototype.fetchAll=function(d,m){var y=[];return l._sweep.call(this,d,y,m),y},l.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var d=p.parse(this);if(typeof d.type>"u")break;this.boxes.push(d)}return this},l._sweep=function(d,m,y){this.type&&this.type==d&&m.push(this);for(var f in this.boxes){if(m.length&&y)return;l._sweep.call(this.boxes[f],d,m,y)}},l.prototype.write=function(){var d=0,m;for(m=0;m<this.boxes.length;m++)d+=this.boxes[m].getLength(!1);var y=new Uint8Array(d);for(this._rawo=new DataView(y.buffer),this.bytes=y,this._cursor.offset=0,m=0;m<this.boxes.length;m++)this.boxes[m].write();return y.buffer},l.prototype.append=function(d,m){s.Utils.appendBox(this,d,m)};var p=function(){this._cursor=new s.Cursor};p.parse=function(d){var m=new p;return m._offset=d._cursor.offset,m._root=d._root?d._root:d,m._raw=d._raw,m._parent=d,m._parseBox(),d._cursor.offset=m._raw.byteOffset+m._raw.byteLength,m},p.create=function(d){var m=new p;return m.type=d,m.boxes=[],m},p.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca","meta","grpl","prsl"],p.prototype._boxProcessors={},p.prototype._procField=function(d,m,y){this._parsing?this[d]=this._readField(m,y):this._writeField(m,y,this[d])},p.prototype._procFieldArray=function(d,m,y,f){var E;if(this._parsing)for(this[d]=[],E=0;E<m;E++)this[d][E]=this._readField(y,f);else for(E=0;E<this[d].length;E++)this._writeField(y,f,this[d][E])},p.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},p.prototype._procEntries=function(d,m,y){var f;if(this._parsing)for(this[d]=[],f=0;f<m;f++)this[d].push({}),y.call(this,this[d][f]);else for(f=0;f<m;f++)y.call(this,this[d][f])},p.prototype._procSubEntries=function(d,m,y,f){var E;if(this._parsing)for(d[m]=[],E=0;E<y;E++)d[m].push({}),f.call(this,d[m][E]);else for(E=0;E<y;E++)f.call(this,d[m][E])},p.prototype._procEntryField=function(d,m,y,f){this._parsing?d[m]=this._readField(y,f):this._writeField(y,f,d[m])},p.prototype._procSubBoxes=function(d,m){var y;if(this._parsing)for(this[d]=[],y=0;y<m;y++)this[d].push(p.parse(this));else for(y=0;y<m;y++)this._rawo?this[d][y].write():this.size+=this[d][y].getLength()},p.prototype._readField=function(d,m){switch(d){case"uint":return this._readUint(m);case"int":return this._readInt(m);case"template":return this._readTemplate(m);case"string":return m===-1?this._readTerminatedString():this._readString(m);case"data":return this._readData(m);case"utf8":return this._readUTF8String();case"utf8string":return this._readUTF8TerminatedString();default:return-1}},p.prototype._readInt=function(d){var m=null,y=this._cursor.offset-this._raw.byteOffset;switch(d){case 8:m=this._raw.getInt8(y);break;case 16:m=this._raw.getInt16(y);break;case 32:m=this._raw.getInt32(y);break;case 64:var f=this._raw.getInt32(y),E=this._raw.getInt32(y+4);m=f*Math.pow(2,32)+E;break}return this._cursor.offset+=d>>3,m},p.prototype._readUint=function(d){var m=null,y=this._cursor.offset-this._raw.byteOffset,f,E;switch(d){case 8:m=this._raw.getUint8(y);break;case 16:m=this._raw.getUint16(y);break;case 24:f=this._raw.getUint16(y),E=this._raw.getUint8(y+2),m=(f<<8)+E;break;case 32:m=this._raw.getUint32(y);break;case 64:f=this._raw.getUint32(y),E=this._raw.getUint32(y+4),m=f*Math.pow(2,32)+E;break}return this._cursor.offset+=d>>3,m},p.prototype._readString=function(d){for(var m="",y=0;y<d;y++){var f=this._readUint(8);m+=String.fromCharCode(f)}return m},p.prototype._readTemplate=function(d){var m=this._readUint(d/2),y=this._readUint(d/2);return m+y/Math.pow(2,d/2)},p.prototype._readTerminatedString=function(){for(var d="";this._cursor.offset-this._offset<this._raw.byteLength;){var m=this._readUint(8);if(m===0)break;d+=String.fromCharCode(m)}return d},p.prototype._readData=function(d){var m=d>0?d:this._raw.byteLength-(this._cursor.offset-this._offset);if(m>0){var y=new Uint8Array(this._raw.buffer,this._cursor.offset,m);return this._cursor.offset+=m,y}else return null},p.prototype._readUTF8String=function(){var d=this._raw.byteLength-(this._cursor.offset-this._offset),m=null;return d>0&&(m=new DataView(this._raw.buffer,this._cursor.offset,d),this._cursor.offset+=d),m&&s.Utils.dataViewToString(m)},p.prototype._readUTF8TerminatedString=function(){var d=this._raw.byteLength-(this._cursor.offset-this._offset),m=null;if(d>0){m=new DataView(this._raw.buffer,this._cursor.offset,d);var y;for(y=0;y<d&&m.getUint8(y)!==0;y++);m=new DataView(this._raw.buffer,this._cursor.offset,y),this._cursor.offset+=Math.min(y+1,d)}return m&&s.Utils.dataViewToString(m)},p.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength){this._root._incomplete=!0;return}switch(this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1?this._parseContainerBox():this._data=this._readData())},p.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},p.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(p.parse(this))},p.prototype.append=function(d,m){s.Utils.appendBox(this,d,m)},p.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1)for(var d=0;d<this.boxes.length;d++)this.size+=this.boxes[d].getLength();return this._data&&this._writeData(this._data),this.size},p.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1)for(var d=0;d<this.boxes.length;d++)this.boxes[d].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},p.prototype._writeInt=function(d,m){if(this._rawo){var y=this._cursor.offset-this._rawo.byteOffset;switch(d){case 8:this._rawo.setInt8(y,m);break;case 16:this._rawo.setInt16(y,m);break;case 32:this._rawo.setInt32(y,m);break;case 64:var f=Math.floor(m/Math.pow(2,32)),E=m-f*Math.pow(2,32);this._rawo.setUint32(y,f),this._rawo.setUint32(y+4,E);break}this._cursor.offset+=d>>3}else this.size+=d>>3},p.prototype._writeUint=function(d,m){if(this._rawo){var y=this._cursor.offset-this._rawo.byteOffset,f,E;switch(d){case 8:this._rawo.setUint8(y,m);break;case 16:this._rawo.setUint16(y,m);break;case 24:f=(m&16776960)>>8,E=m&255,this._rawo.setUint16(y,f),this._rawo.setUint8(y+2,E);break;case 32:this._rawo.setUint32(y,m);break;case 64:f=Math.floor(m/Math.pow(2,32)),E=m-f*Math.pow(2,32),this._rawo.setUint32(y,f),this._rawo.setUint32(y+4,E);break}this._cursor.offset+=d>>3}else this.size+=d>>3},p.prototype._writeString=function(d,m){for(var y=0;y<d;y++)this._writeUint(8,m.charCodeAt(y))},p.prototype._writeTerminatedString=function(d){if(d.length!==0){for(var m=0;m<d.length;m++)this._writeUint(8,d.charCodeAt(m));this._writeUint(8,0)}},p.prototype._writeTemplate=function(d,m){var y=Math.floor(m),f=(m-y)*Math.pow(2,d/2);this._writeUint(d/2,y),this._writeUint(d/2,f)},p.prototype._writeData=function(d){var m;if(d)if(this._rawo){if(d instanceof Array){for(var y=this._cursor.offset-this._rawo.byteOffset,m=0;m<d.length;m++)this._rawo.setInt8(y+m,d[m]);this._cursor.offset+=d.length}d instanceof Uint8Array&&(this._root.bytes.set(d,this._cursor.offset),this._cursor.offset+=d.length)}else this.size+=d.length},p.prototype._writeUTF8String=function(d){var m=s.Utils.utf8ToByteArray(d);if(this._rawo)for(var y=new DataView(this._rawo.buffer,this._cursor.offset,m.length),f=0;f<m.length;f++)y.setUint8(f,m[f]);else this.size+=m.length},p.prototype._writeField=function(d,m,y){switch(d){case"uint":this._writeUint(m,y);break;case"int":this._writeInt(m,y);break;case"template":this._writeTemplate(m,y);break;case"string":m==-1?this._writeTerminatedString(y):this._writeString(m,y);break;case"data":this._writeData(y);break;case"utf8":this._writeUTF8String(y);break}},p.prototype._boxProcessors.ardi=function(){this._procFullBox(),this._procField("audio_rendering_indication","uint",8)},p.prototype._boxProcessors.avc1=p.prototype._boxProcessors.avc2=p.prototype._boxProcessors.avc3=p.prototype._boxProcessors.avc4=p.prototype._boxProcessors.hvc1=p.prototype._boxProcessors.hev1=p.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},p.prototype._boxProcessors.ctts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(d){this._procEntryField(d,"sample_count","uint",32),this._procEntryField(d,"sample_offset",this.version===1?"int":"uint",32)})},p.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},p.prototype._boxProcessors.elng=function(){this._procFullBox(),this._procField("extended_language","utf8string")},p.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(d){this._procEntryField(d,"segment_duration","uint",this.version===1?64:32),this._procEntryField(d,"media_time","int",this.version===1?64:32),this._procEntryField(d,"media_rate_integer","int",16),this._procEntryField(d,"media_rate_fraction","int",16)})},p.prototype._boxProcessors.emsg=function(){this._procFullBox(),this.version==1?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},p.prototype._boxProcessors.free=p.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},p.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},p.prototype._boxProcessors.ftyp=p.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var d=-1;this._parsing&&(d=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",d,"string",4)},p.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},p.prototype._boxProcessors.imda=function(){this._procField("imda_identifier","uint",32),this._procField("data","data",-1)},p.prototype._boxProcessors.kind=function(){this._procFullBox(),this._procField("schemeURI","utf8string"),this._procField("value","utf8string")},p.prototype._boxProcessors.labl=function(){this._procFullBox(),this.is_group_label=(this.flags&1)!=0,this._procField("label_id","uint",16),this._procField("language","utf8string"),this._procField("label","utf8string")},p.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},p.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",this.version==1?64:32),!this._parsing&&typeof this.language=="string"&&(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode((this.language>>10&31)+96,(this.language>>5&31)+96,(this.language&31)+96)),this._procField("pre_defined","uint",16)},p.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",this.version==1?64:32)},p.prototype._boxProcessors.meta=function(){this._procFullBox()},p.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},p.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},p.prototype._boxProcessors.mp4a=p.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},p.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",this.version==1?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},p.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},p.prototype._boxProcessors.prft=function(){this._procFullBox(),this._procField("reference_track_ID","uint",32),this._procField("ntp_timestamp_sec","uint",32),this._procField("ntp_timestamp_frac","uint",32),this._procField("media_time","uint",this.version==1?64:32)},p.prototype._boxProcessors.prsl=function(){this._procFullBox(),this._procField("group_id","uint",32),this._procField("num_entities_in_group","uint",32),this._procEntries("entities",this.num_entities_in_group,function(d){this._procEntryField(d,"entity_id","uint",32)}),this.flags&4096&&this._procField("preselection_tag","utf8string"),this.flags&8192&&this._procField("selection_priority","uint",8),this.flags&16384&&this._procField("interleaving_tag","utf8string")},p.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},p.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),this.flags&1&&this._procField("scheme_uri","string",-1)},p.prototype._boxProcessors.sdtp=function(){this._procFullBox();var d=-1;this._parsing&&(d=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",d,"uint",8)},p.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",this.version==1?64:32),this._procField("first_offset","uint",this.version==1?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(d){this._parsing||(d.reference=(d.reference_type&1)<<31,d.reference|=d.referenced_size&2147483647,d.sap=(d.starts_with_SAP&1)<<31,d.sap|=(d.SAP_type&3)<<28,d.sap|=d.SAP_delta_time&268435455),this._procEntryField(d,"reference","uint",32),this._procEntryField(d,"subsegment_duration","uint",32),this._procEntryField(d,"sap","uint",32),this._parsing&&(d.reference_type=d.reference>>31&1,d.referenced_size=d.reference&2147483647,d.starts_with_SAP=d.sap>>31&1,d.SAP_type=d.sap>>28&7,d.SAP_delta_time=d.sap&268435455)})},p.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},p.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(d){this._procEntryField(d,"ranges_count","uint",32),this._procSubEntries(d,"ranges",d.ranges_count,function(m){this._procEntryField(m,"level","uint",8),this._procEntryField(m,"range_size","uint",24)})})},p.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},p.prototype._boxProcessors.sttg=function(){this._procField("settings","utf8")},p.prototype._boxProcessors.stts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(d){this._procEntryField(d,"sample_count","uint",32),this._procEntryField(d,"sample_delta","uint",32)})},p.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(d){this._procEntryField(d,"sample_delta","uint",32),this._procEntryField(d,"subsample_count","uint",16),this._procSubEntries(d,"subsamples",d.subsample_count,function(m){this._procEntryField(m,"subsample_size","uint",this.version===1?32:16),this._procEntryField(m,"subsample_priority","uint",8),this._procEntryField(m,"discardable","uint",8),this._procEntryField(m,"codec_specific_parameters","uint",32)})})},p.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},p.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",this.version==1?64:32)},p.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),this.flags&1&&this._procField("base_data_offset","uint",64),this.flags&2&&this._procField("sample_description_offset","uint",32),this.flags&8&&this._procField("default_sample_duration","uint",32),this.flags&16&&this._procField("default_sample_size","uint",32),this.flags&32&&this._procField("default_sample_flags","uint",32)},p.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(this.length_size_of_traf_num&48)<<4,this.reserved|=(this.length_size_of_trun_num&12)<<2,this.reserved|=this.length_size_of_sample_num&3),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(this.reserved&48)>>4,this.length_size_of_trun_num=(this.reserved&12)>>2,this.length_size_of_sample_num=this.reserved&3),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(d){this._procEntryField(d,"time","uint",this.version===1?64:32),this._procEntryField(d,"moof_offset","uint",this.version===1?64:32),this._procEntryField(d,"traf_number","uint",(this.length_size_of_traf_num+1)*8),this._procEntryField(d,"trun_number","uint",(this.length_size_of_trun_num+1)*8),this._procEntryField(d,"sample_number","uint",(this.length_size_of_sample_num+1)*8)})},p.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",this.version==1?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},p.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},p.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),this.flags&1&&this._procField("data_offset","int",32),this.flags&4&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(d){this.flags&256&&this._procEntryField(d,"sample_duration","uint",32),this.flags&512&&this._procEntryField(d,"sample_size","uint",32),this.flags&1024&&this._procEntryField(d,"sample_flags","uint",32),this.flags&2048&&this._procEntryField(d,"sample_composition_time_offset",this.version===1?"int":"uint",32)})},p.prototype._boxProcessors["url "]=p.prototype._boxProcessors["urn "]=function(){this._procFullBox(),this.type==="urn "&&this._procField("name","string",-1),this._procField("location","string",-1)},p.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},p.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},p.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},p.prototype._boxProcessors.vtte=function(){}})(B8);const KF=F8(B8);/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const z0=globalThis,zw=z0.ShadowRoot&&(z0.ShadyCSS===void 0||z0.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,$w=Symbol(),V8=new WeakMap;let z8=class{constructor(a,s,l){if(this._$cssResult$=!0,l!==$w)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=a,this.t=s}get styleSheet(){let a=this.o;const s=this.t;if(zw&&a===void 0){const l=s!==void 0&&s.length===1;l&&(a=V8.get(s)),a===void 0&&((this.o=a=new CSSStyleSheet).replaceSync(this.cssText),l&&V8.set(s,a))}return a}toString(){return this.cssText}};const Hw=a=>new z8(typeof a=="string"?a:a+"",void 0,$w),xn=(a,...s)=>{const l=a.length===1?a[0]:s.reduce((p,d,m)=>p+(y=>{if(y._$cssResult$===!0)return y.cssText;if(typeof y=="number")return y;throw Error("Value passed to 'css' function must be a 'css' function result: "+y+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(d)+a[m+1],a[0]);return new z8(l,a,$w)},WF=(a,s)=>{if(zw)a.adoptedStyleSheets=s.map(l=>l instanceof CSSStyleSheet?l:l.styleSheet);else for(const l of s){const p=document.createElement("style"),d=z0.litNonce;d!==void 0&&p.setAttribute("nonce",d),p.textContent=l.cssText,a.appendChild(p)}},$8=zw?a=>a:a=>a instanceof CSSStyleSheet?(s=>{let l="";for(const p of s.cssRules)l+=p.cssText;return Hw(l)})(a):a;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:XF,defineProperty:YF,getOwnPropertyDescriptor:ZF,getOwnPropertyNames:QF,getOwnPropertySymbols:JF,getPrototypeOf:eB}=Object,Qc=globalThis,H8=Qc.trustedTypes,tB=H8?H8.emptyScript:"",q8=Qc.reactiveElementPolyfillSupport,Dh=(a,s)=>a,$0={toAttribute(a,s){switch(s){case Boolean:a=a?tB:null;break;case Object:case Array:a=a==null?a:JSON.stringify(a)}return a},fromAttribute(a,s){let l=a;switch(s){case Boolean:l=a!==null;break;case Number:l=a===null?null:Number(a);break;case Object:case Array:try{l=JSON.parse(a)}catch{l=null}}return l}},qw=(a,s)=>!XF(a,s),G8={attribute:!0,type:String,converter:$0,reflect:!1,hasChanged:qw};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Qc.litPropertyMetadata??(Qc.litPropertyMetadata=new WeakMap);class Jc extends HTMLElement{static addInitializer(s){this._$Ei(),(this.l??(this.l=[])).push(s)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(s,l=G8){if(l.state&&(l.attribute=!1),this._$Ei(),this.elementProperties.set(s,l),!l.noAccessor){const p=Symbol(),d=this.getPropertyDescriptor(s,p,l);d!==void 0&&YF(this.prototype,s,d)}}static getPropertyDescriptor(s,l,p){const{get:d,set:m}=ZF(this.prototype,s)??{get(){return this[l]},set(y){this[l]=y}};return{get(){return d?.call(this)},set(y){const f=d?.call(this);m.call(this,y),this.requestUpdate(s,f,p)},configurable:!0,enumerable:!0}}static getPropertyOptions(s){return this.elementProperties.get(s)??G8}static _$Ei(){if(this.hasOwnProperty(Dh("elementProperties")))return;const s=eB(this);s.finalize(),s.l!==void 0&&(this.l=[...s.l]),this.elementProperties=new Map(s.elementProperties)}static finalize(){if(this.hasOwnProperty(Dh("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Dh("properties"))){const l=this.properties,p=[...QF(l),...JF(l)];for(const d of p)this.createProperty(d,l[d])}const s=this[Symbol.metadata];if(s!==null){const l=litPropertyMetadata.get(s);if(l!==void 0)for(const[p,d]of l)this.elementProperties.set(p,d)}this._$Eh=new Map;for(const[l,p]of this.elementProperties){const d=this._$Eu(l,p);d!==void 0&&this._$Eh.set(d,l)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(s){const l=[];if(Array.isArray(s)){const p=new Set(s.flat(1/0).reverse());for(const d of p)l.unshift($8(d))}else s!==void 0&&l.push($8(s));return l}static _$Eu(s,l){const p=l.attribute;return p===!1?void 0:typeof p=="string"?p:typeof s=="string"?s.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var s;this._$ES=new Promise(l=>this.enableUpdating=l),this._$AL=new Map,this._$E_(),this.requestUpdate(),(s=this.constructor.l)==null||s.forEach(l=>l(this))}addController(s){var l;(this._$EO??(this._$EO=new Set)).add(s),this.renderRoot!==void 0&&this.isConnected&&((l=s.hostConnected)==null||l.call(s))}removeController(s){var l;(l=this._$EO)==null||l.delete(s)}_$E_(){const s=new Map,l=this.constructor.elementProperties;for(const p of l.keys())this.hasOwnProperty(p)&&(s.set(p,this[p]),delete this[p]);s.size>0&&(this._$Ep=s)}createRenderRoot(){const s=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return WF(s,this.constructor.elementStyles),s}connectedCallback(){var s;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(s=this._$EO)==null||s.forEach(l=>{var p;return(p=l.hostConnected)==null?void 0:p.call(l)})}enableUpdating(s){}disconnectedCallback(){var s;(s=this._$EO)==null||s.forEach(l=>{var p;return(p=l.hostDisconnected)==null?void 0:p.call(l)})}attributeChangedCallback(s,l,p){this._$AK(s,p)}_$EC(s,l){var p;const d=this.constructor.elementProperties.get(s),m=this.constructor._$Eu(s,d);if(m!==void 0&&d.reflect===!0){const y=(((p=d.converter)==null?void 0:p.toAttribute)!==void 0?d.converter:$0).toAttribute(l,d.type);this._$Em=s,y==null?this.removeAttribute(m):this.setAttribute(m,y),this._$Em=null}}_$AK(s,l){var p;const d=this.constructor,m=d._$Eh.get(s);if(m!==void 0&&this._$Em!==m){const y=d.getPropertyOptions(m),f=typeof y.converter=="function"?{fromAttribute:y.converter}:((p=y.converter)==null?void 0:p.fromAttribute)!==void 0?y.converter:$0;this._$Em=m,this[m]=f.fromAttribute(l,y.type),this._$Em=null}}requestUpdate(s,l,p){if(s!==void 0){if(p??(p=this.constructor.getPropertyOptions(s)),!(p.hasChanged??qw)(this[s],l))return;this.P(s,l,p)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(s,l,p){this._$AL.has(s)||this._$AL.set(s,l),p.reflect===!0&&this._$Em!==s&&(this._$Ej??(this._$Ej=new Set)).add(s)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(l){Promise.reject(l)}const s=this.scheduleUpdate();return s!=null&&await s,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var s;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[m,y]of this._$Ep)this[m]=y;this._$Ep=void 0}const d=this.constructor.elementProperties;if(d.size>0)for(const[m,y]of d)y.wrapped!==!0||this._$AL.has(m)||this[m]===void 0||this.P(m,this[m],y)}let l=!1;const p=this._$AL;try{l=this.shouldUpdate(p),l?(this.willUpdate(p),(s=this._$EO)==null||s.forEach(d=>{var m;return(m=d.hostUpdate)==null?void 0:m.call(d)}),this.update(p)):this._$EU()}catch(d){throw l=!1,this._$EU(),d}l&&this._$AE(p)}willUpdate(s){}_$AE(s){var l;(l=this._$EO)==null||l.forEach(p=>{var d;return(d=p.hostUpdated)==null?void 0:d.call(p)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(s)),this.updated(s)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(s){return!0}update(s){this._$Ej&&(this._$Ej=this._$Ej.forEach(l=>this._$EC(l,this[l]))),this._$EU()}updated(s){}firstUpdated(s){}}Jc.elementStyles=[],Jc.shadowRootOptions={mode:"open"},Jc[Dh("elementProperties")]=new Map,Jc[Dh("finalized")]=new Map,q8?.({ReactiveElement:Jc}),(Qc.reactiveElementVersions??(Qc.reactiveElementVersions=[])).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const H0=globalThis,q0=H0.trustedTypes,K8=q0?q0.createPolicy("lit-html",{createHTML:a=>a}):void 0,W8="$lit$",Ns=`lit$${Math.random().toFixed(9).slice(2)}$`,X8="?"+Ns,nB=`<${X8}>`,$u=document,Lh=()=>$u.createComment(""),Rh=a=>a===null||typeof a!="object"&&typeof a!="function",Gw=Array.isArray,rB=a=>Gw(a)||typeof a?.[Symbol.iterator]=="function",Kw=`[ 	
\f\r]`,Nh=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Y8=/-->/g,Z8=/>/g,Hu=RegExp(`>|${Kw}(?:([^\\s"'>=/]+)(${Kw}*=${Kw}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Q8=/'/g,J8=/"/g,eM=/^(?:script|style|textarea|title)$/i,iB=a=>(s,...l)=>({_$litType$:a,strings:s,values:l}),ft=iB(1),Us=Symbol.for("lit-noChange"),ar=Symbol.for("lit-nothing"),tM=new WeakMap,qu=$u.createTreeWalker($u,129);function nM(a,s){if(!Gw(a)||!a.hasOwnProperty("raw"))throw Error("invalid template strings array");return K8!==void 0?K8.createHTML(s):s}const aB=(a,s)=>{const l=a.length-1,p=[];let d,m=s===2?"<svg>":s===3?"<math>":"",y=Nh;for(let f=0;f<l;f++){const E=a[f];let I,D,U=-1,N=0;for(;N<E.length&&(y.lastIndex=N,D=y.exec(E),D!==null);)N=y.lastIndex,y===Nh?D[1]==="!--"?y=Y8:D[1]!==void 0?y=Z8:D[2]!==void 0?(eM.test(D[2])&&(d=RegExp("</"+D[2],"g")),y=Hu):D[3]!==void 0&&(y=Hu):y===Hu?D[0]===">"?(y=d??Nh,U=-1):D[1]===void 0?U=-2:(U=y.lastIndex-D[2].length,I=D[1],y=D[3]===void 0?Hu:D[3]==='"'?J8:Q8):y===J8||y===Q8?y=Hu:y===Y8||y===Z8?y=Nh:(y=Hu,d=void 0);const R=y===Hu&&a[f+1].startsWith("/>")?" ":"";m+=y===Nh?E+nB:U>=0?(p.push(I),E.slice(0,U)+W8+E.slice(U)+Ns+R):E+Ns+(U===-2?f:R)}return[nM(a,m+(a[l]||"<?>")+(s===2?"</svg>":s===3?"</math>":"")),p]};class hg{constructor({strings:s,_$litType$:l},p){let d;this.parts=[];let m=0,y=0;const f=s.length-1,E=this.parts,[I,D]=aB(s,l);if(this.el=hg.createElement(I,p),qu.currentNode=this.el.content,l===2||l===3){const U=this.el.content.firstChild;U.replaceWith(...U.childNodes)}for(;(d=qu.nextNode())!==null&&E.length<f;){if(d.nodeType===1){if(d.hasAttributes())for(const U of d.getAttributeNames())if(U.endsWith(W8)){const N=D[y++],R=d.getAttribute(U).split(Ns),w=/([.?@])?(.*)/.exec(N);E.push({type:1,index:m,name:w[2],strings:R,ctor:w[1]==="."?sB:w[1]==="?"?uB:w[1]==="@"?lB:G0}),d.removeAttribute(U)}else U.startsWith(Ns)&&(E.push({type:6,index:m}),d.removeAttribute(U));if(eM.test(d.tagName)){const U=d.textContent.split(Ns),N=U.length-1;if(N>0){d.textContent=q0?q0.emptyScript:"";for(let R=0;R<N;R++)d.append(U[R],Lh()),qu.nextNode(),E.push({type:2,index:++m});d.append(U[N],Lh())}}}else if(d.nodeType===8)if(d.data===X8)E.push({type:2,index:m});else{let U=-1;for(;(U=d.data.indexOf(Ns,U+1))!==-1;)E.push({type:7,index:m}),U+=Ns.length-1}m++}}static createElement(s,l){const p=$u.createElement("template");return p.innerHTML=s,p}}function ed(a,s,l=a,p){var d,m;if(s===Us)return s;let y=p!==void 0?(d=l.o)==null?void 0:d[p]:l.l;const f=Rh(s)?void 0:s._$litDirective$;return y?.constructor!==f&&((m=y?._$AO)==null||m.call(y,!1),f===void 0?y=void 0:(y=new f(a),y._$AT(a,l,p)),p!==void 0?(l.o??(l.o=[]))[p]=y:l.l=y),y!==void 0&&(s=ed(a,y._$AS(a,s.values),y,p)),s}let oB=class{constructor(a,s){this._$AV=[],this._$AN=void 0,this._$AD=a,this._$AM=s}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(a){const{el:{content:s},parts:l}=this._$AD,p=(a?.creationScope??$u).importNode(s,!0);qu.currentNode=p;let d=qu.nextNode(),m=0,y=0,f=l[0];for(;f!==void 0;){if(m===f.index){let E;f.type===2?E=new fg(d,d.nextSibling,this,a):f.type===1?E=new f.ctor(d,f.name,f.strings,this,a):f.type===6&&(E=new cB(d,this,a)),this._$AV.push(E),f=l[++y]}m!==f?.index&&(d=qu.nextNode(),m++)}return qu.currentNode=$u,p}p(a){let s=0;for(const l of this._$AV)l!==void 0&&(l.strings!==void 0?(l._$AI(a,l,s),s+=l.strings.length-2):l._$AI(a[s])),s++}};class fg{get _$AU(){var s;return((s=this._$AM)==null?void 0:s._$AU)??this.v}constructor(s,l,p,d){this.type=2,this._$AH=ar,this._$AN=void 0,this._$AA=s,this._$AB=l,this._$AM=p,this.options=d,this.v=d?.isConnected??!0}get parentNode(){let s=this._$AA.parentNode;const l=this._$AM;return l!==void 0&&s?.nodeType===11&&(s=l.parentNode),s}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(s,l=this){s=ed(this,s,l),Rh(s)?s===ar||s==null||s===""?(this._$AH!==ar&&this._$AR(),this._$AH=ar):s!==this._$AH&&s!==Us&&this._(s):s._$litType$!==void 0?this.$(s):s.nodeType!==void 0?this.T(s):rB(s)?this.k(s):this._(s)}O(s){return this._$AA.parentNode.insertBefore(s,this._$AB)}T(s){this._$AH!==s&&(this._$AR(),this._$AH=this.O(s))}_(s){this._$AH!==ar&&Rh(this._$AH)?this._$AA.nextSibling.data=s:this.T($u.createTextNode(s)),this._$AH=s}$(s){var l;const{values:p,_$litType$:d}=s,m=typeof d=="number"?this._$AC(s):(d.el===void 0&&(d.el=hg.createElement(nM(d.h,d.h[0]),this.options)),d);if(((l=this._$AH)==null?void 0:l._$AD)===m)this._$AH.p(p);else{const y=new oB(m,this),f=y.u(this.options);y.p(p),this.T(f),this._$AH=y}}_$AC(s){let l=tM.get(s.strings);return l===void 0&&tM.set(s.strings,l=new hg(s)),l}k(s){Gw(this._$AH)||(this._$AH=[],this._$AR());const l=this._$AH;let p,d=0;for(const m of s)d===l.length?l.push(p=new fg(this.O(Lh()),this.O(Lh()),this,this.options)):p=l[d],p._$AI(m),d++;d<l.length&&(this._$AR(p&&p._$AB.nextSibling,d),l.length=d)}_$AR(s=this._$AA.nextSibling,l){var p;for((p=this._$AP)==null?void 0:p.call(this,!1,!0,l);s&&s!==this._$AB;){const d=s.nextSibling;s.remove(),s=d}}setConnected(s){var l;this._$AM===void 0&&(this.v=s,(l=this._$AP)==null||l.call(this,s))}}class G0{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(s,l,p,d,m){this.type=1,this._$AH=ar,this._$AN=void 0,this.element=s,this.name=l,this._$AM=d,this.options=m,p.length>2||p[0]!==""||p[1]!==""?(this._$AH=Array(p.length-1).fill(new String),this.strings=p):this._$AH=ar}_$AI(s,l=this,p,d){const m=this.strings;let y=!1;if(m===void 0)s=ed(this,s,l,0),y=!Rh(s)||s!==this._$AH&&s!==Us,y&&(this._$AH=s);else{const f=s;let E,I;for(s=m[0],E=0;E<m.length-1;E++)I=ed(this,f[p+E],l,E),I===Us&&(I=this._$AH[E]),y||(y=!Rh(I)||I!==this._$AH[E]),I===ar?s=ar:s!==ar&&(s+=(I??"")+m[E+1]),this._$AH[E]=I}y&&!d&&this.j(s)}j(s){s===ar?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,s??"")}}class sB extends G0{constructor(){super(...arguments),this.type=3}j(s){this.element[this.name]=s===ar?void 0:s}}class uB extends G0{constructor(){super(...arguments),this.type=4}j(s){this.element.toggleAttribute(this.name,!!s&&s!==ar)}}class lB extends G0{constructor(s,l,p,d,m){super(s,l,p,d,m),this.type=5}_$AI(s,l=this){if((s=ed(this,s,l,0)??ar)===Us)return;const p=this._$AH,d=s===ar&&p!==ar||s.capture!==p.capture||s.once!==p.once||s.passive!==p.passive,m=s!==ar&&(p===ar||d);d&&this.element.removeEventListener(this.name,this,p),m&&this.element.addEventListener(this.name,this,s),this._$AH=s}handleEvent(s){var l;typeof this._$AH=="function"?this._$AH.call(((l=this.options)==null?void 0:l.host)??this.element,s):this._$AH.handleEvent(s)}}class cB{constructor(s,l,p){this.element=s,this.type=6,this._$AN=void 0,this._$AM=l,this.options=p}get _$AU(){return this._$AM._$AU}_$AI(s){ed(this,s)}}const rM=H0.litHtmlPolyfillSupport;rM?.(hg,fg),(H0.litHtmlVersions??(H0.litHtmlVersions=[])).push("3.2.0");const dB=(a,s,l)=>{const p=l?.renderBefore??s;let d=p._$litPart$;if(d===void 0){const m=l?.renderBefore??null;p._$litPart$=d=new fg(s.insertBefore(Lh(),m),m,void 0,l??{})}return d._$AI(a),d};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class yn extends Jc{constructor(){super(...arguments),this.renderOptions={host:this},this.o=void 0}createRenderRoot(){var s;const l=super.createRenderRoot();return(s=this.renderOptions).renderBefore??(s.renderBefore=l.firstChild),l}update(s){const l=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(s),this.o=dB(l,this.renderRoot,this.renderOptions)}connectedCallback(){var s;super.connectedCallback(),(s=this.o)==null||s.setConnected(!0)}disconnectedCallback(){var s;super.disconnectedCallback(),(s=this.o)==null||s.setConnected(!1)}render(){return Us}}var iM;yn._$litElement$=!0,yn.finalized=!0,(iM=globalThis.litElementHydrateSupport)==null||iM.call(globalThis,{LitElement:yn});const aM=globalThis.litElementPolyfillSupport;aM?.({LitElement:yn}),(globalThis.litElementVersions??(globalThis.litElementVersions=[])).push("4.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const zn=a=>(s,l)=>{l!==void 0?l.addInitializer(()=>{customElements.define(a,s)}):customElements.define(a,s)};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const pB={attribute:!0,type:String,converter:$0,reflect:!1,hasChanged:qw},hB=(a=pB,s,l)=>{const{kind:p,metadata:d}=l;let m=globalThis.litPropertyMetadata.get(d);if(m===void 0&&globalThis.litPropertyMetadata.set(d,m=new Map),m.set(l.name,a),p==="accessor"){const{name:y}=l;return{set(f){const E=s.get.call(this);s.set.call(this,f),this.requestUpdate(y,E,a)},init(f){return f!==void 0&&this.P(y,void 0,a),f}}}if(p==="setter"){const{name:y}=l;return function(f){const E=this[y];s.call(this,f),this.requestUpdate(y,E,a)}}throw Error("Unsupported decorator location: "+p)};function er(a){return(s,l)=>typeof l=="object"?hB(a,s,l):((p,d,m)=>{const y=d.hasOwnProperty(m);return d.constructor.createProperty(m,y?{...p,wrapped:!0}:p),y?Object.getOwnPropertyDescriptor(d,m):void 0})(a,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function K0(a){return er({...a,state:!0,attribute:!1})}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const fB=(a,s,l)=>(l.configurable=!0,l.enumerable=!0,Reflect.decorate&&typeof s!="object"&&Object.defineProperty(a,s,l),l);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function On(a,s){return(l,p,d)=>{const m=y=>{var f;return((f=y.renderRoot)==null?void 0:f.querySelector(a))??null};return fB(l,p,{get(){return m(this)}})}}var oM={};/*
 @license
 Shaka Player
 Copyright 2016 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/(function(a){(function(){var s=typeof window<"u"?window:GF,l={};(function(d,m,y){var f;function E(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var I=typeof Object.defineProperties=="function"?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};function D(e){e=[typeof globalThis=="object"&&globalThis,e,typeof d=="object"&&d,typeof self=="object"&&self,typeof m=="object"&&m];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}var U=D(this);function N(e,t){if(t)e:{var n=U;e=e.split(".");for(var r=0;r<e.length-1;r++){var i=e[r];if(!(i in n))break e;n=n[i]}e=e[e.length-1],r=n[e],t=t(r),t!=r&&t!=null&&I(n,e,{configurable:!0,writable:!0,value:t})}}N("Symbol",function(e){function t(o){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new n(r+(o||"")+"_"+i++,o)}function n(o,u){this.g=o,I(this,"description",{configurable:!0,writable:!0,value:u})}if(e)return e;n.prototype.toString=function(){return this.g};var r="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",i=0;return t}),N("Symbol.iterator",function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<t.length;n++){var r=U[t[n]];typeof r=="function"&&typeof r.prototype[e]!="function"&&I(r.prototype,e,{configurable:!0,writable:!0,value:function(){return R(E(this))}})}return e});function R(e){return e={next:e},e[Symbol.iterator]=function(){return this},e}function w(e){var t=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];if(t)return t.call(e);if(typeof e.length=="number")return{next:E(e)};throw Error(String(e)+" is not an iterable or ArrayLike")}function F(e){if(!(e instanceof Array)){e=w(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}var q=typeof Object.create=="function"?Object.create:function(e){function t(){}return t.prototype=e,new t},Z;if(typeof Object.setPrototypeOf=="function")Z=Object.setPrototypeOf;else{var ne;e:{var ve={a:!0},pe={};try{pe.__proto__=ve,ne=pe.a;break e}catch{}ne=!1}Z=ne?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var Ee=Z;function Se(e,t){if(e.prototype=q(t.prototype),e.prototype.constructor=e,Ee)Ee(e,t);else for(var n in t)if(n!="prototype")if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n];e.lk=t.prototype}function J(){this.o=!1,this.l=null,this.h=void 0,this.g=1,this.j=this.m=0,this.A=this.i=null}function _e(e){if(e.o)throw new TypeError("Generator is already running");e.o=!0}J.prototype.s=function(e){this.h=e};function xe(e,t){e.i={rg:t,Eg:!0},e.g=e.m||e.j}J.prototype.return=function(e){this.i={return:e},this.g=this.j};function k(e,t,n){return e.g=n,{value:t}}J.prototype.u=function(e){this.g=e};function te(e){e.g=0}function se(e,t,n){e.m=t,n!=null&&(e.j=n)}function Re(e,t){e.m=0,e.j=t||0}function z(e,t,n){e.g=t,e.m=n||0}function Y(e,t){return e.m=t||0,t=e.i.rg,e.i=null,t}function we(e){e.A=[e.i],e.m=0,e.j=0}function Q(e,t){var n=e.A.splice(0)[0];(n=e.i=e.i||n)?n.Eg?e.g=e.m||e.j:n.u!=null&&e.j<n.u?(e.g=n.u,e.i=null):e.g=e.j:e.g=t}function je(e){this.g=new J,this.h=e}function qe(e,t){_e(e.g);var n=e.g.l;return n?pt(e,"return"in n?n.return:function(r){return{value:r,done:!0}},t,e.g.return):(e.g.return(t),K(e))}function pt(e,t,n,r){try{var i=t.call(e.g.l,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.g.o=!1,i;var o=i.value}catch(u){return e.g.l=null,xe(e.g,u),K(e)}return e.g.l=null,r.call(e.g,o),K(e)}function K(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.o=!1,{value:t.value,done:!1}}catch(n){e.g.h=void 0,xe(e.g,n)}if(e.g.o=!1,e.g.i){if(t=e.g.i,e.g.i=null,t.Eg)throw t.rg;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function de(e){this.next=function(t){return _e(e.g),e.g.l?t=pt(e,e.g.l.next,t,e.g.s):(e.g.s(t),t=K(e)),t},this.throw=function(t){return _e(e.g),e.g.l?t=pt(e,e.g.l.throw,t,e.g.s):(xe(e.g,t),t=K(e)),t},this.return=function(t){return qe(e,t)},this[Symbol.iterator]=function(){return this}}function X(e){function t(r){return e.next(r)}function n(r){return e.throw(r)}return new Promise(function(r,i){function o(u){u.done?r(u.value):Promise.resolve(u.value).then(t,n).then(o,i)}o(e.next())})}function L(e){return X(new de(new je(e)))}function Ue(){for(var e=Number(this),t=[],n=e;n<arguments.length;n++)t[n-e]=arguments[n];return t}N("Promise",function(e){function t(u){this.h=0,this.i=void 0,this.g=[],this.o=!1;var c=this.j();try{u(c.resolve,c.reject)}catch(h){c.reject(h)}}function n(){this.g=null}function r(u){return u instanceof t?u:new t(function(c){c(u)})}if(e)return e;n.prototype.h=function(u){if(this.g==null){this.g=[];var c=this;this.i(function(){c.l()})}this.g.push(u)};var i=U.setTimeout;n.prototype.i=function(u){i(u,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var u=this.g;this.g=[];for(var c=0;c<u.length;++c){var h=u[c];u[c]=null;try{h()}catch(g){this.j(g)}}}this.g=null},n.prototype.j=function(u){this.i(function(){throw u})},t.prototype.j=function(){function u(g){return function(v){h||(h=!0,g.call(c,v))}}var c=this,h=!1;return{resolve:u(this.F),reject:u(this.l)}},t.prototype.F=function(u){if(u===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(u instanceof t)this.H(u);else{e:switch(typeof u){case"object":var c=u!=null;break e;case"function":c=!0;break e;default:c=!1}c?this.C(u):this.m(u)}},t.prototype.C=function(u){var c=void 0;try{c=u.then}catch(h){this.l(h);return}typeof c=="function"?this.I(c,u):this.m(u)},t.prototype.l=function(u){this.s(2,u)},t.prototype.m=function(u){this.s(1,u)},t.prototype.s=function(u,c){if(this.h!=0)throw Error("Cannot settle("+u+", "+c+"): Promise already settled in state"+this.h);this.h=u,this.i=c,this.h===2&&this.G(),this.A()},t.prototype.G=function(){var u=this;i(function(){if(u.B()){var c=U.console;typeof c<"u"&&c.error(u.i)}},1)},t.prototype.B=function(){if(this.o)return!1;var u=U.CustomEvent,c=U.Event,h=U.dispatchEvent;return typeof h>"u"?!0:(typeof u=="function"?u=new u("unhandledrejection",{cancelable:!0}):typeof c=="function"?u=new c("unhandledrejection",{cancelable:!0}):(u=U.document.createEvent("CustomEvent"),u.initCustomEvent("unhandledrejection",!1,!0,u)),u.promise=this,u.reason=this.i,h(u))},t.prototype.A=function(){if(this.g!=null){for(var u=0;u<this.g.length;++u)o.h(this.g[u]);this.g=null}};var o=new n;return t.prototype.H=function(u){var c=this.j();u.Dd(c.resolve,c.reject)},t.prototype.I=function(u,c){var h=this.j();try{u.call(c,h.resolve,h.reject)}catch(g){h.reject(g)}},t.prototype.then=function(u,c){function h(x,S){return typeof x=="function"?function(T){try{g(x(T))}catch(A){v(A)}}:S}var g,v,b=new t(function(x,S){g=x,v=S});return this.Dd(h(u,g),h(c,v)),b},t.prototype.catch=function(u){return this.then(void 0,u)},t.prototype.Dd=function(u,c){function h(){switch(g.h){case 1:u(g.i);break;case 2:c(g.i);break;default:throw Error("Unexpected state: "+g.h)}}var g=this;this.g==null?o.h(h):this.g.push(h),this.o=!0},t.resolve=r,t.reject=function(u){return new t(function(c,h){h(u)})},t.race=function(u){return new t(function(c,h){for(var g=w(u),v=g.next();!v.done;v=g.next())r(v.value).Dd(c,h)})},t.all=function(u){var c=w(u),h=c.next();return h.done?r([]):new t(function(g,v){function b(T){return function(A){x[T]=A,S--,S==0&&g(x)}}var x=[],S=0;do x.push(void 0),S++,r(h.value).Dd(b(x.length-1),v),h=c.next();while(!h.done)})},t});function ut(e,t){return Object.prototype.hasOwnProperty.call(e,t)}N("WeakMap",function(e){function t(h){if(this.g=(c+=Math.random()+1).toString(),h){h=w(h);for(var g;!(g=h.next()).done;)g=g.value,this.set(g[0],g[1])}}function n(){}function r(h){var g=typeof h;return g==="object"&&h!==null||g==="function"}function i(h){if(!ut(h,u)){var g=new n;I(h,u,{value:g})}}function o(h){var g=Object[h];g&&(Object[h]=function(v){return v instanceof n?v:(Object.isExtensible(v)&&i(v),g(v))})}if(function(){if(!e||!Object.seal)return!1;try{var h=Object.seal({}),g=Object.seal({}),v=new e([[h,2],[g,3]]);return v.get(h)!=2||v.get(g)!=3?!1:(v.delete(h),v.set(g,4),!v.has(h)&&v.get(g)==4)}catch{return!1}}())return e;var u="$jscomp_hidden_"+Math.random();o("freeze"),o("preventExtensions"),o("seal");var c=0;return t.prototype.set=function(h,g){if(!r(h))throw Error("Invalid WeakMap key");if(i(h),!ut(h,u))throw Error("WeakMap key fail: "+h);return h[u][this.g]=g,this},t.prototype.get=function(h){return r(h)&&ut(h,u)?h[u][this.g]:void 0},t.prototype.has=function(h){return r(h)&&ut(h,u)&&ut(h[u],this.g)},t.prototype.delete=function(h){return r(h)&&ut(h,u)&&ut(h[u],this.g)?delete h[u][this.g]:!1},t}),N("Map",function(e){function t(){var c={};return c.Ob=c.next=c.head=c}function n(c,h){var g=c[1];return R(function(){if(g){for(;g.head!=c[1];)g=g.Ob;for(;g.next!=g.head;)return g=g.next,{done:!1,value:h(g)};g=null}return{done:!0,value:void 0}})}function r(c,h){var g=h&&typeof h;g=="object"||g=="function"?o.has(h)?g=o.get(h):(g=""+ ++u,o.set(h,g)):g="p_"+h;var v=c[0][g];if(v&&ut(c[0],g))for(c=0;c<v.length;c++){var b=v[c];if(h!==h&&b.key!==b.key||h===b.key)return{id:g,list:v,index:c,entry:b}}return{id:g,list:v,index:-1,entry:void 0}}function i(c){if(this[0]={},this[1]=t(),this.size=0,c){c=w(c);for(var h;!(h=c.next()).done;)h=h.value,this.set(h[0],h[1])}}if(function(){if(!e||typeof e!="function"||!e.prototype.entries||typeof Object.seal!="function")return!1;try{var c=Object.seal({x:4}),h=new e(w([[c,"s"]]));if(h.get(c)!="s"||h.size!=1||h.get({x:4})||h.set({x:4},"t")!=h||h.size!=2)return!1;var g=h.entries(),v=g.next();return v.done||v.value[0]!=c||v.value[1]!="s"?!1:(v=g.next(),!(v.done||v.value[0].x!=4||v.value[1]!="t"||!g.next().done))}catch{return!1}}())return e;var o=new WeakMap;i.prototype.set=function(c,h){c=c===0?0:c;var g=r(this,c);return g.list||(g.list=this[0][g.id]=[]),g.entry?g.entry.value=h:(g.entry={next:this[1],Ob:this[1].Ob,head:this[1],key:c,value:h},g.list.push(g.entry),this[1].Ob.next=g.entry,this[1].Ob=g.entry,this.size++),this},i.prototype.delete=function(c){return c=r(this,c),c.entry&&c.list?(c.list.splice(c.index,1),c.list.length||delete this[0][c.id],c.entry.Ob.next=c.entry.next,c.entry.next.Ob=c.entry.Ob,c.entry.head=null,this.size--,!0):!1},i.prototype.clear=function(){this[0]={},this[1]=this[1].Ob=t(),this.size=0},i.prototype.has=function(c){return!!r(this,c).entry},i.prototype.get=function(c){return(c=r(this,c).entry)&&c.value},i.prototype.entries=function(){return n(this,function(c){return[c.key,c.value]})},i.prototype.keys=function(){return n(this,function(c){return c.key})},i.prototype.values=function(){return n(this,function(c){return c.value})},i.prototype.forEach=function(c,h){for(var g=this.entries(),v;!(v=g.next()).done;)v=v.value,c.call(h,v[1],v[0],this)},i.prototype[Symbol.iterator]=i.prototype.entries;var u=0;return i}),N("Set",function(e){function t(n){if(this.g=new Map,n){n=w(n);for(var r;!(r=n.next()).done;)this.add(r.value)}this.size=this.g.size}return function(){if(!e||typeof e!="function"||!e.prototype.entries||typeof Object.seal!="function")return!1;try{var n=Object.seal({x:4}),r=new e(w([n]));if(!r.has(n)||r.size!=1||r.add(n)!=r||r.size!=1||r.add({x:4})!=r||r.size!=2)return!1;var i=r.entries(),o=i.next();return o.done||o.value[0]!=n||o.value[1]!=n?!1:(o=i.next(),o.done||o.value[0]==n||o.value[0].x!=4||o.value[1]!=o.value[0]?!1:i.next().done)}catch{return!1}}()?e:(t.prototype.add=function(n){return n=n===0?0:n,this.g.set(n,n),this.size=this.g.size,this},t.prototype.delete=function(n){return n=this.g.delete(n),this.size=this.g.size,n},t.prototype.clear=function(){this.g.clear(),this.size=0},t.prototype.has=function(n){return this.g.has(n)},t.prototype.entries=function(){return this.g.entries()},t.prototype.values=function(){return this.g.values()},t.prototype.keys=t.prototype.values,t.prototype[Symbol.iterator]=t.prototype.values,t.prototype.forEach=function(n,r){var i=this;this.g.forEach(function(o){return n.call(r,o,o,i)})},t)});function xt(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var o=n++;return{value:t(o,e[o]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}N("Array.prototype.keys",function(e){return e||function(){return xt(this,function(t){return t})}});function Dt(e,t,n){e instanceof String&&(e=String(e));for(var r=e.length,i=0;i<r;i++){var o=e[i];if(t.call(n,o,i,e))return{Cg:i,v:o}}return{Cg:-1,v:void 0}}N("Array.prototype.findIndex",function(e){return e||function(t,n){return Dt(this,t,n).Cg}}),N("Array.from",function(e){return e||function(t,n,r){n=n??function(c){return c};var i=[],o=typeof Symbol<"u"&&Symbol.iterator&&t[Symbol.iterator];if(typeof o=="function"){t=o.call(t);for(var u=0;!(o=t.next()).done;)i.push(n.call(r,o.value,u++))}else for(o=t.length,u=0;u<o;u++)i.push(n.call(r,t[u],u));return i}}),N("Array.prototype.values",function(e){return e||function(){return xt(this,function(t,n){return n})}}),N("Object.is",function(e){return e||function(t,n){return t===n?t!==0||1/t===1/n:t!==t&&n!==n}}),N("Array.prototype.includes",function(e){return e||function(t,n){var r=this;r instanceof String&&(r=String(r));var i=r.length;for(n=n||0,0>n&&(n=Math.max(n+i,0));n<i;n++){var o=r[n];if(o===t||Object.is(o,t))return!0}return!1}});function Xt(e,t,n){if(e==null)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return e+""}N("String.prototype.includes",function(e){return e||function(t,n){return Xt(this,t,"includes").indexOf(t,n||0)!==-1}}),N("String.fromCodePoint",function(e){return e||function(t){for(var n="",r=0;r<arguments.length;r++){var i=Number(arguments[r]);if(0>i||1114111<i||i!==Math.floor(i))throw new RangeError("invalid_code_point "+i);65535>=i?n+=String.fromCharCode(i):(i-=65536,n+=String.fromCharCode(i>>>10&1023|55296),n+=String.fromCharCode(i&1023|56320))}return n}}),N("WeakSet",function(e){function t(n){if(this.g=new WeakMap,n){n=w(n);for(var r;!(r=n.next()).done;)this.add(r.value)}}return function(){if(!e||!Object.seal)return!1;try{var n=Object.seal({}),r=Object.seal({}),i=new e([n]);return!i.has(n)||i.has(r)?!1:(i.delete(n),i.add(r),!i.has(n)&&i.has(r))}catch{return!1}}()?e:(t.prototype.add=function(n){return this.g.set(n,!0),this},t.prototype.has=function(n){return this.g.has(n)},t.prototype.delete=function(n){return this.g.delete(n)},t)}),N("Array.prototype.find",function(e){return e||function(t,n){return Dt(this,t,n).v}}),N("String.prototype.startsWith",function(e){return e||function(t,n){var r=Xt(this,t,"startsWith"),i=r.length,o=t.length;n=Math.max(0,Math.min(n|0,r.length));for(var u=0;u<o&&n<i;)if(r[n++]!=t[u++])return!1;return u>=o}}),N("Object.entries",function(e){return e||function(t){var n=[],r;for(r in t)ut(t,r)&&n.push([r,t[r]]);return n}});var fi=typeof Object.assign=="function"?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)ut(r,i)&&(e[i]=r[i])}return e};N("Object.assign",function(e){return e||fi}),N("Promise.prototype.finally",function(e){return e||function(t){return this.then(function(n){return Promise.resolve(t()).then(function(){return n})},function(n){return Promise.resolve(t()).then(function(){throw n})})}}),N("Array.prototype.entries",function(e){return e||function(){return xt(this,function(t,n){return[t,n]})}}),N("Number.isNaN",function(e){return e||function(t){return typeof t=="number"&&isNaN(t)}}),N("String.prototype.repeat",function(e){return e||function(t){var n=Xt(this,null,"repeat");if(0>t||1342177279<t)throw new RangeError("Invalid count value");t|=0;for(var r="";t;)t&1&&(r+=n),(t>>>=1)&&(n+=n);return r}}),N("Number.isFinite",function(e){return e||function(t){return typeof t!="number"?!1:!isNaN(t)&&t!==1/0&&t!==-1/0}}),N("Object.values",function(e){return e||function(t){var n=[],r;for(r in t)ut(t,r)&&n.push(t[r]);return n}}),N("Math.log2",function(e){return e||function(t){return Math.log(t)/Math.LN2}}),N("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991}),N("String.prototype.endsWith",function(e){return e||function(t,n){var r=Xt(this,t,"endsWith");n===void 0&&(n=r.length),n=Math.max(0,Math.min(n|0,r.length));for(var i=t.length;0<i&&0<n;)if(r[--n]!=t[--i])return!1;return 0>=i}}),N("Math.trunc",function(e){return e||function(t){if(t=Number(t),isNaN(t)||t===1/0||t===-1/0||t===0)return t;var n=Math.floor(Math.abs(t));return 0>t?-n:n}});var Wr=this||self;function Ae(e,t){e=e.split(".");var n=Wr;e[0]in n||typeof n.execScript>"u"||n.execScript("var "+e[0]);for(var r;e.length&&(r=e.shift());)e.length||t===void 0?n[r]&&n[r]!==Object.prototype[r]?n=n[r]:n=n[r]={}:n[r]=t}function Sn(){}function Wn(){}function fe(e){this.g=Math.exp(Math.log(.5)/e),this.i=this.h=0}fe.prototype.sample=function(e,t){var n=Math.pow(this.g,e);t=t*(1-n)+n*this.h,isNaN(t)||(this.h=t,this.i+=e)};function Ve(e){return e.h/(1-Math.pow(e.g,e.i))}function at(){this.h=new fe(2),this.j=new fe(5),this.g=0,this.i=128e3,this.l=16e3}at.prototype.configure=function(e){this.i=e.minTotalBytes,this.l=e.minBytes,this.h.g=Math.exp(Math.log(.5)/e.fastHalfLife),this.j.g=Math.exp(Math.log(.5)/e.slowHalfLife)},at.prototype.sample=function(e,t){if(!(t<this.l)){var n=8e3*t/e;e/=1e3,this.g+=t,this.h.sample(e,n),this.j.sample(e,n)}},at.prototype.getBandwidthEstimate=function(e){return this.g<this.i?e:Math.min(Ve(this.h),Ve(this.j))};function ot(){}function et(){}function ze(){}function Lt(e){var t=Ue.apply(1,arguments);Te.has(e)||(Te.add(e),ze.apply(ot,F(t)))}function ue(){}function be(){}function Ie(){}var Te=new Set;d.console&&(ze=function(){return console.warn.apply(console,F(Ue.apply(0,arguments)))},et=function(){console.error.apply(console,F(Ue.apply(0,arguments)))});function De(){this.g={}}f=De.prototype,f.push=function(e,t){this.g.hasOwnProperty(e)?this.g[e].push(t):this.g[e]=[t]},f.get=function(e){return(e=this.g[e])?e.slice():null},f.remove=function(e,t){e in this.g&&(this.g[e]=this.g[e].filter(function(n){return n!=t}),this.g[e].length==0&&delete this.g[e])},f.forEach=function(e){for(var t in this.g)e(t,this.g[t])},f.size=function(){return Object.keys(this.g).length},f.keys=function(){return Object.keys(this.g)};function ke(){this.g=new De}f=ke.prototype,f.release=function(){this.Sa(),this.g=null},f.D=function(e,t,n,r){this.g&&(e=new ht(e,t,n,r),this.g.push(t,e))},f.va=function(e,t,n,r){function i(u){o.ab(e,t,i),n(u)}var o=this;this.D(e,t,i,r)},f.ab=function(e,t,n){if(this.g){var r=this.g.get(t)||[];r=w(r);for(var i=r.next();!i.done;i=r.next())i=i.value,i.target!=e||n!=i.listener&&n||(i.ab(),this.g.remove(t,i))}},f.Sa=function(){if(this.g){var e=this.g,t=[],n;for(n in e.g)t.push.apply(t,F(e.g[n]));for(e=w(t),t=e.next();!t.done;t=e.next())t.value.ab();this.g.g={}}},Ae("shaka.util.EventManager",ke),ke.prototype.removeAll=ke.prototype.Sa,ke.prototype.unlisten=ke.prototype.ab,ke.prototype.listenOnce=ke.prototype.va,ke.prototype.listen=ke.prototype.D,ke.prototype.release=ke.prototype.release;function ht(e,t,n,r){this.target=e,this.type=t,this.listener=n,this.g=Mt(e,r),this.target.addEventListener(t,n,this.g)}ht.prototype.ab=function(){this.target.removeEventListener(this.type,this.listener,this.g),this.listener=this.target=null,this.g=!1};function Mt(e,t){if(t==null)return!1;if(typeof t=="boolean")return t;var n=new Set(["passive","capture"]);return Object.keys(t).filter(function(r){return!n.has(r)}),yt(e)?t:t.capture||!1}function yt(e){var t=Rt;if(t==null){t=!1;try{var n={},r={get:function(){return t=!0,!1}};Object.defineProperty(n,"passive",r),Object.defineProperty(n,"capture",r),r=function(){},e.addEventListener("test",r,n),e.removeEventListener("test",r,n)}catch{t=!1}Rt=t}return t||!1}var Rt=void 0;function ct(e){if(Cr.has(e))return Cr.get(e);if(d.ManagedMediaSource){var t=ManagedMediaSource.isTypeSupported(e);return Cr.set(e,t),t}return d.MediaSource?(t=MediaSource.isTypeSupported(e),Cr.set(e,t),t):!1}function kn(){return!!d.SourceBuffer&&!!SourceBuffer.prototype&&!!SourceBuffer.prototype.changeType}var Cr=new Map;function gi(e,t){this.g=e,this.h=t}gi.prototype.toString=function(){return"v"+this.g+"."+this.h};function At(e,t){var n=new gi(5,0),r=ye,i=r.g,o=n.h-i.h;(0<(n.g-i.g||o)?r.i:r.h)(r.g,n,e,t)}function wo(e,t,n,r){ze([n,"has been deprecated and will be removed in",t,". We are currently at version",e,". Additional information:",r].join(" "))}function ie(e,t,n,r){et([n,"has been deprecated and has been removed in",t,". We are now at version",e,". Additional information:",r].join(" "))}var ye=null;function $e(){}$e.prototype.extract=function(){},$e.prototype.decode=function(){return[]},$e.prototype.clear=function(){},$e.prototype.getStreams=function(){return[]};function We(){}We.prototype.init=function(){},We.prototype.parse=function(){return[]};function gt(){}function lt(e,t){if(!e&&!t)return!0;if(!e||!t||e.byteLength!=t.byteLength)return!1;if(Pt(e)==Pt(t)&&(e.byteOffset||0)==(t.byteOffset||0))return!0;var n=Ge(e);t=Ge(t);for(var r=0;r<e.byteLength;r++)if(n[r]!=t[r])return!1;return!0}function Pt(e){return e instanceof ArrayBuffer?e:e.buffer}function Vt(e){return e instanceof ArrayBuffer?e:e.byteOffset==0&&e.byteLength==e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer}function Ge(e,t,n){return n=n===void 0?1/0:n,Ha(e,t===void 0?0:t,n,Uint8Array)}function Ct(e,t,n){return n=n===void 0?1/0:n,Ha(e,t===void 0?0:t,n,Uint16Array)}function cr(e,t,n){return n=n===void 0?1/0:n,Ha(e,t===void 0?0:t,n,DataView)}function Ha(e,t,n,r){var i=Pt(e),o=1;"BYTES_PER_ELEMENT"in r&&(o=r.BYTES_PER_ELEMENT);var u=((e.byteOffset||0)+e.byteLength)/o;return e=Math.floor(Math.max(0,Math.min(((e.byteOffset||0)+t)/o,u))),new r(i,e,Math.floor(Math.min(e+Math.max(n,0),u))-e)}Ae("shaka.util.BufferUtils",gt),gt.toDataView=cr,gt.toUint16=Ct,gt.toUint8=Ge,gt.toArrayBuffer=Vt,gt.equal=lt;function vs(){}vs.prototype.init=function(){},vs.prototype.i=function(){},vs.prototype.g=function(){},vs.prototype.j=function(){},Ae("shaka.media.IClosedCaptionParser",vs);function Or(e){this.l=new We,(e=xo[e.toLowerCase()])&&(this.l=e()),this.h=new $e,(e=Ea)&&(this.h=e())}Or.prototype.init=function(e,t){t!==void 0&&t||this.g(),this.l.init(e)},Or.prototype.i=function(e){e=this.l.parse(e),e=w(e);for(var t=e.next();!t.done;t=e.next()){t=t.value;var n=Ge(t.packet);0<n.length&&this.h.extract(n,t.pts)}return this.h.decode()},Or.prototype.g=function(){this.h.clear()},Or.prototype.j=function(){return this.h.getStreams()},Ae("shaka.media.ClosedCaptionParser",Or),Or.findDecoder=function(){return Ea},Or.unregisterDecoder=function(){Ea=null},Or.registerDecoder=function(e){Ea=e},Or.findParser=function(e){return xo[e]},Or.unregisterParser=function(e){delete xo[e]},Or.registerParser=function(e,t){xo[e]=t};var xo={},Ea=null;function Qi(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=Xn,this.scroll=gg}Ae("shaka.text.CueRegion",Qi);var Xn=1;Qi.units={PX:0,PERCENTAGE:Xn,LINES:2};var gg="";Qi.scrollMode={NONE:gg,UP:"up"};function Hl(e,t){return typeof e=="number"&&typeof t=="number"&&isNaN(e)&&isNaN(t)?!0:e===t}function Xr(e,t){t=e.indexOf(t),-1<t&&e.splice(t,1)}function ir(e,t,n){if(n||(n=Hl),e.length!=t.length)return!1;t=t.slice(),e=w(e);for(var r=e.next(),i={};!r.done;i={Fg:void 0},r=e.next()){if(i.Fg=r.value,r=t.findIndex(function(o){return function(u){return n(o.Fg,u)}}(i)),r==-1)return!1;t[r]=t[t.length-1],t.pop()}return t.length==0}function Li(e,t,n){if(n||(n=Hl),e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function $(e,t,n){var r=Ue.apply(3,arguments);this.severity=e,this.category=t,this.code=n,this.data=r,this.handled=!1,this.message="Shaka Error "+this.code;try{throw Error(this.message||"Shaka Error")}catch(i){this.stack=i.stack}}$.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},Ae("shaka.util.Error",$),$.Severity={RECOVERABLE:1,CRITICAL:2},$.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9,ADS:10},$.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,SEGMENT_MISSING:1011,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,INVALID_MP4_CEA:2010,TEXT_COULD_NOT_GUESS_MIME_TYPE:2011,CANNOT_ADD_EXTERNAL_TEXT_TO_SRC_EQUALS:2012,TEXT_ONLY_WEBVTT_SRC_EQUALS:2013,MISSING_TEXT_PLUGIN:2014,CHAPTERS_TRACK_FAILED:2015,UNSUPPORTED_EXTERNAL_THUMBNAILS_URI:2017,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,CONTENT_TRANSFORMATION_FAILED:3019,MSS_MISSING_DATA_FOR_TRANSMUXING:3020,MSS_TRANSMUXING_FAILED:3022,TRANSMUXING_NO_VIDEO_DATA:3023,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,RESTRICTIONS_CANNOT_BE_MET:4012,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,NO_VARIANTS:4036,PERIOD_FLATTENING_FAILED:4037,INCONSISTENT_DRM_ACROSS_PERIODS:4038,HLS_VARIABLE_NOT_FOUND:4039,HLS_MSE_ENCRYPTED_MP2T_NOT_SUPPORTED:4040,HLS_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED:4041,NO_WEB_CRYPTO_API:4042,CANNOT_ADD_EXTERNAL_THUMBNAILS_TO_LIVE_STREAM:4045,MSS_INVALID_XML:4046,MSS_LIVE_CONTENT_NOT_SUPPORTED:4047,AES_128_INVALID_IV_LENGTH:4048,AES_128_INVALID_KEY_LENGTH:4049,DASH_CONFLICTING_AES_128:4050,DASH_UNSUPPORTED_AES_128:4051,DASH_INVALID_PATCH:4052,HLS_EMPTY_MEDIA_PLAYLIST:4053,STREAMING_ENGINE_STARTUP_INVALID_STATE:5006,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,SERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,SERVER_CERTIFICATE_REQUEST_FAILED:6017,MIN_HDCP_VERSION_NOT_MATCH:6018,ERROR_CHECKING_HDCP_VERSION:6019,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,OBJECT_DESTROYED:7003,CONTENT_NOT_LOADED:7004,SRC_EQUALS_PRELOAD_NOT_SUPPORTED:7005,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013,STORAGE_LIMIT_REACHED:9014,DOWNLOAD_SIZE_CALLBACK_ERROR:9015,MODIFY_OPERATION_NOT_SUPPORTED:9016,INDEXED_DB_INIT_TIMED_OUT:9017,CS_IMA_SDK_MISSING:1e4,CS_AD_MANAGER_NOT_INITIALIZED:10001,SS_IMA_SDK_MISSING:10002,SS_AD_MANAGER_NOT_INITIALIZED:10003,CURRENT_DAI_REQUEST_NOT_FINISHED:10004,MT_AD_MANAGER_NOT_INITIALIZED:10005,INTERSTITIAL_AD_MANAGER_NOT_INITIALIZED:10006,VAST_INVALID_XML:4001};function ql(e){this.h=e,this.g=void 0}ql.prototype.value=function(){return this.g==null&&(this.g=this.h()),this.g};function f3(e,t){return e.length&&t.length&&e!==t?0<d1(e,t).length:!0}function d1(e,t){if(!e.length)return t;if(!t.length)return e;var n=[];e=w(e);for(var r=e.next();!r.done;r=e.next()){r=r.value;for(var i=w(t),o=i.next();!o.done;o=i.next())if(o=o.value,r.keySystem==o.keySystem){i=new Map;for(var u=w((r.initData||[]).concat(o.initData||[])),c=u.next();!c.done;c=u.next())c=c.value,i.set(c.keyId,c);i=Array.from(i.values()),u=r.keyIds&&o.keyIds?new Set([].concat(F(r.keyIds),F(o.keyIds))):r.keyIds||o.keyIds,n.push({keySystem:r.keySystem,licenseServerUri:r.licenseServerUri||o.licenseServerUri,distinctiveIdentifierRequired:r.distinctiveIdentifierRequired||o.distinctiveIdentifierRequired,persistentStateRequired:r.persistentStateRequired||o.persistentStateRequired,videoRobustness:r.videoRobustness||o.videoRobustness,audioRobustness:r.audioRobustness||o.audioRobustness,serverCertificate:r.serverCertificate||o.serverCertificate,serverCertificateUri:r.serverCertificateUri||o.serverCertificateUri,initData:i,keyIds:u});break}}return n}function p1(e){return e?!!e.match(/^com\.(microsoft|chromecast)\.playready/):!1}var mg=new ql(function(){return Vt(new Uint8Array([0]))}),vg=new Map;function cp(e){this.h=e,this.g=null}cp.prototype.Z=function(e){var t=this;this.stop();var n=!0,r=null;return this.g=function(){d.clearTimeout(r),n=!1},r=d.setTimeout(function(){n&&t.h()},1e3*e),this},cp.prototype.stop=function(){this.g&&(this.g(),this.g=null)};function mt(e){this.h=e,this.g=null}mt.prototype.yc=function(){return this.stop(),this.h(),this},mt.prototype.Z=function(e){var t=this;return this.stop(),this.g=new cp(function(){t.h()}).Z(e),this},mt.prototype.Oa=function(e){var t=this;return this.stop(),this.g=new cp(function(){t.g.Z(e),t.h()}).Z(e),this},mt.prototype.stop=function(){this.g&&(this.g.stop(),this.g=null)},Ae("shaka.util.Timer",mt),mt.prototype.stop=mt.prototype.stop,mt.prototype.tickEvery=mt.prototype.Oa,mt.prototype.tickAfter=mt.prototype.Z,mt.prototype.tickNow=mt.prototype.yc;function Aa(){var e=d.ManagedMediaSource||d.MediaSource;return!!(e&&e.isTypeSupported)}function dp(e){return g3().canPlayType(e)!=""}function pp(){return!!navigator.userAgent.match(/Edge?\//)}function Ca(){return Ut("Xbox One")}function Ji(){return Ut("Tizen")}function hp(){return Ut("Tizen 3")}function yg(){return Ut("Tizen 2")}function qa(){return Ut("Web0S")}function bg(){return qa()&&h1()===38}function Yr(){return Ut("CrKey")}function h1(){if(!Ut("Chrome")||navigator.userAgent.match(/Edge\//))return null;var e=navigator.userAgent.match(/Chrome\/(\d+)/);return e?parseInt(e[1],10):null}function Gl(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!Ji()&&!Ut("PC=EOS")&&!Ut("PC=APL")&&!Ut("VirginMedia")&&!f1()&&!ea()&&!Ut("AFT")&&!Ut("WPE")&&!Ut("DT_STB_BCM")&&!Ut("Sky_STB")}function fp(){return Ut("PlayStation 5")}function ea(){return Ut("PlayStation 4")}function wg(){return Ut("Hisense")||Ut("VIDAA")}function f1(){return Ut("SOPOpenBrowser")}function Kl(){if(!Gl())return null;var e=navigator.userAgent.match(/Version\/(\d+)/);return e||(e=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(e[1],10):null}function g1(){return navigator.userAgentData&&navigator.userAgentData.platform?navigator.userAgentData.platform.toLowerCase()=="windows":navigator.platform?navigator.platform.toLowerCase().includes("win32"):!1}function xg(){return Ut("Android")}function m1(){return!!(Ji()||qa()||Ca()||ea()||fp()||Ut("AFT")||Ut("PC=EOS")||Ut("PC=APL")||Ut("VirginMedia")||f1()||Ut("WPE")||Yr()||wg()||Ut("DT_STB_BCM"))}function Ut(e){return(navigator.userAgent||"").includes(e)}function g3(){return gp||(v1||(v1=new mt(function(){gp=null})),(gp=document.getElementsByTagName("video")[0]||document.getElementsByTagName("audio")[0])||(gp=document.createElement("video")),v1.Z(1),gp)}function Sg(e){return e?e===d.shakaMediaKeysPolyfill:!!d.shakaMediaKeysPolyfill}function m3(){var e,t,n,r,i,o,u,c,h,g,v,b,x,S,T;return L(function(A){switch(A.g){case 1:if(e={width:1/0,height:1/0},Yr()){if(b=d.cast&&cast.__platform__&&cast.__platform__.canDisplayType,e.width=1280,e.height=720,se(A,15),!(x=b)){A.u(17);break}return k(A,cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160'),18)}if(Ji()){e.width=1920,e.height=1080;try{webapis.systeminfo&&webapis.systeminfo.getMaxVideoResolution?(t=webapis.systeminfo.getMaxVideoResolution(),e.width=t.width,e.height=t.height):webapis.productinfo.is8KPanelSupported&&webapis.productinfo.is8KPanelSupported()?(e.width=7680,e.height=4320):webapis.productinfo.isUdPanelSupported&&webapis.productinfo.isUdPanelSupported()&&(e.width=3840,e.height=2160)}catch{ze("Tizen: Error detecting screen size, default screen size 1920x1080.")}A.u(3);break}if(Ca()){e.width=1920,e.height=1080;try{n=void 0,n=typeof Windows<"u"?Windows:chrome.webview.hostObjects.sync.Windows,r=new n.Media.Protection.ProtectionCapabilities,i=n.Media.Protection.ProtectionCapabilityResult,o=null;do o=r.isTypeSupported('video/mp4;codecs="hvc1,mp4a";features="decode-res-x=3840,decode-res-y=2160,decode-bitrate=20000,decode-fps=30,decode-bpc=10,display-res-x=3840,display-res-y=2160,display-bpc=8"',"com.microsoft.playready.recommendation");while(o===i.maybe);o===i.probably&&(e.width=3840,e.height=2160)}catch{ze("Xbox: Error detecting screen size, default screen size 1920x1080.")}A.u(3);break}if(qa()){try{u=JSON.parse(d.PalmSystem.deviceInfo),e.width=Math.max(1920,u.screenWidth),e.height=Math.max(1080,u.screenHeight)}catch{ze("WebOS: Error detecting screen size, default screen size 1920x1080."),e.width=1920,e.height=1080}A.u(3);break}if(wg()){d.Hisense_Get4KSupportState&&d.Hisense_Get4KSupportState()?(e.width=3840,e.height=2160):(e.width=1920,e.height=1080),A.u(3);break}if(!ea()&&!fp()){A.u(3);break}return c=!1,se(A,9),k(A,d.msdk.device.getDisplayInfo(),11);case 11:h=A.h,c=h.resolution==="4K",z(A,10);break;case 9:return Y(A),se(A,12),k(A,d.msdk.device.getDisplayInfoImmediate(),14);case 14:g=A.h,c=g.resolution==="4K",z(A,10);break;case 12:v=Y(A),ze("PlayStation: Failed to get the display info:",v);case 10:c?(e.width=3840,e.height=2160):(e.width=1920,e.height=1080),A.u(3);break;case 18:x=A.h;case 17:if(x){e.width=3840,e.height=2160,A.u(19);break}if(!(S=b)){A.u(20);break}return k(A,cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=1920; height=1080'),21);case 21:S=A.h;case 20:S&&(e.width=1920,e.height=1080);case 19:z(A,3);break;case 15:T=Y(A),et("Failed to check canDisplayType:",T);case 3:return A.return(e)}})}var v1=null,gp=null;function wu(){}function hn(e){if(!e)return"";if(e=Ge(e),e[0]==239&&e[1]==187&&e[2]==191&&(e=e.subarray(3)),d.TextDecoder&&!ea())return e=new TextDecoder().decode(e),e.includes("\uFFFD")&&et('Decoded string contains an "unknown character" codepoint.  That probably means the UTF8 encoding was incorrect!'),e;for(var t="",n=0;n<e.length;++n){var r=65533;if(e[n]&128?e.length>=n+2&&(e[n]&224)==192&&(e[n+1]&192)==128?(r=(e[n]&31)<<6|e[n+1]&63,n+=1):e.length>=n+3&&(e[n]&240)==224&&(e[n+1]&192)==128&&(e[n+2]&192)==128?(r=(e[n]&15)<<12|(e[n+1]&63)<<6|e[n+2]&63,n+=2):e.length>=n+4&&(e[n]&241)==240&&(e[n+1]&192)==128&&(e[n+2]&192)==128&&(e[n+3]&192)==128&&(r=(e[n]&7)<<18|(e[n+1]&63)<<12|(e[n+2]&63)<<6|e[n+3]&63,n+=3):r=e[n],65535>=r)t+=String.fromCharCode(r);else{r-=65536;var i=r&1023;t+=String.fromCharCode(55296+(r>>10)),t+=String.fromCharCode(56320+i)}}return t}function So(e,t,n){if(!e)return"";if(!n&&e.byteLength%2!=0)throw new $(2,2,2004);n=Math.floor(e.byteLength/2);var r=new Uint16Array(n);e=cr(e);for(var i=0;i<n;i++)r[i]=e.getUint16(2*i,t);return b1(r)}function To(e){function t(r){return n.byteLength<=r||32<=n[r]&&126>=n[r]}if(!e)return"";var n=Ge(e);if(n[0]==239&&n[1]==187&&n[2]==191)return hn(n);if(n[0]==254&&n[1]==255)return So(n.subarray(2),!1);if(n[0]==255&&n[1]==254)return So(n.subarray(2),!0);if(n[0]==0&&n[2]==0)return So(e,!1);if(n[1]==0&&n[3]==0)return So(e,!0);if(t(0)&&t(1)&&t(2)&&t(3))return hn(e);throw new $(2,2,2003)}function Ia(e){if(d.TextEncoder&&!ea()){var t=new TextEncoder;return Vt(t.encode(e))}e=encodeURIComponent(e),e=unescape(e),t=new Uint8Array(e.length);for(var n=0;n<e.length;n++)t[n]=e[n].charCodeAt(0);return Vt(t)}function y1(e,t){for(var n=new ArrayBuffer(2*e.length),r=new DataView(n),i=0;i<e.length;++i)r.setUint16(2*i,e.charCodeAt(i),t);return n}function b1(e){return v3.value()(e)}function jr(e){var t={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'","&nbsp;":"\xA0","&lrm;":"\u200E","&rlm;":"\u200F"},n=/&(?:amp|lt|gt|quot|apos|nbsp|lrm|rlm|#[xX]?[0-9a-fA-F]+);/g,r=RegExp(n.source);return e&&r.test(e)?e.replace(n,function(i){return i[1]=="#"?(i=i[2]=="x"||i[2]=="X"?parseInt(i.substring(3),16):parseInt(i.substring(2),10),0<=i&&1114111>=i?String.fromCodePoint(i):""):t[i]||"'"}):e||""}Ae("shaka.util.StringUtils",wu),wu.resetFromCharCode=function(){v3.g=void 0},wu.toUTF16=y1,wu.toUTF8=Ia,wu.fromBytesAutoDetect=To,wu.fromUTF16=So,wu.fromUTF8=hn;var v3=new ql(function(){function e(n){try{var r=new Uint8Array(n);return 0<String.fromCharCode.apply(null,r).length}catch{return!1}}for(var t={fc:65536};0<t.fc;t={fc:t.fc},t.fc/=2)if(e(t.fc))return function(n){return function(r){for(var i="",o=0;o<r.length;o+=n.fc)i+=String.fromCharCode.apply(null,r.subarray(o,o+n.fc));return i}}(t);return null});function Wl(e){this.h=e||"",this.g=0}function Xl(e){xu(e,/[ \t]+/gm)}function xu(e,t){return t.lastIndex=e.g,t=t.exec(e.h),t=t==null?null:{position:t.index,length:t[0].length,results:t},e.g==e.h.length||t==null||t.position!=e.g?null:(e.g+=t.length,t.results)}function Su(e){return e.g==e.h.length?null:(e=xu(e,/[^ \t\n]*/gm))?e[0]:null}function mp(e){if(e=xu(e,RL),e==null)return null;var t=Number(e[2]),n=Number(e[3]);return 59<t||59<n?null:(Number(e[6])||0)/1e3+n+60*t+3600*(Number(e[1])||0)}function vp(e){return e?mp(new Wl(e)):null}var RL=/(?:(\d{1,}):)?(\d{2}):(\d{2})((\.(\d{1,3})))?/g;function Ga(e){function t(r){switch(typeof r){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return r;default:if(!r||r.buffer instanceof ArrayBuffer)return r;if(n.has(r))return null;var i=r.constructor==Array;if(r.constructor!=Object&&!i)return null;n.add(r);var o=i?[]:{},u;for(u in r)o[u]=t(r[u]);return i&&(o.length=r.length),o}}var n=new WeakSet;return t(e)}function Tu(e){var t={},n;for(n in e)t[n]=e[n];return t}function yp(e,t){var n=n===void 0?!1:n;return e=To(e),Yl(e,t,n)}function Yl(e,t,n){return e=NL(e,n===void 0?!1:n),!t&&e.length?e[0]:(e=e.find(function(r){return t.split(",").includes(r.tagName)}))?e:null}function w1(e){return S1.has(e)?S1.get(e):""}function NL(e,t){function n(o,u){u=u===void 0?!1:u;for(var c=[];e[i];)if(e.charCodeAt(i)==60){if(e.charCodeAt(i+1)===47){u=i+2,i=e.indexOf(">",i),u=e.substring(u,i);var h=u.indexOf(o);if(h==-1){var g=o.indexOf(".");0<g&&(h=u.indexOf(o.substring(0,g)))}if(h==-1)throw o=e.substring(0,i).split(`
`),Error(`Unexpected close tag
Line: `+(o.length-1)+`
Column: `+(o[o.length-1].length+1)+`
Char: `+e[i]);i+1&&(i+=1);break}else if(e.charCodeAt(i+1)===33){if(e.charCodeAt(i+2)==45){for(;i!==-1&&(e.charCodeAt(i)!==62||e.charCodeAt(i-1)!=45||e.charCodeAt(i-2)!=45||i==-1);)i=e.indexOf(">",i+1);i===-1&&(i=e.length)}else if(e.charCodeAt(i+2)===91&&e.charCodeAt(i+8)===91&&e.substr(i+3,5).toLowerCase()==="cdata"){h=e.indexOf("]]>",i),h==-1?(c.push(e.substr(i+9)),i=e.length):(c.push(e.substring(i+9,h)),i=h+3);continue}i++;continue}e:{g=u,i++;var v=r(),b={};for(h=[];e.charCodeAt(i)!==62&&e[i];){var x=e.charCodeAt(i);if(64<x&&91>x||96<x&&123>x){x=r();for(var S=e.charCodeAt(i);S&&S!==39&&S!==34&&!(64<S&&91>S||96<S&&123>S)&&S!==62;)i++,S=e.charCodeAt(i);var T=i+1;if(i=e.indexOf(e[i],T),T=e.slice(T,i),S===39||S===34){if(i===-1){if(g={tagName:v,attributes:b,children:h,parent:null},t)for(v=0;v<h.length;v++)typeof h[v]!="string"&&(h[v].parent=g);h=g;break e}}else T=null,i--;if(x.startsWith("xmlns:")){S=T;var A=x.split(":")[1];S1.set(S,A),T1.set(A,S)}v==="tt"&&x==="xml:space"&&T==="preserve"&&(g=!0),b[x]=T}i++}for(e.charCodeAt(i-1)!==47?(i++,h=n(v,g)):i++,g={tagName:v,attributes:b,children:h,parent:null},v=h.length,b=0;b<v;b++)x=h[b],typeof x!="string"?t&&(x.parent=g):b==v-1&&x==`
`&&h.pop();h=g}if(c.push(h),typeof h=="string")break;h.tagName[0]==="?"&&h.children&&(c.push.apply(c,F(h.children)),h.children=[])}else h=i,i=e.indexOf("<",i)-1,i===-2&&(i=e.length),h=e.slice(h,i+1),u?0<h.length&&c.push(h):(c.length&&h.length==1&&h[0]==`
`||0<h.trim().length)&&c.push(h),i++;return c}function r(){for(var o=i;`\r
	>/= `.indexOf(e[i])===-1&&e[i];)i++;return e.slice(o,i)}var i=0;return n("")}function Tg(e){return typeof e=="string"}function y3(e){var t=[];if(!e.children)return[];e=w(e.children);for(var n=e.next();!n.done;n=e.next())n=n.value,typeof n!="string"&&t.push(n);return t}function zt(e,t){var n=[];if(!e.children)return[];e=w(e.children);for(var r=e.next();!r.done;r=e.next())r=r.value,r.tagName===t&&n.push(r);return n}function Mn(e){return typeof e=="string"?jr(e):(e=e.children.reduce(function(t,n){return typeof n=="string"?t+n:t},""),e===""?null:jr(e))}function ta(e){return Array.from(e.children).every(function(t){return typeof t=="string"})?((e=Mn(e))&&(e=e.trim()),e):null}function na(e,t,n){if(n=n===void 0?[]:n,e.tagName===t&&n.push(e),e.children){e=w(e.children);for(var r=e.next();!r.done;r=e.next())na(r.value,t,n)}return n}function xr(e,t){return e=zt(e,t),e.length!=1?null:e[0]}function Ka(e,t,n){return e=b3(e,t,n),e.length!=1?null:e[0]}function kt(e,t,n,r){r=r===void 0?null:r;var i=null;return e=e.attributes[t],e!=null&&(i=n(e)),i??r}function ko(e,t,n){return t=w1(t),e.attributes[t+":"+n]||null}function b3(e,t,n){t=w1(t);var r=[];if(e.children){e=w(e.children);for(var i=e.next();!i.done;i=e.next())(i=i.value)&&i.tagName===t+":"+n&&r.push(i)}return r}function Wa(e,t,n){t=w(t);for(var r=t.next();!r.done;r=t.next())if(r=ko(e,r.value,n))return r;return null}function ys(e){return e?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),e=Date.parse(e),isNaN(e)?null:e/1e3):null}function Xa(e){return!e||(e=RegExp("^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$").exec(e),!e)?null:(e=31536e3*Number(e[1]||null)+2592e3*Number(e[2]||null)+86400*Number(e[3]||null)+3600*Number(e[4]||null)+60*Number(e[5]||null)+Number(e[6]||null),isFinite(e)?e:null)}function kg(e){var t=/([0-9]+)-([0-9]+)/.exec(e);return!t||(e=Number(t[1]),!isFinite(e))?null:(t=Number(t[2]),isFinite(t)?{start:e,end:t}:null)}function Eg(e){return e=Number(e),e%1===0?e:null}function Eo(e){return e=Number(e),e%1===0&&0<e?e:null}function Sr(e){return e=Number(e),e%1===0&&0<=e?e:null}function Ag(e){return e=Number(e),isNaN(e)?null:e}function Cg(e){return e?e.toLowerCase()==="true":!1}function UL(e){var t,n=(t=e.match(/^(\d+)\/(\d+)$/))?Number(t[1])/Number(t[2]):Number(e);return isNaN(n)?null:n}function Ig(e){var t=[];e=jr(e).split(/\/+(?=(?:[^'"]*['"][^'"]*['"])*[^'"]*$)/),e=w(e);for(var n=e.next();!n.done;n=e.next()){n=n.value;var r=n.match(/^([\w]+)/);if(r){var i=n.match(/(@id='(.*?)')/),o=n.match(/(@t='(\d+)')/),u=n.match(/(@n='(\d+)')/),c=n.match(/\[(\d+)\]/);t.push({name:r[0],id:i?i[0].match(/'(.*?)'/)[0].replace(/'/gm,""):null,t:o?Number(o[0].match(/'(.*?)'/)[0].replace(/'/gm,"")):null,n:u?Number(u[0].match(/'(.*?)'/)[0].replace(/'/gm,"")):null,position:c?Number(c[1])-1:null,Ub:n.split("/@")[1]||null})}else n.startsWith("@")&&t.length&&(t[t.length-1].Ub=n.slice(1))}return t}function w3(e,t){var n=Ig(t.attributes.sel||"");if(n.length){var r=n[n.length-1],i=t.attributes.pos||null;n=r.position,n==null&&(r.t!==null&&(n=x3(e,"t",r.t)),r.n!==null&&(n=x3(e,"n",r.n))),n===null?n=i==="prepend"?0:e.length:i==="prepend"?--n:i==="after"&&++n,i=t.tagName,(r=r.Ub)&&e[n]?S3(e[n],i,r,ta(t)||""):(i!=="remove"&&i!=="replace"||e.splice(n,1),i!=="add"&&i!=="replace"||e.splice.apply(e,[n,0].concat(F(t.children))))}}function x3(e,t,n){var r=0;e=w(e);for(var i=e.next();!i.done;i=e.next()){if(Number(i.value.attributes[t])===n)return r;r++}return null}function S3(e,t,n,r){t==="remove"?delete e.attributes[n]:(t==="add"||t==="replace")&&(e.attributes[n]=r)}function T3(e){var t="",n=e.tagName.split(":");0<n.length&&(t=n[0],t=T1.has(t)?T1.get(t):""),t=document.createElementNS(t,e.tagName);for(var r in e.attributes)t.setAttribute(r,e.attributes[r]);for(e=w(e.children),r=e.next();!r.done;r=e.next())r=r.value,n=void 0,typeof r=="string"?n=new Text(r):n=T3(r),t.appendChild(n);return t}function x1(e){if(!e)return null;var t={tagName:e.tagName,attributes:Tu(e.attributes),children:[],parent:null};e=w(e.children);for(var n=e.next();!n.done;n=e.next())n=n.value,typeof n=="string"||(n=x1(n),n.parent=t),t.children.push(n);return t}var S1=new Map,T1=new Map;function en(e,t,n){this.startTime=e,this.endTime=t,this.payload=n,this.region=new Qi,this.position=null,this.positionAlign=Pg,this.size=0,this.textAlign=Ya,this.direction=xp,this.writingMode=ku,this.lineInterpretation=Sp,this.line=null,this.lineHeight="",this.lineAlign=Eu,this.displayAlign=wp,this.fontSize=this.border=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=_3,this.fontStyle=A1,this.linePadding=this.letterSpacing=this.fontFamily="",this.opacity=1,this.textCombineUpright="",this.textDecoration=[],this.textStrokeWidth=this.textStrokeColor=this.textShadow="",this.wrapLine=!0,this.id="",this.nestedCues=[],this.lineBreak=this.isContainer=!1,this.rubyTag=null,this.cellResolution={kc:32,rows:15}}function k3(e,t){return e=new en(e,t,""),e.lineBreak=!0,e}en.prototype.clone=function(){var e=new en(0,0,""),t;for(t in this)e[t]=this[t],e[t]&&e[t].constructor==Array&&(e[t]=e[t].slice());return e};function Mg(e,t){if(e.startTime!=t.startTime||e.endTime!=t.endTime||e.payload!=t.payload)return!1;for(var n in e)if(n!="startTime"&&n!="endTime"&&n!="payload"){if(n=="nestedCues"){if(!Li(e.nestedCues,t.nestedCues,Mg))return!1}else if(n=="region"||n=="cellResolution"){for(var r in e[n])if(e[n][r]!=t[n][r])return!1}else if(Array.isArray(e[n])){if(!Li(e[n],t[n]))return!1}else if(e[n]!=t[n])return!1}return!0}function _g(e,t){t=t===void 0?new Map:t;var n=e.payload;if(n.includes("<")){t.size===0&&E3(t);var r=n;n=[];for(var i=-1,o=0;o<r.length;o++)r[o]==="<"?i=o+1:r[o]===">"&&0<i&&(i=r.substr(i,o-i),i.match(jL)&&n.push(i),i=-1);for(n=w(n),o=n.next();!o.done;o=n.next())o=o.value,r=r.replace("<"+o+">",'<div time="'+o+'">'),r+="</div>";e:{o=r,i=[];var u=-1;n="",r=!1;for(var c=0;c<o.length;c++)if(o[c]==="/"){var h=o.indexOf(">",c);if(h===-1){n=o;break e}if((h=o.substring(c+1,h))&&h=="v"){r=!0;var g=null;if(i.length&&(g=i[i.length-1]),g){if(g===h)n+="/"+h+">";else{if(!g.startsWith("v")){n+=o[c];continue}n+="/"+g+">"}c+=h.length+1}else n+=o[c]}else n+=o[c]}else o[c]==="<"?(u=c+1,o[u]!="v"&&(u=-1)):o[c]===">"&&0<u&&(i.push(o.substr(u,c-u)),u=-1),n+=o[c];for(o=w(i),i=o.next();!i.done;i=o.next())i=i.value,u=i.replace(" ",".voice-"),n=n.replace("<"+i+">","<"+u+">"),n=n.replace("</"+i+">","</"+u+">"),r||(n+="</"+u+">")}n=OL(n),e.payload="";try{var v=Yl("<span>"+n+"</span>","span")}catch{}if(v)if(v=v.children,v.length!=1||v[0].tagName)for(v=w(v),n=v.next();!n.done;n=v.next())A3(n.value,e,t);else e.payload=jr(n);else e.payload=jr(n)}else e.payload=jr(n)}function E3(e){for(var t=w(Object.entries(I3)),n=t.next();!n.done;n=t.next()){var r=w(n.value);n=r.next().value,r=r.next().value;var i=new en(0,0,"");i.color=r,e.set("."+n,i)}for(t=w(Object.entries(M3)),n=t.next();!n.done;n=t.next())r=w(n.value),n=r.next().value,r=r.next().value,i=new en(0,0,""),i.backgroundColor=r,e.set("."+n,i)}function OL(e){var t={"< ":""," >":" &gt;"},n=/(< +>|<\s|\s>)/g,r=RegExp(n.source);return e&&r.test(e)?e.replace(n,function(i){return t[i]||""}):e||""}function A3(e,t,n){var r=t.clone();if(r.nestedCues=[],r.payload="",r.rubyTag="",r.line=null,r.region=new Qi,r.position=null,r.size=0,r.textAlign=Ya,e.tagName)for(var i=w(e.tagName.split(/(?=[ .])+/g)),o=i.next();!o.done;o=i.next()){var u=o=o.value;if(u.startsWith(".voice-")){var c=u.split("-").pop();u='v[voice="'+c+'"]',n.has(u)||(u="v[voice="+c+"]")}switch(n.has(u)&&(c=r,u=n.get(u))&&(c.backgroundColor=bp(u.backgroundColor,c.backgroundColor),c.color=bp(u.color,c.color),c.fontFamily=bp(u.fontFamily,c.fontFamily),c.fontSize=bp(u.fontSize,c.fontSize),c.textShadow=bp(u.textShadow,c.textShadow),c.fontWeight=u.fontWeight,c.fontStyle=u.fontStyle,c.opacity=u.opacity,c.rubyTag=u.rubyTag,c.textCombineUpright=u.textCombineUpright,c.wrapLine=u.wrapLine),o){case"br":r=k3(r.startTime,r.endTime),t.nestedCues.push(r);return;case"b":r.fontWeight=Zl;break;case"i":r.fontStyle=Ql;break;case"u":r.textDecoration.push(Ao);break;case"font":(o=e.attributes.color)&&(r.color=o);break;case"div":if(o=e.attributes.time,!o)break;(o=vp(o))&&(r.startTime=o);break;case"ruby":case"rp":case"rt":r.rubyTag=o}}if(i=e.children,Tg(e)||i.length==1&&Tg(i[0]))for(n=Mn(e).split(`
`),e=!0,n=w(n),i=n.next();!i.done;i=n.next())i=i.value,e||(e=k3(r.startTime,r.endTime),t.nestedCues.push(e)),0<i.length&&(e=r.clone(),e.payload=jr(i),t.nestedCues.push(e)),e=!1;else for(t.nestedCues.push(r),t=w(i),e=t.next();!e.done;e=t.next())A3(e.value,r,n)}function bp(e,t){return e&&0<e.length?e:t}Ae("shaka.text.Cue",en),en.parseCuePayload=_g,en.equal=Mg,en.prototype.clone=en.prototype.clone;var Pg="auto";en.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:Pg};var Ya="center",k1={LEFT:"left",RIGHT:"right",CENTER:Ya,START:"start",END:"end"};en.textAlign=k1;var wp="after",C3={BEFORE:"before",CENTER:"center",AFTER:wp};en.displayAlign=C3;var xp="ltr";en.direction={HORIZONTAL_LEFT_TO_RIGHT:xp,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var ku="horizontal-tb";en.writingMode={HORIZONTAL_TOP_TO_BOTTOM:ku,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"};var Sp=0;en.lineInterpretation={LINE_NUMBER:Sp,PERCENTAGE:1};var Eu="start",E1={CENTER:"center",START:Eu,END:"end"};en.lineAlign=E1;var I3={white:"white",lime:"lime",cyan:"cyan",red:"red",yellow:"yellow",magenta:"magenta",blue:"blue",black:"black"};en.defaultTextColor=I3;var M3={bg_white:"white",bg_lime:"lime",bg_cyan:"cyan",bg_red:"red",bg_yellow:"yellow",bg_magenta:"magenta",bg_blue:"blue",bg_black:"black"};en.defaultTextBackgroundColor=M3;var _3=400,Zl=700;en.fontWeight={NORMAL:_3,BOLD:Zl};var A1="normal",Ql="italic",P3={NORMAL:A1,ITALIC:Ql,OBLIQUE:"oblique"};en.fontStyle=P3;var Ao="underline";en.textDecoration={UNDERLINE:Ao,LINE_THROUGH:"lineThrough",OVERLINE:"overline"};var jL=/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g;function bs(){}bs.prototype.destroy=function(){};function Co(e,t,n){C1[e.toLowerCase().split(";")[0]+"-"+n]={priority:n,ge:t}}function ws(e,t){for(var n=e.toLowerCase().split(";")[0],r=w([D3,M1,I1,xs]),i=r.next();!i.done;i=r.next())if(i=C1[n+"-"+i.value]){var o=i.ge(),u=o.isSupported(e,t);if(o.destroy(),u)return i.ge}return null}Ae("shaka.transmuxer.TransmuxerEngine",bs),bs.findTransmuxer=ws,bs.unregisterTransmuxer=function(e,t){delete C1[e.toLowerCase().split(";")[0]+"-"+t]},bs.registerTransmuxer=Co,bs.prototype.destroy=bs.prototype.destroy;var C1={},xs=1,I1=2,M1=3,D3=4;bs.PluginPriority={FALLBACK:xs,PREFERRED_SECONDARY:I1,PREFERRED:M1,APPLICATION:D3};/*
 @license
 Copyright 2008 The Closure Library Authors
 SPDX-License-Identifier: Apache-2.0
*/var FL=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");/*
 @license
 Copyright 2006 The Closure Library Authors
 SPDX-License-Identifier: Apache-2.0
*/function En(e){var t;e instanceof En?(Dg(this,e.Db),this.zc=e.zc,Lg(this,e.Fb),_1(this,e.Rc),this.Ra=e.Ra,Au(this,e.g.clone()),this.lc=e.lc):e&&(t=String(e).match(FL))?(Dg(this,t[1]||"",!0),this.zc=Tp(t[2]||""),Lg(this,t[3]||"",!0),_1(this,t[4]),this.Ra=Tp(t[5]||"",!0),Au(this,t[6]||"",!0),this.lc=Tp(t[7]||"")):this.g=new Jl(null)}f=En.prototype,f.Db="",f.zc="",f.Fb="",f.Rc=null,f.Ra="",f.lc="",f.toString=function(){var e=[],t=this.Db;if(t&&e.push(kp(t,L3,!0),":"),t=this.Fb){e.push("//");var n=this.zc;n&&e.push(kp(n,L3,!0),"@"),e.push(encodeURIComponent(t).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t=this.Rc,t!=null&&e.push(":",String(t))}return(t=this.Ra)&&(this.Fb&&t.charAt(0)!="/"&&e.push("/"),e.push(kp(t,t.charAt(0)=="/"?zL:VL,!0))),(t=this.g.toString())&&e.push("?",t),(t=this.lc)&&e.push("#",kp(t,HL)),e.join("")},f.resolve=function(e){var t=this.clone();t.Db==="data"&&(t=new En);var n=!!e.Db;n?Dg(t,e.Db):n=!!e.zc,n?t.zc=e.zc:n=!!e.Fb,n?Lg(t,e.Fb):n=e.Rc!=null;var r=e.Ra;if(n)_1(t,e.Rc);else if(n=!!e.Ra){if(r.charAt(0)!="/")if(this.Fb&&!this.Ra)r="/"+r;else{var i=t.Ra.lastIndexOf("/");i!=-1&&(r=t.Ra.substr(0,i+1)+r)}if(r==".."||r==".")r="";else if(r.indexOf("./")!=-1||r.indexOf("/.")!=-1){i=r.lastIndexOf("/",0)==0,r=r.split("/");for(var o=[],u=0;u<r.length;){var c=r[u++];c=="."?i&&u==r.length&&o.push(""):c==".."?((1<o.length||o.length==1&&o[0]!="")&&o.pop(),i&&u==r.length&&o.push("")):(o.push(c),i=!0)}r=o.join("/")}}return n?t.Ra=r:n=e.g.toString()!=="",n?Au(t,e.g.clone()):n=!!e.lc,n&&(t.lc=e.lc),t},f.clone=function(){return new En(this)};function Dg(e,t,n){e.Db=n?Tp(t,!0):t,e.Db&&(e.Db=e.Db.replace(/:$/,""))}function Lg(e,t,n){e.Fb=n?Tp(t,!0):t}function _1(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.Rc=t}else e.Rc=null}function Au(e,t,n){t instanceof Jl?e.g=t:(n||(t=kp(t,$L)),e.g=new Jl(t))}function Tp(e,t){return e?t?decodeURI(e):decodeURIComponent(e):""}function kp(e,t,n){return e!=null?(e=encodeURI(e).replace(t,BL),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function BL(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var L3=/[#\/\?@]/g,VL=/[#\?:]/g,zL=/[#\?]/g,$L=/[#\?@]/g,HL=/#/g;function Jl(e){this.g=e||null}function Rg(e){if(!e.La&&(e.La={},e.ad=0,e.g))for(var t=e.g.split("&"),n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];o=decodeURIComponent(o.replace(/\+/g," ")),i=i||"",e.add(o,decodeURIComponent(i.replace(/\+/g," ")))}}f=Jl.prototype,f.La=null,f.ad=null;function R3(e){return Rg(e),e.ad}f.add=function(e,t){Rg(this),this.g=null;var n=this.La.hasOwnProperty(e)?this.La[e]:null;return n||(this.La[e]=n=[]),n.push(t),this.ad++,this},f.set=function(e,t){return Rg(this),this.g=null,this.La.hasOwnProperty(e)?this.La[e]=[t]:this.add(e,t),this},f.get=function(e){return Rg(this),this.La[e]||[]},f.toString=function(){if(this.g)return this.g;if(!this.La)return"";var e=[],t;for(t in this.La)for(var n=encodeURIComponent(t),r=this.La[t],i=0;i<r.length;i++){var o=n;r[i]!==""&&(o+="="+encodeURIComponent(r[i])),e.push(o)}return this.g=e.join("&")},f.clone=function(){var e=new Jl;if(e.g=this.g,this.La){var t={},n;for(n in this.La)t[n]=this.La[n].concat();e.La=t,e.ad=this.ad}return e};function Ir(){}function P1(e){return e=b1(Ge(e)),btoa(e)}function Cu(e,t){return t=t??!0,e=P1(e).replace(/\+/g,"-").replace(/\//g,"_"),t?e:e.replace(/[=]*$/,"")}function Ri(e){e=d.atob(e.replace(/-/g,"+").replace(/_/g,"/"));for(var t=new Uint8Array(e.length),n=0;n<e.length;++n)t[n]=e.charCodeAt(n);return t}function Iu(e){for(var t=e.length/2,n=new Uint8Array(t),r=0;r<t;r++)n[r]=d.parseInt(e.substr(2*r,2),16);return n}function Io(e){var t=Ge(e);e="",t=w(t);for(var n=t.next();!n.done;n=t.next())n=n.value,n=n.toString(16),n.length==1&&(n="0"+n),e+=n;return e}function An(){for(var e=Ue.apply(0,arguments),t=0,n=0;n<e.length;++n)t+=e[n].byteLength;t=new Uint8Array(t);for(var r=n=0;r<e.length;++r){var i=e[r];i instanceof Uint8Array?t.set(i,n):t.set(Ge(i),n),n+=i.byteLength}return t}Ae("shaka.util.Uint8ArrayUtils",Ir),Ir.concat=An,Ir.toHex=Io,Ir.fromHex=Iu,Ir.fromBase64=Ri,Ir.toBase64=Cu,Ir.toStandardBase64=P1;function Yn(e,t,n){if(n=n===void 0?"":n,t.length==0)return e;if(e.length==1&&t.length==1){var r=new En(e[0]);return t=new En(t[0]),t=r.resolve(t),n&&Au(t,n),[t.toString()]}t=t.map(function(c){return new En(c)}),r=[],e=w(e);for(var i=e.next();!i.done;i=e.next()){i=new En(i.value);for(var o=w(t),u=o.next();!u.done;u=o.next())u=i.resolve(u.value),n&&Au(u,n),r.push(u.toString())}return r}function Mu(e,t,n,r){return e={keySystem:e,encryptionScheme:t,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:n||[],keyIds:new Set},r&&(e.keySystemUris=new Set([r])),e}function N3(e,t){t=t===void 0?"cenc":t;var n=[],r=[],i=[];e.forEach(function(u,c){var h=c;h.length!=22&&(h=Cu(Iu(c),!1));var g=u;g.length!=22&&(g=Cu(Iu(u),!1)),u={kty:"oct",kid:h,k:g},n.push(u),r.push(u.kid),i.push(c)}),e=JSON.stringify({keys:n});var o=JSON.stringify({kids:r});return o=[{initData:Ge(Ia(o)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",encryptionScheme:t,licenseServerUri:"data:application/json;base64,"+d.btoa(e),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:o,keyIds:new Set(i)}}function ec(e,t){if(t.length==1)return t[0];if(e=Zr(e,t),e!=null)return e;throw new $(2,4,4025,t)}function Zr(e,t){for(var n=w(U3[e]),r=n.next();!r.done;r=n.next()){r=r.value;for(var i=w(t),o=i.next();!o.done;o=i.next())if(o=o.value,r.test(o.trim()))return o.trim()}return e==bt?"":null}function D1(e,t){var n=[];e=w(U3[e]);for(var r=e.next();!r.done;r=e.next()){r=r.value;for(var i=w(t),o=i.next();!o.done;o=i.next())o=o.value,r.test(o.trim())&&n.push(o.trim())}return n}var bt="text",Nn={ka:"video",Y:"audio",wa:bt,Ee:"image",hj:"application"},qL=1/15,U3={audio:[/^vorbis$/,/^Opus$/,/^opus$/,/^fLaC$/,/^flac$/,/^mp4a/,/^[ae]c-3$/,/^ac-4/,/^dts[cex]$/,/^iamf/,/^mhm[12]/],video:[/^avc/,/^hev/,/^hvc/,/^vvc/,/^vvi/,/^vp0?[89]/,/^av01/,/^dvh/,/^dva/,/^dav/],text:[/^vtt$/,/^wvtt/,/^stpp/]};function L1(){}function Un(e,t){var n=e;return t&&!Ts.includes(e)&&(n+='; codecs="'+t+'"'),n}function _u(e,t){return t&&(e+='; codecs="'+t+'"'),e}function tc(e,t,n){var r=Un(e,t);return t=_u(e,t),ws(t)?(e=ws(t))?(e=e(),n=e.convertCodecs(n,t),e.destroy()):n=t:n=e!="video/mp2t"&&n=="audio"?r.replace("video","audio"):r,n}function GL(e,t,n){var r=[t];return KL.forEach(function(i,o){var u=e[o];o=="codecs"?Ts.includes(e.mimeType)||r.push('codecs="'+n+'"'):u&&r.push(i+'="'+u+'"')}),e.hdr=="PQ"&&r.push('eotf="smpte2084"'),r.join(";")}function Ng(e){return e.split(";")[0].split("/")[1]}function Tr(e){var t=j3(e);switch(e=t[0],t=t[1].toLowerCase(),!0){case(e==="mp4a"&&t==="69"):case(e==="mp4a"&&t==="6b"):case(e==="mp4a"&&t==="40.34"):return"mp3";case(e==="mp4a"&&t==="66"):case(e==="mp4a"&&t==="67"):case(e==="mp4a"&&t==="68"):case(e==="mp4a"&&t==="40.2"):case(e==="mp4a"&&t==="40.02"):case(e==="mp4a"&&t==="40.5"):case(e==="mp4a"&&t==="40.05"):case(e==="mp4a"&&t==="40.29"):case(e==="mp4a"&&t==="40.42"):return"aac";case(e==="mp4a"&&t==="a5"):return"ac-3";case(e==="mp4a"&&t==="a6"):return"ec-3";case(e==="mp4a"&&t==="b2"):return"dtsx";case(e==="mp4a"&&t==="a9"):return"dtsc";case e==="avc1":case e==="avc3":return"avc";case e==="hvc1":case e==="hev1":return"hevc";case e==="vvc1":case e==="vvi1":return"vvc";case e==="dvh1":case e==="dvhe":return"dovi-hevc";case e==="dvav":case e==="dva1":return"dovi-avc";case e==="dav1":return"dovi-av1";case e==="dvc1":case e==="dvi1":return"dovi-vvc"}return e}function Ss(e){var t=[];e=w(e.split(","));for(var n=e.next();!n.done;n=e.next())n=j3(n.value),t.push(n[0]);return t.sort().join(",")}function mi(e){return e.split(";")[0]}function vi(e){return e=e.split(/ *; */),e.shift(),(e=e.find(function(t){return t.startsWith("codecs=")}))?e.split("=")[1].replace(/^"|"$/g,""):""}function O3(e){return e==="application/x-mpegurl"||e==="application/vnd.apple.mpegurl"}function j3(e){e=e.split(".");var t=e[0];return e.shift(),[t,e.join(".")]}Ae("shaka.util.MimeUtils",L1),L1.getFullTypeWithAllCodecs=_u,L1.getFullType=Un;var KL=new Map().set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels"),Ts=["audio/aac","audio/ac3","audio/ec3","audio/mpeg"];function Mo(e){this.i=null,this.j=e,this.B=!1,this.l=this.s=0,this.m=1/0,this.h=this.g=null,this.C="",this.A=function(){},this.o=new Map}function Ep(e){return _n[e]?!0:e=="application/cea-608"||e=="application/cea-708"?!!Ea:!1}Mo.prototype.destroy=function(){return this.j=this.i=null,this.o.clear(),Promise.resolve()};function WL(e,t,n,r,i){var o,u,c,h,g,v,b;return L(function(x){if(x.g==1)return k(x,Promise.resolve(),2);if(!e.i||!e.j)return x.return();if(n==null||r==null)return e.i.parseInit(Ge(t)),x.return();for(o=e.B?n:e.s,u={periodStart:e.s,segmentStart:n,segmentEnd:r,vttOffset:o},c=e.i.parseMedia(Ge(t),u,i,[]),h=w(c),g=h.next();!g.done;g=h.next())v=g.value,e.A(v,i||null,u);b=c.filter(function(S){return S.startTime>=e.l&&S.startTime<e.m}),e.j.append(b),e.g==null&&(e.g=Math.max(n,e.l)),e.h=Math.min(r,e.m),te(x)})}Mo.prototype.remove=function(e,t){var n=this;return L(function(r){if(r.g==1)return k(r,Promise.resolve(),2);!n.j||!n.j.remove(e,t)||n.g==null||t<=n.g||e>=n.h||(e<=n.g&&t>=n.h?n.g=n.h=null:e<=n.g&&t<n.h?n.g=t:e>n.g&&t>=n.h&&(n.h=e)),te(r)})};function XL(e,t,n){e.l=t,e.m=n}function F3(e,t,n){if(e.C=t,t=e.o.get(t))for(var r=w(t.keys()),i=r.next();!i.done;i=r.next())(i=t.get(i.value).filter(function(o){return o.endTime<=n}))&&e.j.append(i)}function B3(e,t,n){t.startTime+=n,t.endTime+=n,t=w(t.nestedCues);for(var r=t.next();!r.done;r=t.next())B3(e,r.value,n)}function YL(e,t,n,r,i){var o=n+" "+r,u=new Map;t=w(t);for(var c=t.next();!c.done;c=t.next()){var h=c.value;c=h.stream,h=h.cue,u.has(c)||u.set(c,new Map),u.get(c).has(o)||u.get(c).set(o,[]),B3(e,h,i),h.startTime>=e.l&&h.startTime<e.m&&(u.get(c).get(o).push(h),c==e.C&&e.j.append([h]))}for(i=w(u.keys()),o=i.next();!o.done;o=i.next())for(o=o.value,e.o.has(o)||e.o.set(o,new Map),t=w(u.get(o).keys()),c=t.next();!c.done;c=t.next())c=c.value,h=u.get(o).get(c),e.o.get(o).set(c,h);e.g=e.g==null?Math.max(n,e.l):Math.min(e.g,Math.max(n,e.l)),e.h=Math.max(e.h,Math.min(r,e.m))}Ae("shaka.text.TextEngine",Mo),Mo.prototype.destroy=Mo.prototype.destroy,Mo.findParser=function(e){return _n[e]},Mo.unregisterParser=function(e){delete _n[e]},Mo.registerParser=function(e,t){_n[e]=t};var _n={};function ZL(e,t){return e.concat(t)}function V3(){}function ks(e){return e!=null}function ra(){}function nc(e,t){return e=Gt(e),t=Gt(t),e.split("-")[0]==t.split("-")[0]}function Ap(e,t){return e=Gt(e),t=Gt(t),e=e.split("-"),t=t.split("-"),e[0]==t[0]&&e.length==1&&t.length==2}function R1(e,t){return e=Gt(e),t=Gt(t),e=e.split("-"),t=t.split("-"),e.length==2&&t.length==2&&e[0]==t[0]}function Gt(e){e=w(e.split("-x-"));var t=e.next().value;t=t===void 0?"":t,e=e.next().value,e=e===void 0?"":e;var n=w(t.split("-"));return t=n.next().value,t=t===void 0?"":t,n=n.next().value,n=n===void 0?"":n,e=e?"x-"+e:"",t=t.toLowerCase(),t=z3.get(t)||t,n=n.toUpperCase(),(n?t+"-"+n:t)+(e?"-"+e:"")}function Pu(e,t){return e=Gt(e),t=Gt(t),t==e?4:Ap(t,e)?3:R1(t,e)?2:Ap(e,t)?1:0}function N1(e){var t=e.indexOf("-");return e=0<=t?e.substring(0,t):e,e=e.toLowerCase(),e=z3.get(e)||e}function U1(e){return e.language?Gt(e.language):e.audio&&e.audio.language?Gt(e.audio.language):e.video&&e.video.language?Gt(e.video.language):"und"}function Ug(e,t){e=Gt(e);var n=new Set;t=w(t);for(var r=t.next();!r.done;r=t.next())n.add(Gt(r.value));for(t=w(n),r=t.next();!r.done;r=t.next())if(r=r.value,r==e)return r;for(t=w(n),r=t.next();!r.done;r=t.next())if(r=r.value,Ap(r,e))return r;for(t=w(n),r=t.next();!r.done;r=t.next())if(r=r.value,R1(r,e))return r;for(n=w(n),t=n.next();!t.done;t=n.next())if(t=t.value,Ap(e,t))return t;return null}Ae("shaka.util.LanguageUtils",ra),ra.findClosestLocale=Ug,ra.getLocaleForVariant=U1,ra.getLocaleForText=function(e){return Gt(e.language||"und")},ra.getBase=N1,ra.relatedness=Pu,ra.areSiblings=function(e,t){var n=N1(e),r=N1(t);return e!=n&&t!=r&&n==r},ra.normalize=Gt,ra.isSiblingOf=R1,ra.isParentOf=Ap,ra.areLanguageCompatible=nc,ra.areLocaleCompatible=function(e,t){return e=Gt(e),t=Gt(t),e==t};var z3=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function $3(){}function H3(e,t,n,r){var i=e.variants;if((t.length||n.length)&&(i=QL(i,t,n)),r.length){for(t=new De,i=w(i),n=i.next();!n.done;n=i.next())n=n.value,t.push(String(n.video.width||0),n);var o=[];t.forEach(function(A,C){A=0;var M=[];C=w(C);for(var _=C.next(),O={};!_.done;O={ye:void 0},_=C.next())O.ye=_.value,_=r.filter(function(P){return function(j){return P.ye.decodingInfos[0][j]}}(O)).length,_>A?(A=_,M=[O.ye]):_==A&&M.push(O.ye);o.push.apply(o,F(M))}),i=o}n=new Set,t=new Set,i=w(i);for(var u=i.next();!u.done;u=i.next())u=u.value,u.audio&&n.add(u.audio),u.video&&t.add(u.video);n=Array.from(n).sort(function(A,C){return A.bandwidth-C.bandwidth});var c=[];for(i=new Map,n=w(n),u=n.next();!u.done;u=n.next()){u=u.value;var h=u.language+(u.channelsCount||0)+(u.audioSamplingRate||0)+u.roles.join(",")+u.label+u.groupId+u.fastSwitching,g=i.get(h)||[];if(g.length){var v=g[g.length-1],b=Tr(v.codecs),x=Tr(u.codecs);b!=x||u.bandwidth&&v.bandwidth&&!(u.bandwidth>v.bandwidth)||(g.push(u),c.push(u.id))}else g.push(u),c.push(u.id);i.set(h,g)}var S={vp8:1,avc:1,"dovi-avc":.95,vp9:.9,vp09:.9,hevc:.85,"dovi-hevc":.8,av01:.75,"dovi-av1":.7,vvc:.65};n=Array.from(t).sort(function(A,C){if(!A.bandwidth||!C.bandwidth||A.bandwidth==C.bandwidth){if(A.codecs&&C.codecs&&A.codecs!=C.codecs&&A.width==C.width){var M=Tr(A.codecs),_=Tr(C.codecs);if(M!=_)return(S[M]||1)-(S[_]||1)}return A.width-C.width}return A.bandwidth-C.bandwidth}),t=kn();var T=[];for(i=new Map,n=w(n),u=n.next();!u.done;u=n.next()){if(u=u.value,h=Math.round(u.frameRate||0)+(u.hdr||"")+u.fastSwitching,g=i.get(h)||[],g.length){if(v=g[g.length-1],!t&&(b=Tr(v.codecs),x=Tr(u.codecs),b!==x))continue;u.width>v.width||u.height>v.height?(g.push(u),T.push(u.id)):u.width==v.width&&u.height==v.height&&(b=Tr(v.codecs),x=Tr(u.codecs),b!=x||u.bandwidth&&v.bandwidth&&!(u.bandwidth>v.bandwidth)||(g.push(u),T.push(u.id)))}else g.push(u),T.push(u.id);i.set(h,g)}e.variants=e.variants.filter(function(A){var C=A.audio;return A=A.video,!(C&&!c.includes(C.id)||A&&!T.includes(A.id))})}function QL(e,t,n){t=w(t);for(var r=t.next(),i={};!r.done;i={oh:void 0},r=t.next())if(i.oh=r.value,r=e.filter(function(o){return function(u){return u.video&&u.video.codecs.startsWith(o.oh)}}(i)),r.length){e=r;break}for(n=w(n),t=n.next(),r={};!t.done;r={gg:void 0},t=n.next())if(r.gg=t.value,t=e.filter(function(o){return function(u){return u.audio&&u.audio.codecs.startsWith(o.gg)}}(r)),t.length){e=t;break}return e}function JL(e,t,n){e.variants=e.variants.filter(function(r){return Og(r,t,n)})}function Og(e,t,n){function r(c,h,g){return c>=h&&c<=g}var i=e.video;if(i&&i.width&&i.height){var o=i.width,u=i.height;if(u>o&&(u=w([u,o]),o=u.next().value,u=u.next().value),!r(o,t.minWidth,Math.min(t.maxWidth,n.width))||!r(u,t.minHeight,Math.min(t.maxHeight,n.height))||!r(i.width*i.height,t.minPixels,t.maxPixels))return!1}return!(e&&e.video&&e.video.frameRate&&!r(e.video.frameRate,t.minFrameRate,t.maxFrameRate)||e&&e.audio&&e.audio.channelsCount&&!r(e.audio.channelsCount,t.minChannelsCount,t.maxChannelsCount)||!r(e.bandwidth,t.minBandwidth,t.maxBandwidth))}function e7(e,t,n){return n=n===void 0?[]:n,L(function(r){return r.g==1?k(r,q3(e,t,0<t.offlineSessionIds.length,n),2):(i7(t),k(r,a7(t),0))})}function q3(e,t,n,r){var i,o;return L(function(u){if(u.g==1)return Ca()&&t7(t.variants),k(u,W3(t.variants,n,!1,r),2);i=null,e&&(o=e.g)&&(i=o.keySystem),t.variants=t.variants.filter(function(c){var h=n7(c,i);if(!h){var g=[];c.audio&&g.push(e5(c.audio)),c.video&&g.push(e5(c.video))}return h}),te(u)})}function t7(e){var t={dvav:"avc3",dva1:"avc1",dvhe:"hev1",dvh1:"hvc1",dvc1:"vvc1",dvi1:"vvi1"},n=new Set;e=w(e);for(var r=e.next();!r.done;r=e.next())r=r.value,r.video&&n.add(r.video);for(n=w(n),e=n.next();!e.done;e=n.next()){e=e.value,r=w(Object.keys(t));for(var i=r.next();!i.done;i=r.next())if(i=i.value,e.codecs.includes(i)){e.codecs=e.codecs.replace(i,t[i]);break}}}function n7(e,t){var n=Ca(),r=Ut("Firefox")&&xg(),i=e.video,o=i&&i.width||0,u=i&&i.height||0;if(n&&i&&(1920<o||1080<u)&&(i.codecs.includes("avc1.")||i.codecs.includes("avc3.")))return!1;if(i){if(n=Cp(i.codecs),i.codecs.includes(",")){if(o=i.codecs.split(","),n=ec("video",o),n=Cp(n),o=ec("audio",o),o=rc(o,i.mimeType),u=tc(i.mimeType,o,"audio"),!ct(u))return!1;n=[n,o].join()}if(o=tc(i.mimeType,n,"video"),!ct(o))return!1;i.codecs=n}if(i=e.audio,r&&i&&i.encrypted&&i.codecs.toLowerCase().includes("opus"))return!1;if(i){if(r=rc(i.codecs,i.mimeType),n=tc(i.mimeType,r,"audio"),!ct(n))return!1;i.codecs=r}return e.decodingInfos.some(function(c){return!(!c.supported||t&&(c=c.keySystemAccess)&&c.keySystem!=t)})}function G3(e){var t=[];for(n in e)t.push(n);t.sort();var n=[];t=w(t);for(var r=t.next();!r.done;r=t.next()){var i=r.value;r=JSON.stringify(i),i=e[i],i instanceof Object?(i=G3(i),n.push(r+":"+i)):(i=JSON.stringify(i),n.push(r+":"+i))}return"{"+n.join(",")+"}"}function K3(e,t){var n,r,i,o,u,c,h;return L(function(g){if(g.g==1){for(n=function(v,b){if(v){var x=Tu(v);return x.supported=v.supported&&b.supported,x.powerEfficient=v.powerEfficient&&b.powerEfficient,x.smooth=v.smooth&&b.smooth,b.keySystemAccess&&!x.keySystemAccess&&(x.keySystemAccess=b.keySystemAccess),x}return b},r=null,i=[],o=w(t),u=o.next(),c={};!u.done;c={cache:void 0,Cd:void 0},u=o.next())h=u.value,c.Cd=G3(h),c.cache=t5,c.cache[c.Cd]?r=n(r,c.cache[c.Cd]):i.push(r7(h).then(function(v){return function(b){var x=null;b=w(b||[]);for(var S=b.next();!S.done;S=b.next())x=n(x,S.value);x&&(v.cache[v.Cd]=x,r=n(r,x))}}(c)));return k(g,Promise.all(i),2)}r&&e.decodingInfos.push(r),te(g)})}function r7(e){var t=[""];e.video&&(t=vi(e.video.contentType).split(","));var n=[""];e.audio&&(n=vi(e.audio.contentType).split(","));var r=[];t=w(t);for(var i=t.next();!i.done;i=t.next()){i=i.value;for(var o=w(n),u=o.next(),c={};!u.done;c={Cc:void 0},u=o.next())u=u.value,c.Cc=Ga(e),e.video&&(c.Cc.video.contentType=Un(mi(c.Cc.video.contentType),i)),e.audio&&(c.Cc.audio.contentType=Un(mi(c.Cc.audio.contentType),u)),r.push(new Promise(function(h){return function(g,v){navigator.mediaCapabilities.decodingInfo(h.Cc).then(function(b){g(b)}).catch(v)}}(c)))}return Promise.all(r).catch(function(){return JSON.stringify(e),null})}function W3(e,t,n,r){var i,o,u,c,h,g,v,b,x,S,T,A,C,M,_,O,P,j;return L(function(V){switch(V.g){case 1:if(e.some(function(B){return B.decodingInfos.length}))return V.return();i=w(r),o=i.next(),u={};case 2:if(o.done){V.u(4);break}u.Pg=o.value,c=!1,h=w(e),g=h.next();case 5:if(g.done){V.u(7);break}v=g.value,b=X3(v,t,n).filter(function(B){return function(H){return H=H[0],(H.keySystemConfiguration&&H.keySystemConfiguration.keySystem)===B.Pg}}(u)),x=w(b),S=x.next();case 8:if(S.done){V.u(10);break}return T=S.value,k(V,K3(v,T),9);case 9:S=x.next(),V.u(8);break;case 10:v.decodingInfos.length&&(c=!0),g=h.next(),V.u(5);break;case 7:if(c)return V.return();u={Pg:void 0},o=i.next(),V.u(2);break;case 4:A=w(e),C=A.next();case 12:if(C.done){V.u(0);break}M=C.value,_=X3(M,t,n).filter(function(B){return B=B[0],B=B.keySystemConfiguration&&B.keySystemConfiguration.keySystem,!B||!r.includes(B)}),O=w(_),P=O.next();case 15:if(P.done){C=A.next(),V.u(12);break}return j=P.value,k(V,K3(M,j),16);case 16:P=O.next(),V.u(15)}})}function X3(e,t,n){var r=e.audio,i=e.video,o=[],u=[];if(i)for(var c=w(i.fullMimeTypes),h=c.next();!h.done;h=c.next()){h=h.value;var g=vi(h);if(g.includes(",")&&!r){var v=g.split(","),b=mi(h);g=ec("video",v),v=ec("audio",v),v=rc(v,b),b=tc(b,v,"audio"),u.push({contentType:b,channels:2,bitrate:e.bandwidth||1,samplerate:1,spatialRendering:!1})}if(g=Cp(g),h={contentType:tc(mi(h),g,"video"),width:i.width||64,height:i.height||64,bitrate:i.bandwidth||e.bandwidth||1,framerate:i.frameRate||1},i.hdr)switch(i.hdr){case"SDR":h.transferFunction="srgb";break;case"PQ":h.transferFunction="pq";break;case"HLG":h.transferFunction="hlg"}i.colorGamut&&(h.colorGamut=i.colorGamut),o.push(h)}if(r)for(c=w(r.fullMimeTypes),h=c.next();!h.done;h=c.next())g=h.value,h=mi(g),g=rc(vi(g),h),h=tc(h,g,"audio"),u.push({contentType:h,channels:r.channelsCount||2,bitrate:r.bandwidth||e.bandwidth||1,samplerate:r.audioSamplingRate||1,spatialRendering:r.spatialAudio});for(c=[],o.length==0&&o.push(null),u.length==0&&u.push(null),o=w(o),h=o.next();!h.done;h=o.next())for(h=h.value,g=w(u),b=g.next();!b.done;b=g.next())b=b.value,v={type:n?"file":"media-source"},h&&(v.video=h),b&&(v.audio=b),c.push(v);if(u=(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[]),!u.length)return[c];for(e=[],n=new Map,u=w(u),o=u.next();!o.done;o=u.next())o=o.value,n.get(o.keySystem)||n.set(o.keySystem,[]),n.get(o.keySystem).push(o);for(u=t?"required":"optional",t=t?["persistent-license"]:["temporary"],o=w(n.keys()),h=o.next();!h.done;h=o.next()){for(h=h.value,g=[],b=w(c),v=b.next();!v.done;v=b.next()){v=Object.assign({},v.value);var x=n.get(h),S={keySystem:h,initDataType:"cenc",persistentState:u,distinctiveIdentifier:"optional",sessionTypes:t};x=w(x);for(var T=x.next();!T.done;T=x.next()){if(T=T.value,T.initData&&T.initData.length){for(var A=new Set,C=w(T.initData),M=C.next();!M.done;M=C.next())A.add(M.value.initDataType);S.initDataType=T.initData[0].initDataType}T.distinctiveIdentifierRequired&&(S.distinctiveIdentifier="required"),T.persistentStateRequired&&(S.persistentState="required"),T.sessionType&&(S.sessionTypes=[T.sessionType]),r&&(S.audio?(T.encryptionScheme&&(S.audio.encryptionScheme=S.audio.encryptionScheme||T.encryptionScheme),S.audio.robustness=S.audio.robustness||T.audioRobustness):(S.audio={robustness:T.audioRobustness},T.encryptionScheme&&(S.audio.encryptionScheme=T.encryptionScheme)),S.audio.robustness==""&&delete S.audio.robustness),i&&(S.video?(T.encryptionScheme&&(S.video.encryptionScheme=S.video.encryptionScheme||T.encryptionScheme),S.video.robustness=S.video.robustness||T.videoRobustness):(S.video={robustness:T.videoRobustness},T.encryptionScheme&&(S.video.encryptionScheme=T.encryptionScheme)),S.video.robustness==""&&delete S.video.robustness)}v.keySystemConfiguration=S,g.push(v)}e.push(g)}return e}function rc(e,t){return e.toLowerCase()=="flac"?Kl()?"fLaC":"flac":e.toLowerCase()==="opus"?Kl()&&Ng(t)=="mp4"?"Opus":"opus":e}function Cp(e){if(e.includes("avc1")){var t=e.split(".");if(t.length==3)return e=t.shift()+".",e+=parseInt(t.shift(),10).toString(16),e+=("000"+parseInt(t.shift(),10).toString(16)).slice(-4)}else if(e=="vp9")return"vp09.00.41.08";return e}function i7(e){e.textStreams=e.textStreams.filter(function(t){return t=Un(t.mimeType,t.codecs),Ep(t)})}function a7(e){var t,n,r,i,o,u,c;return L(function(h){switch(h.g){case 1:t=[],n=w(e.imageStreams),r=n.next();case 2:if(r.done){h.u(4);break}if(i=r.value,o=i.mimeType,o=="application/mp4"&&i.codecs=="mjpg"&&(o="image/jpg"),Bg.has(o)){h.u(5);break}if(u=u7.get(o),!u){Bg.set(o,!1),h.u(5);break}return k(h,o7(u),7);case 7:c=h.h,Bg.set(o,c);case 5:Bg.get(o)&&t.push(i),r=n.next(),h.u(2);break;case 4:e.imageStreams=t,te(h)}})}function o7(e){return new Promise(function(t){var n=new Image;n.src=e,"decode"in n?n.decode().then(function(){t(!0)}).catch(function(){t(!1)}):n.onload=n.onerror=function(){t(n.height===2)}})}function ic(e){var t=e.audio,n=e.video,r=t?t.mimeType:null,i=n?n.mimeType:null,o=t?t.codecs:null,u=n?n.codecs:null,c=[];u&&c.push(u),o&&c.push(o);var h=[];n&&h.push(n.mimeType),t&&h.push(t.mimeType),h=h[0]||null;var g=[];t&&g.push(t.kind),n&&g.push(n.kind),g=g[0]||null;var v=new Set;if(t)for(var b=w(t.roles),x=b.next();!x.done;x=b.next())v.add(x.value);if(n)for(b=w(n.roles),x=b.next();!x.done;x=b.next())v.add(x.value);return e={id:e.id,active:!1,type:"variant",bandwidth:e.bandwidth,language:e.language,label:null,kind:g,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:h,audioMimeType:r,videoMimeType:i,codecs:c.join(", "),audioCodec:o,videoCodec:u,primary:e.primary,roles:Array.from(v),audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null,accessibilityPurpose:null,originalLanguage:null},n&&(e.videoId=n.id,e.originalVideoId=n.originalId,e.width=n.width||null,e.height=n.height||null,e.frameRate=n.frameRate||null,e.pixelAspectRatio=n.pixelAspectRatio||null,e.videoBandwidth=n.bandwidth||null,e.hdr=n.hdr||null,e.colorGamut=n.colorGamut||null,e.videoLayout=n.videoLayout||null,u.includes(",")&&(e.channelsCount=n.channelsCount,e.audioSamplingRate=n.audioSamplingRate,e.spatialAudio=n.spatialAudio,e.originalLanguage=n.originalLanguage)),t&&(e.audioId=t.id,e.originalAudioId=t.originalId,e.channelsCount=t.channelsCount,e.audioSamplingRate=t.audioSamplingRate,e.audioBandwidth=t.bandwidth||null,e.spatialAudio=t.spatialAudio,e.label=t.label,e.audioRoles=t.roles,e.accessibilityPurpose=t.accessibilityPurpose,e.originalLanguage=t.originalLanguage),e}function jg(e){return{id:e.id,active:!1,type:bt,bandwidth:0,language:e.language,label:e.label,kind:e.kind||null,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:e.mimeType,audioMimeType:null,videoMimeType:null,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:e.primary,roles:e.roles,audioRoles:null,forced:e.forced,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:e.originalId,originalImageId:null,accessibilityPurpose:e.accessibilityPurpose,originalLanguage:e.originalLanguage}}function O1(e){var t=e.width||null,n=e.height||null,r=null;e.segmentIndex&&(r=Pa(e.segmentIndex));var i=e.tilesLayout;return r&&(i=r.tilesLayout||i),i&&t!=null&&(t/=Number(i.split("x")[0])),i&&n!=null&&(n/=Number(i.split("x")[1])),{id:e.id,active:!1,type:"image",bandwidth:e.bandwidth||0,language:"",label:null,kind:null,width:t,height:n,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:e.mimeType,audioMimeType:null,videoMimeType:null,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:i||null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:e.originalId,accessibilityPurpose:null,originalLanguage:null}}function j1(e){return e.__shaka_id||(e.__shaka_id=s7++),e.__shaka_id}function Y3(e){var t=Z3(e);return t.active=e.mode!="disabled",t.type="text",t.originalTextId=e.id,e.kind=="captions"&&(t.mimeType="unknown"),e.kind=="subtitles"&&(t.mimeType="text/vtt"),e.kind&&(t.roles=[e.kind]),e.kind=="forced"&&(t.forced=!0),t}function F1(e){var t=Z3(e);return t.active=e.enabled,t.type="variant",t.originalAudioId=e.id,e.kind=="main"&&(t.primary=!0),e.kind&&(t.roles=[e.kind],t.audioRoles=[e.kind],t.label=e.label),t}function Z3(e){var t=e.language;return{id:j1(e),active:!1,type:"",bandwidth:0,language:Gt(t||"und"),label:e.label,kind:e.kind,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:null,audioMimeType:null,videoMimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],forced:!1,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null,accessibilityPurpose:null,originalLanguage:t}}function Ip(e){return e.allowedByApplication&&e.allowedByKeySystem&&e.disabledUntilTime==0}function Fg(e){return e.filter(function(t){return Ip(t)})}function Mp(e,t,n,r){var i=e,o=e.filter(function(h){return h.primary});o.length&&(i=o);var u=i.length?i[0].language:"";if(i=i.filter(function(h){return h.language==u}),t){var c=Ug(Gt(t),e.map(function(h){return h.language}));c&&(i=e.filter(function(h){return Gt(h.language)==c}))}if(i=i.filter(function(h){return h.forced==r}),n){if(e=Q3(i,n),e.length)return e}else if(e=i.filter(function(h){return h.roles.length==0}),e.length)return e;return e=i.map(function(h){return h.roles}).reduce(ZL,[]),e.length?Q3(i,e[0]):i}function Q3(e,t){return e.filter(function(n){return n.roles.includes(t)})}function J3(e,t){t.length&&(t=t.filter(function(n){return Tr(e.codecs)==Tr(n.codecs)}).sort(function(n,r){return n.bandwidth&&r.bandwidth&&n.bandwidth!=r.bandwidth?n.bandwidth-r.bandwidth:(n.width||0)-(r.width||0)}),e.trickModeVideo=t[0],1<t.length&&(t=t.find(function(n){return e.width==n.width&&e.height==n.height})))&&(e.trickModeVideo=t)}function e5(e){return e.type=="audio"?"type=audio codecs="+e.codecs+" bandwidth="+e.bandwidth+" channelsCount="+e.channelsCount+" audioSamplingRate="+e.audioSamplingRate:e.type=="video"?"type=video codecs="+e.codecs+" bandwidth="+e.bandwidth+" frameRate="+e.frameRate+" width="+e.width+" height="+e.height:"unexpected stream type"}Ae("shaka.util.StreamUtils",$3),$3.meetsRestrictions=Og;var t5={},s7=0,Bg=new Map().set("image/svg+xml",!0).set("image/png",!0).set("image/jpeg",!0).set("image/jpg",!0),u7=new Map().set("image/webp","data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA").set("image/avif","data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=");function gn(){var e=this;this.A=null,this.j=!1,this.i=new at,this.F=new ke,navigator.connection&&navigator.connection.addEventListener&&this.F.D(navigator.connection,"change",function(){if(e.j&&e.g.useNetworkInformation){e.i=new at,e.g&&e.i.configure(e.g.advanced);var t=e.chooseVariant();t&&navigator.onLine&&e.A(t,e.g.clearBufferSwitch,e.g.safeMarginSwitch)}}),this.s=[],this.B=1,this.G=!1,this.h=this.o=this.g=this.l=null,this.C=new mt(function(){if(e.j&&e.g.restrictToElementSize){var t=e.chooseVariant();t&&e.A(t,e.g.clearBufferSwitch,e.g.safeMarginSwitch)}}),this.m=null}f=gn.prototype,f.stop=function(){this.A=null,this.j=!1,this.s=[],this.B=1,this.o=this.l=null,this.h&&(this.h.disconnect(),this.h=null),this.C.stop(),this.m=null},f.release=function(){this.F.release(),this.C=null},f.init=function(e){this.A=e},f.chooseVariant=function(){var e=1/0,t=1/0;if(this.g.restrictToScreenSize){var n=this.g.ignoreDevicePixelRatio?1:d.devicePixelRatio;e=d.screen.height*n,t=d.screen.width*n}this.h&&this.g.restrictToElementSize&&(n=this.g.ignoreDevicePixelRatio?1:d.devicePixelRatio,e=Math.min(e,this.o.clientHeight*n),t=Math.min(t,this.o.clientWidth*n)),n=this.s.filter(function(g){return g&&!(g.audio&&g.audio.fastSwitching||g.video&&g.video.fastSwitching)}),n.length||(n=this.s);var r=n;if(n.length!=this.s.length&&(r=this.s.filter(function(g){return g&&!!(g.audio&&g.audio.fastSwitching||g.video&&g.video.fastSwitching)})),n=B1(this,this.g.restrictions,r,1/0,1/0),e!=1/0||t!=1/0){n=l7(n),n=w(n);for(var i=n.next();!i.done;i=n.next())if(i=i.value,i.height>=e&&i.width>=t){e=i.height,t=i.width;break}n=B1(this,this.g.restrictions,r,e,t)}for(e=this.getBandwidthEstimate(),r.length&&!n.length&&(n=B1(this,null,r,1/0,1/0),n=[n[0]]),t=n[0]||null,r=0;r<n.length;r++){i=n[r];for(var o=isNaN(this.B)?1:Math.abs(this.B),u=o*i.bandwidth/this.g.bandwidthDowngradeTarget,c={bandwidth:1/0},h=r+1;h<n.length;h++)if(i.bandwidth!=n[h].bandwidth){c=n[h];break}o=o*c.bandwidth/this.g.bandwidthUpgradeTarget,e>=u&&e<=o&&(t.bandwidth!=i.bandwidth||t.bandwidth==i.bandwidth&&t.video&&i.video&&(t.video.width<i.video.width||t.video.height<i.video.height))&&(t=i)}return this.l=Date.now(),t},f.enable=function(){this.j=!0},f.disable=function(){this.j=!1},f.segmentDownloaded=function(e,t,n){e<this.g.cacheLoadThreshold||(this.i.sample(e,t),n&&this.l!=null&&this.j&&n5(this))},f.trySuggestStreams=function(){this.l!=null&&this.j&&n5(this)},f.getBandwidthEstimate=function(){var e=this.g.defaultBandwidthEstimate;return navigator.connection&&navigator.connection.downlink&&this.g.useNetworkInformation&&(e=1e6*navigator.connection.downlink),navigator.connection&&navigator.connection.downlink&&this.g.useNetworkInformation&&this.g.preferNetworkInformationBandwidth?e:(e=this.i.getBandwidthEstimate(e),this.m?this.m.getBandwidthEstimate(e):e)},f.setVariants=function(e){this.s=e},f.playbackRateChanged=function(e){this.B=e},f.setMediaElement=function(e){var t=this;this.o=e,this.h&&(this.h.disconnect(),this.h=null),this.o&&"ResizeObserver"in d&&(this.h=new ResizeObserver(function(){t.C.Z(c7)}),this.h.observe(this.o))},f.setCmsdManager=function(e){this.m=e},f.configure=function(e){this.g=e,this.i&&this.g&&this.i.configure(this.g.advanced)};function n5(e){if(!e.G){var t=e.i;if(!(t.g>=t.i))return;e.G=!0,e.l-=1e3*(e.g.switchInterval-e.g.minTimeToSwitch)}Date.now()-e.l<1e3*e.g.switchInterval||(t=e.chooseVariant(),e.getBandwidthEstimate(),t&&e.A(t,e.g.clearBufferSwitch,e.g.safeMarginSwitch))}function B1(e,t,n,r,i){if(e.m){var o=e.m.yg();o&&(n=n.filter(function(u){return u.bandwidth&&o?u.bandwidth<=o:!0}))}return t&&(n=n.filter(function(u){return Og(u,t,{width:i,height:r})})),n.sort(function(u,c){return u.bandwidth-c.bandwidth})}function l7(e){var t=[];e=w(e);for(var n=e.next();!n.done;n=e.next())(n=n.value.video)&&n.height&&n.width&&t.push({height:n.height,width:n.width});return t.sort(function(r,i){return r.width-i.width})}Ae("shaka.abr.SimpleAbrManager",gn),gn.prototype.configure=gn.prototype.configure,gn.prototype.setCmsdManager=gn.prototype.setCmsdManager,gn.prototype.setMediaElement=gn.prototype.setMediaElement,gn.prototype.playbackRateChanged=gn.prototype.playbackRateChanged,gn.prototype.setVariants=gn.prototype.setVariants,gn.prototype.getBandwidthEstimate=gn.prototype.getBandwidthEstimate,gn.prototype.trySuggestStreams=gn.prototype.trySuggestStreams,gn.prototype.segmentDownloaded=gn.prototype.segmentDownloaded,gn.prototype.disable=gn.prototype.disable,gn.prototype.enable=gn.prototype.enable,gn.prototype.chooseVariant=gn.prototype.chooseVariant,gn.prototype.init=gn.prototype.init,gn.prototype.release=gn.prototype.release,gn.prototype.stop=gn.prototype.stop;var c7=1;Ae("shaka.config.AutoShowText",{NEVER:0,ALWAYS:1,IF_PREFERRED_TEXT_LANGUAGE:2,IF_SUBTITLES_MAY_BE_NEEDED:3}),Ae("shaka.config.CodecSwitchingStrategy",{RELOAD:"reload",SMOOTH:"smooth"});function V1(e,t,n,r){for(n=n===void 0?!0:n,r=r===void 0?!1:r,this.h=e,this.g=new Set([e]),t=t||[],e=w(t),t=e.next();!t.done;t=e.next())this.add(t.value,n,r)}V1.prototype.add=function(e,t,n){var r=this.h;t=t===void 0?!0:t,n=n===void 0?!1:n;var i;if(!(i=!!r.audio!=!!e.audio||!!r.video!=!!e.video||r.language!=e.language)&&(i=r.audio&&e.audio)){i=r.audio;var o=e.audio;i=!!((!i.channelsCount||!o.channelsCount||2<i.channelsCount||2<o.channelsCount)&&i.channelsCount!=o.channelsCount||i.spatialAudio!==o.spatialAudio||t&&!r5(i,o)||!i5(i.roles,o.roles)||n&&i.groupId!==o.groupId)}return!(n=i)&&(n=r.video&&e.video)&&(r=r.video,n=e.video,n=!((!t||r5(r,n))&&i5(r.roles,n.roles))),n?!1:(this.g.add(e),!0)},V1.prototype.values=function(){return this.g.values()};function r5(e,t){if(e.mimeType!=t.mimeType||(e=e.codecs.split(",").map(function(r){return Ss(r)}),t=t.codecs.split(",").map(function(r){return Ss(r)}),e.length!=t.length))return!1;e.sort(),t.sort();for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function i5(e,t){if(e=new Set(e),t=new Set(t),e.delete("main"),t.delete("main"),e.size!=t.size)return!1;e=w(e);for(var n=e.next();!n.done;n=e.next())if(!t.has(n.value))return!1;return!0}function a5(e,t,n){this.g=new ac(e.language,"",e.audio&&e.audio.channelsCount?e.audio.channelsCount:0,e.video&&e.video.hdr?e.video.hdr:"",e.audio&&e.audio.spatialAudio?e.audio.spatialAudio:!1,e.video&&e.video.videoLayout?e.video.videoLayout:"","","",t,n,e.audio&&e.audio.codecs?e.audio.codecs:"")}a5.prototype.create=function(e){return this.g.create(e)};function ac(e,t,n,r,i,o,u,c,h,g,v){this.A=e,this.B=t,this.i=n,this.j=r,this.C=i,this.m=o,this.h=u,this.l=c,this.o=h,this.s=g,this.g=v}ac.prototype.create=function(e){var t=[];t=d7(e,this.A);var n=e.filter(function(r){return r.primary});return t=t.length?t:n.length?n:e,e=p7(t,this.B),e.length&&(t=e),this.m&&(e=v7(t,this.m),e.length&&(t=e)),this.j&&(e=m7(t,this.j),e.length&&(t=e)),this.i&&(e=g7(t,this.i),e.length&&(t=e)),this.h&&(e=h7(t,this.h),e.length&&(t=e)),this.l&&(e=f7(t,this.l),e.length&&(t=e)),e=y7(t,this.C),e.length&&(t=e),this.g&&(e=b7(t,this.g),e.length&&(t=e)),new V1(t[0],t,!(this.o=="smooth"&&kn()),this.s)};function d7(e,t){t=Gt(t);var n=Ug(t,e.map(function(r){return U1(r)}));return n?e.filter(function(r){return n==U1(r)}):[]}function p7(e,t){return e.filter(function(n){return n.audio?t?n.audio.roles.includes(t):n.audio.roles.length==0:!1})}function h7(e,t){return e.filter(function(n){return n.audio&&n.audio.label?n.audio.label.toLowerCase()==t.toLowerCase():!1})}function f7(e,t){return e.filter(function(n){return n.video&&n.video.label?n.video.label.toLowerCase()==t.toLowerCase():!1})}function g7(e,t){return e.filter(function(n){return!(n.audio&&n.audio.channelsCount&&n.audio.channelsCount!=t)})}function m7(e,t){return t=="AUTO"&&(t=d.matchMedia("(color-gamut: p3)").matches?e.some(function(n){return!!(n.video&&n.video.hdr&&n.video.hdr=="HLG")})?"HLG":"PQ":"SDR"),e.filter(function(n){return!(n.video&&n.video.hdr&&n.video.hdr!=t)})}function v7(e,t){return e.filter(function(n){return!(n.video&&n.video.videoLayout&&n.video.videoLayout!=t)})}function y7(e,t){return e.filter(function(n){return!(n.audio&&n.audio.spatialAudio!=t)})}function b7(e,t){return e.filter(function(n){return!(n.audio&&n.audio.codecs!=t)})}function w7(){this.g=_p,this.i=new Map().set(_p,2).set(oc,1),this.h=0}function o5(e,t,n){e.i.set(_p,n).set(oc,t)}var oc=0,_p=1;function s5(e,t){var n=Ma();this.l=e.maxAttempts==null?n.maxAttempts:e.maxAttempts,this.j=e.baseDelay==null?n.baseDelay:e.baseDelay,this.o=e.fuzzFactor==null?n.fuzzFactor:e.fuzzFactor,this.m=e.backoffFactor==null?n.backoffFactor:e.backoffFactor,this.g=0,this.h=this.j,(this.i=t===void 0?!1:t)&&(this.g=1)}function u5(e){var t,n;return L(function(r){if(r.g==1){if(e.g>=e.l)if(e.i)e.g=1,e.h=e.j;else throw new $(2,7,1010);return t=e.g,e.g++,t==0?r.return():(n=e.h*(1+(2*Math.random()-1)*e.o),k(r,new Promise(function(i){new mt(i).Z(n/1e3)}),2))}e.h*=e.m,te(r)})}function Ma(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}}function Yt(){var e,t,n=new Promise(function(r,i){e=r,t=i});return n.resolve=e,n.reject=t,n}Yt.prototype.resolve=function(){},Yt.prototype.reject=function(){};function Cn(e,t){this.promise=e,this.i=t,this.g=!1}function Du(e){return new Cn(Promise.reject(e),function(){return Promise.resolve()})}function z1(){var e=Promise.reject(new $(2,7,7001));return e.catch(function(){}),new Cn(e,function(){return Promise.resolve()})}function sc(e){return new Cn(Promise.resolve(e),function(){return Promise.resolve()})}function l5(e){return new Cn(e,function(){return e.catch(function(){})})}Cn.prototype.abort=function(){return this.g=!0,this.i()};function c5(e){return new Cn(Promise.all(e.map(function(t){return t.promise})),function(){return Promise.all(e.map(function(t){return t.abort()}))})}Cn.prototype.finally=function(e){return this.promise.then(function(){return e(!0)},function(){return e(!1)}),this},Cn.prototype.Aa=function(e,t){function n(c){return function(h){if(i.g&&c)o.reject(u);else{var g=c?e:t;g?r=x7(g,h,o):(c?o.resolve:o.reject)(h)}}}function r(){return o.reject(u),i.abort()}var i=this,o=new Yt,u=new $(2,7,7001);return this.promise.then(n(!0),n(!1)),new Cn(o,function(){return r()})};function x7(e,t,n){try{var r=e(t);return r&&r.promise&&r.abort?(n.resolve(r.promise),function(){return r.abort()}):(n.resolve(r),function(){return Promise.resolve(r).then(function(){},function(){})})}catch(i){return n.reject(i),function(){return Promise.resolve()}}}U.Object.defineProperties(Cn.prototype,{aborted:{configurable:!0,enumerable:!0,get:function(){return this.g}}}),Ae("shaka.util.AbortableOperation",Cn),Cn.prototype.chain=Cn.prototype.Aa,Cn.prototype.finally=Cn.prototype.finally,Cn.all=c5,Cn.prototype.abort=Cn.prototype.abort,Cn.notAbortable=l5,Cn.completed=sc,Cn.aborted=z1,Cn.failed=Du;function Me(e,t){if(t)if(t instanceof Map)for(var n=w(t.keys()),r=n.next();!r.done;r=n.next())r=r.value,Object.defineProperty(this,r,{value:t.get(r),writable:!0,enumerable:!0});else for(n in t)Object.defineProperty(this,n,{value:t[n],writable:!0,enumerable:!0});this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=d.performance&&d.performance.now?d.performance.now():Date.now(),this.type=e,this.isTrusted=!1,this.target=this.currentTarget=null,this.g=!1}function d5(e){var t=new Me(e.type),n;for(n in e)Object.defineProperty(t,n,{value:e[n],writable:!0,enumerable:!0});return t}Me.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},Me.prototype.stopImmediatePropagation=function(){this.g=!0},Me.prototype.stopPropagation=function(){},Ae("shaka.util.FakeEvent",Me);var Vg={jj:"abrstatuschanged",kj:"adaptation",lj:"audiotrackchanged",mj:"buffering",nj:"complete",oj:"downloadfailed",pj:"downloadheadersreceived",qj:"drmsessionupdate",sj:"emsg",Mj:"prft",Error:"error",tj:"expirationupdated",uj:"firstquartile",vj:"gapjumped",yj:"keystatuschanged",Cj:"loaded",Dj:"loading",Fj:"manifestparsed",Gj:"manifestupdated",Hj:"mediaqualitychanged",Ij:"mediasourcerecovered",Metadata:"metadata",Jj:"midpoint",Kj:"nospatialvideoinfo",Lj:"onstatechange",Nj:"ratechange",Pj:"segmentappended",Qj:"sessiondata",Rj:"spatialvideoinfo",Sj:"stalldetected",Tj:"started",Uj:"statechanged",Vj:"streaming",Wj:"textchanged",Xj:"texttrackvisibility",Yj:"thirdquartile",Zj:"timelineregionadded",$j:"timelineregionenter",ak:"timelineregionexit",bk:"trackschanged",dk:"unloading",fk:"variantchanged"};function $t(){this.ra=new De,this.pe=this}$t.prototype.addEventListener=function(e,t){this.ra&&this.ra.push(e,t)},$t.prototype.removeEventListener=function(e,t){this.ra&&this.ra.remove(e,t)},$t.prototype.dispatchEvent=function(e){if(!this.ra)return!0;var t=this.ra.get(e.type)||[],n=this.ra.get("All");for(n&&(t=t.concat(n)),t=w(t),n=t.next();!n.done;n=t.next()){n=n.value,e.target=this.pe,e.currentTarget=this.pe;try{n.handleEvent?n.handleEvent(e):n.call(this,e)}catch{}if(e.g)break}return e.defaultPrevented},$t.prototype.release=function(){this.ra=null};function uc(){this.g=[]}function Lu(e,t){e.g.push(t.finally(function(){Xr(e.g,t)}))}uc.prototype.destroy=function(){for(var e=[],t=w(this.g),n=t.next();!n.done;n=t.next())n=n.value,n.promise.catch(function(){}),e.push(n.abort());return this.g=[],Promise.all(e)};function on(e,t,n,r,i,o){$t.call(this),this.i=!1,this.o=new uc,this.g=new Set,this.h=new Set,this.l=e||null,this.j=t||null,this.B=n||null,this.C=r||null,this.G=i||null,this.F=o||null,this.s=this.A=!1,this.m=16e3}Se(on,$t),f=on.prototype,f.Qf=function(e){this.A=e},f.Rf=function(e){this.s=e};function _o(e,t,n,r){n=n||m5;var i=$g[e];(!i||n>=i.priority)&&($g[e]={priority:n,ge:t,Ei:r===void 0?!1:r})}function p5(e,t){for(var n=w(e.g),r=n.next();!r.done;r=n.next())t.g.add(r.value);for(e=w(e.h),n=e.next();!n.done;n=e.next())t.h.add(n.value)}f.Hi=function(e){this.g.add(e)},f.cj=function(e){this.g.delete(e)},f.kg=function(){this.g.clear()},f.Ii=function(e){this.h.add(e)},f.dj=function(e){this.h.delete(e)},f.lg=function(){this.h.clear()};function qn(e,t,n){return{uris:e,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:t,licenseRequestType:null,sessionId:null,drmInfo:null,initData:null,initDataType:null,streamDataCallback:n===void 0?null:n}}f.destroy=function(){return this.i=!0,this.g.clear(),this.h.clear(),$t.prototype.release.call(this),this.o.destroy()},f.request=function(e,t,n){var r=this,i=new g5;if(this.i){var o=Promise.reject(new $(2,7,7001));return o.catch(function(){}),new zg(o,function(){return Promise.resolve()},i)}t.method=t.method||"GET",t.headers=t.headers||{},t.retryParameters=t.retryParameters?Ga(t.retryParameters):Ma(),t.uris=Ga(t.uris),o=S7(this,e,t,n);var u=o.Aa(function(){return h5(r,e,t,n,new s5(t.retryParameters,!1),0,null,i)}),c=u.Aa(function(x){return T7(r,e,x,n)}),h=Date.now(),g=0;o.promise.then(function(){g=Date.now()-h},function(){});var v=0;u.promise.then(function(){v=Date.now()},function(){});var b=c.Aa(function(x){var S=Date.now()-v,T=x.response;return T.timeMs+=g,T.timeMs+=S,x.ji||!r.l||T.fromCache||t.method=="HEAD"||e!=_a||r.l(T.timeMs,T.data.byteLength,f5(n)),r.F&&r.F(e,T,n),T},function(x){throw x&&(x.severity=2),x});return o=new zg(b.promise,function(){return b.abort()},i),Lu(this.o,o),o};function S7(e,t,n,r){function i(c){o=o.Aa(function(){return n.body&&(n.body=Vt(n.body)),c(t,n,r)})}var o=sc(void 0);e.C&&i(e.C),e=w(e.g);for(var u=e.next();!u.done;u=e.next())i(u.value);return o.Aa(void 0,function(c){throw c instanceof $&&c.code==7001?c:new $(2,1,1006,c)})}function h5(e,t,n,r,i,o,u,c){e.A&&(n.uris[o]=n.uris[o].replace("https://","http://")),e.s&&(n.uris[o]=n.uris[o].replace("http://","https://")),0<o&&e.G&&e.G(t,r,n.uris[o],n.uris[o-1]);var h=new En(n.uris[o]),g=h.Db,v=!1;g||(g=location.protocol,g=g.slice(0,-1),Dg(h,g),n.uris[o]=h.toString()),g=g.toLowerCase();var b=(g=$g[g])?g.ge:null;if(!b)return Du(new $(2,1,1e3,h));var x=g.Ei,S=null,T=null,A=!1,C=!1,M;return l5(u5(i)).Aa(function(){if(e.i)return z1();M=Date.now();var _=0;n.requestStartTime=Date.now();var O=b(n.uris[o],n,t,function(V,B,H){S&&S.stop(),T&&T.Z(j/1e3),e.l&&t==_a&&(_++,n.packetNumber=_,e.l(V,B,f5(r),n),v=!0,c.g=H)},function(V){e.j&&e.j(V,n,t),C=!0,n.timeToFirstByte=Date.now()-n.requestStartTime},{minBytesForProgressEvents:e.m});if(!x)return O;var P=n.retryParameters.connectionTimeout;P&&(S=new mt(function(){A=!0,O.abort()}),S.Z(P/1e3));var j=n.retryParameters.stallTimeout;return j&&(T=new mt(function(){A=!0,O.abort()})),O}).Aa(function(_){S&&S.stop(),T&&T.stop(),_.timeMs==null&&(_.timeMs=Date.now()-M);var O={response:_,ji:v};return!C&&e.j&&e.j(_.headers,n,t),O},function(_){if(S&&S.stop(),T&&T.stop(),e.B){var O=null,P=0;_ instanceof $&&(O=_,_.code==1001&&(P=_.data[1])),e.B(n,O,P,A)}if(e.i)return z1();if(A&&(_=new $(1,1,1003,n.uris[o],t)),_ instanceof $){if(_.code==7001)throw _;if(_.code==1010)throw u;if(_.severity==1)return O=new Map().set("error",_),O=new Me("retry",O),e.dispatchEvent(O),o=(o+1)%n.uris.length,h5(e,t,n,r,i,o,_,c)}throw _})}function T7(e,t,n,r){var i=sc(void 0);e=w(e.h);for(var o=e.next(),u={};!o.done;u={Ug:void 0},o=e.next())u.Ug=o.value,i=i.Aa(function(c){return function(){var h=n.response;return h.data&&(h.data=Vt(h.data)),(0,c.Ug)(t,h,r)}}(u));return i.Aa(function(){return n},function(c){var h=2;if(c instanceof $){if(c.code==7001)throw c;h=c.severity}throw new $(h,1,1007,c)})}function f5(e){if(e){var t=e.segment;if(e=e.stream,t&&e&&e.fastSwitching&&t.o)return!1}return!0}Ae("shaka.net.NetworkingEngine",on),on.prototype.request=on.prototype.request,on.prototype.destroy=on.prototype.destroy,on.makeRequest=qn,on.defaultRetryParameters=function(){return Ma()},on.prototype.clearAllResponseFilters=on.prototype.lg,on.prototype.unregisterResponseFilter=on.prototype.dj,on.prototype.registerResponseFilter=on.prototype.Ii,on.prototype.clearAllRequestFilters=on.prototype.kg,on.prototype.unregisterRequestFilter=on.prototype.cj,on.prototype.registerRequestFilter=on.prototype.Hi,on.unregisterScheme=function(e){delete $g[e]},on.registerScheme=_o,on.prototype.setForceHTTPS=on.prototype.Rf,on.prototype.setForceHTTP=on.prototype.Qf;function g5(){this.g=0}on.NumBytesRemainingClass=g5;function zg(e,t,n){Cn.call(this,e,t),this.h=n}Se(zg,Cn),on.PendingRequest=zg;var _a=1;on.RequestType={MANIFEST:0,SEGMENT:_a,LICENSE:2,APP:3,TIMING:4,SERVER_CERTIFICATE:5,KEY:6,ADS:7,CONTENT_STEERING:8},on.AdvancedRequestType={INIT_SEGMENT:0,MEDIA_SEGMENT:1,MEDIA_PLAYLIST:2,MASTER_PLAYLIST:3,MPD:4,MSS:5,MPD_PATCH:6,MEDIATAILOR_SESSION_INFO:7,MEDIATAILOR_TRACKING_INFO:8,MEDIATAILOR_STATIC_RESOURCE:9,MEDIATAILOR_TRACKING_EVENT:10,INTERSTITIAL_ASSET_LIST:11,INTERSTITIAL_AD_URL:12};var m5=3;on.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:m5};var $g={};function lc(e){this.g=!1,this.h=new Yt,this.i=e}lc.prototype.destroy=function(){var e=this;return this.g?this.h:(this.g=!0,this.i().then(function(){e.h.resolve()},function(){e.h.resolve()}))};function Qt(e,t){if(e.g)throw t instanceof $&&t.code==7003?t:new $(2,7,7003,t)}function $1(e,t){var n=[];e=w(e);for(var r=e.next();!r.done;r=e.next())n.push(t(r.value));return n}function k7(e,t){e=w(e);for(var n=e.next();!n.done;n=e.next())if(!t(n.value))return!1;return!0}function Pp(e){for(var t=new Map,n=w(Object.keys(e)),r=n.next();!r.done;r=n.next())r=r.value,t.set(r,e[r]);return t}function H1(e){var t={};return e.forEach(function(n,r){t[r]=n}),t}function tn(e,t){this.h=cr(e),this.i=t==v5,this.g=0}f=tn.prototype,f.qa=function(){return this.g<this.h.byteLength},f.xa=function(){return this.g},f.getLength=function(){return this.h.byteLength},f.T=function(){try{var e=this.h.getUint8(this.g);return this.g+=1,e}catch{throw Po()}},f.ma=function(){try{var e=this.h.getUint16(this.g,this.i);return this.g+=2,e}catch{throw Po()}},f.P=function(){try{var e=this.h.getUint32(this.g,this.i);return this.g+=4,e}catch{throw Po()}},f.Rg=function(){try{var e=this.h.getInt32(this.g,this.i);return this.g+=4,e}catch{throw Po()}},f.Sc=function(){try{if(this.i)var e=this.h.getUint32(this.g,!0),t=this.h.getUint32(this.g+4,!0);else t=this.h.getUint32(this.g,!1),e=this.h.getUint32(this.g+4,!1)}catch{throw Po()}if(2097151<t)throw new $(2,3,3001);return this.g+=8,t*Math.pow(2,32)+e},f.ub=function(e){if(this.g+e>this.h.byteLength)throw Po();var t=Ge(this.h,this.g,e);return this.g+=e,t},f.skip=function(e){if(this.g+e>this.h.byteLength)throw Po();this.g+=e},f.Pi=function(e){if(this.g<e)throw Po();this.g-=e},f.seek=function(e){if(0>e||e>this.h.byteLength)throw Po();this.g=e},f.uc=function(){for(var e=this.g;this.qa()&&this.h.getUint8(this.g)!=0;)this.g+=1;return e=Ge(this.h,e,this.g-e),this.g+=1,hn(e)};function Po(){return new $(2,3,3e3)}Ae("shaka.util.DataViewReader",tn),tn.prototype.readTerminatedString=tn.prototype.uc,tn.prototype.seek=tn.prototype.seek,tn.prototype.rewind=tn.prototype.Pi,tn.prototype.skip=tn.prototype.skip,tn.prototype.readBytes=tn.prototype.ub,tn.prototype.readUint64=tn.prototype.Sc,tn.prototype.readInt32=tn.prototype.Rg,tn.prototype.readUint32=tn.prototype.P,tn.prototype.readUint16=tn.prototype.ma,tn.prototype.readUint8=tn.prototype.T,tn.prototype.getLength=tn.prototype.getLength,tn.prototype.getPosition=tn.prototype.xa,tn.prototype.hasMoreData=tn.prototype.qa;var v5=1;tn.Endianness={BIG_ENDIAN:0,LITTLE_ENDIAN:v5};function nn(){this.i=[],this.h=[],this.g=!1}f=nn.prototype,f.box=function(e,t){return e=y5(e),this.i[e]=E7,this.h[e]=t,this},f.S=function(e,t){return e=y5(e),this.i[e]=b5,this.h[e]=t,this},f.stop=function(){this.g=!0},f.parse=function(e,t,n){for(e=new tn(e,0),this.g=!1;e.qa()&&!this.g;)this.Pc(0,e,t,n)},f.Pc=function(e,t,n,r){var i=t.xa();if(r&&i+8>t.getLength())this.g=!0;else{var o=t.P(),u=t.P(),c=Hg(u),h=!1;switch(o){case 0:o=t.getLength()-i;break;case 1:if(r&&t.xa()+8>t.getLength()){this.g=!0;return}o=t.Sc(),h=!0}var g=this.h[u];if(g){var v=null,b=null;if(this.i[u]==b5){if(r&&t.xa()+4>t.getLength()){this.g=!0;return}b=t.P(),v=b>>>24,b&=16777215}u=i+o,n&&u>t.getLength()&&(u=t.getLength()),r&&u>t.getLength()?this.g=!0:(r=u-t.xa(),t=0<r?t.ub(r):new Uint8Array(0),t=new tn(t,0),g({name:c,parser:this,partialOkay:n||!1,version:v,flags:b,reader:t,size:o,start:i+e,has64BitSize:h}))}else t.skip(Math.min(i+o-t.xa(),t.getLength()-t.xa()))}};function vt(e){for(var t=dc(e);e.reader.qa()&&!e.parser.g;)e.parser.Pc(e.start+t,e.reader,e.partialOkay)}function Es(e){for(var t=dc(e),n=e.reader.P(),r=0;r<n&&(e.parser.Pc(e.start+t,e.reader,e.partialOkay),!e.parser.g);r++);}function Qr(e){var t=dc(e);for(e.reader.skip(78);e.reader.qa()&&!e.parser.g;)e.parser.Pc(e.start+t,e.reader,e.partialOkay)}function q1(e){var t=dc(e);e.reader.skip(8);var n=e.reader.ma();for(e.reader.skip(6),n==2?e.reader.skip(48):e.reader.skip(12),n==1&&e.reader.skip(16);e.reader.qa()&&!e.parser.g;)e.parser.Pc(e.start+t,e.reader,e.partialOkay)}function cc(e){return function(t){e(t.reader.ub(t.reader.getLength()-t.reader.xa()))}}function y5(e){var t=0;e=w(e);for(var n=e.next();!n.done;n=e.next())t=t<<8|n.value.charCodeAt(0);return t}function Hg(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,e&255)}function dc(e){return 8+(e.has64BitSize?8:0)+(e.flags!=null?4:0)}Ae("shaka.util.Mp4Parser",nn),nn.headerSize=dc,nn.typeToString=Hg,nn.allData=cc,nn.audioSampleEntry=q1,nn.visualSampleEntry=Qr,nn.sampleDescription=Es,nn.children=vt,nn.prototype.parseNext=nn.prototype.Pc,nn.prototype.parse=nn.prototype.parse,nn.prototype.stop=nn.prototype.stop,nn.prototype.fullBox=nn.prototype.S,nn.prototype.box=nn.prototype.box;var E7=0,b5=1;function w5(e){var t=this;this.g=[],this.h=[],this.data=[],new nn().box("moov",vt).box("moof",vt).S("pssh",function(n){if(!(1<n.version)){var r=Ge(n.reader.h,-12,n.size);if(t.data.push(r),t.g.push(Io(n.reader.ub(16))),0<n.version){r=n.reader.P();for(var i=0;i<r;i++){var o=Io(n.reader.ub(16));t.h.push(o)}}}}).parse(e)}function qg(e,t,n,r){var i=e.length,o=t.length+16+i;0<r&&(o+=4+16*n.size);var u=new Uint8Array(o),c=cr(u),h=0;if(c.setUint32(h,o),h+=4,c.setUint32(h,1886614376),h+=4,1>r?c.setUint32(h,0):c.setUint32(h,16777216),h+=4,u.set(t,h),h+=t.length,0<r)for(c.setUint32(h,n.size),h+=4,t=w(n),n=t.next();!n.done;n=t.next())n=Iu(n.value),u.set(n,h),h+=n.length;return c.setUint32(h,i),u.set(e,h+4),u}function Gg(e){var t=this;this.C=e,this.l=this.A=null,this.fa=this.ca=!1,this.H=0,this.g=null,this.o=new ke,this.i=new Map,this.B=new Map,this.m=new Yt,this.h=null,this.s=function(n){n.severity==2&&t.m.reject(n),e.onError(n)},this.X=new Map,this.ea=new Map,this.K=new mt(function(){return U7(t)}),this.M=!1,this.L=[],this.R=!1,this.I=new mt(function(){F7(t)}),this.m.catch(function(){}),this.j=new lc(function(){return A7(t)}),this.aa=!1,this.F=this.G=null,this.O=function(){return!1}}f=Gg.prototype,f.destroy=function(){return this.j.destroy()};function A7(e){return L(function(t){switch(t.g){case 1:return e.o.release(),e.o=null,e.m.reject(),e.I.stop(),e.I=null,e.K.stop(),e.K=null,k(t,Lp(e),2);case 2:if(!e.l){t.u(3);break}return se(t,4),k(t,e.l.setMediaKeys(null),6);case 6:z(t,5);break;case 4:Y(t);case 5:e.l=null;case 3:e.g=null,e.A=null,e.B=new Map,e.h=null,e.s=function(){},e.C=null,e.aa=!1,e.G=null,te(t)}})}f.configure=function(e,t){this.h=e,t&&(this.O=t),this.I&&this.I.Oa(this.h.updateExpirationTime)};function C7(e,t,n){return e.fa=!0,e.B=new Map,e.M=n,S5(e,t)}function x5(e,t,n){e.B=new Map,n=w(n);for(var r=n.next();!r.done;r=n.next())e.B.set(r.value,{initData:null,initDataType:null});for(n=w(e.h.persistentSessionsMetadata),r=n.next();!r.done;r=n.next())r=r.value,e.B.set(r.sessionId,{initData:r.initData,initDataType:r.initDataType});return e.M=0<e.B.size,S5(e,t)}function I7(e,t,n,r,i,o){var u=new Map;return i={audioCapabilities:i,videoCapabilities:o,distinctiveIdentifier:"optional",persistentState:"required",sessionTypes:["persistent-license"],label:t},i.drmInfos=[{keySystem:t,licenseServerUri:n,distinctiveIdentifierRequired:!1,persistentStateRequired:!0,audioRobustness:"",videoRobustness:"",serverCertificate:r,serverCertificateUri:"",initData:null,keyIds:null}],u.set(t,i),A5(e,u,[])}function S5(e,t){var n,r,i,o,u,c,h,g,v,b,x,S,T,A,C,M,_,O,P;return L(function(j){if(j.g==1){if(n=R7(e))for(r=w(t),i=r.next();!i.done;i=r.next())o=i.value,o.video&&(o.video.drmInfos=[n]),o.audio&&(o.audio.drmInfos=[n]);for(u=t.some(function(V){return!!(V.video&&V.video.drmInfos.length||V.audio&&V.audio.drmInfos.length)}),u||(c=Pp(e.h.servers),V7(t,c)),h=new Set,g=w(t),v=g.next();!v.done;v=g.next())for(b=v.value,x=_5(b),S=w(x),T=S.next();!T.done;T=S.next())A=T.value,h.add(A);for(C=w(h),M=C.next();!M.done;M=C.next())_=M.value,z7(_,Pp(e.h.servers),Pp(e.h.advanced||{}),e.h.keySystemsMapping);return k(j,W3(t,e.M,e.aa,e.h.preferredKeySystems),2)}return Qt(e.j),O=u||Object.keys(e.h.servers).length,O?(P=A5(e,void 0,t),j.return(u?P:P.catch(function(){}))):(e.ca=!0,j.return(Promise.resolve()))})}function T5(e){var t;return L(function(n){switch(n.g){case 1:if(e.l.mediaKeys)return n.return();if(!e.G){n.u(2);break}return k(n,e.G,3);case 3:return Qt(e.j),n.return();case 2:return se(n,4),e.G=e.l.setMediaKeys(e.A),k(n,e.G,6);case 6:z(n,5);break;case 4:t=Y(n),e.s(new $(2,6,6003,t.message));case 5:Qt(e.j),te(n)}})}function M7(e,t){return L(function(n){if(n.g==1)return k(n,T5(e),2);Dp(e,t.initDataType,Ge(t.initData)),te(n)})}f.Tb=function(e){var t=this;return L(function(n){if(n.g==1)return t.A?(t.l=e,t.o.va(t.l,"play",function(){for(var r=w(t.L),i=r.next();!i.done;i=r.next())K1(t,i.value);t.R=!0,t.L=[]}),t.l.remote?(t.o.D(t.l.remote,"connect",function(){return Lp(t)}),t.o.D(t.l.remote,"connecting",function(){return Lp(t)}),t.o.D(t.l.remote,"disconnect",function(){return Lp(t)})):"webkitCurrentPlaybackTargetIsWireless"in t.l&&t.o.D(t.l,"webkitcurrentplaybacktargetiswirelesschanged",function(){return Lp(t)}),t.F=t.g&&t.g.initData.find(function(r){return 0<r.initData.length})||null,t.F||t.g.keySystem!=="com.apple.fps"||t.B.size?k(n,T5(t),2):n.u(2)):(t.o.va(e,"encrypted",function(){t.s(new $(2,6,6010))}),n.return());k5(t).catch(function(){}),t.F||t.B.size||t.h.parseInbandPsshEnabled||t.o.D(t.l,"encrypted",function(r){return M7(t,r)}),te(n)})};function _7(e){var t,n,r,i,o;return L(function(u){switch(u.g){case 1:if(!e.A||!e.g)return u.return();if(!e.g.serverCertificateUri||e.g.serverCertificate&&e.g.serverCertificate.length){u.u(2);break}return t=qn([e.g.serverCertificateUri],e.h.retryParameters),se(u,3),n=e.C.Nb.request(5,t,{isPreload:e.O()}),k(u,n.promise,5);case 5:r=u.h,e.g.serverCertificate=Ge(r.data),z(u,4);break;case 3:throw i=Y(u),new $(2,6,6017,i);case 4:if(e.j.g)return u.return();case 2:return!e.g.serverCertificate||!e.g.serverCertificate.length?u.return():(se(u,6),k(u,e.A.setServerCertificate(e.g.serverCertificate),8));case 8:z(u,0);break;case 6:throw o=Y(u),new $(2,6,6004,o.message)}})}function P7(e,t){var n,r,i;return L(function(o){if(o.g==1)return k(o,I5(e,t,{initData:null,initDataType:null}),2);if(o.g!=3)return n=o.h,n?(r=[],(i=e.i.get(n))&&(i.mb=new Yt,r.push(i.mb)),r.push(n.remove()),k(o,Promise.all(r),3)):o.return();e.i.delete(n),te(o)})}function k5(e){var t,n,r,i,o;return L(function(u){if(u.g==1)return e.B.size?(e.B.forEach(function(c,h){I5(e,h,c)}),k(u,e.m,3)):u.u(2);if(u.g!=2){if(t=e.g&&e.g.keyIds||new Set([]),0<t.size&&B7(e))return u.return(e.m);e.m=new Yt,e.m.catch(function(){})}for(n=(e.g?e.g.initData:[])||[],r=w(n),i=r.next();!i.done;i=r.next())o=i.value,Dp(e,o.initDataType,o.initData);return Rp(e)&&e.m.resolve(),u.return(e.m)})}function Dp(e,t,n){if(n.length){if(e.h.ignoreDuplicateInitData){var r=e.i.values();r=w(r);for(var i=r.next();!i.done;i=r.next())if(lt(n,i.value.initData))return;var o=!1;if(e.B.forEach(function(u){!o&&lt(n,u.initData)&&(o=!0)}),o)return}0<e.i.size&&Rp(e)&&(e.m.resolve(),e.m=new Yt,e.m.catch(function(){})),N7(e,t,n,e.g.sessionType)}}function E5(e){return e=e.i.keys(),e=$1(e,function(t){return t.sessionId}),Array.from(e)}f.ff=function(){var e=this,t=this.i.keys();return t=$1(t,function(n){var r=e.i.get(n);return{sessionId:n.sessionId,sessionType:r.type,initData:r.initData,initDataType:r.initDataType}}),Array.from(t)},f.dd=function(){var e=1/0,t=this.i.keys();t=w(t);for(var n=t.next();!n.done;n=t.next())n=n.value,isNaN(n.expiration)||(e=Math.min(e,n.expiration));return e},f.Kd=function(){return H1(this.ea)};function A5(e,t,n){var r,i,o,u,c,h,g;return L(function(v){switch(v.g){case 1:if(r=new Map,n.length){i=D7(e,n,r),v.u(2);break}return k(v,L7(e,t),3);case 3:i=v.h;case 2:if(o=i,!o)throw new $(2,6,6001);if(Qt(e.j),se(v,4),o.getConfiguration(),n.length){var b=o.keySystem,x=r.get(o.keySystem),S=[],T=[],A=[],C=[],M=[],_=new Set,O=new Set;P5(x,S,T,C,A,M,_,O);var P=e.M?"persistent-license":"temporary";for(b={keySystem:b,encryptionScheme:S[0],licenseServerUri:T[0],distinctiveIdentifierRequired:x[0].distinctiveIdentifierRequired,persistentStateRequired:x[0].persistentStateRequired,sessionType:x[0].sessionType||P,audioRobustness:x[0].audioRobustness||"",videoRobustness:x[0].videoRobustness||"",serverCertificate:C[0],serverCertificateUri:A[0],initData:M,keyIds:_},0<O.size&&(b.keySystemUris=O),x=w(x),O=x.next();!O.done;O=x.next())O=O.value,O.distinctiveIdentifierRequired&&(b.distinctiveIdentifierRequired=O.distinctiveIdentifierRequired),O.persistentStateRequired&&(b.persistentStateRequired=O.persistentStateRequired);x=b}else x=o.keySystem,O=t.get(o.keySystem),b=[],S=[],T=[],A=[],C=[],M=new Set,P5(O.drmInfos,b,S,A,T,C,M),x={keySystem:x,encryptionScheme:b[0],licenseServerUri:S[0],distinctiveIdentifierRequired:O.distinctiveIdentifier=="required",persistentStateRequired:O.persistentState=="required",sessionType:O.sessionTypes[0]||"temporary",audioRobustness:(O.audioCapabilities?O.audioCapabilities[0].robustness:"")||"",videoRobustness:(O.videoCapabilities?O.videoCapabilities[0].robustness:"")||"",serverCertificate:A[0],serverCertificateUri:T[0],initData:C,keyIds:M};if(e.g=x,!e.g.licenseServerUri)throw new $(2,6,6012,e.g.keySystem);return k(v,o.createMediaKeys(),6);case 6:if(u=v.h,Qt(e.j),e.A=u,!(e.h.minHdcpVersion!=""&&"getStatusForPolicy"in e.A)){v.u(7);break}return se(v,8),k(v,e.A.getStatusForPolicy({minHdcpVersion:e.h.minHdcpVersion}),10);case 10:if(c=v.h,c!="usable")throw new $(2,6,6018);Qt(e.j),z(v,7,4);break;case 8:throw h=Y(v,4),h instanceof $?h:new $(2,6,6019,h.message);case 7:return e.ca=!0,k(v,_7(e),11);case 11:Qt(e.j),z(v,0);break;case 4:throw g=Y(v),Qt(e.j,g),e.g=null,g instanceof $?g:new $(2,6,6002,g.message)}})}function D7(e,t,n){for(var r=w(t),i=r.next();!i.done;i=r.next()){i=w(_5(i.value));for(var o=i.next();!o.done;o=i.next())o=o.value,n.has(o.keySystem)||n.set(o.keySystem,[]),n.get(o.keySystem).push(o)}if(n.size==1&&n.has(""))throw new $(2,6,6e3);for(e=w(e.h.preferredKeySystems),i=e.next(),r={};!i.done;r={Qg:void 0},i=e.next())for(r.Qg=i.value,i=w(t),o=i.next();!o.done;o=i.next())if(o=o.value.decodingInfos.find(function(g){return function(v){return v.supported&&v.keySystemAccess!=null&&v.keySystemAccess.keySystem==g.Qg}}(r)))return o.keySystemAccess;for(e=w([!0,!1]),r=e.next();!r.done;r=e.next())for(r=r.value,i=w(t),o=i.next();!o.done;o=i.next()){o=w(o.value.decodingInfos);for(var u=o.next();!u.done;u=o.next())if(u=u.value,u.supported&&u.keySystemAccess){var c=n.get(u.keySystemAccess.keySystem);c=w(c);for(var h=c.next();!h.done;h=c.next())if(!!h.value.licenseServerUri==r)return u.keySystemAccess}}return null}function L7(e,t){var n,r,i,o,u,c,h,g,v,b,x,S,T,A,C,M;return L(function(_){switch(_.g){case 1:if(t.size==1&&t.has(""))throw new $(2,6,6e3);for(r=w(t.values()),i=r.next();!i.done;i=r.next())o=i.value,o.audioCapabilities.length==0&&delete o.audioCapabilities,o.videoCapabilities.length==0&&delete o.videoCapabilities;u=w(e.h.preferredKeySystems),c=u.next();case 2:if(c.done){_.u(4);break}if(h=c.value,!t.has(h)){_.u(3);break}return g=t.get(h),se(_,6),k(_,navigator.requestMediaKeySystemAccess(h,[g]),8);case 8:return n=_.h,_.return(n);case 6:Y(_);case 7:Qt(e.j);case 3:c=u.next(),_.u(2);break;case 4:v=w([!0,!1]),b=v.next();case 9:if(b.done){_.u(11);break}x=b.value,S=w(t.keys()),T=S.next();case 12:if(T.done){b=v.next(),_.u(9);break}if(A=T.value,C=t.get(A),M=C.drmInfos.some(function(O){return!!O.licenseServerUri}),M!=x){_.u(13);break}return se(_,15),k(_,navigator.requestMediaKeySystemAccess(A,[C]),17);case 17:return n=_.h,_.return(n);case 15:Y(_);case 16:Qt(e.j);case 13:T=S.next(),_.u(12);break;case 11:return _.return(n)}})}function R7(e){return e=Pp(e.h.clearKeys),e.size==0?null:N3(e)}function G1(e){Rp(e)&&e.m.resolve()}function C5(e,t){new mt(function(){t.loaded=!0,G1(e)}).Z(H7)}function I5(e,t,n){var r,i,o,u,c,h,g;return L(function(v){switch(v.g){case 1:try{r=e.A.createSession("persistent-license")}catch(b){return i=new $(2,6,6005,b.message),e.s(i),v.return(Promise.reject(i))}return e.o.D(r,"message",function(b){e.l&&e.h.delayLicenseRequestUntilPlayed&&e.l.paused&&!e.R?e.L.push(b):K1(e,b)}),e.o.D(r,"keystatuseschange",function(b){return M5(e,b)}),o={initData:n.initData,initDataType:n.initDataType,loaded:!1,Af:1/0,mb:null,type:"persistent-license"},e.i.set(r,o),se(v,2),k(v,r.load(t),4);case 4:return u=v.h,Qt(e.j),u||(e.i.delete(r),c=e.h.persistentSessionOnlinePlayback?1:2,e.s(new $(c,6,6013)),o.loaded=!0),C5(e,o),G1(e),v.return(r);case 2:h=Y(v),Qt(e.j,h),e.i.delete(r),g=e.h.persistentSessionOnlinePlayback?1:2,e.s(new $(g,6,6005,h.message)),o.loaded=!0,G1(e);case 3:return v.return(Promise.resolve())}})}function N7(e,t,n,r){try{var i=e.A.createSession(r)}catch(o){e.s(new $(2,6,6005,o.message));return}e.o.D(i,"message",function(o){e.l&&e.h.delayLicenseRequestUntilPlayed&&e.l.paused&&!e.R?e.L.push(o):K1(e,o)}),e.o.D(i,"keystatuseschange",function(o){return M5(e,o)}),e.i.set(i,{initData:n,initDataType:t,loaded:!1,Af:1/0,mb:null,type:r});try{n=e.h.initDataTransform(n,t,e.g)}catch(o){t=o,o instanceof $||(t=new $(2,6,6016,o)),e.s(t);return}e.h.logLicenseExchange&&Cu(n),i.generateRequest(t,n).catch(function(o){if(!e.j.g){e.i.delete(i);var u=o.errorCode;if(u&&u.systemCode){var c=u.systemCode;0>c&&(c+=Math.pow(2,32)),c="0x"+c.toString(16)}e.s(new $(2,6,6006,o.message,o,c))}})}function K1(e,t){var n,r,i,o,u,c,h,g,v,b,x,S,T,A;L(function(C){switch(C.g){case 1:if(n=t.target,e.h.logLicenseExchange&&Cu(t.message),r=e.i.get(n),i=e.g.licenseServerUri,o=e.h.advanced[e.g.keySystem],t.messageType=="individualization-request"&&o&&o.individualizationServer&&(i=o.individualizationServer),u=qn([i],e.h.retryParameters),u.body=t.message,u.method="POST",u.licenseRequestType=t.messageType,u.sessionId=n.sessionId,u.drmInfo=e.g,r&&(u.initData=r.initData,u.initDataType=r.initDataType),o&&o.headers)for(c in o.headers)u.headers[c]=o.headers[c];if(p1(e.g.keySystem)){var M=So(u.body,!0,!0);if(M.includes("PlayReadyKeyMessage")){M=Yl(M,"PlayReadyKeyMessage");var _=na(M,"HttpHeader");_=w(_);for(var O=_.next();!O.done;O=_.next()){var P=O.value;O=na(P,"name")[0],P=na(P,"value")[0],u.headers[Mn(O)]=Mn(P)}M=na(M,"Challenge")[0],u.body=Ri(Mn(M))}else u.headers["Content-Type"]="text/xml; charset=utf-8"}return h=Date.now(),se(C,2),v=e.C.Nb.request(2,u,{isPreload:e.O()}),k(C,v.promise,4);case 4:g=C.h,z(C,3);break;case 2:return b=Y(C),e.j.g||(x=new $(2,6,6007,b),e.i.size==1?(e.s(x),r&&r.mb&&r.mb.reject(x)):(r&&r.mb&&r.mb.reject(x),e.i.delete(n),Rp(e)&&(e.m.resolve(),e.K.Z(.1)))),C.return();case 3:return e.j.g?C.return():(e.H+=(Date.now()-h)/1e3,e.h.logLicenseExchange&&Cu(g.data),se(C,5),k(C,n.update(g.data),7));case 7:z(C,6);break;case 5:return S=Y(C),T=new $(2,6,6008,S.message),e.s(T),r&&r.mb&&r.mb.reject(T),C.return();case 6:if(e.j.g)return C.return();A=new Me("drmsessionupdate"),e.C.onEvent(A),r&&(r.mb&&r.mb.resolve(),C5(e,r)),te(C)}})}function M5(e,t){t=t.target;var n=e.i.get(t),r=!1;t.keyStatuses.forEach(function(o,u){if(typeof u=="string"){var c=u;u=o,o=c}if(p1(e.g.keySystem)&&u.byteLength==16&&(pp()||ea())){c=cr(u);var h=c.getUint32(0,!0),g=c.getUint16(4,!0),v=c.getUint16(6,!0);c.setUint32(0,h,!1),c.setUint16(4,g,!1),c.setUint16(6,v,!1)}o!="status-pending"&&(n.loaded=!0),o=="expired"&&(r=!0),u=Io(u).slice(0,32),e.X.set(u,o)});var i=t.expiration-Date.now();(0>i||r&&1e3>i)&&n&&!n.mb&&(e.i.delete(t),t.close().catch(function(){})),Rp(e)&&(e.m.resolve(),e.K.Z(q7))}function U7(e){var t=e.X,n=e.ea;n.clear(),t.forEach(function(r,i){return n.set(i,r)}),t=Array.from(n.values()),t.length&&t.every(function(r){return r=="expired"})&&e.s(new $(2,6,6014)),e.C.ce(H1(n))}function O7(){var e,t,n,r,i,o,u,c,h,g,v,b,x,S,T,A,C,M,_,O,P,j,V,B,H,W,G,ee;return L(function(re){if(re.g==1){for(e="org.w3.clearkey com.widevine.alpha com.microsoft.playready com.microsoft.playready.hardware com.microsoft.playready.recommendation com.chromecast.playready com.apple.fps.1_0 com.apple.fps".split(" "),t=["SW_SECURE_CRYPTO","SW_SECURE_DECODE","HW_SECURE_CRYPTO","HW_SECURE_DECODE","HW_SECURE_ALL"],n=["150","2000","3000"],r={"com.widevine.alpha":t,"com.microsoft.playready.recommendation":n},i=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],o=[{contentType:'audio/mp4; codecs="mp4a.40.2"'},{contentType:'audio/webm; codecs="opus"'}],u={videoCapabilities:i,audioCapabilities:o,initDataTypes:["cenc","sinf","skd","keyids"]},c=[null,"cenc","cbcs","cbcs-1-9"],h=new Map,g=function(ce,ae){var oe,he,ge,Oe,Je,Ne,st,Jt;return L(function(Zt){switch(Zt.g){case 1:return se(Zt,2),k(Zt,ae.createMediaKeys(),4);case 4:z(Zt,3);break;case 2:return Y(Zt),Zt.return();case 3:he=(oe=ae.getConfiguration().sessionTypes)?oe.includes("persistent-license"):!1,hp()&&(he=!1),ge=ae.getConfiguration().videoCapabilities,Oe=ae.getConfiguration().audioCapabilities,Je={persistentState:he,encryptionSchemes:[],videoRobustnessLevels:[],audioRobustnessLevels:[]},h.has(ce)&&h.get(ce)?Je=h.get(ce):h.set(ce,Je),(Ne=ge[0].encryptionScheme)&&!Je.encryptionSchemes.includes(Ne)&&Je.encryptionSchemes.push(Ne),(st=ge[0].robustness)&&!Je.videoRobustnessLevels.includes(st)&&Je.videoRobustnessLevels.push(st),(Jt=Oe[0].robustness)&&!Je.audioRobustnessLevels.includes(Jt)&&Je.audioRobustnessLevels.push(Jt),te(Zt)}})},v=function(ce,ae,oe,he){var ge,Oe,Je,Ne,st,Jt,Zt,wn,jt,Bt;return L(function(cn){switch(cn.g){case 1:for(se(cn,2),ge=Ga(u),Oe=w(ge.videoCapabilities),Je=Oe.next();!Je.done;Je=Oe.next())Ne=Je.value,Ne.encryptionScheme=ae,Ne.robustness=oe;for(st=w(ge.audioCapabilities),Jt=st.next();!Jt.done;Jt=st.next())Zt=Jt.value,Zt.encryptionScheme=ae,Zt.robustness=he;return wn=Ga(ge),wn.persistentState="required",wn.sessionTypes=["persistent-license"],jt=[wn,ge],k(cn,navigator.requestMediaKeySystemAccess(ce,jt),4);case 4:return Bt=cn.h,k(cn,g(ce,Bt),5);case 5:z(cn,0);break;case 2:Y(cn),te(cn)}})},b=function(ce,ae,oe,he){var ge,Oe,Je;return L(function(Ne){switch(Ne.g){case 1:return se(Ne,2),ge={type:"media-source",video:{contentType:i[0].contentType,width:640,height:480,bitrate:1,framerate:1},audio:{contentType:o[0].contentType,channels:2,bitrate:1,samplerate:1},keySystemConfiguration:{keySystem:ce,video:{encryptionScheme:ae,robustness:oe},audio:{encryptionScheme:ae,robustness:he}}},k(Ne,navigator.mediaCapabilities.decodingInfo(ge),4);case 4:return Oe=Ne.h,Je=Oe.keySystemAccess,k(Ne,g(ce,Je),5);case 5:z(Ne,0);break;case 2:Y(Ne),te(Ne)}})},x=w(e),S=x.next();!S.done;S=x.next())T=S.value,h.set(T,null);for(A=[],C=w(c),M=C.next();!M.done;M=C.next())for(_=M.value,O=w(e),P=O.next();!P.done;P=O.next())j=P.value,j==="org.w3.clearkey"&&Kl()||(A.push(v(j,_,"","")),A.push(b(j,_,"","")));for(V=w(e),B=V.next();!B.done;B=V.next())for(H=B.value,W=w(r[H]||[]),G=W.next();!G.done;G=W.next())ee=G.value,A.push(v(H,null,ee,"")),A.push(v(H,null,"",ee)),A.push(b(H,null,ee,"")),A.push(b(H,null,"",ee));return k(re,Promise.all(A),2)}return re.return(H1(h))})}function j7(e){var t;return L(function(n){if(n.g==1)return t=new Promise(function(r,i){new mt(i).Z($7)}),se(n,2),k(n,Promise.race([Promise.all([e.close(),e.closed]),t]),4);if(n.g!=2)return z(n,0);Y(n),te(n)})}function Lp(e){var t;return L(function(n){return t=Array.from(e.i.entries()),e.i.clear(),k(n,Promise.all(t.map(function(r){r=w(r);var i=r.next().value,o=r.next().value;return L(function(u){if(u.g==1)return se(u,2),e.fa||e.B.has(i.sessionId)||o.type!=="persistent-license"||e.h.persistentSessionOnlinePlayback?k(u,j7(i),5):k(u,i.remove(),5);if(u.g!=2)return z(u,0);Y(u),te(u)})})),0)})}function _5(e){return(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[])}function F7(e){e.i.forEach(function(t,n){var r=t.Af,i=n.expiration;isNaN(i)&&(i=1/0),i!=r&&(e.C.onExpirationUpdated(n.sessionId,i),t.Af=i)})}function Rp(e){return e=e.i.values(),k7(e,function(t){return t.loaded})}function B7(e){for(var t=w(e.g&&e.g.keyIds||new Set([])),n=t.next();!n.done;n=t.next())if(e.X.get(n.value)!=="usable")return!1;return!0}function V7(e,t){var n=[];for(t.forEach(function(r,i){n.push({keySystem:i,licenseServerUri:r,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",initData:[],keyIds:new Set})}),e=w(e),t=e.next();!t.done;t=e.next())t=t.value,t.video&&(t.video.drmInfos=n),t.audio&&(t.audio.drmInfos=n)}function P5(e,t,n,r,i,o,u,c){var h=[];e=w(e);for(var g=e.next(),v={};!g.done;v={ta:void 0},g=e.next()){if(v.ta=g.value,t.includes(v.ta.encryptionScheme)||t.push(v.ta.encryptionScheme),v.ta.keySystem=="org.w3.clearkey"&&v.ta.licenseServerUri.startsWith("data:application/json;base64,")?h.includes(v.ta.licenseServerUri)||h.push(v.ta.licenseServerUri):n.includes(v.ta.licenseServerUri)||n.push(v.ta.licenseServerUri),i.includes(v.ta.serverCertificateUri)||i.push(v.ta.serverCertificateUri),v.ta.serverCertificate&&(r.some(function(S){return function(T){return lt(T,S.ta.serverCertificate)}}(v))||r.push(v.ta.serverCertificate)),v.ta.initData){g=w(v.ta.initData);for(var b=g.next(),x={};!b.done;x={mf:void 0},b=g.next())x.mf=b.value,o.some(function(S){return function(T){var A=S.mf;return T.keyId&&T.keyId==A.keyId?!0:T.initDataType==A.initDataType&&lt(T.initData,A.initData)}}(x))||o.push(x.mf)}if(v.ta.keyIds)for(g=w(v.ta.keyIds),b=g.next();!b.done;b=g.next())u.add(b.value);if(v.ta.keySystemUris&&c)for(v=w(v.ta.keySystemUris),g=v.next();!g.done;g=v.next())c.add(g.value)}if(h.length==1)n.push(h[0]);else if(0<h.length){for(t=[],h=w(h),r=h.next();!r.done;r=h.next())r=d.atob(r.value.split("data:application/json;base64,").pop()),r=JSON.parse(r),t.push.apply(t,F(r.keys));h=JSON.stringify({keys:t}),n.push("data:application/json;base64,"+d.btoa(h))}}function z7(e,t,n,r){var i=e.keySystem;i&&(i!="org.w3.clearkey"||!e.licenseServerUri)&&(t.size&&(t=t.get(i)||"",e.licenseServerUri=t),e.keyIds||(e.keyIds=new Set),(n=n.get(i))&&(e.distinctiveIdentifierRequired||(e.distinctiveIdentifierRequired=n.distinctiveIdentifierRequired),e.persistentStateRequired||(e.persistentStateRequired=n.persistentStateRequired),e.videoRobustness||(e.videoRobustness=n.videoRobustness),e.audioRobustness||(e.audioRobustness=n.audioRobustness),e.serverCertificate||(e.serverCertificate=n.serverCertificate),n.sessionType&&(e.sessionType=n.sessionType),e.serverCertificateUri||(e.serverCertificateUri=n.serverCertificateUri)),r[i]&&(e.keySystem=r[i]),d.cast&&d.cast.__platform__&&i=="com.microsoft.playready"&&(e.keySystem="com.chromecast.playready"))}var $7=1,H7=5,q7=.5;/*
 @license
 Shaka Player
 Copyright 2023 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/function W1(e,t,n){this.h=e,this.i=t,this.g=n}function D5(e,t){return L(function(n){if(n.g==1)return k(n,e7(e.g,t,e.h.drm.preferredKeySystems),2);if(e.h.streaming.dontChooseCodecs||H3(t,e.h.preferredVideoCodecs,e.h.preferredAudioCodecs,e.h.preferredDecodingAttributes),!t.variants.some(Ip))throw new $(2,4,4032);return n.return(R5(e,t))})}function L5(e,t){var n=e.h.restrictions;e=e.i;var r=!1;t=w(t.variants);for(var i=t.next();!i.done;i=t.next()){i=i.value;var o=i.allowedByApplication;i.allowedByApplication=Og(i,n,e),o!=i.allowedByApplication&&(r=!0)}return r}function R5(e,t){var n=L5(e,t);if(t){var r=e.g?e.g.g:null;if(r&&e.g.A)for(var i=w(t.variants),o=i.next();!o.done;o=i.next())o=o.value,X1(e,r.keySystem,o.video),X1(e,r.keySystem,o.audio);N5(e,t)}return n}function X1(e,t,n){if(n){n=w(n.drmInfos);for(var r=n.next();!r.done;r=n.next())if(r=r.value,r.keySystem==t){r=w(r.initData||[]);for(var i=r.next();!i.done;i=r.next())i=i.value,Dp(e.g,i.initDataType,i.initData)}}}function N5(e,t){e=e.g?e.g.Kd():{};var n=Object.keys(e);n=n.length&&n[0]=="00";var r=!1,i=!1,o=new Set,u=new Set;t=w(t.variants);for(var c=t.next();!c.done;c=t.next()){c=c.value;var h=[];c.audio&&h.push(c.audio),c.video&&h.push(c.video),h=w(h);for(var g=h.next();!g.done;g=h.next())if(g=g.value,g.keyIds.size){g=w(g.keyIds);for(var v=g.next();!v.done;v=g.next()){v=v.value;var b=e[n?"00":v];b?U5.includes(b)&&u.add(b):o.add(v)}}c.allowedByApplication?c.allowedByKeySystem&&(r=!0):i=!0}if(!r)throw e={hasAppRestrictions:i,missingKeys:Array.from(o),restrictedKeyStatuses:Array.from(u)},new $(2,4,4012,e)}var U5=["output-restricted","internal-error"];function Np(){}function O5(e,t){if(t){var n=ia[t.toLowerCase()];if(n)return n}throw new $(2,4,4e3,e,t)}Ae("shaka.media.ManifestParser",Np),Np.unregisterParserByMime=function(e){delete ia[e]},Np.registerParserByMime=function(e,t){ia[e]=t},Np.registerParserByExtension=function(){At("ManifestParser.registerParserByExtension","Please use an ManifestParser with registerParserByMime function.")},Np.AccessibilityPurpose={ek:"visually impaired",wj:"hard of hearing"};var ia={};function G7(e,t){function n(){o=!0}function r(v){c.push(v),vt(v)}var i=e=Ge(e),o=!1,u,c=[],h=[];if(new nn().box("moov",r).box("trak",r).box("mdia",r).box("minf",r).box("stbl",r).S("stsd",function(v){u=v,c.push(v),Es(v)}).S("encv",n).S("enca",n).S("dvav",function(v){h.push({box:v,Qa:1701733238})}).S("dva1",function(v){h.push({box:v,Qa:1701733238})}).S("dvh1",function(v){h.push({box:v,Qa:1701733238})}).S("dvhe",function(v){h.push({box:v,Qa:1701733238})}).S("dvc1",function(v){h.push({box:v,Qa:1701733238})}).S("dvi1",function(v){h.push({box:v,Qa:1701733238})}).S("hev1",function(v){h.push({box:v,Qa:1701733238})}).S("hvc1",function(v){h.push({box:v,Qa:1701733238})}).S("avc1",function(v){h.push({box:v,Qa:1701733238})}).S("avc3",function(v){h.push({box:v,Qa:1701733238})}).S("ac-3",function(v){h.push({box:v,Qa:1701733217})}).S("ec-3",function(v){h.push({box:v,Qa:1701733217})}).S("ac-4",function(v){h.push({box:v,Qa:1701733217})}).S("mp4a",function(v){h.push({box:v,Qa:1701733217})}).parse(e),o)return e;if(h.length==0||!u)throw Io(e),new $(2,3,3019,t);h.reverse(),t=w(h);for(var g=t.next();!g.done;g=t.next())g=g.value,i=K7(i,u,g.box,c,g.Qa);return pp()&&g1()&&!Ca()?(t=new Uint8Array(e.byteLength+i.byteLength),t.set(i),t.set(e,i.byteLength),t):i}function K7(e,t,n,r,i){var o=W7.value(),u=e.subarray(n.start,n.start+n.size),c=cr(u),h=new Uint8Array(n.size+o.byteLength);for(h.set(u,0),u=cr(h),u.setUint32(4,i),h.set(o,n.size),i=c.getUint32(4),u.setUint32(n.size+16,i),j5(h,0,h.byteLength),i=new Uint8Array(e.byteLength+h.byteLength),n=Ca()||pp()?n.start:n.start+n.size,o=e.subarray(n),i.set(e.subarray(0,n)),i.set(h,n),i.set(o,n+h.byteLength),e=w(r),r=e.next();!r.done;r=e.next())r=r.value,j5(i,r.start,r.size+h.byteLength);return h=cr(i,t.start),t=dc(t),e=h.getUint32(t),h.setUint32(t,e+1),i}function j5(e,t,n){e=cr(e,t),t=e.getUint32(0),t!=0&&(t==1?(e.setUint32(8,n>>32),e.setUint32(12,n&4294967295)):e.setUint32(0,n))}var W7=new ql(function(){return new Uint8Array([0,0,0,80,115,105,110,102,0,0,0,12,102,114,109,97,0,0,0,0,0,0,0,20,115,99,104,109,0,0,0,0,99,101,110,99,0,1,0,0,0,0,0,40,115,99,104,105,0,0,0,32,116,101,110,99,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])});function Jr(e,t,n,r,i,o,u){this.N=e,this.Ha=t,this.ua=n,this.Nc=r===void 0?null:r,this.timescale=i===void 0?null:i,this.g=o===void 0?null:o,this.aesKey=u===void 0?null:u,this.mimeType=this.codecs=null}Jr.prototype.Zb=function(){return this.Ha},Jr.prototype.Xb=function(){return this.ua},Jr.prototype.oc=function(){return this.g};function Y1(e,t){return e===t?!0:e&&t?e.Zb()==t.Zb()&&e.Xb()==t.Xb()&&Li(e.N().sort(),t.N().sort())&&lt(e.oc(),t.oc()):e==t}Ae("shaka.media.InitSegmentReference",Jr),Jr.prototype.getEndByte=Jr.prototype.Xb,Jr.prototype.getStartByte=Jr.prototype.Zb;function Ye(e,t,n,r,i,o,u,c,h,g,v,b,x,S,T,A){for(g=g===void 0?[]:g,S=S===void 0?Do:S,this.startTime=e,this.j=this.endTime=t,this.F=n,this.Ha=r,this.ua=i,this.$=o,this.timestampOffset=u,this.appendWindowStart=c,this.appendWindowEnd=h,this.g=g,this.tilesLayout=v===void 0?"":v,this.B=b===void 0?null:b,this.h=x===void 0?null:x,this.status=S,this.preload=!1,this.l=!0,this.m=!1,this.aesKey=T===void 0?null:T,this.A=null,this.i=0,this.s=A===void 0?!1:A,this.G=this.o=!1,e=w(this.g),t=e.next();!t.done;t=e.next())t.value.Jg();this.s&&this.g.length&&this.g[this.g.length-1].Ig(),this.C=this.bandwidth=this.mimeType=this.codecs=null}f=Ye.prototype,f.N=function(){return this.F()},f.getStartTime=function(){return this.startTime},f.Mh=function(){return this.endTime},f.Zb=function(){return this.Ha},f.Xb=function(){return this.ua},f.ei=function(){return this.tilesLayout},f.di=function(){return this.B},f.$b=function(){return this.status},f.xi=function(){this.status=B5},f.xf=function(){this.preload=!0},f.isPreload=function(){return this.preload},f.Mc=function(){this.l=!1},f.oi=function(){return this.l},f.Jg=function(){this.o=!0},f.ri=function(){return this.o},f.Ig=function(){this.G=!0},f.pi=function(){return this.G},f.Hg=function(){this.m=!0},f.ki=function(){return this.m},f.eh=function(e){this.A=e},f.ci=function(){return this.A},f.offset=function(e){this.startTime+=e,this.endTime+=e,this.j+=e;for(var t=w(this.g),n=t.next();!n.done;n=t.next())n=n.value,n.startTime+=e,n.endTime+=e,n.j+=e},f.Vf=function(e){this.h==null?et("Sync attempted without sync time!"):(e=this.h-e-this.startTime,.001<=Math.abs(e)&&this.offset(e))},f.$i=function(e){this.C=e},f.oc=function(){return this.C};function F5(e,t){e.$=t,e=w(e.g);for(var n=e.next();!n.done;n=e.next())F5(n.value,t)}Ae("shaka.media.SegmentReference",Ye),Ye.prototype.getSegmentData=Ye.prototype.oc,Ye.prototype.setSegmentData=Ye.prototype.$i,Ye.prototype.syncAgainst=Ye.prototype.Vf,Ye.prototype.offset=Ye.prototype.offset,Ye.prototype.getThumbnailSprite=Ye.prototype.ci,Ye.prototype.setThumbnailSprite=Ye.prototype.eh,Ye.prototype.hasByterangeOptimization=Ye.prototype.ki,Ye.prototype.markAsByterangeOptimization=Ye.prototype.Hg,Ye.prototype.isLastPartial=Ye.prototype.pi,Ye.prototype.markAsLastPartial=Ye.prototype.Ig,Ye.prototype.isPartial=Ye.prototype.ri,Ye.prototype.markAsPartial=Ye.prototype.Jg,Ye.prototype.isIndependent=Ye.prototype.oi,Ye.prototype.markAsNonIndependent=Ye.prototype.Mc,Ye.prototype.isPreload=Ye.prototype.isPreload,Ye.prototype.markAsPreload=Ye.prototype.xf,Ye.prototype.markAsUnavailable=Ye.prototype.xi,Ye.prototype.getStatus=Ye.prototype.$b,Ye.prototype.getTileDuration=Ye.prototype.di,Ye.prototype.getTilesLayout=Ye.prototype.ei,Ye.prototype.getEndByte=Ye.prototype.Xb,Ye.prototype.getStartByte=Ye.prototype.Zb,Ye.prototype.getEndTime=Ye.prototype.Mh,Ye.prototype.getStartTime=Ye.prototype.getStartTime,Ye.prototype.getUris=Ye.prototype.N;var Do=0,B5=1;Ye.Status={ij:Do,ck:B5,Ej:2};function Up(e){return e.length==1&&1e-4>e.end(0)-e.start(0)}function Z1(e){return!e||Up(e)?null:e.length?e.end(e.length-1):null}function Q1(e,t){return!e||!e.length||Up(e)||t>e.end(e.length-1)?!1:t>=e.start(0)}function V5(e,t){if(!e||!e.length||Up(e))return 0;var n=0;e=w(As(e));for(var r=e.next();!r.done;r=e.next()){var i=r.value;r=i.start,i=i.end,i>t&&(n+=i-Math.max(r,t))}return n}function X7(e,t,n){return!e||!e.length||Up(e)?null:(e=As(e).findIndex(function(r,i,o){return r.start>t&&(i==0||o[i-1].end-t<=n)}),0<=e?e:null)}function As(e){if(!e)return[];for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}function J1(){}function z5(e,t){return t+10<=e.length&&e[t]===73&&e[t+1]===68&&e[t+2]===51&&255>e[t+3]&&255>e[t+4]&&128>e[t+6]&&128>e[t+7]&&128>e[t+8]&&128>e[t+9]}function $5(e,t){return t+10<=e.length&&e[t]===51&&e[t+1]===68&&e[t+2]===73&&255>e[t+3]&&255>e[t+4]&&128>e[t+6]&&128>e[t+7]&&128>e[t+8]&&128>e[t+9]}function eb(e,t){var n=(e[t]&127)<<21;return n|=(e[t+1]&127)<<14,n|=(e[t+2]&127)<<7,n|=e[t+3]&127}function Y7(e){var t={key:e.type,description:"",data:"",mimeType:null,pictureType:null};if(e.type==="APIC"){if(2>e.size||e.data[0]!==3)return null;var n=e.data.subarray(1).indexOf(0);if(n===-1)return null;var r=hn(Ge(e.data,1,n)),i=e.data[2+n],o=e.data.subarray(3+n).indexOf(0);if(o===-1)return null;var u=hn(Ge(e.data,3+n,o)),c;return r==="-->"?c=hn(Ge(e.data,4+n+o)):c=Vt(e.data.subarray(4+n+o)),t.mimeType=r,t.pictureType=i,t.description=u,t.data=c,t}return e.type==="TXXX"?2>e.size||e.data[0]!==3||(r=e.data.subarray(1).indexOf(0),r===-1)?null:(n=hn(Ge(e.data,1,r)),e=hn(Ge(e.data,2+r)).replace(/\0*$/,""),t.description=n,t.data=e,t):e.type==="WXXX"?2>e.size||e.data[0]!==3||(r=e.data.subarray(1).indexOf(0),r===-1)?null:(n=hn(Ge(e.data,1,r)),e=hn(Ge(e.data,2+r)).replace(/\0*$/,""),t.description=n,t.data=e,t):e.type==="PRIV"?2>e.size||(n=e.data.indexOf(0),n===-1)?null:(n=hn(Ge(e.data,0,n)),t.description=n,n=="com.apple.streaming.transportStreamTimestamp"?(n=e.data.subarray(n.length+1),e=n[3]&1,n=(n[4]<<23)+(n[5]<<15)+(n[6]<<7)+n[7],n/=45,e&&(n+=4772185884e-2),t.data=n):(e=Vt(e.data.subarray(n.length+1)),t.data=e),t):e.type[0]==="T"?2>e.size||e.data[0]!==3?null:(e=hn(e.data.subarray(1)).replace(/\0*$/,""),t.data=e,t):e.type[0]==="W"?(e=hn(e.data).replace(/\0*$/,""),t.data=e,t):e.data?(t.data=Vt(e.data),t):null}function Ru(e){for(var t=0,n=[];z5(e,t);){var r=eb(e,t+6);for(e[t+5]>>6&1&&(t+=10),t+=10,r=t+r;t+10<r;){var i=e.subarray(t),o=eb(i,4);i={type:String.fromCharCode(i[0],i[1],i[2],i[3]),size:o,data:i.subarray(10,10+o)},(o=Y7(i))&&n.push(o),t+=i.size+10}$5(e,t)&&(t+=10)}return n}function pc(e,t){for(var n=t=t===void 0?0:t,r=0;z5(e,t);)e[t+5]>>6&1&&(r+=10),r+=10,r+=eb(e,t+6),$5(e,t+10)&&(r+=10),t+=r;return 0<r?e.subarray(n,n+r):new Uint8Array([])}Ae("shaka.util.Id3Utils",J1),J1.getID3Data=pc,J1.getID3Frames=Ru;function H5(e,t){var n=null,r=null,i=null,o=e.P();return t&1&&(i=e.Sc()),t&2&&e.skip(4),t&8&&(n=e.P()),t&16&&(r=e.P()),{trackId:o,bd:n,Hd:r,gk:i}}function Kg(e,t){return t==1?(t=e.P(),e=e.P(),{baseMediaDecodeTime:t*Math.pow(2,32)+e}):{baseMediaDecodeTime:e.P()}}function Wg(e,t){return t==1?(e.skip(8),e.skip(8)):(e.skip(4),e.skip(4)),t=e.P(),e.skip(4),e=e.ma(),{timescale:t,language:String.fromCharCode((e>>10)+96)+String.fromCharCode(((e&960)>>5)+96)+String.fromCharCode((e&31)+96)}}function q5(e,t,n){var r=e.P(),i=[],o=null;n&1&&(o=e.P()),n&4&&e.skip(4);for(var u=0;u<r;u++){var c={Lf:null,sampleSize:null,le:null};n&256&&(c.Lf=e.P()),n&512&&(c.sampleSize=e.P()),n&1024&&e.skip(4),n&2048&&(c.le=t==0?e.P():e.Rg()),i.push(c)}return{kk:r,Vg:i,Fh:o}}function G5(e){e.skip(6),e.skip(2),e.skip(8);var t=e.ma();return e.skip(2),e.skip(2),e.skip(2),e=e.ma()+e.ma()/65536,{channelCount:t,sampleRate:e}}function K5(e){return e=e.P(),{codec:Hg(e)}}function Z7(e){var t=null,n=null,r=e.ub(4),i=String.fromCharCode(r[0]);if(i+=String.fromCharCode(r[1]),i+=String.fromCharCode(r[2]),i+=String.fromCharCode(r[3]),i==="nclx"){switch(e.ma()){case 1:case 5:case 6:case 7:t="srgb";break;case 9:t="rec2020";break;case 11:case 12:t="p3"}switch(r=e.ma(),e.ma(),r){case 1:case 6:case 13:case 14:case 15:n="SDR";break;case 16:n="PQ";break;case 18:n="HLG"}}return{colorGamut:t,xd:n}}function Op(e,t){return t=t===void 0?!1:t,e=e.toString(16).toUpperCase(),t?e:("0"+e).slice(-2)}function ei(e){return(10>e?"0":"")+e}function Lo(e,t){if(this.j=e,t!==void 0&&t){t=new Uint8Array(e.byteLength);for(var n=0,r=0;r<e.byteLength;r++)2<=r&&e[r]==3&&e[r-1]==0&&e[r-2]==0||(t[n]=e[r],n++);this.j=Ge(t,0,n)}this.i=this.j.byteLength,this.g=this.h=0}function tb(e){var t=e.j.byteLength-e.i,n=new Uint8Array(4),r=Math.min(4,e.i);r!==0&&(n.set(e.j.subarray(t,t+r)),e.h=new tn(n,0).P(),e.g=8*r,e.i-=r)}function ti(e,t){if(e.g<=t){t-=e.g;var n=Math.floor(t/8);t-=8*n,e.g-=n,tb(e)}e.h<<=t,e.g-=t}function wt(e,t){var n=Math.min(e.g,t),r=e.h>>>32-n;return e.g-=n,0<e.g?e.h<<=n:0<e.i&&tb(e),n=t-n,0<n?r<<n|wt(e,n):r}function nb(e){var t;for(t=0;t<e.g;++t)if(e.h&2147483648>>>t)return e.h<<=t,e.g-=t,t;return tb(e),t+nb(e)}function Fr(e){ti(e,1+nb(e))}function Pe(e){var t=nb(e);return wt(e,t+1)-1}function hc(e){return e=Pe(e),1&e?1+e>>>1:-1*(e>>>1)}function He(e){return wt(e,1)===1}function Ot(e){return wt(e,8)}function Xg(e,t){for(var n=8,r=8,i=0;i<t;i++)r!==0&&(r=hc(e),r=(n+r+256)%256),n=r===0?n:r}function Q7(e){return Ot(e),Pe(e),Pe(e)}Ae("shaka.util.ExpGolomb",Lo);function sn(){this.G=null,this.H=!1,this.m=this.I=null,this.j=[],this.g=[],this.A=this.B=null,this.i=[],this.h=[],this.C=null,this.l=[],this.F=this.o=this.s=null}f=sn.prototype,f.clearData=function(){this.j=[],this.g=[],this.i=[],this.h=[],this.l=[]},f.parse=function(e){if(564>e.length)return this;for(var t=Math.max(0,ib(e)),n=e.length-(e.length+t)%188,r=!1,i=t;i<n;i+=188)if(e[i]==71){var o=!!(e[i+1]&64),u=((e[i+1]&31)<<8)+e[i+2];if(1<(e[i+3]&48)>>4){var c=i+5+e[i+4];if(c==i+188)continue}else c=i+4;switch(u){case 0:o&&(c+=e[c]+1),this.G=(e[c+10]&31)<<8|e[c+11];break;case 17:case 8191:break;case this.G:o&&(c+=e[c]+1),o=e,u={audio:-1,video:-1,Pd:-1,audioCodec:"",videoCodec:""};var h=c+3+((o[c+1]&15)<<8|o[c+2])-4;for(c+=12+((o[c+10]&15)<<8|o[c+11]);c<h;){var g=(o[c+1]&31)<<8|o[c+2],v=(o[c+3]&15)<<8|o[c+4];switch(o[c]){case 6:if(0<v)for(var b=c+5,x=v;2<x;){var S=o[b+1]+2;switch(o[b]){case 5:var T=b1(o.subarray(b+2,b+S));u.audio==-1&&T==="Opus"?(u.audio=g,u.audioCodec="opus"):u.video==-1&&T==="AV01"&&(u.video=g,u.videoCodec="av1");break;case 106:u.audio==-1&&(u.audio=g,u.audioCodec="ac3");break;case 122:u.audio==-1&&(u.audio=g,u.audioCodec="ec3");break;case 124:u.audio==-1&&(u.audio=g,u.audioCodec="aac");break;case 127:u.audioCodec=="opus"&&(T=null,o[b+2]===128&&(T=o[b+3]),T!=null&&(this.F={channelCount:T&15?T&15:2,Ch:T,sampleRate:48e3}))}b+=S,x-=S}break;case 15:u.audio==-1&&(u.audio=g,u.audioCodec="aac");break;case 17:u.audio==-1&&(u.audio=g,u.audioCodec="aac-loas");break;case 21:u.Pd==-1&&(u.Pd=g);break;case 27:u.video==-1&&(u.video=g,u.videoCodec="avc");break;case 3:case 4:u.audio==-1&&(u.audio=g,u.audioCodec="mp3");break;case 36:u.video==-1&&(u.video=g,u.videoCodec="hvc");break;case 129:u.audio==-1&&(u.audio=g,u.audioCodec="ac3");break;case 132:case 135:u.audio==-1&&(u.audio=g,u.audioCodec="ec3")}c+=v+5}o=u,o.video!=-1&&(this.I=o.video,this.m=o.videoCodec),o.audio!=-1&&(this.B=o.audio,this.A=o.audioCodec),o.Pd!=-1&&(this.C=o.Pd),r&&!this.H&&(r=!1,i=t-188),this.H=!0;break;case this.I:c=e.subarray(c,i+188),o?this.j.push([c]):this.j.length&&this.j[this.j.length-1]&&this.j[this.j.length-1].push(c);break;case this.B:c=e.subarray(c,i+188),o?this.i.push([c]):this.i.length&&this.i[this.i.length-1]&&this.i[this.i.length-1].push(c);break;case this.C:c=e.subarray(c,i+188),o?this.l.push([c]):this.l.length&&this.l[this.l.length-1]&&this.l[this.l.length-1].push(c);break;default:r=!0}}return this};function rb(e,t){if((t[0]<<16|t[1]<<8|t[2])!==1)return null;var n={data:new Uint8Array(0),packetLength:t[4]<<8|t[5],pts:null,dts:null,nalus:[]};if(n.packetLength&&n.packetLength>t.byteLength-6)return null;var r=t[7];if(r&192){var i=536870912*(t[9]&14)+4194304*(t[10]&255)+16384*(t[11]&254)+128*(t[12]&255)+(t[13]&254)/2;e.s==null&&(e.s=i),n.pts=X5(i,e.s),e.s=n.pts,n.dts=n.pts,r&64&&(r=536870912*(t[14]&14)+4194304*(t[15]&255)+16384*(t[16]&254)+128*(t[17]&255)+(t[18]&254)/2,e.o==null&&(e.o=r),n.dts=X5(r,e.o)),e.o=n.dts}return e=t[8]+9,t.byteLength<=e?null:(n.data=t.subarray(e),n)}f.Di=function(e){return At("TsParser.parseAvcNalus","Please use parseNalus function instead."),this.Df(e)},f.Df=function(e,t,n){var r=e.pts?e.pts/9e4:null;e=e.data;var i=e.byteLength,o=1;this.m=="hvc"&&(o=2);for(var u=n||0,c=[],h=-1,g=0,v,b=0;b<i;++b){var x=e[b];if(x){if(2<=u&&x==1){if(t&&!c.length&&h==-1&&(x=b-(3<u?3:u),n&&x!=0&&(x=e.subarray(0,x),t.data=An(t.data,x),t.fullData=An(t.fullData,x))),0<=h?(u=b-((3<u?3:u)+1),c.push({data:e.subarray(h+o,u+1),fullData:e.subarray(h,u+1),type:g,time:r})):t&&!c.length&&(h=b-u,0<h&&(h=e.subarray(0,h),t.data=An(t.data,h),t.fullData=An(t.fullData,h))),b>=i-o)return c;b++,h=b,g=this.m=="hvc"?e[b]>>1&63:e[b]&31}u=0}else u++;b>=i-1&&0<=h&&0<=u&&(v={data:e.subarray(h+o,i),fullData:e.subarray(h,i),type:g,time:r})}return v&&c.push(v),!c.length&&t&&(t.data=An(t.data,e),t.fullData=An(t.fullData,e)),c},f.getMetadata=function(){for(var e=[],t=w(this.l),n=t.next();!n.done;n=t.next())n=An.apply(Ir,F(n.value)),(n=rb(this,n))&&e.push({cueTime:n.pts?n.pts/9e4:null,data:n.data,frames:Ru(n.data),dts:n.dts,pts:n.pts});return e},f.Wb=function(){if(this.i.length&&!this.h.length){for(var e=!1,t=w(this.i),n=t.next();!n.done;n=t.next()){var r=An.apply(Ir,F(n.value)),i=rb(this,r);n=this.h.length?this.h[this.h.length-1]:null,i&&i.pts!=null&&i.dts!=null&&(!n||n.pts!=i.pts&&n.dts!=i.dts)?(this.h.length&&i.dts<(n.dts||0)&&(e=!0),this.h.push(i)):this.h.length&&(r=i?i.data:r)&&(n=this.h.pop(),n.data=An(n.data,r),this.h.push(n))}e&&(this.h=this.h.sort(function(o,u){var c=(o.pts||0)-(u.pts||0);return(o.dts||0)-(u.dts||0)||c}))}return this.h},f.qc=function(e){if(e=e===void 0?!0:e,this.j.length&&!this.g.length){for(var t=!1,n=w(this.j),r=n.next();!r.done;r=n.next()){var i=An.apply(Ir,F(r.value)),o=rb(this,i);r=this.g.length?this.g[this.g.length-1]:null,o&&o.pts!=null&&o.dts!=null&&(!r||r.pts!=o.pts&&r.dts!=o.dts)?(this.g.length&&o.dts<(r.dts||0)&&(t=!0),this.g.push(o)):this.g.length&&(i=o?o.data:i)&&(r=this.g.pop(),r.data=An(r.data,i),this.g.push(r))}if(e){for(n=[],r=w(this.g),i=r.next();!i.done;i=r.next())if(i=i.value,i.nalus=this.Df(i,u,void 0),i.nalus.length){n.push(i);var u=i.nalus[i.nalus.length-1]}this.g=n}t&&(this.g=this.g.sort(function(c,h){var g=(c.pts||0)-(h.pts||0);return(c.dts||0)-(h.dts||0)||g}))}return e?this.g:(e=this.g,this.g=[],e)},f.getStartTime=function(e){if(e=="audio"){e=null;var t=this.Wb();return t.length&&(e=t[0],e=Math.min(e.dts,e.pts)/9e4),e}return e=="video"?(e=null,t=this.qc(!1),t.length&&(e=t[0],e=Math.min(e.dts,e.pts)/9e4),e):null},f.cd=function(){return{audio:this.A,video:this.m}},f.Nd=function(){for(var e=[],t=w(this.qc()),n=t.next();!n.done;n=t.next())e.push.apply(e,F(n.value.nalus));return e},f.hi=function(){At("TsParser.getVideoResolution","Please use getVideoInfo function instead.");var e=this.kf();return{height:e.height,width:e.width}},f.kf=function(){return this.m=="hvc"?eR(this):J7(this)};function W5(e){var t=e.qc();return 1<t.length&&(e=t[0].pts,t=t[1].pts,!isNaN(t-e))?String(1/(t-e)*9e4):null}function J7(e){var t={height:null,width:null,codec:null,frameRate:null},n=e.Nd();if(!n.length||(n=n.find(function(S){return S.type==7}),!n))return t;n=new Lo(n.data);var r=Ot(n),i=Ot(n),o=Ot(n);if(Fr(n),tR.includes(r)){var u=Pe(n);if(u===3&&ti(n,1),Fr(n),Fr(n),ti(n,1),He(n)){u=u!==3?8:12;for(var c=0;c<u;c++)He(n)&&(6>c?Xg(n,16):Xg(n,64))}}if(Fr(n),u=Pe(n),u===0)Pe(n);else if(u===1)for(ti(n,1),Fr(n),Fr(n),u=Pe(n),c=0;c<u;c++)Fr(n);Fr(n),ti(n,1),u=Pe(n),c=Pe(n);var h=wt(n,1);h===0&&ti(n,1),ti(n,1);var g=0,v=0,b=0,x=0;return He(n)&&(g=Pe(n),v=Pe(n),b=Pe(n),x=Pe(n)),t.height=String((2-h)*(c+1)*16-2*b-2*x),t.width=String(16*(u+1)-2*g-2*v),t.codec="avc1."+("0"+r.toString(16).toUpperCase()).slice(-2)+("0"+i.toString(16).toUpperCase()).slice(-2)+("0"+o.toString(16).toUpperCase()).slice(-2),t.frameRate=W5(e),t}function eR(e){var t={height:null,width:null,codec:null,frameRate:null},n=e.Nd();if(!n.length||(n=n.find(function(j){return j.type==33}),!n))return t;var r=new Lo(n.fullData,!0);Ot(r),Ot(r),wt(r,4);var i=wt(r,3);He(r);var o=wt(r,2),u=wt(r,1),c=wt(r,5),h=wt(r,32);n=Ot(r);for(var g=Ot(r),v=Ot(r),b=Ot(r),x=Ot(r),S=Ot(r),T=Ot(r),A=[],C=[],M=0;M<i;M++)A.push(He(r)),C.push(He(r));if(0<i)for(M=i;8>M;M++)wt(r,2);for(M=0;M<i;M++)A[M]&&wt(r,88),C[M]&&Ot(r);Pe(r),i=Pe(r),i==3&&wt(r,1),A=Pe(r),C=Pe(r);var _=M=0,O=0,P=0;return He(r)&&(M+=Pe(r),_+=Pe(r),O+=Pe(r),P+=Pe(r)),t.width=String(A-(M+_)*(i===1||i===2?2:1)),t.height=String(C-(O+P)*(i===1?2:1)),r=function(j){for(var V=0,B=0;32>B;B++)V|=(j>>B&1)<<31-B;return V>>>0}(h),u=u==1?"H":"L",o="hvc1"+("."+["","A","B","C"][o]+c),o+="."+r.toString(16).toUpperCase(),o+="."+u+T,S&&(o+="."+S.toString(16).toUpperCase()),x&&(o+="."+x.toString(16).toUpperCase()),b&&(o+="."+b.toString(16).toUpperCase()),v&&(o+="."+v.toString(16).toUpperCase()),g&&(o+="."+g.toString(16).toUpperCase()),n&&(o+="."+n.toString(16).toUpperCase()),t.codec=o,t.frameRate=W5(e),t}function X5(e,t){var n=1;for(e>t&&(n=-1);4294967296<Math.abs(t-e);)e+=8589934592*n;return e}function jp(e){return!(0>ib(e))}function ib(e){for(var t=Math.min(1e3,e.length-564),n=0;n<t;){if(e[n]==71&&e[n+188]==71&&e[n+376]==71)return n;n++}return-1}Ae("shaka.util.TsParser",sn),sn.syncOffset=ib,sn.probe=jp,sn.prototype.getVideoInfo=sn.prototype.kf,sn.prototype.getVideoResolution=sn.prototype.hi,sn.prototype.getVideoNalus=sn.prototype.Nd,sn.prototype.getCodecs=sn.prototype.cd,sn.prototype.getStartTime=sn.prototype.getStartTime,sn.prototype.getVideoData=sn.prototype.qc,sn.prototype.getAudioData=sn.prototype.Wb,sn.prototype.getMetadata=sn.prototype.getMetadata,sn.prototype.parseNalus=sn.prototype.Df,sn.prototype.parseAvcNalus=sn.prototype.Di,sn.prototype.parse=sn.prototype.parse,sn.prototype.clearData=sn.prototype.clearData,sn.Timescale=9e4;var tR=[100,110,122,244,44,83,86,118,128,138,139,134];function Fp(e,t,n){this.g=null,this.o=-1,this.l=e,this.i=t,this.m=n,this.j=!1;e:{if(typeof libDPIModule>"u"&&ze("Could not find LCEVC Library dependencies on this page"),typeof LCEVCdec<"u")this.h=LCEVCdec;else if(typeof LcevcDil<"u")this.h=LcevcDil,this.j=!0,At("LcevcDil","lcevc_dil.js is deprecated, please use lcevc_dec.js instead");else{ze("Could not find LCEVC Library on this page"),e=!1;break e}typeof this.h.SupportObject>"u"?(ze("Could not find LCEVC Library on this page"),e=!1):(this.h.SupportObject.SupportStatus||ze(this.h.SupportObject.SupportError),e=typeof this.h<"u"&&typeof libDPIModule<"u"&&this.i instanceof HTMLCanvasElement&&this.h.SupportObject.SupportStatus)}e&&!this.g&&this.h.SupportObject.webGLSupport(this.i)&&(this.i.classList.remove("shaka-hidden"),this.g=this.j?new this.h.LcevcDil(this.l,this.i,this.m):new this.h.LCEVCdec(this.l,this.i,this.m))}function Y5(e){e.g&&e.i.classList.add("shaka-hidden")}Fp.prototype.release=function(){this.g&&(this.g.close(),this.g=null)};function Z5(e,t,n){var r=0,i=-1;switch(t.mimeType){case"video/webm":r=1;break;case"video/mp4":r=2}switch(n){case"DASH":i=1;break;case"HLS":i=0}e.g&&(e.o=t.id,e.g.setLevelSwitching(t.id,!0),e.g.setContainerFormat(r),e.j||e.g.setStreamingFormat(i))}Ae("shaka.lcevc.Dec",Fp),Fp.prototype.release=Fp.prototype.release;function Q5(e,t,n,r){var i=this;this.j=e,this.X=n,this.A=null,this.aa=t,this.h={},this.C={},this.Ea={},this.g=null,this.fa=!1,this.O=r||null,this.l={},this.s=new ke,this.i={},this.F=null,this.H=new Yt,this.sa="",this.Fa=!1,this.m=J5(this,this.H),this.I=!1,this.G=new lc(function(){return rR(i)}),this.B=!1,this.R="UNKNOWN",this.za=this.Da=!1,this.ra=new Yt,this.o=!1,this.ea=!0,this.ca=null,this.K={},this.la=this.L=this.oa=this.M=null,this.ja=new Yt}function J5(e,t){if(e.ea=!0,d.ManagedMediaSource){e.j.disableRemotePlayback=!0;var n=new ManagedMediaSource;e.s.D(n,"startstreaming",function(){e.ea=!0}),e.s.D(n,"endstreaming",function(){e.ea=!1})}else n=new MediaSource;return e.s.va(n,"sourceopen",function(){URL.revokeObjectURL(e.sa),t.resolve()}),e.s.va(e.j,"playing",function(){e.Fa=!0}),e.sa=ub(n),e.j.src=e.sa,n}function nR(e,t){var n,r,i,o,u,c,h,g,v,b,x;return L(function(S){if(S.g==1)return e.createSegmentIndex?k(S,e.createSegmentIndex(),2):S.u(2);if(!e.segmentIndex)return S.return(!1);if(e.segmentIndex.getNumReferences()==0)return S.return(!0);for(n=Nn,r=new Set,i=w(e.segmentIndex),o=i.next();!o.done;o=i.next())if(u=o.value,c=u.mimeType||e.mimeType||"",h=u.codecs||e.codecs||"",g=c+":"+h,!r.has(g)){if(r.add(g),t==n.wa){if(v=Un(c,h),!Ep(v))return S.return(!1)}else if(t==n.ka?h=Cp(h):t==n.Y&&(h=rc(h,c)),b=GL(e,c,h),x=_u(c,h),!ct(b)&&!ws(x))return S.return(!1)}return S.return(!0)})}f=Q5.prototype,f.destroy=function(){return this.G.destroy()};function rR(e){var t,n,r,i,o,u,c,h;return L(function(g){if(g.g==1){t=[];for(n in e.l)for(r=e.l[n],i=r[0],e.l[n]=r.slice(0,1),i&&t.push(i.p.catch(V3)),o=w(r.slice(1)),u=o.next();!u.done;u=o.next())c=u.value,c.p.reject(new $(2,7,7003,void 0));e.g&&t.push(e.g.destroy());for(h in e.i)t.push(e.i[h].destroy());return k(g,Promise.all(t),2)}e.s&&(e.s.release(),e.s=null),e.j&&(e.j.removeAttribute("src"),e.j.load(),e.j=null),e.A=null,e.m=null,e.g=null,e.aa=null,e.h={},e.i={},e.F=null,e.l={},e.O=null,e.K={},e.X=null,te(g)})}f.init=function(e,t,n,r){t=t===void 0?!1:t,n=n===void 0?"UNKNOWN":n,r=r===void 0?!1:r;var i=this,o,u,c,h,g;return L(function(v){switch(v.g){case 1:return o=Nn,k(v,i.H,2);case 2:i.B=t,i.R=n,i.Da=r,i.za=!i.B&&i.R=="HLS"&&!i.Da,i.K={},u=w(e.keys()),c=u.next();case 3:if(c.done){v.u(0);break}return h=c.value,g=e.get(h),k(v,Yg(i,h,g,g.codecs),6);case 6:i.o?(i.l[o.Y]=[],i.l[o.ka]=[]):i.l[h]=[],c=u.next(),v.u(3)}})};function Yg(e,t,n,r){var i,o,u,c,h,g,v,b,x,S,T,A;return L(function(C){switch(C.g){case 1:return i=Nn,o=Sn,u=Wn,k(C,nR(n,t),2);case 2:if(u.call(o,C.h,"Type negotiation should happen before MediaSourceEngine.init!"),c=Un(n.mimeType,r),t==i.wa){Zg(e,c,e.B,n.external),C.u(0);break}if(h=e.A.forceTransmux,(!ct(c)||!e.B&&Ts.includes(c))&&(h=!0),g=_u(n.mimeType,r),!h){C.u(4);break}if(v=Zr(i.Y,(r||"").split(",")),b=Zr(i.ka,(r||"").split(",")),!v||!b){C.u(5);break}return e.o=!0,k(C,Yg(e,i.Y,n,v),6);case 6:return k(C,Yg(e,i.ka,n,b),7);case 7:return C.return();case 5:(x=ws(g))&&(S=x(),e.i[t]=S,c=S.convertCodecs(t,g));case 4:T=c+e.A.addExtraFeaturesToSourceBuffer(c),Qt(e.G);try{A=e.m.addSourceBuffer(T)}catch(M){throw new $(2,3,3015,M,"The mediaSource_ status was "+e.m.readyState+" expected 'open'",null)}e.B&&(A.mode=gR),e.s.D(A,"error",function(){var M=e.l[t][0];M.p.reject(new $(2,3,3014,e.j.error?e.j.error.code:0,M.uri))}),e.s.D(A,"updateend",function(){return Ro(e,t)}),e.h[t]=A,e.C[t]=c,e.Ea[t]=!!n.drmInfos.length,te(C)}})}f.configure=function(e){this.A=e,this.g&&(this.g.A=e.modifyCueCallback)};function Zg(e,t,n,r){e.g||(e.g=new Mo(e.aa),e.g&&(e.g.A=e.A.modifyCueCallback));var i=e.g;r=r||e.fa,e=e.R,t=="application/cea-608"||t=="application/cea-708"?i.i=null:(i.i=(0,_n[t])(),i.i.setSequenceMode?i.i.setSequenceMode(n):At("Text parsers w/ setSequenceMode",'Text parsers should have a "setSequenceMode" method!'),i.i.setManifestType?i.i.setManifestType(e):At("Text parsers w/ setManifestType",'Text parsers should have a "setManifestType" method!'),i.B=r)}function e4(e){return e.I?!1:e.m?e.m.readyState=="ended":!0}function ab(e,t){return Object.keys(e.h).length?t==bt?e=e.g.g:(e=fc(e,t),e=!e||Up(e)?null:e.length==1&&0>e.start(0)?0:e.length?e.start(0):null):e=null,e}function Bp(e,t){return Object.keys(e.h).length?t==bt?e.g.h:Z1(fc(e,t)):null}function iR(e,t,n){return t==bt?(e=e.g,e.h==null||e.h<n?0:e.h-Math.max(n,e.g)):(e=fc(e,t),V5(e,n))}f.zb=function(){var e={total:this.I?[]:As(this.j.buffered),audio:As(fc(this,"audio")),video:As(fc(this,"video")),text:[]};if(this.g){var t=this.g.g,n=this.g.h;t!=null&&n!=null&&e.text.push({start:t,end:n})}return e};function fc(e,t){if(e.I)return null;try{return e.h[t].buffered}catch{return null}}function aR(e,t,n,r,i){var o=null,u=[],c=Ge(n);if(Ts.includes(i))t=Ru(c),t.length&&r&&((n=t.find(function(b){return b.description==="com.apple.streaming.transportStreamTimestamp"}))&&n.data&&(o=Math.round(n.data)/1e3),e.X.onMetadata([{cueTime:r.startTime,data:c,frames:t,dts:r.startTime,pts:r.startTime}],0,r.endTime));else if(i.includes("/mp4")&&r&&r.timestampOffset==0&&r.$&&r.$.timescale){var h=r.$.timescale;if(!isNaN(h)){var g=0,v=!1;new nn().box("moof",vt).box("traf",vt).S("tfdt",function(b){g=Kg(b.reader,b.version).baseMediaDecodeTime/h,v=!0,b.parser.stop()}).parse(n,!0),v&&(o=g)}}else i.includes("/mp4")||i.includes("/webm")||!jp(c)||(e.K[t]?e.K[t].clearData():e.K[t]=new sn,e=e.K[t].parse(c),r=e.getStartTime(t),r!=null&&(o=r),u=e.getMetadata());return{timestamp:o,metadata:u}}function Qg(e,t,n,r,i,o,u,c,h,g){u=u===void 0?!1:u,c=c===void 0?!1:c,h=h===void 0?!1:h,g=g===void 0?!1:g;var v,b,x,S,T,A,C,M,_,O,P,j,V,B,H,W;return L(function(G){switch(G.g){case 1:if(v=Nn,t!=v.wa){G.u(2);break}if(!e.B){G.u(3);break}return k(G,e.ra,4);case 4:b=G.h,e.g.s=b;case 3:return k(G,WL(e.g,n,r?r.startTime:null,r?r.endTime:null,r?r.N()[0]:null),5);case 5:return G.return();case 2:if(g||!e.o){G.u(6);break}return k(G,Qg(e,v.Y,n,r,i,o,u,c,h,!0),7);case 7:return k(G,Qg(e,v.ka,n,r,i,o,u,c,h,!0),8);case 8:return G.return();case 6:if(!e.h[t])return G.return();if(x=e.h[t].timestampOffset,S=e.C[t],e.i[t]&&(S=e.i[t].getOriginalMimeType()),r&&(T=aR(e,t,n,r,S),A=T.timestamp,C=T.metadata,A!=null&&(e.M==null&&t==v.ka&&(e.M=A,e.oa=r.startTime,e.L!=null&&(M=0,e.oa==e.la&&(M=e.M-e.L),e.ja.resolve(M))),e.L==null&&t==v.Y&&(e.L=A,e.la=r.startTime,e.M!=null&&(_=0,e.oa==e.la&&(_=e.M-e.L),e.ja.resolve(_))),O=r.startTime-A,P=Math.abs(x-O),(.001<=P||u||c)&&(!h||0<O||!x)&&(x=O,e.za&&(Gn(e,t,function(){return gc(e,t)},null),Gn(e,t,function(){return mc(e,t,x)},null))),j=t==v.ka||!(v.ka in e.h),e.B&&j&&e.ra.resolve(x)),C.length)&&e.X.onMetadata(C,x,r?r.endTime:null),o&&t==v.ka&&(e.g||Zg(e,"application/cea-608",e.B,!1),e.F||(V=S.split(";",1)[0],e.F=new Or(V)),r?(B=e.F.i(n),B.length&&YL(e.g,B,r.startTime,r.endTime,x)):e.F.init(n,c)),!e.i[t]){G.u(9);break}return k(G,e.i[t].transmux(n,i,r,e.m.duration,t),10);case 10:n=G.h;case 9:if(n=cR(e,n,r?r.startTime:null,t,r?r.N()[0]:null),!r||!e.B||t==v.wa){G.u(11);break}if(!u&&!c){G.u(11);break}if(H=r.startTime,e.R!="HLS"||e.o||t!=v.Y||!e.h[v.ka]){G.u(13);break}return k(G,e.ja,14);case 14:W=G.h,.1<Math.abs(W)&&(H-=W);case 13:Gn(e,t,function(){return gc(e,t)},null),Gn(e,t,function(){return mc(e,t,H)},null);case 11:return k(G,Gn(e,t,function(){var ee=n;if(t=="video"&&e.O){var re=e.O;re.g&&re.g.appendBuffer(ee,"video",re.o,-x)}e.h[t].appendBuffer(ee)},r?r.N()[0]:null),15);case 15:te(G)}})}function oR(e,t){var n=Bp(e,"video")||0;F3(e.g,t,n)}function sR(e){e.g&&F3(e.g,"",0)}f.remove=function(e,t,n){var r=this,i;return L(function(o){return o.g==1?(i=Nn,e==i.wa?k(o,r.g.remove(t,n),0):k(o,Gn(r,e,function(){return Jg(r,e,t,n)},null),4)):r.o?k(o,Gn(r,i.Y,function(){return Jg(r,i.Y,t,n)},null),0):o.u(0)})};function t4(e,t){var n;return L(function(r){return r.g==1?(n=Nn,t==n.wa?e.g?k(r,e.g.remove(0,1/0),0):r.return():k(r,Gn(e,t,function(){return Jg(e,t,0,e.m.duration)},null),4)):e.o?k(r,Gn(e,n.Y,function(){return Jg(e,n.Y,0,e.m.duration)},null),0):r.u(0)})}f.flush=function(e){var t=this,n;return L(function(r){return r.g==1?(n=Nn,e==n.wa?r.return():k(r,Gn(t,e,function(){t.j.currentTime-=.001,Ro(t,e)},null),2)):t.o?k(r,Gn(t,n.Y,function(){var i=n.Y;t.j.currentTime-=.001,Ro(t,i)},null),0):r.u(0)})};function uR(e,t,n,r,i,o,u,c,h){var g,v,b;return L(function(x){return x.g==1?(g=Nn,t==g.wa?(o||(e.g.s=n),XL(e.g,r,i),x.return()):(v=[],k(x,hR(e,t,u,c,h),2))):(b=x.h,b||(v.push(Gn(e,t,function(){return gc(e,t)},null)),e.o&&v.push(Gn(e,g.Y,function(){return gc(e,g.Y)},null))),o||(v.push(Gn(e,t,function(){return mc(e,t,n)},null)),e.o&&v.push(Gn(e,g.Y,function(){return mc(e,g.Y,n)},null))),v.push(Gn(e,t,function(){e.h[t].appendWindowStart=0,e.h[t].appendWindowEnd=i,e.h[t].appendWindowStart=r,Ro(e,t)},null)),e.o&&v.push(Gn(e,g.Y,function(){var S=g.Y;e.h[S].appendWindowStart=0,e.h[S].appendWindowEnd=i,e.h[S].appendWindowStart=r,Ro(e,S)},null)),k(x,Promise.all(v),0))})}function lR(e,t,n){var r;return L(function(i){return i.g==1?(r=Nn,t==r.wa?i.return():(t==r.ka&&(e.ra=new Yt),Gn(e,t,function(){return gc(e,t)},null),e.o&&Gn(e,r.Y,function(){return gc(e,r.Y)},null),k(i,Gn(e,t,function(){return mc(e,t,n)},null),2))):e.o?k(i,Gn(e,r.Y,function(){return mc(e,r.Y,n)},null),0):i.u(0)})}f.endOfStream=function(e){var t=this;return L(function(n){return k(n,ob(t,function(){e4(t)||t.m.readyState==="closed"||(e?t.m.endOfStream(e):t.m.endOfStream())}),0)})},f.$a=function(e){var t=this;return L(function(n){return k(n,ob(t,function(){if(e<t.m.duration)for(var r in t.h){var i={start:function(){},p:new Yt,uri:null};t.l[r].unshift(i)}t.m.duration=e,t.ca=e}),0)})},f.getDuration=function(){return this.m.duration};function Jg(e,t,n,r){r<=n?Ro(e,t):e.h[t].remove(n,r)}function gc(e,t){var n=e.h[t].appendWindowStart,r=e.h[t].appendWindowEnd;e.h[t].abort(),e.h[t].appendWindowStart=n,e.h[t].appendWindowEnd=r,Ro(e,t)}function mc(e,t,n){0>n&&(n+=.001),e.h[t].timestampOffset=n,Ro(e,t)}function Ro(e,t){if(!e.I){var n=e.l[t][0];n&&(n.p.resolve(),sb(e,t))}}function Gn(e,t,n,r){return Qt(e.G),n={start:n,p:new Yt,uri:r},e.l[t].push(n),e.l[t].length==1&&n4(e,t),n.p}function ob(e,t){var n,r,i,o,u,c,h;return L(function(g){switch(g.g){case 1:Qt(e.G),n=[],r={};for(i in e.h)r={ready:void 0},r.ready=new Yt,o={start:function(v){return function(){return v.ready.resolve()}}(r),p:r.ready,uri:null},e.l[i].push(o),n.push(r.ready),e.l[i].length==1&&o.start();return se(g,2),k(g,Promise.all(n),4);case 4:z(g,3);break;case 2:throw u=Y(g),u;case 3:return se(g,5,6),k(g,t(),6);case 6:we(g);for(c in e.h)sb(e,c);Q(g,0);break;case 5:throw h=Y(g),new $(2,3,3015,h,e.j.error||"No error in the media element",null)}})}function sb(e,t){e.l[t].shift(),n4(e,t)}function n4(e,t){var n=e.l[t][0];if(n)try{n.start()}catch(r){r.name=="QuotaExceededError"?n.p.reject(new $(2,3,3017,t)):n.p.reject(new $(2,3,3015,r,e.j.error||"No error in the media element",n.uri)),sb(e,t)}}function cR(e,t,n,r,i){var o=n==null,u=e.Ea[r];return n=e.X.Rh(),(o=e.A.insertFakeEncryptionInInit&&o&&u)&&(n=p1(n),o=Ji()||Ca()||f1()||pp()&&g1()&&n),o&&Ng(e.C[r])=="mp4"&&(t=G7(t,i)),t}function dR(e,t,n,r){return Gn(e,t,function(){t!==bt&&(kn()&&(e.i[t]&&(e.i[t].destroy(),delete e.i[t]),r&&(e.i[t]=r),e.h[t].changeType(n+e.A.addExtraFeaturesToSourceBuffer(n)),e.C[t]=n),Ro(e,t))},null)}function pR(e,t){var n,r,i,o,u,c,h,g,v,b,x,S,T,A,C,M,_,O,P,j,V,B,H,W;return L(function(G){switch(G.g){case 1:n=Nn,e.I=!0,e.o=!1,r=e.j.currentTime,i=e.j.autoplay,o=e.j.paused,e.Fa&&(e.j.autoplay=!1),Re(G,2),e.s.Sa(),u=[];for(c in e.i)u.push(e.i[c].destroy());for(h in e.l)for(g=e.l[h],v=g[0],e.l[h]=g.slice(0,1),v&&u.push(v.p.catch(V3)),b=w(g.slice(1)),x=b.next();!x.done;x=b.next())S=x.value,S.p.reject(new $(2,7,7003,void 0));for(T in e.h){A=e.h[T];try{e.m.removeSourceBuffer(A)}catch{}}return k(G,Promise.all(u),4);case 4:return e.i={},e.h={},C=e.m.duration,e.H=new Yt,e.m=J5(e,e.H),k(G,e.H,5);case 5:!isNaN(C)&&C?e.m.duration=C:!isNaN(e.ca)&&e.ca&&(e.m.duration=e.ca),M=new Yt,_=e.m.sourceBuffers,O=t.size,P=0,j=function(){P++,P===O&&(M.resolve(),e.s.ab(_,"addsourcebuffer",j))},e.s.D(_,"addsourcebuffer",j),V=w(t.keys()),B=V.next();case 6:return B.done?(e.j.currentTime=r,k(G,M,2)):(H=B.value,W=t.get(H),k(G,Yg(e,H,W,W.codecs),9));case 9:e.o?(e.l[n.Y]=[],e.l[n.ka]=[]):e.l[H]=[],B=V.next(),G.u(6);break;case 2:we(G),e.I=!1,Qt(e.G),e.s.va(e.j,"canplaythrough",function(){e.G.g||(e.j.autoplay=i,o||e.j.play())}),Q(G,0)}})}function r4(e,t){return ob(e,function(){return pR(e,t)})}function hR(e,t,n,r,i){var o,u,c,h,g,v,b,x,S,T,A,C,M,_,O;return L(function(P){return P.g==1?(o=Nn,t==o.wa?P.return(!1):(u=Tr(vi(e.C[t])),c=mi(e.C[t]),g=!1,v=Un(n,r),b=e.A.forceTransmux,(!ct(v)||!e.B&&Ts.includes(v))&&(b=!0),b&&(x=_u(n,r),S=ws(x))&&(h=S(),T=Zr(o.Y,(r||"").split(",")),A=Zr(o.ka,(r||"").split(",")),T&&A?(g=!0,C=A,t==o.Y&&(C=T),v=h.convertCodecs(t,_u(n,C))):v=h.convertCodecs(t,x)),M=Tr(vi(v)),_=mi(v),u===M&&c===_?(e.i[t]&&!h?(e.i[t].destroy(),delete e.i[t]):!e.i[t]&&h?e.i[t]=h:h&&(e.i[t]&&e.i[t].transmux!=h.transmux?(e.i[t].destroy(),delete e.i[t],e.i[t]=h):h.destroy()),P.return(!1)):(O=!0,(e.o||g&&h&&!e.i[t])&&(O=!1),O&&e.A.codecSwitchingStrategy==="smooth"&&kn()?k(P,dR(e,t,v,h),3):(h&&h.destroy(),k(P,r4(e,i),3))))):P.return(!0)})}function fR(e,t,n,r){if(t==bt)var i=!1;else{i=Tr(vi(e.C[t]));var o=mi(e.C[t]),u=Un(n,r),c=e.A.forceTransmux;(!ct(u)||!e.B&&Ts.includes(u))&&(c=!0),n=_u(n,r),c&&(c=ws(n))&&(c=c(),u=c.convertCodecs(t,n),c.destroy()),t=Tr(vi(u)),u=mi(u),i=i!==t||o!==u}return i?e.A.codecSwitchingStrategy!=="smooth"||!kn()||e.o:!1}var ub=d.URL.createObjectURL,gR="sequence";function Ke(e,t,n){this.i=e,this.C=t,this.o=this.l=1/0,this.h=1,this.g=this.j=null,this.A=0,this.B=!0,this.I=!1,this.H=0,this.F=n===void 0?!0:n,this.G=0,this.s=!1,this.m=e}f=Ke.prototype,f.getDuration=function(){return this.l},f.Th=function(){return this.h},f.bh=function(e){this.i=e},f.$a=function(e){this.l=e},f.Yh=function(){return this.i},f.$g=function(e){this.A=e},f.xc=function(e){e&&!this.B&&(this.I=!0),this.B=e},f.oe=function(e){this.o=e},f.Md=function(){return this.o},f.Pf=function(e){this.C=e},f.Lh=function(){return this.C},f.Ng=function(e,t){if(e.length!=0){var n=(Date.now()+this.A)/1e3;if(e=e.filter(function(i){return i.start+t<n}),e.length!=0){var r=e[e.length-1].end+t;this.$d(e[0].start+t),this.h=e.reduce(function(i,o){return Math.max(i,o.end-o.start)},this.h),this.g=Math.max(this.g,r),this.i!=null&&this.F&&!this.s&&(this.i=n-this.g-this.h)}}},f.sd=function(e){if(e.length!=0){var t=e[0].startTime,n=e[0].endTime,r=(Date.now()+this.A)/1e3;e=w(e);for(var i=e.next();!i.done;i=e.next())i=i.value,r<i.startTime||(t=Math.min(t,i.startTime),n=Math.max(n,i.endTime),this.h=Math.max(this.h,i.endTime-i.startTime));this.$d(t),this.g=Math.max(this.g,n),this.i!=null&&this.F&&!this.s&&(this.i=r-this.g-this.h)}},f.Mg=function(e,t){this.$d(e),t==1/0||this.U()||(this.g=Math.max(this.g,t))},f.Uh=function(){return this.g},f.Vd=function(){this.s=!0},f.si=function(){return this.s},f.ah=function(e){this.m=e},f.Qh=function(){return this.m},f.$d=function(e){this.j==null?this.j=e:this.I||(this.j=Math.min(this.j,e))},f.yf=function(e){this.h=Math.max(this.h,e)},f.offset=function(e){this.j!=null&&(this.j+=e),this.g!=null&&(this.g+=e)},f.U=function(){return this.l==1/0&&!this.B},f.sc=function(){return this.l!=1/0&&!this.B},f.pb=function(){return Math.max(this.H,this.Yb()-this.o)},f.gh=function(e){this.H=e},f.Yb=function(){return this.U()||this.sc()?Math.min(Math.max(0,(Date.now()+this.A)/1e3-this.h-this.i)+this.G,this.l):this.g?Math.min(this.g,this.l):this.l},f.fd=function(e){var t=Math.max(this.j,this.H);return this.o==1/0?Math.ceil(1e3*t)/1e3:Math.max(t,Math.min(this.Yb()-this.o+e,this.Bb()))},f.Kb=function(){return this.fd(0)},f.Bb=function(){return Math.max(0,this.Yb()-(this.U()||this.sc()?this.C:0))},f.nh=function(){return!(this.i==null||this.g!=null&&this.F)},f.Zg=function(e){this.G=e},f.Jh=function(){return this.G},Ae("shaka.media.PresentationTimeline",Ke),Ke.prototype.getAvailabilityTimeOffset=Ke.prototype.Jh,Ke.prototype.setAvailabilityTimeOffset=Ke.prototype.Zg,Ke.prototype.usingPresentationStartTime=Ke.prototype.nh,Ke.prototype.getSeekRangeEnd=Ke.prototype.Bb,Ke.prototype.getSeekRangeStart=Ke.prototype.Kb,Ke.prototype.getSafeSeekRangeStart=Ke.prototype.fd,Ke.prototype.getSegmentAvailabilityEnd=Ke.prototype.Yb,Ke.prototype.setUserSeekStart=Ke.prototype.gh,Ke.prototype.getSegmentAvailabilityStart=Ke.prototype.pb,Ke.prototype.isInProgress=Ke.prototype.sc,Ke.prototype.isLive=Ke.prototype.U,Ke.prototype.offset=Ke.prototype.offset,Ke.prototype.notifyMaxSegmentDuration=Ke.prototype.yf,Ke.prototype.notifyMinSegmentStartTime=Ke.prototype.$d,Ke.prototype.getInitialProgramDateTime=Ke.prototype.Qh,Ke.prototype.setInitialProgramDateTime=Ke.prototype.ah,Ke.prototype.isStartTimeLocked=Ke.prototype.si,Ke.prototype.lockStartTime=Ke.prototype.Vd,Ke.prototype.getMaxSegmentEndTime=Ke.prototype.Uh,Ke.prototype.notifyPeriodDuration=Ke.prototype.Mg,Ke.prototype.notifySegments=Ke.prototype.sd,Ke.prototype.notifyTimeRange=Ke.prototype.Ng,Ke.prototype.getDelay=Ke.prototype.Lh,Ke.prototype.setDelay=Ke.prototype.Pf,Ke.prototype.getSegmentAvailabilityDuration=Ke.prototype.Md,Ke.prototype.setSegmentAvailabilityDuration=Ke.prototype.oe,Ke.prototype.setStatic=Ke.prototype.xc,Ke.prototype.setClockOffset=Ke.prototype.$g,Ke.prototype.getPresentationStartTime=Ke.prototype.Yh,Ke.prototype.setDuration=Ke.prototype.$a,Ke.prototype.setPresentationStartTime=Ke.prototype.bh,Ke.prototype.getMaxSegmentDuration=Ke.prototype.Th,Ke.prototype.getDuration=Ke.prototype.getDuration;function i4(e,t,n){this.j=n,this.l=e,this.s=a4(e),this.g=e.g.currentTime,this.m=Date.now()/1e3,this.h=!1,this.o=0,this.A=t,this.i=function(){}}i4.prototype.release=function(){this.j=this.l=null,this.i=function(){}};function mR(e,t){e.i=t}function vR(e){this.g=e}function a4(e){if(e.g.paused||e.g.playbackRate==0||e.g.buffered.length==0)var t=!1;else e:{t=e.g.currentTime,e=w(As(e.g.buffered));for(var n=e.next();!n.done;n=e.next())if(n=n.value,!(t<n.start-.1||t>n.end-.5)){t=!0;break e}t=!1}return t}function lb(e,t,n,r,i){var o=this;this.A=i,this.g=e,this.B=t,this.m=n,this.l=new ke,this.j=!1,this.F=e.readyState,this.C=this.i=0,this.h=r,this.s=!1,this.l.D(e,"waiting",function(){return cb(o)}),this.o=new mt(function(){cb(o)}).Oa(this.m.gapJumpTimerTime)}lb.prototype.release=function(){this.l&&(this.l.release(),this.l=null),this.o!=null&&(this.o.stop(),this.o=null),this.h&&(this.h.release(),this.h=null),this.g=this.B=this.A=null},lb.prototype.Bf=function(){this.s=!0,cb(this)};function cb(e){if(e.g.readyState!=0){if(e.g.seeking){if(!e.j)return}else e.j=!1;if(!e.g.paused||e.g.currentTime==e.i&&(e.g.autoplay||e.g.currentTime!=e.i)){e.g.readyState!=e.F&&(e.F=e.g.readyState);var t;if(!(t=!e.h)){t=e.h;var n=t.l,r=a4(n),i=n.g.currentTime,o=Date.now()/1e3;(t.g!=i||t.s!=r)&&(t.m=o,t.g=i,t.s=r,t.h=!1),i=o-t.m,(r=i>=t.A&&r&&!t.h)&&(t.i(t.g,i),t.h=!0,t.g=n.g.currentTime,t.o++,t.j(new Me("stalldetected"))),t=!r}t&&(t=e.g.currentTime,n=e.g.buffered,r=X7(n,t,e.m.gapDetectionThreshold),r!=null&&(r!=0||e.s))&&(i=n.start(r),(navigator.userAgent.match(/Edge\//)||Ca()||Ji())&&(i=Math.ceil(100*(i+e.m.gapPadding))/100),i>=e.B.Bb()||.001>i-t||(r!=0&&n.end(r-1),e.g.currentTime=i,t==e.i&&(e.i=i),e.C++,e.A(new Me("gapjumped"))))}}}function vc(e,t,n,r){t==HTMLMediaElement.HAVE_NOTHING||e.readyState>=t?r():(t=yR.value().get(t),n.va(e,t,r))}var yR=new ql(function(){return new Map([[HTMLMediaElement.HAVE_METADATA,"loadedmetadata"],[HTMLMediaElement.HAVE_CURRENT_DATA,"loadeddata"],[HTMLMediaElement.HAVE_FUTURE_DATA,"canplay"],[HTMLMediaElement.HAVE_ENOUGH_DATA,"canplaythrough"]])});function o4(e,t,n,r){var i=this;this.g=e,this.m=t,this.s=n,this.l=null,this.j=function(){return i.l==null&&(i.l=r()),i.l},this.o=!1,this.h=new ke,this.i=new c4(e),vc(this.g,HTMLMediaElement.HAVE_METADATA,this.h,function(){u4(i,i.j())})}o4.prototype.release=function(){this.h&&(this.h.release(),this.h=null),this.i!=null&&(this.i.release(),this.i=null),this.m=function(){},this.g=null};function db(e){return e.o?e.g.currentTime:e.j()}function s4(e,t){0<e.g.readyState?d4(e.i,t):vc(e.g,HTMLMediaElement.HAVE_METADATA,e.h,function(){u4(e,e.j())})}function u4(e,t){.001>Math.abs(e.g.currentTime-t)?l4(e):(e.h.va(e.g,"seeking",function(){l4(e)}),d4(e.i,e.g.currentTime&&e.g.currentTime!=0?e.g.currentTime:t))}function l4(e){e.o=!0,e.h.D(e.g,"seeking",function(){return e.m()}),e.s(e.g.currentTime)}function c4(e){var t=this;this.g=e,this.m=10,this.j=this.l=this.i=0,this.h=new mt(function(){0>=t.i||t.g.currentTime!=t.l||t.g.currentTime===t.j?t.h.stop():(t.g.currentTime=t.j,t.i--)})}c4.prototype.release=function(){this.h&&(this.h.stop(),this.h=null),this.g=null};function d4(e,t){e.l=e.g.currentTime,e.j=t,e.i=e.m,e.g.currentTime=t,e.h.Oa(.1)}function p4(e){this.h=e,this.j=!1,this.g=null,this.i=new ke}f=p4.prototype,f.ready=function(){function e(){if(t.g==null||t.g==0&&t.h.duration!=1/0)t.j=!0;else{var n=t.h.currentTime,r=t.g;0>t.g&&(r=Math.max(0,n+t.g)),n!=r?(t.i.va(t.h,"seeking",function(){t.j=!0}),t.h.currentTime=r):t.j=!0}}var t=this;vc(this.h,HTMLMediaElement.HAVE_CURRENT_DATA,this.i,function(){e()})},f.release=function(){this.i&&(this.i.release(),this.i=null),this.h=null},f.Fe=function(e){this.g=this.j?this.g:e},f.yd=function(){return(this.j?this.h.currentTime:this.g)||0},f.eg=function(){return 0},f.dg=function(){return 0},f.Lg=function(){};function h4(e,t,n,r,i,o){var u=this;this.i=e,this.g=t.presentationTimeline,this.B=t.minBufferTime||0,this.l=n,this.A=i,this.s=null,this.o=bR(e,n,o),this.j=new lb(e,t.presentationTimeline,n,this.o,o),this.h=new o4(e,function(){e:{var c=u.j;c.j=!0,c.s=!1;var h=db(u.h);if(c=g4(u,h),.001<Math.abs(c-h)){if(h=!1,!Yr()||Yr()&&xg())h=!0;else{var g=Date.now()/1e3,v=Yr()&&Ut("Fuchsia")?3:1;(!u.s||u.s<g-v)&&(u.s=g,h=!0)}if(h){s4(u.h,c),c=void 0;break e}}u.A(),c=void 0}return c},function(c){var h=u.j;h.g.seeking&&!h.j&&(h.j=!0,h.i=c)},function(){var c=r;return c==null?c=1/0>u.g.getDuration()?u.g.Kb():u.g.Bb():0>c&&(c=u.g.Bb()+c),f4(u,m4(u,c))}),this.m=new mt(function(){if(u.i.readyState!=0&&!u.i.paused){var c=db(u.h),h=u.g.Kb(),g=u.g.Bb();3>g-h&&(h=g-3),c<h&&(c=g4(u,c),u.i.currentTime=c)}})}f=h4.prototype,f.ready=function(){this.m.Oa(.25)},f.release=function(){this.h&&(this.h.release(),this.h=null),this.j&&(this.j.release(),this.j=null),this.m&&(this.m.stop(),this.m=null),this.i=this.h=this.g=this.l=null,this.A=function(){}},f.Fe=function(e){s4(this.h,e)},f.yd=function(){var e=db(this.h);return 0<this.i.readyState&&!this.i.paused?m4(this,e):e},f.eg=function(){return this.o?this.o.o:0},f.dg=function(){return this.j.C},f.Lg=function(){this.j.Bf()};function f4(e,t){var n=e.g.getDuration();return t>=n?n-e.l.durationBackoff:t}function g4(e,t){var n=Math.max(e.B,e.l.rebufferingGoal),r=e.l.safeSeekOffset,i=e.g.Kb(),o=e.g.Bb(),u=e.g.getDuration();3>o-i&&(i=o-3);var c=e.g.fd(n),h=e.g.fd(r);return n=e.g.fd(n+r),t>=u?f4(e,t):t>o?o:t<i?Q1(e.i.buffered,h)?h:n:t>=c||Q1(e.i.buffered,t)?t:n}function m4(e,t){var n=e.g.Kb();return t<n?n:(e=e.g.Bb(),t>e?e:t)}function bR(e,t,n){if(!t.stallEnabled)return null;var r=t.stallSkip;return t=new i4(new vR(e),t.stallThreshold,n),mR(t,function(){r?e.currentTime+=r:(e.pause(),e.play())}),t}function Nt(e){this.g=e,this.m=null,this.i=0,this.o=!1}f=Nt.prototype,f.getNumReferences=function(){return this.g.length},f.getNumEvicted=function(){return this.i},f.release=function(){this.o||(this.g=[],this.m&&this.m.stop(),this.m=null)},f.yi=function(){this.o=!0},f.yb=function(e){for(var t=w(this.g),n=t.next();!n.done;n=t.next())e(n.value)};function Pa(e){return e.g[0]||null}f.find=function(e){for(var t=this.g.length-1,n=t;0<=n;--n){var r=this.g[n],i=n<t?this.g[n+1].startTime:r.endTime;if(e>=r.startTime&&e<i)return n+this.i}return this.g.length&&e<this.g[0].startTime?this.i:null},f.get=function(e){return this.g.length==0?null:(e-=this.i,0>e||e>=this.g.length?null:this.g[e])},f.offset=function(e){if(!this.o)for(var t=w(this.g),n=t.next();!n.done;n=t.next())n.value.offset(e)},f.Xd=function(e){if(!this.o&&e.length){var t=Math.round(1e3*e[0].startTime)/1e3;this.g=this.g.filter(function(n){return Math.round(1e3*n.startTime)/1e3<t}),this.g.push.apply(this.g,F(e))}},f.qd=function(e,t){var n=this;e=e.filter(function(r){return r.endTime>t&&(n.g.length==0||r.endTime>n.g[0].startTime)}),this.Xd(e),this.Ga(t)},f.Ga=function(e){if(!this.o){var t=this.g.length;this.g=this.g.filter(function(n){return n.endTime>e}),this.i+=t-this.g.length}},f.Gc=function(e,t,n){if(n=n===void 0?!1:n,!this.o){for(;this.g.length&&this.g[this.g.length-1].startTime>=t;)this.g.pop();for(;this.g.length&&this.g[0].endTime<=e;)this.g.shift(),n||this.i++;this.g.length!=0&&(e=this.g[this.g.length-1],t=new Ye(e.startTime,t,e.F,e.Ha,e.ua,e.$,e.timestampOffset,e.appendWindowStart,e.appendWindowEnd,e.g,e.tilesLayout,e.B,e.h,e.status,e.aesKey),t.mimeType=e.mimeType,t.codecs=e.codecs,t.i=e.i,this.g[this.g.length-1]=t)}},f.se=function(e,t){var n=this;this.o||(this.m&&this.m.stop(),this.m=new mt(function(){var r=t();r?n.g.push.apply(n.g,F(r)):(n.m.stop(),n.m=null)}),this.m.Oa(e))},Nt.prototype[Symbol.iterator]=function(){return this.Jb(0)},Nt.prototype.Jb=function(e,t,n){t=t===void 0?!1:t,n=n===void 0?!1:n;var r=this.find(e);if(r==null)return null;var i=this.get(r);n?r++:r--;var o=-1;if(i&&0<i.g.length)for(var u=i.g.length-1;0<=u;--u){var c=i.g[u];if(e>=c.startTime&&e<c.endTime){if(!t){for(;u&&!c.l;)u--,c=i.g[u];if(!c.l)return et("No independent partial segment found!"),null}n?r--:r++,o=u-1;break}}return new Ni(this,r,o,n)};function pb(e,t,n){return e=new Ye(e,e+t,function(){return n},0,null,null,e,e,e+t),new Nt([e])}Ae("shaka.media.SegmentIndex",Nt),Nt.forSingleSegment=pb,Nt.prototype.getIteratorForTime=Nt.prototype.Jb,Nt.prototype.updateEvery=Nt.prototype.se,Nt.prototype.fit=Nt.prototype.Gc,Nt.prototype.evict=Nt.prototype.Ga,Nt.prototype.mergeAndEvict=Nt.prototype.qd,Nt.prototype.offset=Nt.prototype.offset,Nt.prototype.get=Nt.prototype.get,Nt.prototype.find=Nt.prototype.find,Nt.prototype.markImmutable=Nt.prototype.yi,Nt.prototype.release=Nt.prototype.release,Nt.prototype.getNumEvicted=Nt.prototype.getNumEvicted,Nt.prototype.getNumReferences=Nt.prototype.getNumReferences;function Ni(e,t,n,r){this.i=e,this.h=t,this.g=n,this.reverse=r}f=Ni.prototype,f.Wc=function(e){this.reverse=e},f.Eh=function(){return this.h},f.current=function(){var e=this.i.get(this.h);return e&&0<e.g.length&&e.s&&this.g>=e.g.length&&(this.h++,this.g=0,e=this.i.get(this.h)),e&&0<e.g.length?e.g[this.g]:e},f.next=function(){var e=this.i.get(this.h);return this.reverse?e&&0<e.g.length?(this.g--,0>this.g&&(this.h--,this.g=(e=this.i.get(this.h))&&0<e.g.length?e.g.length-1:0)):(this.h--,this.g=0):e&&0<e.g.length?(this.g++,e.s&&this.g==e.g.length&&(this.h++,this.g=0)):(this.h++,this.g=0),e=this.current(),{value:e,done:!e}},f.Jf=function(){var e=this.current();if(e.o&&!e.l&&(e=this.i.get(this.h))&&0<e.g.length)for(var t=e.g[this.g];t.l&&!(0>=this.g);)this.g--,t=e.g[this.g]},Ae("shaka.media.SegmentIterator",Ni),Ni.prototype.resetToLastIndependent=Ni.prototype.Jf,Ni.prototype.next=Ni.prototype.next,Ni.prototype.current=Ni.prototype.current,Ni.prototype.currentPosition=Ni.prototype.Eh,Ni.prototype.setReverse=Ni.prototype.Wc;function bn(){Nt.call(this,[]),this.h=[]}Se(bn,Nt),f=bn.prototype,f.clone=function(){var e=new bn;return e.h=this.h.slice(),e.i=this.i,e},f.release=function(){for(var e=w(this.h),t=e.next();!t.done;t=e.next())t.value.release();this.h=[]},f.yb=function(e){for(var t=w(this.h),n=t.next();!n.done;n=t.next())n.value.yb(e)},f.find=function(e){for(var t=this.i,n=w(this.h),r=n.next();!r.done;r=n.next()){r=r.value;var i=r.find(e);if(i!=null)return i+t;t+=r.getNumEvicted()+r.getNumReferences()}return null},f.get=function(e){for(var t=this.i,n=w(this.h),r=n.next();!r.done;r=n.next()){r=r.value;var i=r.get(e-t);if(i)return i;i=r.getNumReferences(),t+=r.getNumEvicted()+i}return null},f.offset=function(){},f.Xd=function(){},f.Ga=function(e){for(var t=w(this.h),n=t.next();!n.done;n=t.next())n.value.Ga(e);for(;1<this.h.length&&this.h[0].getNumReferences()==0;)e=this.h.shift(),this.i+=e.getNumEvicted(),e.release()},f.qd=function(){},f.Gc=function(){},f.se=function(){},Ae("shaka.media.MetaSegmentIndex",bn),bn.prototype.updateEvery=bn.prototype.se,bn.prototype.fit=bn.prototype.Gc,bn.prototype.mergeAndEvict=bn.prototype.qd,bn.prototype.evict=bn.prototype.Ga,bn.prototype.merge=bn.prototype.Xd,bn.prototype.offset=bn.prototype.offset,bn.prototype.get=bn.prototype.get,bn.prototype.find=bn.prototype.find,bn.prototype.forEachTopLevelReference=bn.prototype.yb,bn.prototype.release=bn.prototype.release;function Vp(e){var t=this;this.g=e,this.j=!1,this.i=this.g.Ld(),this.h=new mt(function(){t.g.Kg(.25*t.i)})}Vp.prototype.release=function(){this.set(this.nc()),this.h&&(this.h.stop(),this.h=null),this.g=null},Vp.prototype.set=function(e){this.i=e,v4(this)},Vp.prototype.nc=function(){return this.g.nc()};function v4(e){e.h.stop();var t=e.j?0:e.i;if(0<=t)try{e.g.Ld()!=t&&e.g.Sf(t);return}catch{}e.h.Oa(.25),e.g.Ld()!=0&&e.g.Sf(0)}function y4(e){var t=this;this.h=e,this.g=new Set,this.i=new mt(function(){b4(t,!1)}).Oa(.25)}y4.prototype.release=function(){this.i.stop();for(var e=w(this.g),t=e.next();!t.done;t=e.next())t.value.release();this.g.clear()};function b4(e,t){for(var n=w(e.g),r=n.next();!r.done;r=n.next())r.value.j(e.h.currentTime,t)}function wR(){this.g=null,this.h=[]}function hb(e,t){var n=0;e.g&&e.g.state==t&&(n+=e.g.duration),e=w(e.h);for(var r=e.next();!r.done;r=e.next())r=r.value,n+=r.state==t?r.duration:0;return n}function xR(e){function t(o){return{timestamp:o.timestamp,state:o.state,duration:o.duration}}for(var n=[],r=w(e.h),i=r.next();!i.done;i=r.next())n.push(t(i.value));return e.g&&n.push(t(e.g)),n}function SR(){this.i=this.h=null,this.g=[]}function fb(e,t,n){e.i!=t&&(e.i=t,e.g.push({timestamp:Date.now()/1e3,id:t.id,type:"text",fromAdaptation:n,bandwidth:null}))}function em(){this.jc=this.Gg=this.s=this.A=this.I=this.B=this.o=this.j=this.H=this.C=this.i=this.R=this.X=this.L=this.M=this.O=this.l=this.m=NaN,this.K=0,this.F=this.G=NaN,this.g=new wR,this.h=new SR}function tm(e,t,n,r){this.m=e,this.i=t,this.l=n,this.h=new Map,this.j=new Map,this.g=null,this.o=r}function TR(e,t){e.l=t,e=w(e.h.values());for(var n=e.next();!n.done;n=e.next())n.value.g=t}function zp(e,t,n){if(n=n===void 0?!1:n,e.i.segmentIndex&&(e.g||(e.g=e.i.segmentIndex.Jb(t,!0,e.o)),e.g)){for(n&&e.g.next();e.h.size<e.m&&(t=e.g.next().value,!!t);)n=!0,t.isPreload()&&t.ua!=null&&(n=!1),t.$b()==2&&(n=!1),t.oc()&&(n=!1),n&&t.$&&w4(e,t.$),n&&!e.h.has(t)&&(n=new mb(e.l),T4(n,t,e.i),e.h.set(t,n));gb(e)}}function w4(e,t){if(e.i.segmentIndex&&!t.oc()&&!Array.from(e.j.keys()).some(function(r){return Y1(r,t)})){var n=new mb(e.l);T4(n,t,e.i),e.j.set(t,n)}}function x4(e,t){t=w(t.keys());for(var n=t.next();!n.done;n=t.next())(n=n.value)&&$p(e,n)}function Da(e){x4(e,e.h),x4(e,e.j),e.g=null}tm.prototype.Ga=function(e,t){t=t===void 0?!1:t;for(var n=w(this.h.keys()),r=n.next();!r.done;r=n.next())r=r.value,e>r.endTime&&$p(this,r);t&&gb(this)},tm.prototype.Wc=function(e){this.o=e,this.g&&this.g.Wc(e)};function gb(e){for(var t=Array.from(e.h.keys()),n=w(e.j.keys()),r=n.next(),i={};!r.done;i={nf:void 0},r=n.next())i.nf=r.value,t.some(function(o){return function(u){return Y1(u.$,o.nf)}}(i))||$p(e,i.nf)}function S4(e,t){e.m=t;for(var n=Array.from(e.h.keys());n.length>t;){var r=n.pop();r&&$p(e,r)}gb(e)}function kR(e,t){t&&t!==e.i&&(Da(e),e.i=t)}function $p(e,t){var n=e.h;t instanceof Jr&&(n=e.j),e=n.get(t),n.delete(t),e&&e.abort()}function mb(e){this.g=e,this.de=this.Uf=null}function T4(e,t,n){var r=new Uint8Array(0);e.de=e.g(t,n,function(i){return L(function(o){if(o.g==1)return 0<r.byteLength?r=An(r,i):r=i,e.Uf?k(o,e.Uf(r),3):o.u(0);r=new Uint8Array(0),te(o)})})}mb.prototype.abort=function(){this.de&&this.de.abort()};function vb(e){$t.call(this);var t=this;this.g=new Set,this.i=e,this.h=new mt(function(){for(var n=t.i(),r=w(t.g),i=r.next();!i.done;i=r.next())i=i.value,i.endTime<n.start&&(t.g.delete(i),i=new Me("regionremove",new Map([["region",i]])),t.dispatchEvent(i))}).Oa(2)}Se(vb,$t),vb.prototype.release=function(){this.g.clear(),this.h.stop(),$t.prototype.release.call(this)};function nm(e){$t.call(this),this.g=new Map,this.h=e}Se(nm,$t),nm.prototype.release=function(){this.g.clear(),$t.prototype.release.call(this)};function ER(e,t){var n=e.g.get(t);return n||(n={ud:[],Pe:null,contentType:t},e.g.set(t,n)),n}function AR(e,t,n){var r=ER(e,t.contentType);CR(e,r),e={Nc:t,position:n},r=r.ud,t=r.findIndex(function(i){return i.position>=n}),0<=t?r.splice(t,r[t].position==n?1:0,e):r.push(e)}nm.prototype.j=function(e){for(var t=w(this.g.values()),n=t.next();!n.done;n=t.next()){n=n.value;var r=n.Pe;e:{for(var i=n.ud,o=i.length-1;0<=o;o--){var u=i[o];if(u.position<=e){i=u.Nc;break e}}i=null}o=i&&!(r===i||r&&i&&r.bandwidth==i.bandwidth&&r.audioSamplingRate==i.audioSamplingRate&&r.codecs==i.codecs&&r.contentType==i.contentType&&r.frameRate==i.frameRate&&r.height==i.height&&r.mimeType==i.mimeType&&r.channelsCount==i.channelsCount&&r.pixelAspectRatio==i.pixelAspectRatio&&r.width==i.width),u=i&&r&&i.label&&r.label&&r.label!==i.label;var c=i&&r&&i.language&&r.language&&r.language!==i.language;r=i&&r&&i.roles&&r.roles&&!Li(r.roles,i.roles),(u||c||r)&&k4(this,e,i.contentType)&&(n.Pe=i,r=new Me("audiotrackchange",new Map([["quality",i],["position",e]])),this.dispatchEvent(r)),o&&k4(this,e,i.contentType)&&(n.Pe=i,JSON.stringify(i),n=new Me("qualitychange",new Map([["quality",i],["position",e]])),this.dispatchEvent(n))}};function k4(e,t,n){return!!((e=e.h()[n])&&0<e.length&&(n=e[e.length-1].end,t>=e[0].start&&t<n))}function CR(e,t){if((e=e.h()[t.contentType])&&0<e.length){var n=e[0].start,r=e[e.length-1].end,i=t.ud;t.ud=i.filter(function(o,u){return!(o.position<=n&&u+1<i.length&&i[u+1].position<=n||o.position>=r)})}else t.ud=[]}function rm(e){var t={bandwidth:e.bandwidth||0,audioSamplingRate:null,codecs:e.codecs,contentType:e.type,frameRate:null,height:null,mimeType:e.mimeType,channelsCount:null,pixelAspectRatio:null,width:null,label:null,roles:e.roles,language:null};return e.type=="video"&&(t.frameRate=e.frameRate||null,t.height=e.height||null,t.pixelAspectRatio=e.pixelAspectRatio||null,t.width=e.width||null),e.type=="audio"&&(t.audioSamplingRate=e.audioSamplingRate,t.channelsCount=e.channelsCount,t.label=e.label||null,t.language=e.language),t}function im(e){var t=mi(e),n=t.split("/")[0];return e=vi(e),{type:n,mimeType:t,codecs:e,language:null,height:null,width:null,channelCount:null,sampleRate:null,closedCaptions:new Map,xd:null,colorGamut:null,frameRate:null}}function IR(e,t){function n(P){C=P.name;var j=P.reader;j.skip(24);var V=j.ma(),B=j.ma();j.skip(50),b=String(V),v=String(B),P.reader.qa()&&vt(P)}function r(P){var j=G5(P.reader);x=j.channelCount,S=j.sampleRate,i(P.name)}function i(P){switch(P=P.toLowerCase(),P){case"avc1":case"avc3":u.push(P+".42E01E"),h=!0;break;case"hev1":case"hvc1":u.push(P+".1.6.L93.90"),h=!0;break;case"dvh1":case"dvhe":u.push(P+".05.04"),h=!0;break;case"vp09":u.push(P+".00.10.08"),h=!0;break;case"av01":u.push(P+".0.01M.08"),h=!0;break;case"mp4a":o.push("mp4a.40.2"),c=!0;break;case"ac-3":case"ec-3":case"ac-4":case"opus":case"flac":o.push(P),c=!0}}var o=[],u=[],c=!1,h=!1,g=null,v=null,b=null,x=null,S=null,T=null,A=null,C;if(new nn().box("moov",vt).box("trak",vt).box("mdia",vt).S("mdhd",function(P){g=Wg(P.reader,P.version).language}).box("minf",vt).box("stbl",vt).S("stsd",Es).box("mp4a",function(P){var j=G5(P.reader);x=j.channelCount,S=j.sampleRate,P.reader.qa()?vt(P):i(P.name)}).box("esds",function(P){P=P.reader;for(var j="mp4a",V,B;P.qa();){V=P.T();for(var H=P.T();H&128;)H=P.T();if(V==3)P.ma(),H=P.T(),H&128&&P.ma(),H&64&&P.skip(P.T()),H&32&&P.ma();else if(V==4)B=P.T(),P.skip(12);else if(V==5)break}B&&(j+="."+Op(B),V==5&&P.qa()&&(V=P.T(),B=(V&248)>>3,B===31&&P.qa()&&(B=32+((V&7)<<3)+((P.T()&224)>>5)),j+="."+B)),o.push(j),c=!0}).box("ac-3",r).box("ec-3",r).box("ac-4",r).box("Opus",r).box("fLaC",r).box("avc1",n).box("avc3",n).box("hev1",n).box("hvc1",n).box("dva1",n).box("dvav",n).box("dvh1",n).box("dvhe",n).box("vp09",n).box("av01",n).box("avcC",function(P){var j=C||"";switch(C){case"dvav":j="avc3";break;case"dva1":j="avc1"}P=P.reader,P.skip(1),P=j+"."+Op(P.T())+Op(P.T())+Op(P.T()),u.push(P),h=!0}).box("hvcC",function(P){var j=C||"";switch(C){case"dvh1":j="hvc1";break;case"dvhe":j="hev1"}var V=P.reader;V.skip(1),P=V.T();var B=["","A","B","C"][P>>6],H=P&31,W=V.P(),G=(P&32)>>5?"H":"L";P=[V.T(),V.T(),V.T(),V.T(),V.T(),V.T()],V=V.T();for(var ee=0,re=0;32>re&&(ee|=W&1,re!=31);re++)ee<<=1,W>>=1;for(j=j+("."+B+H)+("."+Op(ee,!0)),j+="."+G+V,B="",H=P.length;H--;)((G=P[H])||B)&&(B="."+G.toString(16).toUpperCase()+B);j+=B,u.push(j),h=!0}).box("dvcC",function(P){var j=C||"";switch(C){case"hvc1":j="dvh1";break;case"hev1":j="dvhe";break;case"avc1":j="dva1";break;case"avc3":j="dvav";break;case"av01":j="dav1"}var V=P.reader;V.skip(2),P=V.T(),V=V.T(),u.push(j+"."+ei(P>>1&127)+"."+ei(P<<5&32|V>>3&31)),h=!0}).box("dvvC",function(P){var j=C||"";switch(C){case"hvc1":j="dvh1";break;case"hev1":j="dvhe";break;case"avc1":j="dva1";break;case"avc3":j="dvav";break;case"av01":j="dav1"}var V=P.reader;V.skip(2),P=V.T(),V=V.T(),u.push(j+"."+ei(P>>1&127)+"."+ei(P<<5&32|V>>3&31)),h=!0}).S("vpcC",function(P){var j=C||"",V=P.reader;P=V.T();var B=V.T();V=V.T()>>4&15,u.push(j+"."+ei(P)+"."+ei(B)+"."+ei(V)),h=!0}).box("av1C",function(P){var j=C||"";switch(C){case"dav1":j="av01"}var V=P.reader;V.skip(1),P=V.T(),V=V.T();var B=P>>>5,H=(V&64)>>6;u.push(j+"."+B+"."+ei(P&31)+(V>>>7?"H":"M")+"."+ei(B===2&&H?(V&32)>>5?12:10:H?10:8)+"."+((V&16)>>4)+"."+((V&8)>>3)+((V&4)>>2)+(V&3)+"."+ei(1)+"."+ei(1)+"."+ei(1)+".0"),h=!0}).box("enca",q1).box("encv",Qr).box("sinf",vt).box("frma",function(P){P=K5(P.reader).codec,i(P)}).box("colr",function(P){u=u.map(function(B){if(B.startsWith("av01.")){var H=P.reader,W=H.xa(),G=H.ub(4),ee=String.fromCharCode(G[0]);if(ee+=String.fromCharCode(G[1]),ee+=String.fromCharCode(G[2]),ee+=String.fromCharCode(G[3]),ee==="nclx"){G=H.ma(),ee=H.ma();var re=H.ma(),ce=H.T()>>7,ae=B.split(".");ae.length==10&&(ae[6]=ei(G),ae[7]=ei(ee),ae[8]=ei(re),ae[9]=String(ce),B=ae.join("."))}H.seek(W)}return B});var j=Z7(P.reader),V=j.colorGamut;T=j.xd,A=V}).parse(e||t,!0),!o.length&&!u.length)return null;var M=c&&!h,_=new Map;if(h){var O=new Or("video/mp4");for(e&&O.init(e),O.i(t),e=w(O.j()),t=e.next();!t.done;t=e.next())t=t.value,_.set(t,t);O.g()}return{type:M?"audio":"video",mimeType:M?"audio/mp4":"video/mp4",codecs:yb(o.concat(u)).join(", "),language:g,height:v,width:b,channelCount:x,sampleRate:S,closedCaptions:_,xd:T,colorGamut:A,frameRate:null}}function yb(e){var t=new Set,n=[];e=w(e);for(var r=e.next();!r.done;r=e.next()){r=r.value;var i=Ss(r);t.has(i)||(n.push(r),t.add(i))}return t=D1("audio",n),r=D1("video",n),e=D1(bt,n),r=MR(r),t=t.concat(r).concat(e),n.length&&!t.length?n:t}function MR(e){if(1>=e.length)return e;var t=e.find(function(n){return n.startsWith("dvav.")||n.startsWith("dva1.")||n.startsWith("dvh1.")||n.startsWith("dvhe.")||n.startsWith("dav1.")||n.startsWith("dvc1.")||n.startsWith("dvi1.")});return t?ct('video/mp4; codecs="'+t+'"')?[t]:e.filter(function(n){return n!=t}):e}function _R(e){var t=null;return new nn().box("moov",vt).box("trak",vt).box("mdia",vt).box("minf",vt).box("stbl",vt).S("stsd",Es).box("encv",Qr).box("enca",q1).box("sinf",vt).box("schi",vt).S("tenc",function(n){n=n.reader,n.T(),n.T(),n.T(),n.T(),t=Io(n.ub(16))}).parse(e,!0),t}function bb(e,t,n){var r,i,o,u,c;return L(function(h){if(h.g==1)return r=t,r.cryptoKey?h.u(2):k(h,r.fetchKey(),3);if(i=r.iv,!i)for(i=Ge(new ArrayBuffer(16)),o=r.firstMediaSequenceNumber+n,u=i.byteLength-1;0<=u;u--)i[u]=o&255,o>>=8;return t.blockCipherMode=="CBC"?c={name:"AES-CBC",iv:i}:c={name:"AES-CTR",counter:i,length:64},h.return(d.crypto.subtle.decrypt(c,r.cryptoKey,e))})}function yc(e,t,n,r,i){return e=qn(e,r,i),(t!=0||n!=null)&&(e.headers.Range=n?"bytes="+t+"-"+n:"bytes="+t+"-"),e}function E4(e,t){var n=this;this.g=t,this.l=e,this.h=null,this.G=new Map,this.B=1,this.s=this.j=null,this.K=0,this.H=!1,this.i=new Map,this.F=!1,this.L=null,this.A=!1,this.m=new lc(function(){return PR(n)}),this.M=Date.now()/1e3,this.o=new Map,this.I={projection:null,hfov:null},this.R=0,this.O=1/0,this.C=null}f=E4.prototype,f.destroy=function(){return this.m.destroy()};function PR(e){var t,n,r,i,o,u,c;return L(function(h){if(h.g==1){for(t=[],n=w(e.i.values()),r=n.next();!r.done;r=n.next())i=r.value,Hp(i),t.push(qp(i)),i.V&&(Da(i.V),i.V=null);for(o=w(e.o.values()),u=o.next();!u.done;u=o.next())c=u.value,Da(c);return k(h,Promise.all(t),2)}e.i.clear(),e.o.clear(),e.g=null,e.l=null,e.h=null,te(h)})}f.configure=function(e){if(this.h=e,this.L=new s5({maxAttempts:Math.max(e.retryParameters.maxAttempts,2),baseDelay:e.retryParameters.baseDelay,backoffFactor:e.retryParameters.backoffFactor,fuzzFactor:e.retryParameters.fuzzFactor,timeout:0,stallTimeout:0,connectionTimeout:0},!0),e.disableAudioPrefetch){var t=this.i.get("audio");t&&t.V&&(Da(t.V),t.V=null),t=w(this.o.keys());for(var n=t.next();!n.done;n=t.next())n=n.value,Da(this.o.get(n)),this.o.delete(n)}for(e.disableTextPrefetch&&(t=this.i.get(bt))&&t.V&&(Da(t.V),t.V=null),e.disableVideoPrefetch&&(t=this.i.get("video"))&&t.V&&(Da(t.V),t.V=null),t=w(this.i.keys()),n=t.next();!n.done;n=t.next())n=this.i.get(n.value),n.V?(S4(n.V,e.segmentPrefetchLimit),0<e.segmentPrefetchLimit||(Da(n.V),n.V=null)):0<e.segmentPrefetchLimit&&(n.V=xb(this,n.stream));e.disableAudioPrefetch||jR(this)};function DR(e,t,n){e.l.presentationTimeline.U()||(e.R=t,e.O=n)}f.start=function(e){var t=this;return L(function(n){if(n.g==1)return k(n,OR(t,e||new Map),2);Qt(t.m),t.F=!0,te(n)})};function LR(e,t){var n,r,i,o,u,c;L(function(h){switch(h.g){case 1:return n=Nn,e.K++,r=e.K,se(h,2),k(h,t4(e.g.ba,n.wa),4);case 4:z(h,3);break;case 2:i=Y(h),e.g&&e.g.onError(i);case 3:o=Un(t.mimeType,t.codecs),Zg(e.g.ba,o,e.l.sequenceMode,t.external),u=e.g.ba.aa,(u.isTextVisible()||e.h.alwaysStreamText)&&e.K==r&&(c=C4(e,t),e.i.set(n.wa,c),Ui(e,c,0)),te(h)}})}function RR(e){var t=e.i.get(bt);t&&(Hp(t),qp(t).catch(function(){}),e.C=e.i.get(bt),e.i.delete(bt)),e.s=null}function wb(e,t){for(var n=0>e.g.hb(),r=w(e.i.values()),i=r.next();!i.done;i=r.next())i=i.value,i.ha&&i.ha.Wc(n),i.V&&i.V.Wc(n);for(r=w(e.o.values()),i=r.next();!i.done;i=r.next())i.value.Wc(n);(n=e.i.get("video"))&&(r=n.stream)&&(t?(t=r.trickModeVideo)&&!n.dc&&(bc(e,t,!1,0,!1),n.dc=r):(t=n.dc)&&(n.dc=null,bc(e,t,!0,0,!1)))}function A4(e,t,n,r,i,o){n=n===void 0?!1:n,r=r===void 0?0:r,i=i===void 0?!1:i,o=o===void 0?!1:o,e.j=t,e.F&&(t.video&&bc(e,t.video,n,r,i,o),t.audio&&bc(e,t.audio,n,r,i,o))}function am(e,t){L(function(n){if(n.g==1)return e.C=null,e.s=t,e.F?t.segmentIndex?n.u(2):k(n,t.createSegmentIndex(),2):n.return();bc(e,t,!0,0,!1),te(n)})}function NR(e,t){for(var n=w(e.G.entries()),r=n.next();!r.done;r=n.next()){var i=w(r.value);r=i.next().value,i=i.next().value,r.includes(t.type)&&(i(),e.G.delete(r))}}function bc(e,t,n,r,i,o){var u=e.i.get(t.type);u||t.type!=bt?u&&(u.dc&&(t.trickModeVideo?(u.dc=t,t=t.trickModeVideo):u.dc=null),u.stream!=t||i)&&(e.o.has(t)?u.V=e.o.get(t):u.V&&kR(u.V,t),t.type==bt&&(i=Un(t.mimeType,t.codecs),Zg(e.g.ba,i,e.l.sequenceMode,t.external)),!e.o.has(u.stream)&&u.stream.closeSegmentIndex&&(u.Ma?(i="("+u.type+":"+u.stream.id+")",e.G.has(i)||e.G.set(i,u.stream.closeSegmentIndex)):u.stream.closeSegmentIndex()),u.stream=t,u.ha=null,u.fg=!!o,n?u.Zc?u.Ae=!0:u.Ma?(u.ic=!0,u.Gd=r,u.Ae=!0):(Hp(u),Ab(e,u,!0,r).catch(function(c){e.g&&e.g.onError(c)})):u.Ma||u.wb||Ui(e,u,0),UR(e,u).catch(function(c){e.g&&e.g.onError(c)})):LR(e,t)}function UR(e,t){var n,r;return L(function(i){if(i.g==1)return t.lb?(n=t.stream,r=t.lb,n.segmentIndex?i.u(2):k(i,n.createSegmentIndex(),2)):i.return();if(t.lb!=r||t.stream!=n)return i.return();var o=e.g.ed(),u=Bp(e.g.ba,t.type),c=t.stream.segmentIndex.find(t.Pa?t.Pa.endTime:o),h=c==null?null:t.stream.segmentIndex.get(c);c=h&&h.ua?h.ua-h.Ha:null,h&&!c&&(c=(h.endTime-h.getStartTime())*(t.stream.bandwidth||0)/8),c?((h=h.$)&&(c+=(h.ua?h.ua-h.Ha:null)||0),h=e.g.getBandwidthEstimate(),o=8*c/h<(u||0)-o-Math.max(e.l.minBufferTime||0,e.h.rebufferingGoal)||t.lb.h.g>c):o=!1,o&&t.lb.abort(),te(i)})}f.Uc=function(){if(this.g)for(var e=this.g.ed(),t=w(this.i.keys()),n=t.next();!n.done;n=t.next()){var r=n.value;n=this.i.get(r);var i=this.g.ba;if(r==bt?(i=i.g,i=i.g==null||i.h==null?!1:e>=i.g&&e<i.h):(i=fc(i,r),i=Q1(i,e)),!i){if(n.V&&(n.V.g=null),n.type==="audio"){i=w(this.o.values());for(var o=i.next();!o.done;o=i.next())o.value.g=null}n.ha=null,(Bp(this.g.ba,r)!=null||n.Ma)&&om(this,n),n.lb&&(n.lb.abort(),n.lb=null),r===bt&&(r=this.g.ba,r.F&&r.F.g()),n.Uc=!0}}};function om(e,t){t.Zc||t.ic||(t.Ma?(t.ic=!0,t.Gd=0):ab(e.g.ba,t.type)==null?t.wb==null&&Ui(e,t,0):(Hp(t),Ab(e,t,!1,0).catch(function(n){e.g&&e.g.onError(n)})))}function OR(e,t){var n,r,i,o,u,c,h,g,v,b;return L(function(x){if(x.g==1){if(n=Nn,!e.j)throw new $(2,5,5006);return r=new Map,i=new Set,e.j.audio&&(r.set(n.Y,e.j.audio),i.add(e.j.audio)),e.j.video&&(r.set(n.ka,e.j.video),i.add(e.j.video)),e.s&&(r.set(n.wa,e.s),i.add(e.s)),o=e.g.ba,k(x,o.init(r,e.l.sequenceMode,e.l.type,e.l.ignoreManifestTimestampsInSegmentsMode),2)}for(Qt(e.m),e.updateDuration(),u=w(r.keys()),c=u.next();!c.done;c=u.next())h=c.value,g=r.get(h),e.i.has(h)||(v=C4(e,g),t.has(g.id)&&(b=t.get(g.id),TR(b,function(S,T,A){return sm(S,T,A||null,e.h.retryParameters,e.g.Nb)}),v.V=b),e.i.set(h,v),Ui(e,v,0));te(x)})}function C4(e,t){return{stream:t,type:t.type,ha:null,V:xb(e,t),Pa:null,Lc:null,Ud:null,Td:null,Sd:null,dc:null,endOfStream:!1,Ma:!1,wb:null,ic:!1,Gd:0,Ae:!1,Zc:!1,Uc:!0,Hf:!1,hd:!1,lb:null}}function xb(e,t){if(t.type==="video"&&e.h.disableVideoPrefetch||t.type==="audio"&&e.h.disableAudioPrefetch||t.type===bt&&(t.mimeType=="application/cea-608"||t.mimeType=="application/cea-708")||t.type===bt&&e.h.disableTextPrefetch)return null;if(e.o.has(t))return e.o.get(t);var n=e.i.get(t.type);return(n=n&&n.V)&&t===n.i?n:0<e.h.segmentPrefetchLimit?new tm(e.h.segmentPrefetchLimit,t,function(r,i,o){return sm(r,i,o||null,e.h.retryParameters,e.g.Nb)},0>e.g.hb()):null}function jR(e){for(var t=e.h.segmentPrefetchLimit,n=e.h.prefetchAudioLanguages,r=w(e.l.variants),i=r.next(),o={};!i.done;o={ob:void 0},i=r.next())if(o.ob=i.value,o.ob.audio)if(e.o.has(o.ob.audio)){if(i=e.o.get(o.ob.audio),S4(i,t),!(0<t&&n.some(function(c){return function(h){return nc(c.ob.audio.language,h)}}(o)))){var u=e.i.get(o.ob.audio.type);i!==(u&&u.V)&&Da(i),e.o.delete(o.ob.audio)}}else 0>=t||!n.some(function(c){return function(h){return nc(c.ob.audio.language,h)}}(o))||!(i=xb(e,o.ob.audio))||(o.ob.audio.segmentIndex||o.ob.audio.createSegmentIndex(),e.o.set(o.ob.audio,i))}f.updateDuration=function(){var e=this.l.presentationTimeline.getDuration();1/0>e?this.g.ba.$a(e):this.g.ba.$a(this.h.infiniteLiveStreamDuration?1/0:Math.pow(2,32))};function FR(e,t){var n,r,i,o,u,c;return L(function(h){switch(h.g){case 1:if(Qt(e.m),t.Ma||t.wb==null||t.Zc)return h.return();if(t.wb=null,!t.ic){h.u(2);break}return k(h,Ab(e,t,t.Ae,t.Gd),3);case 3:return h.return();case 2:if(NR(e,t),t.stream.segmentIndex){h.u(4);break}return n=t.stream,se(h,5),k(h,t.stream.createSegmentIndex(),7);case 7:z(h,6);break;case 5:return r=Y(h),k(h,Cb(e,t,r),8);case 8:return h.return();case 6:if(n!=t.stream)return n.closeSegmentIndex&&n.closeSegmentIndex(),t.Ma||t.wb||Ui(e,t,0),h.return();case 4:se(h,9),i=BR(e,t),i!=null&&(Ui(e,t,i),t.hd=!1),z(h,10);break;case 9:return o=Y(h),k(h,Cb(e,t,o),11);case 11:return h.return();case 10:if(u=Array.from(e.i.values()),!e.F||!u.every(function(g){return g.endOfStream})){h.u(0);break}return k(h,e.g.ba.endOfStream(),13);case 13:Qt(e.m),c=e.g.ba.getDuration(),c!=0&&c<e.l.presentationTimeline.getDuration()&&e.l.presentationTimeline.$a(c),te(h)}})}function BR(e,t){if(kb(t))return oR(e.g.ba,t.stream.originalId||""),null;if(t.type==bt&&sR(e.g.ba),!e.g.ba.ea&&t.type!=bt)return e.h.updateIntervalSeconds/2;var n=e.g.ed();if(t.type==="audio")for(var r=w(e.o.keys()),i=r.next();!i.done;i=r.next())i=e.o.get(i.value),i.Ga(n,!0),zp(i,n);r=t.Pa?t.Pa.endTime:n;var o=iR(e.g.ba,t.type,n),u=Math.max(1,Math.max(e.l.minBufferTime||0,e.h.rebufferingGoal,e.h.bufferingGoal)*e.B),c=e.l.presentationTimeline.getDuration()-r;if(i=Bp(e.g.ba,t.type),1e-6>c&&i)return t.endOfStream=!0,t.type=="video"&&(e=e.i.get(bt))&&kb(e)&&(e.endOfStream=!0),null;if(t.endOfStream=!1,o>=u)return e.h.updateIntervalSeconds/2;if(u=!t.ha,i=VR(e,t,n,i),!i)return e.h.updateIntervalSeconds;o=!1,u&&t.fg&&(o=!0,t.fg=!1),u=1/0,c=Array.from(e.i.values()),c=w(c);for(var h=c.next();!h.done;h=c.next())h=h.value,kb(h)||h.ha&&!h.ha.current()||(u=Math.min(u,h.Pa?h.Pa.endTime:n));return r>=u+e.l.presentationTimeline.h?e.h.updateIntervalSeconds:(t.V&&t.ha&&!e.o.has(t.stream)&&(t.V.Ga(i.startTime),zp(t.V,i.startTime)),zR(e,t,n,i,o).catch(function(){}),null)}function VR(e,t,n,r){if(t.ha)return t.ha.current();if(t.Pa||r)return n=t.Pa?t.Pa.endTime:r,e=0>e.g.hb(),t.stream.segmentIndex&&(t.ha=t.stream.segmentIndex.Jb(n,!1,e)),t.ha&&t.ha.next().value;r=e.l.sequenceMode?0:e.h.inaccurateManifestTolerance;var i=Math.max(n-r,0);e=0>e.g.hb();var o=null;return r&&(t.stream.segmentIndex&&(t.ha=t.stream.segmentIndex.Jb(i,!1,e)),o=t.ha&&t.ha.next().value),o||(t.stream.segmentIndex&&(t.ha=t.stream.segmentIndex.Jb(n,!1,e)),o=t.ha&&t.ha.next().value),o}function zR(e,t,n,r,i){var o,u,c,h,g,v,b,x,S,T,A,C,M,_,O,P;return L(function(j){switch(j.g){case 1:if(o=Nn,u=t.stream,c=t.ha,t.Ma=!0,se(j,2),r.$b()==2)throw new $(1,1,1011);return k(j,qR(e,t,r,i),4);case 4:return Qt(e.m),e.A?j.return():(h=u.mimeType=="video/mp4"||u.mimeType=="audio/mp4",g=d.ReadableStream,e.h.lowLatencyMode&&e.l.isLowLatency&&g&&h&&(e.l.type!="HLS"||r.m)?(x=new Uint8Array(0),T=S=!1,C=function(V){var B,H,W;return L(function(G){switch(G.g){case 1:if(S||(T=!0,Qt(e.m),e.A))return G.return();if(se(G,2),x=$R(x,V),B=!1,H=0,new nn().box("mdat",function(ee){H=ee.size+ee.start,B=!0}).parse(x,!1,!0),!B){G.u(4);break}return W=x.subarray(0,H),x=x.subarray(H),k(G,Sb(e,t,n,u,r,W,!0,i),5);case 5:t.V&&t.ha&&zp(t.V,r.startTime,!0);case 4:z(G,0);break;case 2:A=Y(G),te(G)}})},k(j,Eb(e,t,r,C),9)):(v=Eb(e,t,r),k(j,v,7)));case 7:return b=j.h,Qt(e.m),e.A?j.return():(Qt(e.m),t.ic?(t.Ma=!1,Ui(e,t,0),j.return()):k(j,Sb(e,t,n,u,r,b,!1,i),6));case 9:if(M=j.h,A)throw A;if(T){j.u(10);break}return S=!0,Qt(e.m),e.A?j.return():t.ic?(t.Ma=!1,Ui(e,t,0),j.return()):k(j,Sb(e,t,n,u,r,M,!1,i),10);case 10:t.V&&t.ha&&zp(t.V,r.startTime,!0);case 6:if(Qt(e.m),e.A)return j.return();t.Pa=r,c.next(),t.Ma=!1,t.Hf=!1,_=e.g.ba.zb(),O=_[t.type],JSON.stringify(O),t.ic||e.g.Bf(r,t.stream),Ui(e,t,0),z(j,0);break;case 2:if(P=Y(j),Qt(e.m,P),e.A)return j.return();if(t.Ma=!1,P.code==7001)t.Ma=!1,Hp(t),Ui(e,t,0),j.u(0);else if(t.type==o.wa&&e.h.ignoreTextStreamFailures)e.i.delete(o.wa),j.u(0);else return P.code==3017?k(j,HR(e,t,P),0):(t.hd=!0,P.category==1&&t.V&&$p(t.V,r),P.severity=2,k(j,Cb(e,t,P),0))}})}function $R(e,t){var n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function HR(e,t,n){var r,i,o,u;return L(function(c){if(c.g==1){if(r=Array.from(e.i.values()),r.some(function(h){return h!=t&&h.Hf}))return c.u(2);if(i=e.h.maxDisabledTime===0&&n.code==1011?1:e.h.maxDisabledTime,e.g.disableStream(t.stream,i))return c.return();if(o=Math.round(100*e.B),20<o)e.B-=.2;else if(4<o)e.B-=.04;else return t.hd=!0,e.A=!0,e.g.onError(n),c.return();return t.Hf=!0,u=e.g.ed(),k(c,Tb(e,t,u),2)}Ui(e,t,4),te(c)})}function qR(e,t,n,r){var i,o,u,c,h,g,v,b,x,S,T,A,C,M,_,O;return L(function(P){switch(P.g){case 1:if(i=Nn,o=t.Pa==null,u=[],c=Math.max(0,Math.max(n.appendWindowStart,e.R)-.1),h=Math.min(n.appendWindowEnd,e.O)+.01,g=n.codecs||t.stream.codecs,v=Ss(g),b=mi(n.mimeType||t.stream.mimeType),x=n.timestampOffset,x==t.Ud&&c==t.Td&&h==t.Sd&&v==t.uf&&b==t.vf){P.u(2);break}if(S=t.uf&&t.vf&&fR(e.g.ba,t.type,b,g),!S){P.u(3);break}if(T=null,t.type===i.ka?T=e.i.get(i.Y):t.type===i.Y&&(T=e.i.get(i.ka)),!T){P.u(3);break}return k(P,qp(T).catch(function(){}),5);case 5:T.Lc=null,om(e,T);case 3:return k(P,I4(e,t,x,c,h,n,v,b),2);case 2:return Y1(n.$,t.Lc)||(t.Lc=n.$,n.l&&n.$&&(A=Eb(e,t,n.$),C=function(){var j,V,B,H,W,G,ee;return L(function(re){switch(re.g){case 1:return se(re,2),k(re,A,4);case 4:return j=re.h,Qt(e.m),V=null,B=new Map,H={projection:null,hfov:null},W=new nn,W.box("moov",vt).box("trak",vt).box("mdia",vt).S("mdhd",function(ce){V=Wg(ce.reader,ce.version).timescale}).box("hdlr",function(ce){switch(ce=ce.reader,ce.skip(8),ce.uc()){case"soun":B.set(i.Y,V);break;case"vide":B.set(i.ka,V)}V=null}).box("minf",vt).box("stbl",vt).S("stsd",Es).box("encv",Qr).box("avc1",Qr).box("avc3",Qr).box("hev1",Qr).box("hvc1",Qr).box("dvav",Qr).box("dva1",Qr).box("dvh1",Qr).box("dvhe",Qr).box("dvc1",Qr).box("dvi1",Qr).box("vexu",vt).box("proj",vt).S("prji",function(ce){ce=ce.reader.uc(),H.projection=ce}).box("hfov",function(ce){ce=ce.reader.P()/1e3,H.hfov=ce}).parse(j),GR(e,H),B.has(t.type)?n.$.timescale=B.get(t.type):V!=null&&(n.$.timescale=V),G=t.stream.closedCaptions&&0<t.stream.closedCaptions.size,k(re,e.g.ig(t.type,j),5);case 5:return k(re,Qg(e.g.ba,t.type,j,null,t.stream,G,t.Uc,r),6);case 6:z(re,0);break;case 2:throw ee=Y(re),t.Lc=null,ee}})},M=n.startTime,o&&(_=Bp(e.g.ba,t.type),_!=null&&(M=_)),e.g.Bi(M,n.$),u.push(C()))),e.l.sequenceMode&&(O=t.Pa?t.Pa.i:null,n.i!=O&&u.push(lR(e.g.ba,t.type,n.startTime))),k(P,Promise.all(u),0)}})}function I4(e,t,n,r,i,o,u,c){var h,g,v,b;return L(function(x){if(x.g==1)return h=Nn,g=new Map,e.j.audio&&g.set(h.Y,e.j.audio),e.j.video&&g.set(h.ka,e.j.video),se(x,2),t.Td=r,t.Sd=i,u&&(t.uf=u),c&&(t.vf=c),t.Ud=n,v=e.l.sequenceMode||e.l.type=="HLS",k(x,uR(e.g.ba,t.type,n,r,i,v,o.mimeType||t.stream.mimeType,o.codecs||t.stream.codecs,g),4);if(x.g!=2)return z(x,0);throw b=Y(x),t.Td=null,t.Sd=null,t.uf=null,t.vf=null,t.Ud=null,b})}function Sb(e,t,n,r,i,o,u,c){u=u===void 0?!1:u,c=c===void 0?!1:c;var h,g,v,b,x,S,T,A;return L(function(C){switch(C.g){case 1:return h=r.closedCaptions&&0<r.closedCaptions.size,v=r.emsgSchemeIdUris!=null&&0<r.emsgSchemeIdUris.length||e.h.dispatchAllEmsgBoxes,b=e.h.parsePrftBox&&!e.H,x=r.mimeType=="video/mp4"||r.mimeType=="audio/mp4",S=null,i.$&&(S=i.$.timescale),T=x&&S&&r.type==="video"&&e.l.type=="DASH"&&e.h.shouldFixTimestampOffset,(v||b||T)&&(g=new nn),v&&g.S("emsg",function(M){var _=r.emsgSchemeIdUris;if(M.version===0)var O=M.reader.uc(),P=M.reader.uc(),j=M.reader.P(),V=M.reader.P(),B=M.reader.P(),H=M.reader.P(),W=i.startTime+V/j;else j=M.reader.P(),W=M.reader.Sc()/j+i.timestampOffset,V=W-i.startTime,B=M.reader.P(),H=M.reader.P(),O=M.reader.uc(),P=M.reader.uc();M=M.reader.ub(M.reader.getLength()-M.reader.xa()),(_&&_.includes(O)||e.h.dispatchAllEmsgBoxes)&&(O=="urn:mpeg:dash:event:2012"?e.g.Ci():(_=W+B/j,j=new Map().set("detail",{startTime:W,endTime:_,schemeIdUri:O,value:P,timescale:j,presentationTimeDelta:V,eventDuration:B,id:H,messageData:M}),j=new Me("emsg",j),j.cancelable=!0,e.g.onEvent(j),!j.defaultPrevented&&(O=="https://aomedia.org/emsg/ID3"||O=="https://developer.apple.com/streaming/emsg-id3")&&(O=Ru(M),O.length)&&e.g.onMetadata([{cueTime:W,data:M,frames:O,dts:W,pts:W}],0,_)))}),b&&g.S("prft",function(M){if(!e.H&&i.$.timescale){var _=M.reader,O=M.version;_.P(),M=_.P();var P=_.P();M=1e3*M+P/Math.pow(2,32)*1e3,O===0?_=_.P():(O=_.P(),_=_.P(),_=O*Math.pow(2,32)+_),M=new Date(new Date(Date.UTC(1900,0,1,0,0,0)).getTime()+M).getTime(),_=new Map().set("detail",{wallClockTime:M,programStartDate:new Date(M-_/i.$.timescale*1e3)}),_=new Me("prft",_),e.g.onEvent(_),e.H=!0}}),T&&g.box("moof",vt).box("traf",vt).S("tfdt",function(M){var _,O,P,j,V,B;return L(function(H){return _=Kg(M.reader,M.version),O=_.baseMediaDecodeTime,O?(P=-O/S,j=Number(t.Ud)||0,j<P?(V=t.Td,B=t.Sd,k(H,I4(e,t,P,V,B,i),0)):H.u(0)):H.return()})}),(v||b||T)&&g.parse(o,!1,u),k(C,Tb(e,t,n),2);case 2:return Qt(e.m),A=t.Uc,t.Uc=!1,k(C,e.g.ig(t.type,o),3);case 3:return k(C,Qg(e.g.ba,t.type,o,i,r,h,A,c,u),4);case 4:Qt(e.m),te(C)}})}function Tb(e,t,n){var r,i,o,u,c;return L(function(h){if(h.g==1)return r=t.stream.segmentIndex,r instanceof bn&&r.Ga(e.l.presentationTimeline.Kb()),i=Math.max(e.h.bufferBehind*e.B,e.l.presentationTimeline.h),o=ab(e.g.ba,t.type),o==null?(e.C==t&&(e.C=null),h.return()):(u=n-o,c=u-i,c<=e.h.evictionGoal?h.return():k(h,e.g.ba.remove(t.type,o,o+c),2));if(h.g!=4)return Qt(e.m),e.C?k(h,Tb(e,e.C,n),4):h.u(0);Qt(e.m),te(h)})}function kb(e){return e&&e.type==bt&&(e.stream.mimeType=="application/cea-608"||e.stream.mimeType=="application/cea-708")}function Eb(e,t,n,r){var i,o,u,c,h;return L(function(g){switch(g.g){case 1:if(i=n.oc())return g.return(i);if(o=null,t.V){var v=t.V,b=v.h;n instanceof Jr&&(b=v.j),b.has(n)?(v=b.get(n),r&&(v.Uf=r),o=v.de):o=null}return o||(o=sm(n,t.stream,r||null,e.h.retryParameters,e.g.Nb)),u=0,t.ha&&(u=t.ha.h),t.lb=o,k(g,o.promise,2);case 2:if(c=g.h,t.lb=null,h=c.data,!n.aesKey){g.u(3);break}return k(g,bb(h,n.aesKey,u),4);case 4:h=g.h;case 3:return g.return(h)}})}function sm(e,t,n,r,i,o){o=o===void 0?!1:o;var u=e instanceof Ye?e:void 0,c=u?1:0;return e=yc(e.N(),e.Ha,e.ua,r,n),e.contentType=t.type,i.request(_a,e,{type:c,stream:t,segment:u,isPreload:o})}function Ab(e,t,n,r){var i,o;return L(function(u){if(u.g==1)return t.ic=!1,t.Ae=!1,t.Gd=0,t.Zc=!0,t.Pa=null,t.ha=null,t.V&&!e.o.has(t.stream)&&Da(t.V),r?(i=e.g.ed(),o=e.g.ba.getDuration(),k(u,e.g.ba.remove(t.type,i+r,o),3)):k(u,t4(e.g.ba,t.type),4);if(u.g!=3)return Qt(e.m),n?k(u,e.g.ba.flush(t.type),3):u.u(3);Qt(e.m),t.Zc=!1,t.endOfStream=!1,t.Ma||t.wb||Ui(e,t,0),te(u)})}function Ui(e,t,n){var r=t.type;(r!=bt||e.i.has(r))&&(t.wb=new cp(function(){var i;return L(function(o){if(o.g==1)return se(o,2),k(o,FR(e,t),4);if(o.g!=2)return z(o,0);i=Y(o),e.g&&e.g.onError(i),te(o)})}).Z(n))}function Hp(e){e.wb!=null&&(e.wb.stop(),e.wb=null)}function qp(e){return L(function(t){return e.lb?k(t,e.lb.abort(),0):t.u(0)})}function Cb(e,t,n){var r;return L(function(i){if(i.g==1)return k(i,u5(e.L),2);if(Qt(e.m),n.category===1&&n.code!=1003){if(t.dc)return wb(e,!1),i.return();r=e.h.maxDisabledTime===0&&n.code==1011?1:e.h.maxDisabledTime,n.handled=e.g.disableStream(t.stream,r),n.handled&&(n.severity=1)}(!n.handled||n.code!=1011)&&e.g.onError(n),n.handled||e.h.failureCallback(n),te(i)})}function M4(e){var t,n,r,i,o,u;return L(function(c){return c.g==1?(t=Date.now()/1e3,n=e.h.minTimeBetweenRecoveries,!e.h.allowMediaSourceRecoveries||t-e.M<n?c.return(!1):(e.M=t,r=Nn,(i=e.i.get(r.Y))&&(i.Lc=null,om(e,i),qp(i).catch(function(){}),i.ha&&i.ha.Jf()),(o=e.i.get(r.ka))&&(o.Lc=null,om(e,o),qp(o).catch(function(){}),o.ha&&o.ha.Jf()),u=new Map,e.j.audio&&u.set(r.Y,e.j.audio),e.j.video&&u.set(r.ka,e.j.video),k(c,r4(e.g.ba,u),2))):c.return(!0)})}function GR(e,t){if(e.I.projection!=t.projection||e.I.hfov!=t.hfov){if(t.projection!=null||t.hfov!=null){var n=new Map().set("detail",t);n=new Me("spatialvideoinfo",n)}else n=new Me("nospatialvideoinfo");n.cancelable=!0,e.g.onEvent(n),e.I=t}}function um(){}function Ib(e,t,n,r,i){var o=i in r,u=o?n.constructor==Object&&Object.keys(r).length==0:n.constructor==Object&&Object.keys(n).length==0,c=o||u,h=!0,g;for(g in t){var v=i+"."+g,b=o?r[i]:n[g];c||g in n?t[g]===void 0?b===void 0||c?delete e[g]:e[g]=Ga(b):u?e[g]=t[g]:b.constructor==Object&&t[g]&&t[g].constructor==Object?(e[g]||(e[g]=Ga(b)),v=Ib(e[g],t[g],b,r,v),h=h&&v):typeof t[g]!=typeof b||t[g]==null||typeof t[g]!="function"&&t[g].constructor!=b.constructor?(et("Invalid config, wrong type for "+v),h=!1):(typeof n[g]=="function"&&n[g].length!=t[g].length&&ze("Unexpected number of arguments for "+v),e[g]=t[g]):(et("Invalid config, unrecognized key "+v),h=!1)}return h}function lm(e,t){for(var n={},r=n,i=0,o=0;i=e.indexOf(".",i),!(0>i);)(i==0||e[i-1]!="\\")&&(o=e.substring(o,i).replace(/\\\./g,"."),r[o]={},r=r[o],o=i+1),i+=1;return r[e.substring(o).replace(/\\\./g,".")]=t,n}function wc(e,t){return e&&t}function _4(e,t){function n(u){for(var c=w(Object.keys(u)),h=c.next();!h.done;h=c.next())h=h.value,o(u[h])&&Object.keys(u[h]).length===0||i(u[h])||typeof u[h]=="function"?delete u[h]:o(u[h])&&(n(u[h]),Object.keys(u[h]).length===0&&delete u[h])}function r(u,c){return Object.keys(u).reduce(function(h,g){var v=u[g];return c.hasOwnProperty(g)?o(v)&&o(c[g])?(v=r(v,c[g]),(0<Object.keys(v).length||!o(v))&&(h[g]=v)):i(v)&&i(c[g])||Number.isNaN(v)&&Number.isNaN(c[g])||v!==c[g]&&(h[g]=v):h[g]=v,h},{})}function i(u){return Array.isArray(u)&&u.length===0}function o(u){return u&&typeof u=="object"&&!Array.isArray(u)}return e=r(e,t),n(e),e}Ae("shaka.util.ConfigUtils",um),um.getDifferenceFromConfigObjects=_4,um.convertToConfigObject=lm,um.mergeConfigObjects=Ib;function Oi(){}function P4(e){return e=To(e),new En(e).Fb}function Gp(e,t,n){function r(c){cr(o).setUint32(u,c.byteLength,!0),u+=4,o.set(Ge(c),u),u+=c.byteLength}if(!n||!n.byteLength)throw new $(2,6,6015);var i;typeof t=="string"?i=y1(t,!0):i=t,e=To(e),e=y1(e,!0);var o=new Uint8Array(12+e.byteLength+i.byteLength+n.byteLength),u=0;return r(e),r(i),r(n),o}function D4(e,t,n){return t!=="skd"?e:(t=n.serverCertificate,n=To(e).split("skd://").pop(),Gp(e,n,t))}function Mb(e,t){e===2&&(t.headers["Content-Type"]="application/octet-stream")}Ae("shaka.util.FairPlayUtils",Oi),Oi.commonFairPlayResponse=function(e,t){if(e===2){try{var n=hn(t.data)}catch{return}e=!1,n=n.trim(),n.substr(0,5)==="<ckc>"&&n.substr(-6)==="</ckc>"&&(n=n.slice(5,-6),e=!0);try{var r=JSON.parse(n);r.ckc&&(n=r.ckc,e=!0),r.CkcMessage&&(n=r.CkcMessage,e=!0),r.License&&(n=r.License,e=!0)}catch{}e&&(t.data=Vt(Ri(n)))}},Oi.expressplayFairPlayRequest=function(e,t){Mb(e,t)},Oi.conaxFairPlayRequest=function(e,t){Mb(e,t)},Oi.ezdrmFairPlayRequest=function(e,t){Mb(e,t)},Oi.verimatrixFairPlayRequest=function(e,t){e===2&&(e=Ge(t.body),e=Cu(e),t.headers["Content-Type"]="application/x-www-form-urlencoded",t.body=Ia("spc="+e))},Oi.expressplayInitDataTransform=function(e,t,n){return D4(e,t,n)},Oi.conaxInitDataTransform=function(e,t,n){if(t!=="skd")return e;t=n.serverCertificate,n=To(e).split("skd://").pop().split("?").shift(),n=d.atob(n);var r=new ArrayBuffer(2*n.length);r=Ct(r);for(var i=0,o=n.length;i<o;i++)r[i]=n.charCodeAt(i);return Gp(e,r,t)},Oi.ezdrmInitDataTransform=function(e,t,n){return t!=="skd"?e:(t=n.serverCertificate,n=To(e).split(";").pop(),Gp(e,n,t))},Oi.verimatrixInitDataTransform=function(e,t,n){return D4(e,t,n)},Oi.initDataTransform=Gp,Oi.defaultGetContentId=P4,Oi.isFairPlaySupported=function(){var e;return L(function(t){return t.g==1?(e={initDataTypes:["cenc","sinf","skd"],videoCapabilities:[{contentType:'video/mp4; codecs="avc1.42E01E"'}]},se(t,2),k(t,navigator.requestMediaKeySystemAccess("com.apple.fps",[e]),4)):t.g!=2?t.return(!0):(Y(t),t.return(!1))})};function _b(){}function xc(){var e=1/0;navigator.connection&&navigator.connection.saveData&&(e=360);var t={retryParameters:Ma(),servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1,persistentSessionOnlinePlayback:!1,persistentSessionsMetadata:[],initDataTransform:function(v,b,x){return Sg()&&b=="skd"&&(b=x.serverCertificate,x=P4(v),v=Gp(v,x,b)),v},logLicenseExchange:!1,updateExpirationTime:1,preferredKeySystems:[],keySystemsMapping:{},parseInbandPsshEnabled:Ca(),minHdcpVersion:"",ignoreDuplicateInitData:!yg()};(Ca()||ea())&&t.preferredKeySystems.push("com.microsoft.playready");var n="reload",r=!1;!kn()||yg()||hp()||Ut("Tizen 4")||Ut("Tizen 5")||Ut("Tizen 6")||bg()||qa()&&h1()===53||qa()&&h1()===68||ea()||fp()||!(!Yr()||Yr()&&xg()||Yr()&&Ut("Fuchsia"))||g1()&&pp()||(n="smooth",r=!0),r={retryParameters:Ma(),availabilityWindowOverride:NaN,disableAudio:!1,disableVideo:!1,disableText:!1,disableThumbnails:!1,defaultPresentationDelay:0,segmentRelativeVttTiming:!1,raiseFatalErrorOnManifestUpdateRequestFailure:!1,continueLoadingWhenPaused:!0,dash:{clockSyncUri:"",ignoreDrmInfo:!1,disableXlinkProcessing:!1,xlinkFailGracefully:!1,ignoreMinBufferTime:!1,autoCorrectDrift:!0,initialSegmentLimit:1e3,ignoreSuggestedPresentationDelay:!1,ignoreEmptyAdaptationSet:!1,ignoreMaxSegmentDuration:!1,keySystemsByURI:{"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready"},manifestPreprocessor:cm,manifestPreprocessorTXml:dm,sequenceMode:!1,enableAudioGroups:!1,multiTypeVariantsAllowed:r,useStreamOnceInPeriodFlattening:!1,updatePeriod:-1,enableFastSwitching:!0},hls:{ignoreTextStreamFailures:!1,ignoreImageStreamFailures:!1,defaultAudioCodec:"mp4a.40.2",defaultVideoCodec:"avc1.42E01E",ignoreManifestProgramDateTime:!1,ignoreManifestProgramDateTimeForTypes:[],mediaPlaylistFullMimeType:'video/mp2t; codecs="avc1.42E01E, mp4a.40.2"',liveSegmentsDelay:3,sequenceMode:!(hp()||yg()||bg()||ea()),ignoreManifestTimestampsInSegmentsMode:!1,disableCodecGuessing:!1,disableClosedCaptionsDetection:!1,allowLowLatencyByteRangeOptimization:!0},mss:{manifestPreprocessor:cm,manifestPreprocessorTXml:dm,sequenceMode:!1,keySystemsBySystemId:{"9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready"}}};var i={retryParameters:Ma(),failureCallback:function(v){return wc([v])},rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,evictionGoal:1,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,gapDetectionThreshold:.5,gapPadding:.01,gapJumpTimerTime:.25,durationBackoff:1,safeSeekOffset:5,stallEnabled:!0,stallThreshold:1,stallSkip:.1,useNativeHlsForFairPlay:!0,inaccurateManifestTolerance:2,lowLatencyMode:!1,autoLowLatencyMode:!1,forceHTTP:!1,forceHTTPS:!1,minBytesForProgressEvents:16e3,preferNativeHls:!1,updateIntervalSeconds:1,dispatchAllEmsgBoxes:!1,observeQualityChanges:!1,maxDisabledTime:30,parsePrftBox:!1,segmentPrefetchLimit:0,prefetchAudioLanguages:[],disableAudioPrefetch:!1,disableTextPrefetch:!1,disableVideoPrefetch:!1,liveSync:{enabled:!1,targetLatency:.5,targetLatencyTolerance:.5,maxPlaybackRate:1.1,minPlaybackRate:.95,panicMode:!1,panicThreshold:60,dynamicTargetLatency:{enabled:!1,stabilityThreshold:60,rebufferIncrement:.5,maxAttempts:10,maxLatency:4,minLatency:1}},allowMediaSourceRecoveries:!0,minTimeBetweenRecoveries:5,vodDynamicPlaybackRate:!1,vodDynamicPlaybackRateLowBufferRate:.95,vodDynamicPlaybackRateBufferRatio:.5,infiniteLiveStreamDuration:!1,preloadNextUrlWindow:30,loadTimeout:30,clearDecodingCache:ea()||fp(),dontChooseCodecs:!1,shouldFixTimestampOffset:qa()||Ji()};(qa()||Ji()||Yr()||wg())&&(i.stallSkip=0),Ji()&&(i.gapPadding=2);var o={trackSelectionCallback:function(v){return L(function(b){return b.return(v)})},downloadSizeCallback:function(v){var b;return L(function(x){return x.g==1?navigator.storage&&navigator.storage.estimate?k(x,navigator.storage.estimate(),3):x.return(!0):(b=x.h,x.return(b.usage+v<.95*b.quota))})},progressCallback:function(v,b){return wc([v,b])},usePersistentLicense:!0,numberOfParallelDownloads:5};e={enabled:!0,useNetworkInformation:!0,defaultBandwidthEstimate:1e6,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:e,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0,minChannelsCount:0,maxChannelsCount:1/0},advanced:{minTotalBytes:128e3,minBytes:16e3,fastHalfLife:2,slowHalfLife:5},restrictToElementSize:!1,restrictToScreenSize:!1,ignoreDevicePixelRatio:!1,clearBufferSwitch:!1,safeMarginSwitch:0,cacheLoadThreshold:20,minTimeToSwitch:Gl()?.5:0,preferNetworkInformationBandwidth:!1},n={codecSwitchingStrategy:n,addExtraFeaturesToSourceBuffer:function(v){return wc([v],"")},forceTransmux:!1,insertFakeEncryptionInInit:!0,modifyCueCallback:function(v,b){return wc([v,b])}};var u=!1,c=!1,h=!0;m1()&&(c=u=!0,h=!1);var g={drm:t,manifest:r,streaming:i,mediaSource:n,offline:o,abrFactory:function(){return new gn},abr:e,autoShowText:3,preferredAudioLanguage:"",preferredAudioLabel:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,preferredVideoHdrLevel:"AUTO",preferredVideoLayout:"",preferredVideoLabel:"",preferredVideoCodecs:[],preferredAudioCodecs:[],preferForcedSubs:!1,preferSpatialAudio:!1,preferredDecodingAttributes:[],restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0,minChannelsCount:0,maxChannelsCount:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayer:{captionsUpdatePeriod:.25},textDisplayFactory:function(){return null},cmcd:{enabled:!1,sessionId:"",contentId:"",rtpSafetyFactor:5,useHeaders:!1,includeKeys:[]},cmsd:{enabled:!0,applyMaximumSuggestedBitrate:!0,estimatedThroughputWeightRatio:.5},lcevc:{enabled:!1,dynamicPerformanceScaling:!0,logLevel:0,drawLogo:!1},ads:{customPlayheadTracker:u,skipPlayDetection:c,supportsMultipleMediaElements:h}};return o.trackSelectionCallback=function(v){return L(function(b){return b.return(KR(v,g.preferredAudioLanguage,g.preferredVideoHdrLevel))})},g}function Cs(e,t,n){var r={".drm.keySystemsMapping":"",".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",sessionType:"",serverCertificate:new Uint8Array(0),serverCertificateUri:"",individualizationServer:"",headers:{}}};return Ib(e,t,n||xc(),r,"")}function KR(e,t,n){var r=n;r=="AUTO"&&(r=d.matchMedia("(color-gamut: p3)").matches?"PQ":"SDR");var i=e.filter(function(c){return!(c.type!="variant"||c.hdr&&c.hdr!=r)});n=[];var o=Ug(t,i.map(function(c){return c.language}));o&&(n=i.filter(function(c){return Gt(c.language)==o})),n.length==0&&(n=i.filter(function(c){return c.primary})),n.length==0&&(i.map(function(c){return c.language}),n=i);var u=n.filter(function(c){return c.height&&480>=c.height});for(u.length&&(u.sort(function(c,h){return h.height-c.height}),n=u.filter(function(c){return c.height==u[0].height})),t=[],n.length&&(i=Math.floor(n.length/2),n.sort(function(c,h){return c.bandwidth-h.bandwidth}),t.push(n[i])),e=w(e),n=e.next();!n.done;n=e.next())n=n.value,n.type!=bt&&n.type!="image"||t.push(n);return t}function cm(e){return wc([e],e)}function dm(e){return wc([e],e)}Ae("shaka.util.PlayerConfiguration",_b),_b.mergeConfigObjects=Cs,_b.createDefault=xc;function No(e,t,n,r){$t.call(this),this.M=e,this.X=t,this.Ea=r.networkingEngine,this.B=n,this.o=null,this.za=0,this.cb=r.Dc,this.F=r.vi,this.gb=r.wi,this.g=r.config,this.j=this.G=this.h=null,this.ja=!1,this.H=r.Gi,this.oa=!1,this.l=null,this.ea=!1,this.i=this.C=null,this.ca=!1,this.L=new Map,this.sa=!1,this.Da=r.Fi,this.aa=new em,this.fa=new Yt,this.m=new Yt,this.O=null,this.s=!1,this.Ua=r.yh,this.la=null,this.Fa=r.xh,this.R=!1,this.K=[],this.I=[],this.A=!0}Se(No,$t);function Kp(e,t,n){(e=t?e.I:e.K)?e.push(n):n()}function WR(e){if(e.I)for(var t=w(e.I),n=t.next();!n.done;n=t.next())n=n.value,n();e.I=null}function L4(e,t){if(e.O=t,e.R=!0,e.K){t=w(e.K);for(var n=t.next();!n.done;n=t.next())n=n.value,n()}e.K=null}f=No.prototype,f.getStartTime=function(){return this.B},f.Ic=function(){return this.M},f.gf=function(){return this.h};function XR(e){return e.ca=!0,e.i}function YR(e){return e.oa=!0,e.H}f.getStats=function(){return this.aa};function ZR(e){return e.ea=!0,e.l}function QR(e){return e.sa=!0,e.L}f.start=function(){var e=this;(function(){var t;return L(function(n){switch(n.g){case 1:return k(n,Promise.resolve(),2);case 2:return se(n,3),k(n,JR(e),5);case 5:return Wp(e),k(n,e9(e),6);case 6:if(Wp(e),e.o||(e.o=new ac(e.g.preferredAudioLanguage,e.g.preferredVariantRole,e.g.preferredAudioChannelCount,e.g.preferredVideoHdrLevel,e.g.preferSpatialAudio,e.g.preferredVideoLayout,e.g.preferredAudioLabel,e.g.preferredVideoLabel,e.g.mediaSource.codecSwitchingStrategy,e.g.manifest.dash.enableAudioGroups,"")),e.Fa){var r=e.g.abrFactory;e.C=r,e.i=r(),e.i.configure(e.g.abr)}if(e.Ua){r=e.h.presentationTimeline.U();var i=Fg(e.h.variants);i=e.o.create(i),e.i.configure(e.g.abr),e.i.setVariants(Array.from(i.values())),(i=e.i.chooseVariant())&&(e.la=i,i.video&&R4(e,i.video,r),i.audio&&R4(e,i.audio,r))}return k(n,void 0,7);case 7:Wp(e),e.m.resolve(),z(n,0);break;case 3:t=Y(n),e.m.reject(t),te(n)}})})()},f.dispatchEvent=function(e){return this.O?this.O.dispatchEvent(e):$t.prototype.dispatchEvent.call(this,e)},f.onError=function(e){e.severity===2&&(this.m.reject(e),this.destroy());var t=new Map().set("detail",e);t=new Me("error",t),this.dispatchEvent(t),t.defaultPrevented&&(e.handled=!0)};function Wp(e){if(e.s)throw new $(2,7,7003)}function Pb(e,t){e.dispatchEvent(new Me("onstatechange",new Map().set("state",t)))}function JR(e){var t,n,r,i;return L(function(o){switch(o.g){case 1:if(Pb(e,"manifest-parser"),e.j||(e.G=O5(e.M,e.X),e.j=e.G(),e.j.configure(e.g.manifest,function(){return e.A})),t=Date.now()/1e3,Pb(e,"manifest"),e.h){o.u(2);break}return k(o,e.j.start(e.M,e.gb),3);case 3:e.h=o.h;case 2:return e.fa.resolve(),n=new Me("manifestparsed",void 0),k(o,Promise.resolve(),4);case 4:if(e.dispatchEvent(n),e.h.variants.length==0)throw new $(2,4,4036);t9(e.h),r=Date.now()/1e3,i=r-t,e.aa.H=i,te(o)}})}function e9(e){var t,n,r,i,o;return L(function(u){switch(u.g){case 1:if(Pb(e,"drm-engine"),e.za=Date.now()/1e3,e.l=e.cb(),e.F.g=e.l,e.l.configure(e.g.drm,function(){return e.A}),t=L5(e.F,e.h),!t){u.u(2);break}return n=new Me("trackschanged",void 0),k(u,Promise.resolve(),3);case 3:Wp(e),e.dispatchEvent(n);case 2:return r=Fg(e.h.variants),k(u,x5(e.l,r,e.h.offlineSessionIds),4);case 4:return Wp(e),k(u,D5(e.F,e.h),5);case 5:if(i=u.h,!i){u.u(0);break}return o=new Me("trackschanged",void 0),k(u,Promise.resolve(),7);case 7:e.dispatchEvent(o),te(u)}})}f.configure=function(e,t){e=lm(e,t),Cs(this.g,e)},f.getConfiguration=function(){return Ga(this.g)};function R4(e,t,n){var r,i,o,u,c;L(function(h){if(h.g==1)return r=e.g.streaming.segmentPrefetchLimit||2,i=new tm(r,t,function(g,v,b){return sm(g,v,b||null,e.g.streaming.retryParameters,e.Ea,e.A)},!1),e.L.set(t.id,i),k(h,t.createSegmentIndex(),2);o=e.B||0,(c=(u=t.segmentIndex.Jb(o))?u.current():null)||(c=Pa(t.segmentIndex)),c&&(n?c.$&&w4(i,c.$):zp(i,c.startTime)),te(h)})}f.gj=function(){return this.m},f.destroy=function(){var e=this,t,n,r;return L(function(i){switch(i.g){case 1:if(e.s=!0,!e.j||e.ja){i.u(2);break}return k(i,e.j.stop(),2);case 2:if(!e.i||e.ca){i.u(4);break}return k(i,e.i.stop(),4);case 4:if(e.H&&!e.oa&&e.H.release(),!e.l||e.ea){i.u(6);break}return k(i,e.l.destroy(),6);case 6:if(0<e.L.size&&!e.sa)for(t=w(e.L.values()),n=t.next();!n.done;n=t.next())r=n.value,Da(r);te(i)}})};function t9(e){function t(n){return n.video&&n.audio||n.video&&n.video.codecs.includes(",")}e.variants.some(t)&&(e.variants=e.variants.filter(t))}Ae("shaka.media.PreloadManager",No),No.prototype.destroy=No.prototype.destroy,No.prototype.waitForFinish=No.prototype.gj;function pm(e,t){$t.call(this);var n=this;this.i=e,this.l=t,this.g=new Map,this.m=[{Bc:null,Ac:Sc,rc:function(r,i){return Nu(n,"enter",r,i)}},{Bc:Xp,Ac:Sc,rc:function(r,i){return Nu(n,"enter",r,i)}},{Bc:Yp,Ac:Sc,rc:function(r,i){return Nu(n,"enter",r,i)}},{Bc:Sc,Ac:Xp,rc:function(r,i){return Nu(n,"exit",r,i)}},{Bc:Sc,Ac:Yp,rc:function(r,i){return Nu(n,"exit",r,i)}},{Bc:Xp,Ac:Yp,rc:function(r,i){return Nu(n,"skip",r,i)}},{Bc:Yp,Ac:Xp,rc:function(r,i){return Nu(n,"skip",r,i)}}],this.h=new ke,this.h.D(this.i,"regionremove",function(r){n.g.delete(r.region)})}Se(pm,$t),pm.prototype.release=function(){this.i=null,this.g.clear(),this.h.release(),this.h=null,$t.prototype.release.call(this)},pm.prototype.j=function(e,t){if(!this.l||e!=0){this.l=!1;for(var n=w(this.i.g),r=n.next();!r.done;r=n.next()){r=r.value;var i=this.g.get(r),o=e<r.startTime?Xp:e>r.endTime?Yp:Sc;this.g.set(r,o);for(var u=w(this.m),c=u.next();!c.done;c=u.next())c=c.value,c.Bc==i&&c.Ac==o&&c.rc(r,t)}}};function Nu(e,t,n,r){t=new Me(t,new Map([["region",n],["seeking",r]])),e.dispatchEvent(t)}var Xp=1,Sc=2,Yp=3;function hm(e,t,n){var r,i,o,u,c,h,g;return L(function(v){switch(v.g){case 1:var b=new En(e).Ra.split("/").pop().split(".");return r=b.length==1?"":b.pop().toLowerCase(),(i=n9[r])?v.return(i):(o=0,u=qn([e],n),se(v,2),u.method="HEAD",k(v,t.request(o,u).promise,4));case 4:c=v.h,i=c.headers["content-type"],z(v,3);break;case 2:if(h=Y(v),!h||h.code!=1002&&h.code!=1001){v.u(3);break}return u.method="GET",k(v,t.request(o,u).promise,6);case 6:g=v.h,i=g.headers["content-type"];case 3:return v.return(i?i.toLowerCase().split(";").shift():"")}})}var n9={mp4:"video/mp4",m4v:"video/mp4",m4a:"audio/mp4",webm:"video/webm",weba:"audio/webm",mkv:"video/webm",ts:"video/mp2t",ogv:"video/ogg",ogg:"audio/ogg",mpg:"video/mpeg",mpeg:"video/mpeg",m3u8:"application/x-mpegurl",mpd:"application/dash+xml",ism:"application/vnd.ms-sstr+xml",mp3:"audio/mpeg",aac:"audio/aac",flac:"audio/flac",wav:"audio/wav",sbv:"text/x-subviewer",srt:"text/srt",vtt:"text/vtt",webvtt:"text/vtt",ttml:"application/ttml+xml",lrc:"application/x-subtitle-lrc",ssa:"text/x-ssa",ass:"text/x-ssa",jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml",webp:"image/webp",avif:"image/avif"};function N4(e,t){if(e.lineBreak)return`
`;if(e.nestedCues.length)return e.nestedCues.map(function(u){return N4(u,e)}).join("");if(!e.payload)return e.payload;var n=[],r=e.fontWeight>=Zl,i=e.fontStyle==Ql,o=e.textDecoration.includes(Ao);return r&&n.push(["b"]),i&&n.push(["i"]),o&&n.push(["u"]),i=e.color,i==""&&t&&(i=t.color),r="",(i=U4(i))&&(r+="."+i),i=e.backgroundColor,i==""&&t&&(i=t.backgroundColor),(t=U4(i))&&(r+=".bg_"+t),r&&n.push(["c",r]),n.reduceRight(function(u,c){var h=w(c);return c=h.next().value,h=h.next().value,"<"+c+(h===void 0?"":h)+">"+u+"</"+c+">"},e.payload)}function U4(e){e=e.toLowerCase();var t=e.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+),?([^,\s)]+)?/i);switch(t?e="#"+(parseInt(t[1],10)|256).toString(16).slice(1)+(parseInt(t[2],10)|256).toString(16).slice(1)+(parseInt(t[3],10)|256).toString(16).slice(1):e.startsWith("#")&&7<e.length&&(e=e.slice(0,7)),e){case"white":case"#fff":case"#ffffff":return"white";case"lime":case"#0f0":case"#00ff00":return"lime";case"cyan":case"#0ff":case"#00ffff":return"cyan";case"red":case"#f00":case"#ff0000":return"red";case"yellow":case"#ff0":case"#ffff00":return"yellow";case"magenta":case"#f0f":case"#ff00ff":return"magenta";case"blue":case"#00f":case"#0000ff":return"blue";case"black":case"#000":case"#000000":return"black"}return null}function Db(e,t){var n=[];e=w(O4(e));for(var r=e.next();!r.done;r=e.next())if(r=r.value,r.isContainer)n.push.apply(n,F(Db(r.nestedCues,r)));else{var i=r.clone();i.nestedCues=[],i.payload=N4(r,t),n.push(i)}return n}function O4(e){var t=[];e=w(e);for(var n=e.next(),r={};!n.done;r={Me:void 0},n=e.next())r.Me=n.value,t.some(function(i){return function(o){return Mg(i.Me,o)}}(r))||t.push(r.Me);return t}function r9(e){function t(r){for(var i=5381,o=r.length;o;)i=33*i^r.charCodeAt(--o);return(i>>>0).toString()}if(e.startTime>=e.endTime)return null;var n=new VTTCue(e.startTime,e.endTime,e.payload);n.id=t(e.startTime.toString())+t(e.endTime.toString())+t(e.payload),n.lineAlign=e.lineAlign,n.positionAlign=e.positionAlign,e.size&&(n.size=e.size);try{n.align=e.textAlign}catch{}return e.textAlign=="center"&&n.align!="center"&&(n.align="middle"),e.writingMode=="vertical-lr"?n.vertical="lr":e.writingMode=="vertical-rl"&&(n.vertical="rl"),e.lineInterpretation==1&&(n.snapToLines=!1),e.line!=null&&(n.line=e.line),e.position!=null&&(n.position=e.position),n}function i9(e){if(e.endTime===1/0||e.endTime<e.startTime)return null;var t=new en(e.startTime,e.endTime,e.text);return t.line=typeof e.line=="number"?e.line:null,e.lineAlign&&(t.lineAlign=e.lineAlign),t.lineInterpretation=e.snapToLines?Sp:1,t.position=typeof e.position=="number"?e.position:null,e.positionAlign&&(t.positionAlign=e.positionAlign),t.size=e.size,t.textAlign=e.align,e.vertical==="lr"?t.writingMode="vertical-lr":e.vertical==="rl"&&(t.writingMode="vertical-rl"),e.region&&(t.region.id=e.region.id,t.region.height=e.region.lines,t.region.heightUnits=2,t.region.regionAnchorX=e.region.regionAnchorX,t.region.regionAnchorY=e.region.regionAnchorY,t.region.scroll=e.region.scroll,t.region.viewportAnchorX=e.region.viewportAnchorX,t.region.viewportAnchorY=e.region.viewportAnchorY,t.region.viewportAnchorUnits=Xn,t.region.width=e.region.width,t.region.widthUnits=Xn),_g(t),t}function ni(e,t){this.g=null;for(var n=w(Array.from(e.textTracks)),r=n.next();!r.done;r=n.next())r=r.value,r.kind!=="metadata"&&r.kind!=="chapters"&&(r.mode="disabled",r.label==t&&(this.g=r));this.g||(this.g=e.addTextTrack("subtitles",t)),this.g.mode="hidden"}f=ni.prototype,f.configure=function(){},f.remove=function(e,t){return this.g?(j4(this.g,function(n){return n.startTime<t&&n.endTime>e}),!0):!1},f.append=function(e){var t=Db(e),n=[];e=this.g.cues?Array.from(this.g.cues):[],t=w(t);for(var r=t.next(),i={};!r.done;i={Kc:void 0},r=t.next())i.Kc=r.value,!e.some(function(o){return function(u){return u.startTime==o.Kc.startTime&&u.endTime==o.Kc.endTime&&u.text==o.Kc.payload}}(i))&&i.Kc.payload&&(r=r9(i.Kc))&&n.push(r);for(e=n.slice().sort(function(o,u){return o.startTime!=u.startTime?o.startTime-u.startTime:o.endTime!=u.endTime?o.endTime-u.startTime:"line"in VTTCue.prototype?n.indexOf(u)-n.indexOf(o):n.indexOf(o)-n.indexOf(u)}),e=w(e),t=e.next();!t.done;t=e.next())this.g.addCue(t.value)},f.destroy=function(){return this.g&&(j4(this.g,function(){return!0}),this.g.mode="disabled"),this.g=null,Promise.resolve()},f.isTextVisible=function(){return this.g.mode=="showing"},f.setTextVisibility=function(e){this.g.mode=e?"showing":"hidden"};function j4(e,t){var n=e.mode;e.mode=n=="showing"?"showing":"hidden";for(var r=w(Array.from(e.cues)),i=r.next();!i.done;i=r.next())(i=i.value)&&t(i)&&e.removeCue(i);e.mode=n}Ae("shaka.text.SimpleTextDisplayer",ni),ni.prototype.setTextVisibility=ni.prototype.setTextVisibility,ni.prototype.isTextVisible=ni.prototype.isTextVisible,ni.prototype.destroy=ni.prototype.destroy,ni.prototype.append=ni.prototype.append,ni.prototype.remove=ni.prototype.remove,ni.prototype.configure=ni.prototype.configure;function ri(){}f=ri.prototype,f.configure=function(){},f.remove=function(){},f.append=function(){},f.destroy=function(){},f.isTextVisible=function(){return!1},f.setTextVisibility=function(){},Ae("shaka.text.StubTextDisplayer",ri),ri.prototype.setTextVisibility=ri.prototype.setTextVisibility,ri.prototype.isTextVisible=ri.prototype.isTextVisible,ri.prototype.destroy=ri.prototype.destroy,ri.prototype.append=ri.prototype.append,ri.prototype.remove=ri.prototype.remove,ri.prototype.configure=ri.prototype.configure;function F4(){}function Tc(e){for(;e.firstChild;)e.removeChild(e.firstChild)}Ae("shaka.util.Dom",F4),F4.removeAllChildren=Tc;function ii(e,t,n){var r=this;this.m=!1,this.h=[],this.A=e,this.s=t,this.l=null,this.g=document.createElement("div"),this.g.classList.add("shaka-text-container"),this.g.style.textAlign="center",this.g.style.display="flex",this.g.style.flexDirection="column",this.g.style.alignItems="center",this.g.style.justifyContent="flex-end",this.s.appendChild(this.g),n&&n.captionsUpdatePeriod||At("UITextDisplayer w/ config","Please migrate to initializing UITextDisplayer with a config."),this.C=new mt(function(){r.A.paused||kc(r)}).Oa(n&&n.captionsUpdatePeriod?n.captionsUpdatePeriod:.25),this.i=new Map,this.j=new ke,this.j.D(document,"fullscreenchange",function(){kc(r,!0)}),this.j.D(this.A,"seeking",function(){kc(r,!0)}),this.j.D(this.A,"resize",function(){var i=r.A,o=i.videoWidth;i=i.videoHeight,o&&i?r.l=o/i:r.l=null}),this.o=null,"ResizeObserver"in d&&(this.o=new ResizeObserver(function(){kc(r,!0)}),this.o.observe(this.g)),this.B=new Map}f=ii.prototype,f.configure=function(e){this.C&&this.C.Oa(e.captionsUpdatePeriod)},f.append=function(e){var t=[].concat(F(this.h));e=w(O4(e));for(var n=e.next(),r={};!n.done;r={Ne:void 0},n=e.next())r.Ne=n.value,t.some(function(i){return function(o){return Mg(o,i.Ne)}}(r))||this.h.push(r.Ne);kc(this)},f.destroy=function(){return this.g&&(this.s.removeChild(this.g),this.g=null,this.m=!1,this.h=[],this.C&&this.C.stop(),this.i.clear(),this.j&&(this.j.release(),this.j=null),this.o&&(this.o.disconnect(),this.o=null)),Promise.resolve()},f.remove=function(e,t){if(!this.g)return!1;var n=this.h.length;return this.h=this.h.filter(function(r){return r.startTime<e||r.endTime>=t}),kc(this,n>this.h.length),!0},f.isTextVisible=function(){return this.m},f.setTextVisibility=function(e){this.m=e};function a9(e,t){for(;t!=null;){if(t==e.g)return!0;t=t.parentElement}return!1}function B4(e,t,n,r,i){var o=!1,u=[],c=[];t=w(t);for(var h=t.next();!h.done;h=t.next()){h=h.value,i.push(h);var g=e.i.get(h),v=h.startTime<=r&&h.endTime>r,b=g?g.qh:null;g&&(u.push(g.Oe),g.wc&&u.push(g.wc),v||(o=!0,e.i.delete(h),g=null)),v&&(c.push(h),g?a9(e,b)||(o=!0):(o9(e,h,i),g=e.i.get(h),b=g.qh,o=!0)),0<h.nestedCues.length&&b&&B4(e,h.nestedCues,b,r,i),i.pop()}if(o){for(r=w(u),i=r.next();!i.done;i=r.next())i=i.value,i.parentElement&&i.parentElement.removeChild(i);for(c.sort(function(x,S){return x.startTime!=S.startTime?x.startTime-S.startTime:x.endTime-S.endTime}),c=w(c),r=c.next();!r.done;r=c.next())r=e.i.get(r.value),r.wc?(r.wc.contains(n)&&r.wc.removeChild(n),n.appendChild(r.wc),r.wc.appendChild(r.Oe)):n.appendChild(r.Oe)}}function kc(e,t){if(e.g){var n=e.A.currentTime;if(!e.m||t!==void 0&&t){t=w(e.B.values());for(var r=t.next();!r.done;r=t.next())Tc(r.value);Tc(e.g),e.i.clear(),e.B.clear()}e.m&&B4(e,e.h,e.g,n,[])}}function o9(e,t,n){var r=1<n.length,i=r?"span":"div";t.lineBreak&&(i="br"),t.rubyTag&&(i=t.rubyTag),r=!r&&0<t.nestedCues.length;var o=document.createElement(i);if(i!="br"&&u9(e,o,t,n,r),n=null,t.region&&t.region.id){var u=t.region,c=e.l===4/3?2.5:1.9;if(n=u.id+"_"+u.width+"x"+u.height+(u.heightUnits==Xn?"%":"px")+"-"+u.viewportAnchorX+"x"+u.viewportAnchorY+(u.viewportAnchorUnits==Xn?"%":"px"),e.B.has(n))n=e.B.get(n);else{i=document.createElement("span");var h=u.heightUnits==Xn?"%":"px",g=u.widthUnits==Xn?"%":"px",v=u.viewportAnchorUnits==Xn?"%":"px";i.id="shaka-text-region---"+n,i.classList.add("shaka-text-region"),i.style.position="absolute";var b=u.height,x=u.width;u.heightUnits===2&&(b=5.33*u.height,h="%"),u.widthUnits===2&&(x=u.width*c,g="%"),i.style.height=b+h,i.style.width=x+g,u.viewportAnchorUnits===2?(c=u.viewportAnchorY/75*100,h=u.viewportAnchorX/(e.l===4/3?160:210)*100,c-=u.regionAnchorY*b/100,h-=u.regionAnchorX*x/100,i.style.top=c+"%",i.style.left=h+"%"):(i.style.top=u.viewportAnchorY-u.regionAnchorY*b/100+v,i.style.left=u.viewportAnchorX-u.regionAnchorX*x/100+v),u.heightUnits!==0&&u.widthUnits!==0&&u.viewportAnchorUnits!==0&&(u=Math.max(0,Math.min(100-(parseInt(i.style.width.slice(0,-1),10)||0),parseInt(i.style.left.slice(0,-1),10)||0)),i.style.top=Math.max(0,Math.min(100-(parseInt(i.style.height.slice(0,-1),10)||0),parseInt(i.style.top.slice(0,-1),10)||0))+"%",i.style.left=u+"%"),i.style.display="flex",i.style.flexDirection="column",i.style.alignItems="center",i.style.justifyContent=t.displayAlign=="before"?"flex-start":t.displayAlign=="center"?"center":"flex-end",e.B.set(n,i),n=i}}i=o,r&&(i=document.createElement("span"),i.classList.add("shaka-text-wrapper"),i.style.backgroundColor=t.backgroundColor,i.style.lineHeight="normal",o.appendChild(i)),e.i.set(t,{Oe:o,qh:i,wc:n})}function s9(e){var t=e.direction,n=e.positionAlign;return e=e.textAlign,n!==Pg?n:e==="left"||e==="start"&&t===xp||e==="end"&&t==="rtl"?"line-left":e==="right"||e==="start"&&t==="rtl"||e==="end"&&t===xp?"line-right":"center"}function u9(e,t,n,r,i){var o=t.style,u=n.nestedCues.length==0,c=1<r.length;o.whiteSpace="pre-wrap";var h=n.payload.replace(/\s+$/g,function(v){return"\xA0".repeat(v.length)});if(o.webkitTextStrokeColor=n.textStrokeColor,o.webkitTextStrokeWidth=n.textStrokeWidth,o.color=n.color,o.direction=n.direction,o.opacity=n.opacity,o.paddingLeft=Lb(n.linePadding,n,e.s),o.paddingRight=Lb(n.linePadding,n,e.s),o.textCombineUpright=n.textCombineUpright,o.textShadow=n.textShadow,n.backgroundImage)o.backgroundImage="url('"+n.backgroundImage+"')",o.backgroundRepeat="no-repeat",o.backgroundSize="contain",o.backgroundPosition="center",n.backgroundColor&&(o.backgroundColor=n.backgroundColor),o.width="100%",o.height="100%";else{if(n.nestedCues.length)var g=t;else g=document.createElement("span"),t.appendChild(g);n.border&&(g.style.border=n.border),i||((t=l9(r,function(v){return v.backgroundColor}))?g.style.backgroundColor=t:h&&(g.style.backgroundColor="rgba(0, 0, 0, 0.8)")),h&&(g.textContent=h)}c&&!r[r.length-1].isContainer?o.display="inline":(o.display="flex",o.flexDirection="column",o.alignItems="center",n.textAlign=="left"||n.textAlign=="start"?(o.width="100%",o.alignItems="start"):(n.textAlign=="right"||n.textAlign=="end")&&(o.width="100%",o.alignItems="end"),o.justifyContent=n.displayAlign=="before"?"flex-start":n.displayAlign=="center"?"center":"flex-end"),u||(o.margin="0"),o.fontFamily=n.fontFamily,o.fontWeight=n.fontWeight.toString(),o.fontStyle=n.fontStyle,o.letterSpacing=n.letterSpacing,o.fontSize=Lb(n.fontSize,n,e.s),r=n.line,r!=null&&(u=n.lineInterpretation,u==Sp&&(u=1,c=16,e.l&&1>e.l&&(c=32),r=0>r?100+r/c*100:r/c*100),u==1&&(o.position="absolute",n.writingMode==ku?(o.width="100%",n.lineAlign==Eu?o.top=r+"%":n.lineAlign=="end"&&(o.bottom=100-r+"%")):n.writingMode=="vertical-lr"?(o.height="100%",n.lineAlign==Eu?o.left=r+"%":n.lineAlign=="end"&&(o.right=100-r+"%")):(o.height="100%",n.lineAlign==Eu?o.right=r+"%":n.lineAlign=="end"&&(o.left=100-r+"%")))),o.lineHeight=n.lineHeight,e=s9(n),e=="line-left"?(o.cssFloat="left",n.position!==null&&(o.position="absolute",n.writingMode==ku?(o.left=n.position+"%",o.width="auto"):o.top=n.position+"%")):e=="line-right"?(o.cssFloat="right",n.position!==null&&(o.position="absolute",n.writingMode==ku?(o.right=100-n.position+"%",o.width="auto"):o.bottom=n.position+"%")):n.position!==null&&n.position!=50&&(o.position="absolute",n.writingMode==ku?(o.left=n.position+"%",o.width="auto"):o.top=n.position+"%"),o.textAlign=n.textAlign,o.textDecoration=n.textDecoration.join(" "),o.writingMode=n.writingMode,"writingMode"in document.documentElement.style&&o.writingMode==n.writingMode||(o.webkitWritingMode=n.writingMode),n.size&&(n.writingMode==ku?o.width=n.size+"%":o.height=n.size+"%")}function Lb(e,t,n){var r=(r=new RegExp(/(\d*\.?\d+)([a-z]+|%+)/).exec(e))?{value:Number(r[1]),unit:r[2]}:null;if(!r)return e;var i=r.value;switch(r.unit){case"%":return i/100*n.clientHeight/t.cellResolution.rows+"px";case"c":return n.clientHeight*i/t.cellResolution.rows+"px";default:return e}}function l9(e,t){for(var n=e.length-1;0<=n;n--){var r=t(e[n]);if(r||r===0)return r}return null}Ae("shaka.text.UITextDisplayer",ii),ii.prototype.setTextVisibility=ii.prototype.setTextVisibility,ii.prototype.isTextVisible=ii.prototype.isTextVisible,ii.prototype.remove=ii.prototype.remove,ii.prototype.destroy=ii.prototype.destroy,ii.prototype.append=ii.prototype.append,ii.prototype.configure=ii.prototype.configure;function c9(e,t){function n(o){for(var u=o,c=w(t),h=c.next();!h.done;h=c.next())h=h.value,h.end&&h.start<o&&(u+=h.end-h.start);return o=Math.floor(u/3600),c=Math.floor(u/60%60),h=Math.floor(u%60),u=Math.floor(1e3*u%1e3),(10>o?"0":"")+o+":"+(10>c?"0":"")+c+":"+(10>h?"0":"")+h+"."+(100>u?10>u?"00":"0":"")+u}var r=Db(e);e=`WEBVTT

`,r=w(r);for(var i=r.next();!i.done;i=r.next())i=i.value,e+=n(i.startTime)+" --> "+n(i.endTime)+function(o){var u=[];switch(o.textAlign){case"left":u.push("align:left");break;case"right":u.push("align:right");break;case Ya:u.push("align:middle");break;case"start":u.push("align:start");break;case"end":u.push("align:end")}switch(o.writingMode){case"vertical-lr":u.push("vertical:lr");break;case"vertical-rl":u.push("vertical:rl")}return u.length?" "+u.join(" "):""}(i)+`
`,e+=i.payload+`

`;return e}Ae("shaka.text.WebVttGenerator",function(){});function V4(e,t){this.h=e,this.g=t,this.i=void 0,this.l=!1,this.o=!0,this.j=this.m=!1}V4.prototype.configure=function(e){this.g=e};function d9(e){e.l=!1,e.o=!0,e.m=!1,e.j=!1}function p9(e,t){e.j=t,e.j?e.i==bm?e.i=wm:e.i==xm&&(e.i=Sm):e.i==wm?e.i=bm:e.i==Sm&&(e.i=xm)}function h9(e,t,n){try{if(!e.g.enabled)return t;var r=Rb(e);e:{switch(n.toLowerCase()){case"audio/mp4":case"audio/webm":case"audio/ogg":case"audio/mpeg":case"audio/aac":case"audio/flac":case"audio/wav":var i=gm;break e;case"video/webm":case"video/mp4":case"video/mpeg":case"video/mp2t":i=vm;break e;case"application/x-mpegurl":case"application/vnd.apple.mpegurl":case"application/dash+xml":case"video/vnd.mpeg.dash.mpd":case"application/vnd.ms-sstr+xml":i=$4;break e}i=void 0}r.ot=i,r.su=!0;var o=fm(r);return Nb(t,o)}catch(u){return Lt("CMCD_SRC_ERROR","Could not generate src CMCD data.",u),t}}function Rb(e){return e.g.sessionId||(e.g.sessionId=d.crypto.randomUUID()),{v:1,sf:e.i,sid:e.g.sessionId,cid:e.g.contentId,mtp:e.h.getBandwidthEstimate()/1e3}}function Ec(e,t,n){n=n===void 0?{}:n;var r=r===void 0?e.g.useHeaders:r;if(e.g.enabled){Object.assign(n,Rb(e)),n.pr=e.h.hb();var i=n.ot===mm||n.ot===vm;if(e.m&&i&&(n.bs=!0,n.su=!0,e.m=!1),n.su==null&&(n.su=e.o),e=f9(e,n),r)r=y9(e),Object.keys(r).length&&Object.assign(t.headers,r);else{var o=fm(e);o&&(t.uris=t.uris.map(function(u){return Nb(u,o)}))}}}function f9(e,t){var n=e.g.includeKeys;return n.length?Object.keys(t).reduce(function(r,i){return n.includes(i)&&(r[i]=t[i]),r},{}):t}function g9(e){if(e.type===0)return b9;if(e=e.stream){var t=e.type;if(t=="video")return e.codecs&&e.codecs.includes(",")?vm:mm;if(t=="audio")return gm;if(t=="text")return e.mimeType==="application/mp4"?ym:Ub}}function m9(e,t){if(t=e.h.zb()[t],!t.length)return NaN;var n=e.h.getCurrentTime();return(e=t.find(function(r){return r.start<=n&&r.end>=n}))?1e3*(e.end-n):NaN}function z4(e,t){if(t=e.h.zb()[t],!t.length)return 0;var n=e.h.getCurrentTime();return(e=t.find(function(r){return r.start<=n&&r.end>=n}))?1e3*(e.end-n):0}function v9(e,t){var n=e.h.pc();if(!n.length)return NaN;e=n[0],n=w(n);for(var r=n.next();!r.done;r=n.next())r=r.value,r.type==="variant"&&r.bandwidth>e.bandwidth&&(e=r);switch(t){case mm:return e.videoBandwidth||NaN;case gm:return e.audioBandwidth||NaN;default:return e.bandwidth}}function fm(e){function t(b){return 100*n(b/100)}function n(b){return Math.round(b)}function r(b){return!Number.isNaN(b)&&b!=null&&b!==""&&b!==!1}var i=[],o={br:n,d:n,bl:t,dl:t,mtp:t,nor:function(b){return encodeURIComponent(b)},rtp:t,tb:n},u=Object.keys(e||{}).sort();u=w(u);for(var c=u.next();!c.done;c=u.next()){c=c.value;var h=e[c];if(r(h)&&(c!=="v"||h!==1)&&(c!="pr"||h!==1)){var g=o[c];g&&(h=g(h)),g=typeof h;var v=void 0;v=g==="string"&&c!=="ot"&&c!=="sf"&&c!=="st"?c+"="+JSON.stringify(h):g==="boolean"?c:g==="symbol"?c+"="+h.description:c+"="+h,i.push(v)}}return i.join(",")}function y9(e){var t=Object.keys(e),n={},r=["Object","Request","Session","Status"],i=[{},{},{},{}],o={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3};t=w(t);for(var u=t.next();!u.done;u=t.next())u=u.value,i[o[u]!=null?o[u]:1][u]=e[u];for(e=0;e<i.length;e++)(o=fm(i[e]))&&(n["CMCD-"+r[e]]=o);return n}function Nb(e,t){return!t||e.includes("offline:")?e:(e=new En(e),e.g.set("CMCD",t),e.toString())}var $4="m",gm="a",mm="v",vm="av",b9="i",Ub="c",ym="tt",bm="d",wm="ld",xm="h",Sm="lh";Ae("shaka.util.CmcdManager.StreamingFormat",{DASH:bm,Aj:wm,HLS:xm,Bj:Sm,Oj:"s",OTHER:"o"});function ji(e){this.h=e,this.g=null}f=ji.prototype,f.configure=function(e){this.h=e},f.yg=function(){return this.h.enabled&&this.h.applyMaximumSuggestedBitrate&&this.g&&this.g.has(G4)?1e3*this.g.get(G4):null},f.wg=function(){return this.h.enabled&&this.g&&this.g.has(q4)?1e3*this.g.get(q4):null},f.Zh=function(){return this.h.enabled&&this.g&&this.g.has(K4)?this.g.get(K4):null},f.$h=function(){return this.h.enabled&&this.g&&this.g.has(W4)?this.g.get(W4):null},f.getBandwidthEstimate=function(e){var t=this.wg();if(!t)return e;var n=this.h.estimatedThroughputWeightRatio;return 0<n&&1>=n?e*(1-n)+t*n:e};function H4(e){return e?e.toLowerCase()==="false"?!1:/^[-0-9]/.test(e)?parseInt(e,10):e.replace(/["]+/g,""):!0}Ae("shaka.util.CmsdManager",ji),ji.prototype.getBandwidthEstimate=ji.prototype.getBandwidthEstimate,ji.prototype.getRoundTripTime=ji.prototype.$h,ji.prototype.getResponseDelay=ji.prototype.Zh,ji.prototype.getEstimatedThroughput=ji.prototype.wg,ji.prototype.getMaxBitrate=ji.prototype.yg;var q4="etp",G4="mb",K4="rd",W4="rtt";function X4(){this.g=null,this.h=[]}function Ob(e,t){return L(function(n){if(n.g==1)return e.g?k(n,new Promise(function(r){return e.h.push(r)}),2):n.u(2);e.g=t,te(n)})}X4.prototype.release=function(){0<this.h.length?this.h.shift()():this.g=null};function le(e,t,n){t=t===void 0?null:t,$t.call(this);var r=this;this.m=Cm,this.h=null,this.fe=t,this.oa=!1,this.re=new ke,this.ld=new ke,this.l=new ke,this.Ua=new ke,this.gb=new ke,this.G=this.I=this.B=this.F=null,this.ze=0,this.aa=new X4,this.la=this.ag=this.ea=this.i=this.cb=this.H=this.j=this.ac=this.L=this.cg=this.fa=this.O=this.bc=this.M=this.he=this.K=this.Hb=null,this.Da=!1,this.za=this.o=null,this.bg=1e9,this.rd=[],this.X=NaN,this.g=Uo(this),this.R=null,this.Be=-1,this.Fa=null,this.ja={width:1/0,height:1/0},this.be=new W1(this.g,this.ja,null),this.ke=[],this.A=null,this.Ea=new ac(this.g.preferredAudioLanguage,this.g.preferredVariantRole,this.g.preferredAudioChannelCount,this.g.preferredVideoHdrLevel,this.g.preferSpatialAudio,this.g.preferredVideoLayout,this.g.preferredAudioLabel,this.g.preferredVideoLabel,this.g.mediaSource.codecSwitchingStrategy,this.g.manifest.dash.enableAudioGroups,""),this.Gb=this.g.preferredTextLanguage,this.pd=this.g.preferredTextRole,this.od=this.g.preferForcedSubs,this.nd=[],n&&n(this),this.O=L9(this),this.fa=new ji(this.g.cmsd),this.F=rE(this),this.F.Qf(this.g.streaming.forceHTTP),this.F.Rf(this.g.streaming.forceHTTPS),this.F.m=this.g.streaming.minBytesForProgressEvents,this.Ib=this.ca=this.s=null,this.De=!1,this.Ce=new mt(function(){return L(function(i){if(i.g==1)return r.ca?k(i,r.Tb(r.Ib,!0),3):i.u(0);if(i.g!=4)return k(i,r.load(r.ca),4);r.De?r.Ib.pause():r.Ib.play(),r.ca=null,r.De=!1,te(i)})}),Im&&(this.s=Im(),this.s.configure(this.g.ads),this.gb.D(this.s,"ad-content-pause-requested",function(i){var o;return L(function(u){if(u.g==1)return r.Ce.stop(),r.ca?u.u(0):(r.Ib=r.h,r.De=r.h.ended,o=i.saveLivePosition||!1,k(u,r.pg(!0,o),3));r.ca=u.h,te(u)})}),this.gb.D(this.s,"ad-content-resume-requested",function(i){if(i=i.offset||0,r.ca){var o=r.ca;o.B&&i&&(o.B+=i)}r.Ce.Z(.1)}),this.gb.D(this.s,"ad-content-attach-requested",function(){return L(function(i){return r.h||!r.Ib?i.u(0):k(i,r.Tb(r.Ib,!0),0)})})),this.re.D(d,"online",function(){qb(r),r.Kf()}),this.ie=new mt(function(){for(var i=Date.now()/1e3,o=!1,u=!0,c=w(r.i.variants),h=c.next();!h.done;h=c.next())h=h.value,0<h.disabledUntilTime&&h.disabledUntilTime<=i&&(h.disabledUntilTime=0,o=!0),0<h.disabledUntilTime&&(u=!1);u&&r.ie.stop(),o&&Cc(r,!1,void 0,!1,!1)}),this.sa=null,e&&(At("Player w/ mediaElement","Please migrate from initializing Player with a mediaElement; use the attach method instead."),this.Tb(e,!0)),this.C=null}Se(le,$t);function Tm(e){e.L!=null&&(Y5(e.L),e.L.release(),e.L=null)}function w9(e,t){t.lcevc.enabled?(Tm(e),e.L==null&&(e.L=new Fp(e.h,e.cg,t.lcevc),e.I&&(e.I.O=e.L))):Tm(e)}function ln(e,t){return new Me(e,t)}f=le.prototype,f.destroy=function(){var e=this,t;return L(function(n){switch(n.g){case 1:return e.m==aa?n.return():(Tm(e),t=e.detach(),e.m=aa,k(n,t,2));case 2:return k(n,e.Qe(),3);case 3:if(e.re&&(e.re.release(),e.re=null),e.ld&&(e.ld.release(),e.ld=null),e.l&&(e.l.release(),e.l=null),e.Ua&&(e.Ua.release(),e.Ua=null),e.gb&&(e.gb.release(),e.gb=null),e.za=null,e.g=null,e.A=null,e.fe=null,e.O=null,e.fa=null,!e.F){n.u(4);break}return k(n,e.F.destroy(),5);case 5:e.F=null;case 4:e.o&&(e.o.release(),e.o=null),$t.prototype.release.call(e),te(n)}})};function Ac(e,t){e.dispatchEvent(ln("onstatechange",new Map().set("state",t)))}f.Tb=function(e,t){t=t===void 0?!0:t;var n=this,r,i,o;return L(function(u){switch(u.g){case 1:if(n.m==aa)throw new $(2,7,7e3);if(r=n.h&&n.h==e,!n.h||n.h==e){u.u(2);break}return k(u,n.detach(),2);case 2:return k(u,jb(n,"attach"),4);case 4:if(u.h)return u.return();if(se(u,5,6),r||(Ac(n,"attach"),i=function(){var c=Gb(n,!1);c&&Ic(n,c)},n.ld.D(e,"error",i),n.h=e),!t||!Aa()||n.I){u.u(6);break}return k(u,Fb(n),6);case 6:we(u),n.aa.release(),Q(u,0);break;case 5:return o=Y(u),k(u,n.detach(),10);case 10:throw o}})},f.zh=function(e){this.cg=e},f.detach=function(e){e=e===void 0?!1:e;var t=this;return L(function(n){if(n.g==1){if(t.m==aa)throw new $(2,7,7e3);return k(n,t.hc(!1,e),2)}if(n.g!=3)return k(n,jb(t,"detach"),3);if(n.h)return n.return();try{t.h&&(t.ld.Sa(),t.h=null),Ac(t,"detach"),t.s&&!e&&t.s.release()}finally{t.aa.release()}te(n)})};function jb(e,t){var n;return L(function(r){return r.g==1?(n=++e.ze,k(r,Ob(e.aa,t),2)):n!=e.ze?(e.aa.release(),r.return(!0)):r.return(!1)})}f.hc=function(e,t){e=e===void 0?!0:e,t=t===void 0?!1:t;var n=this,r,i,o,u,c,h,g,v,b,x;return L(function(S){switch(S.g){case 1:return n.m!=aa&&(n.m=Cm),k(S,jb(n,"unload"),2);case 2:return S.h?S.return():(Re(S,3),n.Da=!1,Ac(n,"unload"),e&&!Aa()&&(e=!1),Tm(n),r=n.nd.map(function(T){return T()}),n.nd=[],k(S,Promise.all(r),5));case 5:if(n.dispatchEvent(ln("unloading")),n.bc&&(n.bc.release(),n.bc=null),n.h&&(n.l.Sa(),n.Ua.Sa()),n.ie.stop(),n.Hb&&(n.Hb.release(),n.Hb=null),n.he&&(n.he.stop(),n.he=null),!n.H){S.u(6);break}return k(S,n.H.stop(),7);case 7:n.H=null,n.cb=null;case 6:if(!n.o){S.u(8);break}return k(S,n.o.stop(),8);case 8:if(!n.j){S.u(10);break}return k(S,n.j.destroy(),11);case 11:n.j=null;case 10:if(n.K&&(n.K.release(),n.K=null),n.G&&(n.G.release(),n.G=null),!Sg("webkit")||!n.B){S.u(12);break}return k(S,n.B.destroy(),13);case 13:n.B=null;case 12:if(!n.I){S.u(14);break}return k(S,n.I.destroy(),15);case 15:n.I=null;case 14:if(n.s&&!t&&n.s.onAssetUnload(),n.ca&&!t&&(n.ca.destroy(),n.ca=null),t||n.Ce.stop(),n.O&&d9(n.O),n.fa&&(n.fa.g=null),!n.C){S.u(16);break}return k(S,n.C.destroy(),17);case 17:n.C=null;case 16:if(n.h&&Tc(n.h),n.h&&n.h.src&&(n.h.removeAttribute("src"),n.h.load()),!n.B){S.u(18);break}return k(S,n.B.destroy(),19);case 19:n.B=null;case 18:if(n.sa&&n.ea!=n.sa.Ic()&&(n.sa.s||n.sa.destroy(),n.sa=null),n.ea=null,n.ag=null,n.M=null,n.i){for(i=w(n.i.variants),o=i.next();!o.done;o=i.next())for(u=o.value,c=w([u.audio,u.video]),h=c.next();!h.done;h=c.next())(g=h.value)&&g.segmentIndex&&g.segmentIndex.release();for(v=w(n.i.textStreams),b=v.next();!b.done;b=v.next())x=b.value,x.segmentIndex&&x.segmentIndex.release()}n.g.streaming.clearDecodingCache&&(t5={},vg.clear()),n.i=null,n.A=new em,n.xe=null,n.Fa=null,n.R=null,n.Be=-1,n.rd=[],n.X=NaN,$b(n);case 3:we(S),n.aa.release(),Q(S,4);break;case 4:if(e&&Aa()&&!n.I&&n.h)return k(S,Fb(n),0);S.u(0)}})},f.fj=function(e){this.la=e},f.load=function(e,t,n){t=t===void 0?null:t;var r=this,i,o,u,c,h,g,v,b,x,S,T,A,C;return L(function(M){switch(M.g){case 1:if(r.m==aa)throw new $(2,7,7e3);return i=null,o="",e instanceof No?(i=e,o=i.Ic()||""):o=e||"",k(M,Ob(r.aa,"load"),2);case 2:if(r.aa.release(),!r.h)throw new $(2,7,7002);if(!r.ea){M.u(3);break}return r.ea=o,k(M,r.hc(!1),3);case 3:if(u=++r.ze,c=function(){return L(function(_){if(_.g==1)return r.ze==u?_.u(0):i?k(_,i.destroy(),3):_.u(3);throw new $(2,7,7e3)})},h=function(_,O){return L(function(P){switch(P.g){case 1:return Re(P,2),k(P,Ob(r.aa,O),4);case 4:return k(P,c(),5);case 5:return k(P,_(),6);case 6:return k(P,c(),7);case 7:i&&r.g&&(i.g=r.g);case 2:we(P),r.aa.release(),Q(P,0)}})},se(M,5,6),t==null&&i&&(t=i.getStartTime()),r.la=t,r.Da=!1,r.dispatchEvent(ln("loading")),i){n=i.X,M.u(8);break}if(n){M.u(8);break}return k(M,h(function(){return L(function(_){if(_.g==1)return k(_,J4(r,o),2);n=_.h,te(_)})},"guessMimeType_"),8);case 8:if(g=!!i,i){L4(i,r),r.A=i.getStats(),M.u(11);break}return k(M,Z4(r,o,t,n,!0),12);case 12:(i=M.h)?(i.A=!1,L4(i,r),r.A=i.getStats(),i.start(),i.m.catch(function(){})):r.A=new em;case 11:return v=!i,b=Date.now()/1e3,r.A=i?i.getStats():new em,r.ea=o,r.ag=n||null,v?k(M,h(function(){return L(function(_){return k(_,k9(r,n),0)})},"initializeSrcEqualsDrmInner_"),21):k(M,h(function(){return L(function(_){if(_.g==1)return k(_,Promise.race([i.fa,i.m]),2);r.cb=i.G;var O=i;O.ja=!0,r.H=O.j,r.i=i.gf(),te(_)})},"waitForFinish"),15);case 15:if(r.I){M.u(16);break}return k(M,h(function(){return L(function(_){return k(_,Fb(r),0)})},"initializeMediaSourceEngineInner_"),16);case 16:return k(M,h(function(){return L(function(_){return k(_,i.m,0)})},"waitForFinish"),18);case 18:return r.g=i.getConfiguration(),r.be=i.F,r.H&&r.H.setMediaElement&&r.h&&r.H.setMediaElement(r.h),r.bc=YR(i),r.ac=i.Da,(x=i.o)&&(r.Ea=x),g&&r.h&&r.h.nodeName==="AUDIO"&&(x9(r),r.configure("manifest.disableVideo",!0)),r.B=ZR(i),k(M,h(function(){return L(function(_){return k(_,r.B.Tb(r.h),0)})},"drmEngine_.attach"),19);case 19:return!(S=i.C)||r.za&&r.za==S||(r.o=XR(i),r.za=i.C,typeof r.o.setMediaElement!="function"&&(At("AbrManager w/o setMediaElement","Please use an AbrManager with setMediaElement function."),r.o.setMediaElement=function(){}),typeof r.o.setCmsdManager!="function"&&(At("AbrManager w/o setCmsdManager","Please use an AbrManager with setCmsdManager function."),r.o.setCmsdManager=function(){}),typeof r.o.trySuggestStreams!="function"&&(At("AbrManager w/o trySuggestStreams","Please use an AbrManager with trySuggestStreams function."),r.o.trySuggestStreams=function(){})),T=QR(i),A=i.la,k(M,h(function(){return L(function(_){return k(_,T9(r,b,A,T),0)})},"loadInner_"),20);case 20:WR(i),M.u(14);break;case 21:return k(M,h(function(){return L(function(_){return k(_,E9(r,b,n),0)})},"srcEqualsInner_"),14);case 14:r.dispatchEvent(ln("loaded"));case 6:if(we(M),!i){M.u(23);break}return k(M,i.destroy(),23);case 23:r.sa=null,Q(M,0);break;case 5:if(C=Y(M),!C||C.code==7e3){M.u(25);break}return k(M,r.hc(!1),25);case 25:throw C}})};function x9(e){for(var t=w(e.i.variants),n=t.next();!n.done;n=t.next())n=n.value,n.video&&(n.video.closeSegmentIndex(),n.video=null),n.bandwidth=n.audio&&n.audio.bandwidth?n.audio.bandwidth:0;e.i.variants=e.i.variants.filter(function(r){return r.audio})}f.bj=function(e,t){e=e===void 0?!0:e,t=t===void 0?!1:t;var n=this,r;return L(function(i){return i.g==1?k(i,Y4(n),2):i.g!=3?(r=i.h,k(i,n.hc(e,t),3)):i.return(r)})},f.pg=function(e,t){e=e===void 0?!1:e,t=t===void 0?!1:t;var n=this,r;return L(function(i){return i.g==1?k(i,Y4(n,t),2):i.g!=3?(r=i.h,k(i,n.detach(e),3)):i.return(r)})};function Y4(e,t){t=t===void 0?!1:t;var n,r;return L(function(i){if(i.g==1)return n=null,e.i&&e.H&&e.cb&&e.ea?(r=e.h.currentTime,e.U()&&!t&&(r=null),k(i,Q4(e,e.ea,r,e.ag,!0,!1,!1),3)):i.u(2);if(i.g!=2){n=i.h,e.ke.push(n),e.H&&e.H.setMediaElement&&e.H.setMediaElement(null);var o=n,u=e.H,c=e.cb;o.h=e.i,o.j=u,o.G=c,o=n,u=e.za,o.i=e.o,o.C=u,n.o=e.Ea,n.start(),e.i=null,e.H=null,e.cb=null,e.o=null,e.za=null}return i.return(n)})}f.preload=function(e,t,n){t=t===void 0?null:t;var r=this,i;return L(function(o){return o.g==1?k(o,Z4(r,e,t,n),2):((i=o.h)?i.start():Ic(r,new $(2,7,7005)),o.return(i))})},f.Qe=function(){var e=this,t,n,r,i;return L(function(o){for(t=[],n=w(e.ke),r=n.next();!r.done;r=n.next())i=r.value,i.s||t.push(i.destroy());return e.ke=[],k(o,Promise.all(t),0)})};function Z4(e,t,n,r,i){i=i===void 0?!1:i;var o,u,c;return L(function(h){return h.g==1?r?h.u(2):k(h,J4(e,t),3):(h.g!=2&&(r=h.h),S9(e,r)?h.return(null):(o=!1,u=!0,i&&(e.o&&e.za==e.g.abrFactory&&(u=!1),e.h&&e.h.nodeName==="AUDIO"&&(o=!0)),c=Q4(e,t,n,r||null,!i,o,u),c=i?c.then(function(g){return g.A=!1,g}):c.then(function(g){return e.ke.push(g),g}),h.return(c)))})}function Q4(e,t,n,r,i,o,u){i=i===void 0?!0:i,o=o===void 0?!1:o,u=u===void 0?!0:u;var c,h,g,v,b,x,S,T,A,C,M,_,O,P,j;return L(function(V){return V.g==1?(c=null,h=Ga(e.g),o&&(h.manifest.disableVideo=!0),g=function(){return c.R&&c.s?null:c},v=function(){return g()?g().getConfiguration():e.g},b=function(B,H){g()?c.configure(B,H):e.configure(B,H)},e.ja.width!=1/0||e.ja.height!=1/0?V.u(2):k(V,m3(),3)):(V.g!=2&&(x=V.h,e.ja.width=x.width,e.ja.height=x.height),S=new W1(h,e.ja,null),T={networkingEngine:e.F,filter:function(B){var H,W;return L(function(G){if(G.g==1)return k(G,D5(S,B),2);if(G.g!=4)return H=G.h,H?(W=ln("trackschanged"),k(G,Promise.resolve(),4)):G.u(0);c.dispatchEvent(W),te(G)})},makeTextStreamsForClosedCaptions:function(B){return U9(e,B)},onTimelineRegionAdded:function(B){var H=c.H;e:{for(var W=w(H.g),G=W.next();!G.done;G=W.next())if(G=G.value,G.schemeIdUri==B.schemeIdUri&&G.id==B.id&&G.startTime==B.startTime&&G.endTime==B.endTime){W=G;break e}W=null}W==null&&(H.g.add(B),B=new Me("regionadd",new Map([["region",B]])),H.dispatchEvent(B))},onEvent:function(B){return c.dispatchEvent(B)},onError:function(B){return c.onError(B)},isLowLatencyMode:function(){return v().streaming.lowLatencyMode},isAutoLowLatencyMode:function(){return v().streaming.autoLowLatencyMode},enableLowLatencyMode:function(){b("streaming.lowLatencyMode",!0)},updateDuration:function(){e.j&&c.R&&e.j.updateDuration()},newDrmInfo:function(B){var H=c.l,W=H?H.g:null;W&&H.A&&X1(S,W.keySystem,B)},onManifestUpdated:function(){var B=new Map().set("isLive",e.U());c.dispatchEvent(ln("manifestupdated",B)),Kp(c,!1,function(){e.s&&e.s.onManifestUpdated(e.U())})},getBandwidthEstimate:function(){return e.o.getBandwidthEstimate()},onMetadata:function(B,H,W,G){var ee=B;B=="com.apple.hls.interstitial"&&(ee="com.apple.quicktime.HLS",B={startTime:H,endTime:W,values:G},e.s)&&e.s.onHLSInterstitialMetadata(e,e.h,B),G=w(G),B=G.next();for(var re={};!B.done;re={Ff:void 0},B=G.next())re.Ff=B.value,re.Ff.name!="ID"&&Kp(c,!1,function(ce){return function(){Bb(e,H,W,ee,ce.Ff)}}(re))},disableStream:function(B){return e.disableStream(B,e.g.streaming.maxDisabledTime)},addFont:function(B,H){return e.addFont(B,H)}},A=new vb(function(){return e.Qb()}),A.addEventListener("regionadd",function(B){var H=B.region;Qp(e,"timelineregionadded",H,c),Kp(c,!1,function(){e.s&&(e.s.onDashTimedMetadata(H),e.s.onDASHInterstitialMetadata(e,e.h,H))})}),C=null,h.streaming.observeQualityChanges&&(C=new nm(function(){return e.zb()}),C.addEventListener("qualitychange",function(B){mE(e,B.quality,B.position)}),C.addEventListener("audiotrackchange",function(B){mE(e,B.quality,B.position,!0)})),M=!0,_={Nb:e.F,onError:function(B){return c.onError(B)},ce:function(B){Kp(c,!0,function(){e:{var H=B,W=ln("keystatuschanged");e.dispatchEvent(W);var G=Object.keys(H);G.length==1&&G[0]==""&&(G=["00"],H={"00":H[""]}),W=G.length==1&&G[0]=="00";var ee=!1;if(G.length){G=w(e.i.variants);for(var re=G.next();!re.done;re=G.next()){re=re.value;var ce=[];re.audio&&ce.push(re.audio),re.video&&ce.push(re.video),ce=w(ce);for(var ae=ce.next();!ae.done;ae=ce.next()){var oe=ae.value;if(ae=re.allowedByKeySystem,oe.keyIds.size){re.allowedByKeySystem=!0,oe=w(oe.keyIds);for(var he=oe.next();!he.done;he=oe.next())he=he.value,((he=H[W?"00":he])||e.B.F)&&(re.allowedByKeySystem=re.allowedByKeySystem&&!!he&&!U5.includes(he))}ae!=re.allowedByKeySystem&&(ee=!0)}}}if(ee&&(Br(e),!Ou(e)))break e;(H=e.j.j)&&!H.allowedByKeySystem&&Cc(e)}})},onExpirationUpdated:function(B,H){var W=ln("expirationupdated");c.dispatchEvent(W),(W=c.j)&&W.onExpirationUpdated&&W.onExpirationUpdated(B,H)},onEvent:function(B){c.dispatchEvent(B),B.type=="drmsessionupdate"&&M&&(M=!1,B=Date.now()/1e3-c.za,(e.A||c.getStats()).j=B,e.L&&Y5(e.L))}},O=rE(e,g),p5(e.F,O),P=function(){return e.Dc(_)},j={config:h,wi:T,Gi:A,Fi:C,Dc:P,vi:S,networkingEngine:O,yh:i,xh:u},c=new No(t,r,n,j),V.return(c))})}function J4(e,t){var n,r;return L(function(i){return i.g==1?(n=e.g.manifest.retryParameters,k(i,hm(t,e.F,n),2)):(r=i.h,r=="application/x-mpegurl"&&Gl()&&(r="application/vnd.apple.mpegurl"),i.return(r))})}function S9(e,t){if(!Aa())return!0;if(t){if((e.h||g3()).canPlayType(t)=="")return!1;if(!(Aa()&&t in ia))return!0;if(O3(t))return Gl()&&(e.g.drm.servers["com.apple.fps"]||e.g.drm.servers["com.apple.fps.1_0"])?e.g.streaming.useNativeHlsForFairPlay:e.g.streaming.preferNativeHls}return!1}function eE(e){var t=e.g.textDisplayFactory;t!==e.xe&&(e.C=t(),e.C.configure?e.C.configure(e.g.textDisplayer):At("Text displayer w/ configure",'Text displayer should have a "configure" method!'),e.xe=t,e.C.setTextVisibility(e.oa))}function Fb(e){var t,n,r;return L(function(i){if(i.g==1)return Ac(e,"media-source"),eE(e),t=D9(e.h,e.C,{Rh:function(){return e.keySystem()},onMetadata:function(o,u,c){nE(e,o,u,c)}},e.L),t.configure(e.g.mediaSource),n=e.g.manifest,r=n.segmentRelativeVttTiming,t.fa=r,k(i,t.H,2);e.I=t,te(i)})}function tE(e,t,n){function r(){return Hb(e)}e.l.D(t,"playing",r),e.l.D(t,"pause",r),e.l.D(t,"ended",r),e.l.D(t,"ratechange",function(){var i=e.h.playbackRate;i!=0&&(e.K&&e.K.set(i),i=ln("ratechange"),e.dispatchEvent(i))}),t.remote&&(e.l.D(t.remote,"connect",function(){return Br(e)}),e.l.D(t.remote,"connecting",function(){return Br(e)}),e.l.D(t.remote,"disconnect",function(){return L(function(i){if(i.g==1)return e.j&&t.remote.state=="disconnected"?k(i,M4(e.j),2):i.u(2);Br(e),te(i)})})),t.audioTracks&&(e.l.D(t.audioTracks,"addtrack",function(){return Br(e)}),e.l.D(t.audioTracks,"removetrack",function(){return Br(e)}),e.l.D(t.audioTracks,"change",function(){return Br(e)})),t.textTracks&&(e.l.D(t.textTracks,"addtrack",function(i){if(i.track)switch(i=i.track,i.kind){case"metadata":I9(e,i);break;case"chapters":M9(e,i);break;default:Br(e)}}),e.l.D(t.textTracks,"removetrack",function(){return Br(e)}),e.l.D(t.textTracks,"change",function(){return Br(e)})),t.preload!="none"&&e.l.va(t,"loadedmetadata",function(){e.A.C=Date.now()/1e3-n})}function T9(e,t,n,r){var i,o,u,c,h,g,v,b,x,S,T,A,C,M,_,O,P,j,V,B,H;return L(function(W){switch(W.g){case 1:Ac(e,"load"),i=e.h,e.K=new Vp({Ld:function(){return i.playbackRate},nc:function(){return i.defaultPlaybackRate},Sf:function(G){i.playbackRate=G},Kg:function(G){i.currentTime+=G}}),tE(e,i,t),w9(e,e.g),e.Gb=e.g.preferredTextLanguage,e.pd=e.g.preferredTextRole,e.od=e.g.preferForcedSubs,Kb(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),e.o.init(function(G,ee,re){e.i&&e.j&&G!=e.j.j&&Em(e,G,!0,ee===void 0?!1:ee,re===void 0?0:re)}),e.o.setMediaElement(i),e.o.setCmsdManager(e.fa),e.j=R9(e),e.j.configure(e.g.streaming),e.m=Mr,e.dispatchEvent(ln("streaming")),o=n;case 2:for((c=e.j.j)||o||(o=Ou(e)?e.o.chooseVariant():null),h=[],u=c||o,g=w([u.video,u.audio]),v=g.next();!v.done;v=g.next())(b=v.value)&&!b.segmentIndex&&h.push(b.createSegmentIndex());if(!(0<h.length)){W.u(4);break}return k(W,Promise.all(h),4);case 4:if(!u||u.disabledUntilTime!=0){W.u(2);break}if(e.H&&e.H.onInitialVariantChosen&&e.H.onInitialVariantChosen(u),e.i.isLowLatency&&!e.g.streaming.lowLatencyMode&&ze("Low-latency live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details."),e.O&&p9(e.O,e.i.isLowLatency&&e.g.streaming.lowLatencyMode),Kb(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),DR(e.j,e.g.playRangeStart,e.g.playRangeEnd),x=function(G){e.G=_9(e,G),e.Hb=P9(e,G),iE(e,i,Math.max(e.i.minBufferTime,e.g.streaming.rebufferingGoal))},e.g.streaming.startAtSegmentBoundary||(S=e.la,S==null&&e.i.startTime&&(S=e.i.startTime),x(S)),c){W.u(7);break}if(!e.g.streaming.startAtSegmentBoundary){W.u(8);break}return T=e.i.presentationTimeline,A=e.la||e.h.currentTime,e.la==null&&e.i.startTime&&(A=e.i.startTime),C=T.Kb(),M=T.Bb(),A<C?A=C:A>M&&(A=M),k(W,O9(o,A),9);case 9:_=W.h,x(_);case 8:Em(e,o,!0,!1,0);case 7:return e.G.ready(),O=e.Jc().find(function(G){return G.active}),O||((P=Mp(e.i.textStreams,e.Gb,e.pd,e.od)[0]||null)&&fb(e.A.h,P,!0),o&&(P?(j9(e,o.audio,P)&&(e.oa=!0),e.oa&&e.C.setTextVisibility(!0),fE(e)):e.oa=!1),P&&(e.g.streaming.alwaysStreamText||e.rf())&&am(e.j,P)),k(W,e.j.start(r),10);case 10:e.g.abr.enabled&&(e.o.enable(),gE(e)),Br(e),Ou(e),e.i.variants.some(function(G){return G.primary}),((j=e.U())&&(e.g.streaming.liveSync&&e.g.streaming.liveSync.enabled||e.i.serviceDescription||e.g.streaming.liveSync.panicMode)||e.g.streaming.vodDynamicPlaybackRate)&&(V=function(){return dE(e)},e.l.D(i,"timeupdate",V)),j||(B=function(){return km(e)},e.l.D(i,"timeupdate",B),km(e),e.i.nextUrl&&(0<e.g.streaming.preloadNextUrlWindow&&(H=function(){var G;return L(function(ee){if(ee.g==1)return G=e.h.duration-e.h.currentTime,isNaN(G)||!(G<=e.g.streaming.preloadNextUrlWindow)?ee.u(0):(e.l.ab(i,"timeupdate",H),k(ee,e.preload(e.i.nextUrl),4));e.sa=ee.h,te(ee)})},e.l.D(i,"timeupdate",H)),e.l.D(i,"ended",function(){e.load(e.sa||e.i.nextUrl)}))),e.s&&e.s.onManifestUpdated(j),e.Da=!0,te(W)}})}function k9(e,t){var n,r,i,o,u;return L(function(c){return c.g==1?(n=Nn,r=Date.now()/1e3,i=!0,e.B=e.Dc({Nb:e.F,onError:function(h){Ic(e,h)},ce:function(){},onExpirationUpdated:function(){var h=ln("expirationupdated");e.dispatchEvent(h)},onEvent:function(h){e.dispatchEvent(h),h.type=="drmsessionupdate"&&i&&(i=!1,e.A.j=Date.now()/1e3-r)}}),e.B.configure(e.g.drm),o={id:0,language:"und",disabledUntilTime:0,primary:!1,audio:null,video:null,bandwidth:100,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},u={id:0,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:t?mi(t):"",codecs:t?vi(t):"",encrypted:!0,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:n.ka,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set},u.fullMimeTypes.add(Un(u.mimeType,u.codecs)),t.startsWith("audio/")?(u.type=n.Y,o.audio=u):o.video=u,e.B.aa=!0,k(c,x5(e.B,[o],[]),2)):k(c,e.B.Tb(e.h),0)})}function E9(e,t,n){var r,i,o,u,c,h,g,v,b,x,S,T,A;return L(function(C){if(C.g==1)return Ac(e,"src-equals"),r=e.h,e.G=new p4(r),i=!1,e.nd.push(function(){i=!0}),e.la!=null&&e.G.Fe(e.la),e.K=new Vp({Ld:function(){return r.playbackRate},nc:function(){return r.defaultPlaybackRate},Sf:function(M){r.playbackRate=M},Kg:function(M){r.currentTime+=M}}),o=e.g.streaming.rebufferingGoal,iE(e,r,o),r.textTracks&&(eE(e),u=function(){var M=Zp(e).find(function(_){return _.mode!=="disabled"});M&&(M.mode="showing")},c=function(){var M=Zp(e).find(function(_){return _.mode!=="disabled"});M&&(M.mode="hidden")},e.l.D(r,"enterpictureinpicture",function(){return u()}),e.l.D(r,"leavepictureinpicture",function(){return c()}),r.remote?(e.l.D(r.remote,"connect",function(){return c()}),e.l.D(r.remote,"connecting",function(){return c()}),e.l.D(r.remote,"disconnect",function(){return c()})):"webkitCurrentPlaybackTargetIsWireless"in r&&e.l.D(r,"webkitcurrentplaybacktargetiswirelesschanged",function(){return c()}),h=r,h.webkitSupportsFullscreen&&e.l.D(h,"webkitpresentationmodechanged",function(){h.webkitPresentationMode!="inline"?u():c()})),tE(e,r,t),g=h9(e.O,e.ea,n),!g.includes("#t=")&&(0<e.g.playRangeStart||isFinite(e.g.playRangeEnd))&&(g+="#t=",0<e.g.playRangeStart&&(g+=e.g.playRangeStart),isFinite(e.g.playRangeEnd)&&(g+=","+e.g.playRangeEnd)),r.src=g,e.I&&d.ManagedMediaSource&&(r.disableRemotePlayback=!1),(Ji()||qa())&&r.load(),r.preload!="none"&&!r.autoplay&&O3(n)&&Kl()&&r.load(),e.m=ai,e.dispatchEvent(ln("streaming")),v=new Yt,vc(r,HTMLMediaElement.HAVE_METADATA,e.l,function(){e.G.ready(),v.resolve()}),vc(r,HTMLMediaElement.HAVE_CURRENT_DATA,e.l,function(){var M,_,O,P,j;return L(function(V){if(V.g==1)return A9(e),M=Zp(e),M.find(function(B){return B.mode!="disabled"})?(0<M.length&&(e.oa=!0,e.C.setTextVisibility(!0)),V.u(2)):k(V,new Promise(function(B){e.l.va(r.textTracks,"change",B),new mt(B).Z(1)}),2);if(i)return V.return();for(_=!1,O=w(M),P=O.next();!P.done;P=O.next())j=P.value,j.mode!=="disabled"&&(_?(j.mode="disabled",ze("Found more than one enabled text track, disabling it",j)):(sE(e,j),_=!0));C9(e),te(V)})}),r.error?v.reject(Gb(e)):r.preload=="none"&&(ze('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload="none" with Shaka Player.'),v.resolve()),e.l.va(r,"error",function(){v.reject(Gb(e))}),b=new Promise(function(M,_){new mt(_).Z(e.g.streaming.loadTimeout)}),k(C,Promise.race([v,b]),2);((x=e.U())&&(e.g.streaming.liveSync&&e.g.streaming.liveSync.enabled||e.g.streaming.liveSync.panicMode)||e.g.streaming.vodDynamicPlaybackRate)&&(S=function(){return dE(e)},e.l.D(r,"timeupdate",S)),x||(T=function(){return km(e)},e.l.D(r,"timeupdate",T),km(e)),e.s&&(e.s.onManifestUpdated(x),x&&(A=e.Qb().end,e.l.D(r,"progress",function(){var M=e.Qb().end;A!=M&&(e.s.onManifestUpdated(e.U()),A=M)}))),e.Da=!0,te(C)})}function A9(e){var t=e.g.preferredAudioLanguage;t!=""&&e.Wg(t,e.g.preferredVariantRole)}function C9(e){var t=e.g.preferredTextLanguage;t!=""&&e.Mf(t,e.g.preferredTextRole,e.g.preferForcedSubs)}function I9(e,t){if(t.kind=="metadata"){t.mode="hidden",e.l.D(t,"cuechange",function(){if(t.activeCues)for(var r=w(t.activeCues),i=r.next();!i.done;i=r.next())i=i.value,Bb(e,i.startTime,i.endTime,i.type,i.value),e.s&&e.s.onCueMetadataChange(i.value);if(t.cues){r=[],i=w(t.cues);for(var o=i.next(),u={};!o.done;u={Vb:void 0},o=i.next())u.Vb=o.value,u.Vb.type=="com.apple.quicktime.HLS"&&u.Vb.startTime!=null&&(o=r.find(function(c){return function(h){return h.startTime==c.Vb.startTime&&h.endTime==c.Vb.endTime}}(u)),o||(o={startTime:u.Vb.startTime,endTime:u.Vb.endTime,values:[]},r.push(o)),o.values.push(u.Vb.value));for(r=w(r),i=r.next();!i.done;i=r.next())i=i.value,i.values.some(function(c){return c.key=="X-ASSET-URI"||c.key=="X-ASSET-LIST"})&&e.s&&(i.values.push({key:"CUE",description:"",data:i.startTime!=0||e.U()?"ONCE":"ONCE,PRE",mimeType:null,pictureType:null}),e.s.onHLSInterstitialMetadata(e,e.h,i))}});var n=new mt(function(){var r=N9(e);r=w(r);for(var i=r.next();!i.done;i=r.next())i.value.mode="hidden"}).yc().Z(.5);e.nd.push(function(){n.stop()})}}function nE(e,t,n,r){t=w(t);for(var i=t.next();!i.done;i=t.next())if(i=i.value,i.data&&typeof i.cueTime=="number"&&i.frames){var o=i.cueTime+n,u=r;u&&o>u&&(u=o);for(var c=w(i.frames),h=c.next();!h.done;h=c.next())Bb(e,o,u,"org.id3",h.value);e.s&&e.s.onHlsTimedMetadata(i,o)}}function Bb(e,t,n,r,i){t=new Map().set("startTime",t).set("endTime",n).set("metadataType",r).set("payload",i),e.dispatchEvent(ln("metadata",t))}function M9(e,t){if(t&&t.kind=="chapters"){t.mode="hidden";var n=new mt(function(){t.mode="hidden"}).yc().Z(.5);e.nd.push(function(){n.stop()})}}f.Ki=function(){for(var e=this.aa;e.g;)e.release()},f.Dc=function(e){return new Gg(e)};function rE(e,t){function n(i){t()?t().dispatchEvent(i):e.dispatchEvent(i)}function r(i){t()?Kp(t(),!0,i):i()}return t||(t=function(){return null}),new on(function(i,o,u,c){var h=t()?t().i:e.o;h&&h.segmentDownloaded(i,o,u,c)},function(i,o,u){o=new Map().set("headers",i).set("request",o).set("requestType",u),n(ln("downloadheadersreceived",o)),r(function(){if(e.fa){var c=e.fa;if(c.h.enabled){var h=i["cmsd-static"];if(h)try{var g=new Map,v=h.split(",");for(h=0;h<v.length;h++){var b=v[h].split("=");g.set(b[0],H4(b[1]))}}catch{}if(g=i["cmsd-dynamic"]){try{var x=new Map,S=g.split(";");for(g=1;g<S.length;g++){var T=S[g].split("=");x.set(T[0],H4(T[1]))}var A=x}catch{A=null}A&&(c.g=A)}}}})},function(i,o,u,c){i=new Map().set("request",i).set("error",o).set("httpResponseCode",u).set("aborted",c),n(ln("downloadfailed",i))},function(i,o,u){r(function(){var c=e.O,h=u;if(h=h===void 0?{}:h,c.g.enabled)if(o.method==="HEAD")Ec(c,o);else switch(i){case 0:try{if(c.g.enabled){if(h.type){e:{switch(h.type){case 4:var g=c.j?wm:bm;break e;case 3:case 2:g=c.j?Sm:xm;break e;case 5:g="s";break e}g=void 0}c.i=g}Ec(c,o,{ot:$4,su:!c.l})}}catch(ae){Lt("CMCD_MANIFEST_ERROR","Could not generate manifest CMCD data.",ae)}break;case _a:try{if(c.g.enabled){var v=h.segment;g=0,v&&(g=v.endTime-v.startTime);var b={d:1e3*g,st:c.h.U()?"l":"v"};b.ot=g9(h);var x=b.ot===mm||b.ot===gm||b.ot===vm||b.ot===ym,S=h.stream;if(S){var T=c.h.hb();if(x&&(b.bl=m9(c,S.type),b.ot!==ym)){var A=z4(c,S.type);b.dl=T?A/Math.abs(T):A}if(S.bandwidth&&(b.br=S.bandwidth/1e3),S.segmentIndex&&v){var C=S.segmentIndex.Jb(v.endTime,!0,0>T);if(C){var M=C.next().value;if(M&&M!=v){if(!Li(v.N(),M.N())){var _=M.N()[0],O=o.uris[0],P=new URL(_),j=new URL(O);if(P.origin!==j.origin)var V=_;else{for(var B=P.pathname.split("/").slice(1),H=j.pathname.split("/").slice(1,-1);B[0]===H[0];)B.shift(),H.shift();for(;H.length;)H.shift(),B.unshift("..");V=B.join("/")}b.nor=V}if((M.Ha||M.ua)&&(v.Ha!=M.Ha||v.ua!=M.ua)){var W=M.Ha+"-";M.ua&&(W+=M.ua),b.nrr=W}}}var G=c.h.hb()||1,ee=z4(c,S.type)||500,re=S.bandwidth,ce=re?re*(v.endTime-v.startTime)/1e3/(ee/G/1e3)*c.g.rtpSafetyFactor:NaN;isNaN(ce)||(b.rtp=ce)}}x&&b.ot!==ym&&(b.tb=v9(c,b.ot)/1e3),Ec(c,o,b)}}catch(ae){Lt("CMCD_SEGMENT_ERROR","Could not generate segment CMCD data.",ae)}break;case 2:case 5:case 6:Ec(c,o,{ot:"k"});break;case 4:Ec(c,o,{ot:"o"})}})},function(i,o,u,c){(i=t()?t().j:e.H)&&i.banLocation&&i.banLocation(c)},function(i,o){if(o.data){o=o.data.byteLength;var u=t()?t().getStats():e.A;u&&(u.jc=isNaN(u.jc)?o:u.jc+o,i===0&&(u.Gg=o))}})}function _9(e,t){return new h4(e.h,e.i,e.g.streaming,t,function(){e.Hb&&b4(e.Hb,!0),e.j&&e.j.Uc(),e.M&&Uu(e)},function(n){return e.dispatchEvent(n)})}function P9(e,t){t=new pm(e.bc,e.U()||0<t),t.addEventListener("enter",function(r){Qp(e,"timelineregionenter",r.region)}),t.addEventListener("exit",function(r){Qp(e,"timelineregionexit",r.region)}),t.addEventListener("skip",function(r){var i=r.region;r.seeking||(Qp(e,"timelineregionenter",i),Qp(e,"timelineregionexit",i))});var n=new y4(e.h);return n.g.add(t),e.ac&&n.g.add(e.ac),n}function iE(e,t,n){e.M=new w7,e.M.g=oc,o5(e.M,n,Math.min(.5,n/2)),$b(e),e.he=new mt(function(){Uu(e)}).Oa(.25),e.l.D(t,"waiting",function(){return Uu(e)}),e.l.D(t,"stalled",function(){return Uu(e)}),e.l.D(t,"canplaythrough",function(){return Uu(e)}),e.l.D(t,"progress",function(){return Uu(e)})}function Uu(e){switch(e.m){case ai:if(e.h.ended)var t=!0;else{var n=Z1(e.h.buffered);t=n!=null&&n>=e.h.duration-1}break;case Mr:e:if(e.h.ended||e4(e.I))t=!0;else{if(e.i.presentationTimeline.U()){n=e.i.presentationTimeline.Yb();var r=Z1(e.h.buffered);if(r!=null&&r>=n){t=!0;break e}}t=!1}break;default:t=!1}r=V5(e.h.buffered,e.h.currentTime),n=e.M;var i=t,o=n.i.get(n.g);t=n.g,r=i||r>=o?_p:oc,n.g=r,(t=t!=r)&&r===_p&&(n.h=Date.now()),t&&$b(e)}function D9(e,t,n,r){return new Q5(e,t,n,r)}function L9(e){return new V4({getBandwidthEstimate:function(){return e.o?e.o.getBandwidthEstimate():NaN},zb:function(){return e.zb()},getCurrentTime:function(){return e.h?e.h.currentTime:0},hb:function(){return e.hb()},Ab:function(){return e.Ab()},pc:function(){return e.pc()},U:function(){return e.U()}},e.g.cmcd)}function R9(e){return new E4(e.i,{ed:function(){return e.G?e.G.yd():0},getBandwidthEstimate:function(){return e.o.getBandwidthEstimate()},hb:function(){return e.hb()},ba:e.I,Nb:e.F,onError:function(t){return Ic(e,t)},onEvent:function(t){return e.dispatchEvent(t)},Ci:function(){e.H&&e.H.update&&e.H.update()},Bf:function(t,n){var r=t.startTime;t=t.endTime;var i=n.type;if(n=n.codecs.includes(","),i!=bt){if(e.G){e.G.Lg();var o=ab(e.I,i);!e.U()&&e.h.paused&&o!=null&&0<o&&e.G.yd()<o&&e.G.Fe(o)}Uu(e)}r=new Map().set("start",r).set("end",t).set("contentType",i).set("isMuxed",n),e.dispatchEvent(ln("segmentappended",r))},Bi:function(t,n){(n=n.Nc)&&e.ac&&AR(e.ac,n,t)},ig:function(t,n){var r=e.B;if(r.h.parseInbandPsshEnabled&&!r.F&&["audio","video"].includes(t)){t=new w5(Ge(n)),n=0;for(var i=w(t.data),o=i.next();!o.done;o=i.next())n+=o.value.length;if(n==0)r=Promise.resolve();else{for(n=new Uint8Array(n),i=0,t=w(t.data),o=t.next();!o.done;o=t.next())o=o.value,n.set(o,i),i+=o.length;Dp(r,"cenc",n),r=r.m}}else r=Promise.resolve();return r},onMetadata:function(t,n,r){nE(e,t,n,r)},disableStream:function(t,n){return e.disableStream(t,n)}})}f.configure=function(e,t){if(arguments.length==2&&typeof e=="string"&&(e=lm(e,t)),e.streaming&&"forceTransmuxTS"in e.streaming&&(At("streaming.forceTransmuxTS configuration","Please Use mediaSource.forceTransmux instead."),e.mediaSource.mediaSource=e.streaming.forceTransmuxTS,delete e.streaming.forceTransmuxTS),e.streaming&&"forceTransmux"in e.streaming&&(At("streaming.forceTransmux configuration","Please Use mediaSource.forceTransmux instead."),e.mediaSource.mediaSource=e.streaming.forceTransmux,delete e.streaming.forceTransmux),e.streaming&&"useNativeHlsOnSafari"in e.streaming&&(At("streaming.useNativeHlsOnSafari configuration","Please Use streaming.useNativeHlsForFairPlay or streaming.preferNativeHls instead."),e.streaming.preferNativeHls=e.streaming.useNativeHlsOnSafari&&Gl(),delete e.streaming.useNativeHlsOnSafari),e.streaming&&typeof e.streaming.liveSync=="boolean"){At("streaming.liveSync","Please Use streaming.liveSync.enabled instead.");var n=e.streaming.liveSync;e.streaming.liveSync={},e.streaming.liveSync.enabled=n}if(e.streaming&&!(e.streaming.liveSync&&"targetLatency"in e.streaming.liveSync)&&("liveSyncMinLatency"in e.streaming||"liveSyncMaxLatency"in e.streaming)){n=e.streaming.liveSyncMinLatency||0;var r=Math.abs((e.streaming.liveSyncMaxLatency||1)-n)/2;e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.targetLatency=n+r,e.streaming.liveSync.targetLatencyTolerance=r}if(e.streaming&&"liveSyncMaxLatency"in e.streaming&&(At("streaming.liveSyncMaxLatency","Please Use streaming.liveSync.targetLatency and streaming.liveSync.targetLatencyTolerance instead. Or, set the values in your DASH manifest"),delete e.streaming.liveSyncMaxLatency),e.streaming&&"liveSyncMinLatency"in e.streaming&&(At("streaming.liveSyncMinLatency","Please Use streaming.liveSync.targetLatency and streaming.liveSync.targetLatencyTolerance instead. Or, set the values in your DASH manifest"),delete e.streaming.liveSyncMinLatency),e.streaming&&"liveSyncTargetLatency"in e.streaming&&(At("streaming.liveSyncTargetLatency","Please Use streaming.liveSync.targetLatency instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.targetLatency=e.streaming.liveSyncTargetLatency,delete e.streaming.liveSyncTargetLatency),e.streaming&&"liveSyncTargetLatencyTolerance"in e.streaming&&(At("streaming.liveSyncTargetLatencyTolerance","Please Use streaming.liveSync.targetLatencyTolerance instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.targetLatencyTolerance=e.streaming.liveSyncTargetLatencyTolerance,delete e.streaming.liveSyncTargetLatencyTolerance),e.streaming&&"liveSyncPlaybackRate"in e.streaming&&(At("streaming.liveSyncPlaybackRate","Please Use streaming.liveSync.maxPlaybackRate instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.maxPlaybackRate=e.streaming.liveSyncPlaybackRate,delete e.streaming.liveSyncPlaybackRate),e.streaming&&"liveSyncMinPlaybackRate"in e.streaming&&(At("streaming.liveSyncMinPlaybackRate","Please Use streaming.liveSync.minPlaybackRate instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.minPlaybackRate=e.streaming.liveSyncMinPlaybackRate,delete e.streaming.liveSyncMinPlaybackRate),e.streaming&&"liveSyncPanicMode"in e.streaming&&(At("streaming.liveSyncPanicMode","Please Use streaming.liveSync.panicMode instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.panicMode=e.streaming.liveSyncPanicMode,delete e.streaming.liveSyncPanicMode),e.streaming&&"liveSyncPanicThreshold"in e.streaming&&(At("streaming.liveSyncPanicThreshold","Please Use streaming.liveSync.panicThreshold instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.panicThreshold=e.streaming.liveSyncPanicThreshold,delete e.streaming.liveSyncPanicThreshold),e.mediaSource&&"sourceBufferExtraFeatures"in e.mediaSource){At("mediaSource.sourceBufferExtraFeatures configuration","Please Use mediaSource.addExtraFeaturesToSourceBuffer() instead.");var i=e.mediaSource.sourceBufferExtraFeatures;e.mediaSource.addExtraFeaturesToSourceBuffer=function(){return i},delete e.mediaSource.sourceBufferExtraFeatures}return e.manifest&&e.manifest.hls&&"useSafariBehaviorForLive"in e.manifest.hls&&(At("manifest.hls.useSafariBehaviorForLive configuration","Please Use liveSync config to keep on live Edge instead."),delete e.manifest.hls.useSafariBehaviorForLive),e.streaming&&e.streaming.lowLatencyMode&&(e.streaming.inaccurateManifestTolerance==null&&(e.streaming.inaccurateManifestTolerance=0),e.streaming.rebufferingGoal==null&&(e.streaming.rebufferingGoal=.01),e.streaming.segmentPrefetchLimit==null&&(e.streaming.segmentPrefetchLimit=2),e.streaming.updateIntervalSeconds==null&&(e.streaming.updateIntervalSeconds=.1),e.streaming.maxDisabledTime==null&&(e.streaming.maxDisabledTime=1),e.streaming.retryParameters==null&&(e.streaming.retryParameters={}),e.streaming.retryParameters.baseDelay==null&&(e.streaming.retryParameters.baseDelay=100),e.manifest==null&&(e.manifest={}),e.manifest.dash==null&&(e.manifest.dash={}),e.manifest.dash.autoCorrectDrift==null&&(e.manifest.dash.autoCorrectDrift=!1),e.manifest.retryParameters==null&&(e.manifest.retryParameters={}),e.manifest.retryParameters.baseDelay==null&&(e.manifest.retryParameters.baseDelay=100),e.drm==null&&(e.drm={}),e.drm.retryParameters==null&&(e.drm.retryParameters={}),e.drm.retryParameters.baseDelay==null&&(e.drm.retryParameters.baseDelay=100)),n=Cs(this.g,e,Uo(this)),aE(this),n};function aE(e){if(e.be=new W1(e.g,e.ja,e.B),e.H){var t=Ga(e.g.manifest);e.h&&e.h.nodeName==="AUDIO"&&(t.disableVideo=!0),e.H.configure(t)}if(e.B&&e.B.configure(e.g.drm),e.j){e.j.configure(e.g.streaming);try{e.m!=aa&&R5(e.be,e.i)&&Br(e)}catch(i){Ic(e,i)}e.o&&Ou(e),t=e.j.j,!t||t.allowedByApplication&&t.allowedByKeySystem||Cc(e)}if(e.F&&(e.F.Qf(e.g.streaming.forceHTTP),e.F.Rf(e.g.streaming.forceHTTPS),e.F.m=e.g.streaming.minBytesForProgressEvents),e.I&&(e.I.configure(e.g.mediaSource),e.I.fa=e.g.manifest.segmentRelativeVttTiming),e.C)if(t=e.g.textDisplayFactory,e.xe!=t){var n=e.C;if(e.C=t(),e.C.configure?e.C.configure(e.g.textDisplayer):At("Text displayer w/ configure",'Text displayer should have a "configure" method!'),e.C.setTextVisibility(n.isTextVisible()),n.destroy(),e.I){n=e.I;var r=e.C;n.aa=r,n.g&&(n.g.j=r)}e.xe=t,e.j&&(t=e.j,(n=t.i.get(bt))&&bc(t,n.stream,!0,0,!0))}else e.C.configure&&e.C.configure(e.g.textDisplayer);e.o&&(e.o.configure(e.g.abr),e.g.abr.enabled?e.o.enable():e.o.disable(),gE(e)),e.M&&(t=e.g.streaming.rebufferingGoal,e.i&&(t=Math.max(t,e.i.minBufferTime)),o5(e.M,t,Math.min(.5,t/2))),e.i&&Kb(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),e.s&&e.s.configure(e.g.ads),e.O&&e.O.configure(e.g.cmcd),e.fa&&e.fa.configure(e.g.cmsd)}f.getConfiguration=function(){var e=Uo(this);return Cs(e,this.g,Uo(this)),e},f.zg=function(){var e=Uo(this);return Cs(e,this.g,Uo(this)),_4(this.g,Uo(this))},f.ug=function(){if(this.h){var e=this.h.buffered.length;e=e?this.h.buffered.end(e-1):0;var t=this.getConfiguration().streaming.bufferingGoal;if(t=Math.min(this.h.currentTime+t,this.Qb().end),e>=t)return 1;if(!(e<=this.h.currentTime)&&e<t)return(e-this.h.currentTime)/(t-this.h.currentTime)}return 0},f.Oi=function(){for(var e in this.g)delete this.g[e];Cs(this.g,Uo(this),Uo(this)),aE(this)},f.xg=function(){return this.m},f.hf=function(){return this.i?this.i.type:null},f.Vh=function(){return this.h},f.Ab=function(){return this.F},f.Ic=function(){return this.ea},f.tg=function(){return this.s?this.s:null},f.U=function(){return this.i&&!this.Ka()?this.i.presentationTimeline.U():this.h&&this.h.src?this.h.duration==1/0:!1},f.sc=function(){return this.i?this.i.presentationTimeline.sc():!1},f.li=function(){if(this.i&&!this.Ka()){var e=this.i.variants;return e.length?!e[0].video:!1}return this.h&&this.h.src?this.h.videoTracks?this.h.videoTracks.length==0:this.h.videoHeight==0:!1},f.Qb=function(){if(this.i&&!this.Ka()){if(!this.Da&&this.i.type=="HLS")return{start:0,end:0};var e=this.i.presentationTimeline;return{start:e.Kb(),end:e.Bb()}}return this.h&&this.h.src&&(e=this.h.seekable,e.length)?{start:e.start(0),end:e.end(e.length-1)}:{start:0,end:0}},f.ii=function(){this.U()&&(this.h.currentTime=this.Qb().end)},f.mi=function(){return this.Da},f.keySystem=function(){var e=this.drmInfo();return e?e.keySystem:""},f.drmInfo=function(){return this.B?this.B.g:null},f.dd=function(){return this.B?this.B.dd():1/0},f.ff=function(){return this.B?this.B.ff():[]},f.Kd=function(){return this.B?this.B.Kd():{}},f.pf=function(){return this.M?this.M.g==oc:!1},f.hb=function(){return this.h?this.K?this.K.i:1:0},f.wd=function(e,t){var n=this;t=t===void 0?!0:t,e==0?ze("A trick play rate of 0 is unsupported!"):(this.Ua.Sa(),this.h.paused&&this.h.play(),this.K.set(e),this.m==Mr&&(this.o.playbackRateChanged(e),wb(this.j,t&&1<Math.abs(e))),this.U()&&this.Ua.D(this.h,"timeupdate",function(){var r=n.h.currentTime,i=n.Qb(),o=n.g.streaming.safeSeekOffset;0<e?Math.floor(r)>=Math.floor(i.end)&&n.Xc():Math.floor(r)<=Math.floor(i.start+o)&&n.Xc()}))},f.Xc=function(){var e=this.K.nc();this.m==ai&&this.K.set(e),this.m==Mr&&(this.K.set(e),this.o.playbackRateChanged(e),wb(this.j,!1)),this.Ua.Sa()},f.pc=function(){if(this.i&&!this.Ka()){for(var e=this.j?this.j.j:null,t=[],n=0,r=w(this.i.variants),i=r.next();!i.done;i=r.next())if(i=i.value,Ip(i)){var o=ic(i);o.active=i==e,o.active||n==1||e==null||i.video!=e.video||i.audio!=e.audio||(o.active=!0),o.active&&n++,t.push(o)}return t}return this.h&&this.h.audioTracks?Array.from(this.h.audioTracks).map(function(u){return F1(u)}):[]},f.Jc=function(){if(this.i&&!this.Ka()){for(var e=this.j?this.j.s:null,t=[],n=w(this.i.textStreams),r=n.next();!r.done;r=n.next()){r=r.value;var i=jg(r);i.active=r==e,t.push(i)}return t}return this.h&&this.h.src&&this.h.textTracks?Zp(this).map(function(o){return Y3(o)}):[]},f.Ph=function(){var e=this.rd;return this.i&&(e=this.i.imageStreams),e.map(function(t){return O1(t)})},f.Gh=function(e){var t=this,n,r,i,o;return L(function(u){return u.g==1?t.m!=Mr&&t.m!=ai?u.return(null):(n=t.rd,t.i&&(n=t.i.imageStreams),(r=n.find(function(c){return c.id==e}))?r.segmentIndex?u.u(2):k(u,r.createSegmentIndex(),2):u.return(null)):u.g!=4?(i=[],r.segmentIndex.yb(function(c){var h=oE(c.tilesLayout||r.tilesLayout);if(h){h=h.rows*h.kc;for(var g=c.j-c.startTime,v=0;v<h;v++)i.push(t.Bg(e,c.startTime+g*v/h))}}),k(u,Promise.all(i),4)):(o=u.h,u.return(o.filter(function(c){return c})))})};function oE(e){return e&&(e=/(\d+)x(\d+)/.exec(e))?{kc:parseInt(e[1],10),rows:parseInt(e[2],10)}:null}f.Bg=function(e,t){var n=this,r,i,o,u,c,h,g,v,b,x,S,T,A,C,M,_,O,P;return L(function(j){return j.g==1?n.m!=Mr&&n.m!=ai?j.return(null):(r=n.rd,n.i&&(r=n.i.imageStreams),(i=r.find(function(V){return V.id==e}))?i.segmentIndex?j.u(2):k(j,i.createSegmentIndex(),2):j.return(null)):(o=i.segmentIndex.find(t),o==null||(u=i.segmentIndex.get(o),c=oE(u.tilesLayout||i.tilesLayout),!c)?j.return(null):(h=i.width||0,g=i.height||0,v=h/c.kc,b=g/c.rows,x=c.kc*c.rows,S=u.j-u.startTime,T=u.B||S/x,A=u.startTime,M=C=0,1<x&&(_=Math.floor((t-u.startTime)/T),A=u.startTime+_*T,C=_%c.kc*v,M=Math.floor(_/c.kc)*b),O=!1,(P=u.A)&&(O=!0,b=P.height,C=P.positionX,M=P.positionY,v=P.width),j.return({segment:u,imageHeight:g,imageWidth:h,height:b,positionX:C,positionY:M,startTime:A,duration:T,uris:u.N(),width:v,sprite:O})))})},f.Xg=function(e){if(this.i&&this.j&&!this.Ka()){var t=this.i.textStreams.find(function(r){return r.id==e.id});t&&t!=this.j.s&&(fb(this.A.h,t,!1),am(this.j,t),Am(this),this.Gb=t.language)}else if(this.h&&this.h.src&&this.h.textTracks){var n=Zp(this);t=n.find(function(r){return r.mode!=="disabled"}),n=n.find(function(r){return j1(r)===e.id}),t!==n&&(t&&(t.mode="disabled",this.l.ab(t,"cuechange"),this.C.remove(0,1/0)),n&&sE(this,n)),Am(this)}};function sE(e,t){e.l.D(t,"cuechange",function(){e.C.remove(0,Math.max(0,e.h.currentTime-e.g.streaming.bufferBehind));var n=Array.from(t.activeCues||[]).map(i9).filter(ks);e.C.append(n)}),t.mode=document.pictureInPictureElement?"showing":"hidden"}f.Nf=function(e,t,n){if(t=t===void 0?!1:t,n=n===void 0?0:n,this.i&&this.j&&!this.Ka()){var r=this.i.variants.find(function(o){return o.id==e.id});if(r&&Ip(r)){var i=this.j.j;this.g.abr.enabled&&(i.video!=r.video||i.audio&&r.audio&&i.audio.language==r.audio.language&&i.audio.channelsCount==r.audio.channelsCount)&&ze("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack()."),Em(this,r,!1,t,n),this.Ea=new a5(r,this.g.mediaSource.codecSwitchingStrategy,this.g.manifest.dash.enableAudioGroups),Ou(this)}}else if(this.h&&this.h.audioTracks){for(t=Array.from(this.h.audioTracks),t=w(t),n=t.next();!n.done;n=t.next())if(n=n.value,j1(n)==e.id){pE(this,n);break}}},f.Ih=function(){return yE(this.pc())},f.bi=function(){return yE(this.Jc())},f.Hh=function(){return Array.from(vE(this.pc()))},f.ai=function(){return Array.from(vE(this.Jc()))},f.Wg=function(e,t,n,r,i){if(n=n===void 0?0:n,r=r===void 0?0:r,i=i===void 0?"":i,this.i&&this.G&&!this.Ka()){this.Ea=new ac(e,t||"",n,"",!1,"","","",this.g.mediaSource.codecSwitchingStrategy,this.g.manifest.dash.enableAudioGroups,i),e=function(u,c){return u.video||c.video?u.video&&c.video?Math.abs((u.video.height||0)-(c.video.height||0))+Math.abs((u.video.width||0)-(c.video.width||0)):1/0:0},t=this.j.j,i=this.Ea.create(this.i.variants),n=null,i=w(i.values());for(var o=i.next();!o.done;o=i.next())o=o.value,Ip(o)&&(!n||e(n,t)>e(o,t))&&(n=o);n!=t&&(n?(e=ic(n),this.Nf(e,!0,r)):Cc(this))}else this.h&&this.h.audioTracks&&(r=Mp(this.pc(),e,t||"",!1)[0])&&this.Nf(r)},f.Mf=function(e,t,n){n=n===void 0?!1:n,this.i&&this.G&&!this.Ka()?(this.Gb=e,this.pd=t||"",this.od=n,(e=Mp(this.i.textStreams,this.Gb,this.pd,this.od)[0]||null)&&e!=this.j.s&&(fb(this.A.h,e,!1),this.g.streaming.alwaysStreamText||this.rf())&&(am(this.j,e),Am(this))):(e=Mp(this.Jc(),e,t||"",n)[0])&&this.Xg(e)},f.Ui=function(e,t,n){if(t=t===void 0?!0:t,n=n===void 0?0:n,this.i&&this.G&&!this.Ka()){for(var r=null,i=w(this.i.variants),o=i.next();!o.done;o=i.next())if(o=o.value,o.audio.label==e){r=o;break}r!=null&&(this.Ea=new ac(r.language,"",0,"",!1,"",e,"",this.g.mediaSource.codecSwitchingStrategy,this.g.manifest.dash.enableAudioGroups,""),Cc(this,t,n))}else if(this.h&&this.h.audioTracks){for(n=Array.from(this.h.audioTracks),t=null,n=w(n),r=n.next();!r.done;r=n.next())r=r.value,r.label==e&&(t=r);t&&pE(this,t)}},f.rf=function(){var e=this.oa;return this.C?this.C.isTextVisible():e},f.vg=function(){return this.h&&this.h.src&&this.h.textTracks?uE(this).map(function(e){return Y3(e)}):[]},f.Kh=function(e){if(!this.h||!this.h.src||!this.h.textTracks)return[];var t=Gt(e),n=uE(this).filter(function(c){return Gt(c.language)==t});if(!n||!n.length)return[];e=[];var r=new Set;n=w(n);for(var i=n.next();!i.done;i=n.next())if((i=i.value)&&i.cues){i=w(i.cues);for(var o=i.next();!o.done;o=i.next()){var u=o.value;(o=u.id)&&o!=""||(o=u.startTime+"-"+u.endTime+"-"+u.text),u={id:o,title:u.text,startTime:u.startTime,endTime:u.endTime},r.has(o)||(e.push(u),r.add(o))}}return e};function Zp(e){return Array.from(e.h.textTracks).filter(function(t){return t.kind!="metadata"&&t.kind!="chapters"&&t.label!="Shaka Player TextTrack"})}function N9(e){return Array.from(e.h.textTracks).filter(function(t){return t.kind=="metadata"})}function uE(e){return Array.from(e.h.textTracks).filter(function(t){return t.kind=="chapters"})}f.dh=function(e){e=!!e,this.oa!=e&&(this.oa=e,this.m==Mr?(this.C.setTextVisibility(e),this.g.streaming.alwaysStreamText||(e?this.j.s||(e=Mp(this.i.textStreams,this.Gb,this.pd,this.od),0<e.length&&(am(this.j,e[0]),Am(this))):RR(this.j))):this.h&&this.h.src&&this.h.textTracks&&this.C.setTextVisibility(e),fE(this))},f.Xh=function(){if(this.G)var e=this.G.yd();else{if(this.la==null)return new Date;e=this.la}if(this.i&&!this.Ka()){var t=this.i.presentationTimeline;return new Date(1e3*((t.m||t.i)+e))}return this.h&&this.h.getStartDate?(t=this.h.getStartDate(),isNaN(t.getTime())?null:new Date(t.getTime()+1e3*e)):null},f.Ag=function(){if(this.i&&!this.Ka()){var e=this.i.presentationTimeline;return new Date(1e3*(e.m||e.i))}return this.h&&this.h.getStartDate?(e=this.h.getStartDate(),isNaN(e.getTime())?null:e):null},f.Md=function(){return this.U()&&this.i?this.i.presentationTimeline.Md():null},f.zb=function(){if(this.m==Mr)return this.I.zb();var e={total:[],audio:[],video:[],text:[]};return this.m==ai&&(e.total=As(this.h.buffered)),e},f.getStats=function(){if(this.m!=Mr&&this.m!=ai)return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,stallsDetected:NaN,gapsJumped:NaN,estimatedBandwidth:NaN,completionPercent:NaN,loadLatency:NaN,manifestTimeSeconds:NaN,drmTimeSeconds:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,licenseTime:NaN,liveLatency:NaN,maxSegmentDuration:NaN,manifestSizeBytes:NaN,bytesDownloaded:NaN,nonFatalErrorCount:NaN,manifestPeriodCount:NaN,manifestGapCount:NaN,switchHistory:[],stateHistory:[]};Hb(this);var e=this.h,t=e.currentTime/e.duration;if(!isNaN(t)&&!this.U()){var n=this.A;t=Math.round(100*t),n.i=isNaN(n.i)?t:Math.max(n.i,t)}if(this.G&&(this.A.R=this.G.dg(),this.A.X=this.G.eg()),e.getVideoPlaybackQuality){n=e.getVideoPlaybackQuality(),t=this.A;var r=Number(n.totalVideoFrames);t.O=Number(n.droppedVideoFrames),t.M=r,this.A.L=Number(n.corruptedVideoFrames)}if(this.B?(n=this.B,n=n.H?n.H:NaN):n=NaN,this.A.o=n,this.m==Mr){if(n=this.j.j,t=this.j.s,n){r=this.K?this.K.i:1;var i=r*n.bandwidth;t&&t.bandwidth&&(i+=r*t.bandwidth),this.A.A=i}n&&n.video&&(t=this.A,r=n.video.height||NaN,t.m=n.video.width||NaN,t.l=r),this.U()&&(n=this.Ag().valueOf()+1e3*e.currentTime,this.A.B=(Date.now()-n)/1e3),this.i&&(this.A.G=this.i.periodCount,this.A.F=this.i.gapCount,this.i.presentationTimeline&&(this.A.I=this.i.presentationTimeline.h)),n=this.o.getBandwidthEstimate(),this.A.s=n}this.m==ai&&(n=this.A,n.jc=isNaN(n.jc)?NaN:n.jc+NaN,n=this.A,t=e.videoHeight||NaN,n.m=e.videoWidth||NaN,n.l=t);var o=this.A;e=o.m,n=o.l,t=o.A,r=o.M,i=o.O;var u=o.L,c=o.X,h=o.R,g=o.s,v=o.i,b=o.C,x=o.H,S=o.j,T=hb(o.g,"playing"),A=hb(o.g,"paused"),C=hb(o.g,"buffering"),M=o.o,_=o.B,O=o.I,P=o.Gg,j=o.jc,V=o.K,B=o.G,H=o.F,W=xR(o.g),G=[];o=w(o.h.g);for(var ee=o.next();!ee.done;ee=o.next())ee=ee.value,G.push({timestamp:ee.timestamp,id:ee.id,type:ee.type,fromAdaptation:ee.fromAdaptation,bandwidth:ee.bandwidth});return{width:e,height:n,streamBandwidth:t,decodedFrames:r,droppedFrames:i,corruptedFrames:u,stallsDetected:c,gapsJumped:h,estimatedBandwidth:g,completionPercent:v,loadLatency:b,manifestTimeSeconds:x,drmTimeSeconds:S,playTime:T,pauseTime:A,bufferingTime:C,licenseTime:M,liveLatency:_,maxSegmentDuration:O,manifestSizeBytes:P,bytesDownloaded:j,nonFatalErrorCount:V,manifestPeriodCount:B,manifestGapCount:H,stateHistory:W,switchHistory:G}},f.uh=function(e,t,n,r,i,o,u){u=u===void 0?!1:u;var c=this,h,g,v,b,x,S,T,A,C,M,_,O;return L(function(P){switch(P.g){case 1:if(c.m!=Mr&&c.m!=ai)throw new $(1,7,7004);if(n!="subtitles"&&n!="captions"&&ze("Using a kind value different of `subtitles` or `captions` can cause unwanted issues."),r){P.u(2);break}return k(P,Vb(c,e),3);case 3:r=P.h;case 2:if(h=[],c.s&&(h=c.s.getCuePoints()),c.m!=ai){P.u(4);break}return u&&(n="forced"),k(P,lE(c,e,t,n,r,o||"",h),5);case 5:if(g=Gt(t),v=c.Jc(),b=v.find(function(j){return Gt(j.language)==g&&j.label==(o||"")&&j.kind==n}))return Br(c),P.return(b);throw new $(1,2,2012);case 4:if(x=Nn,S=c.h.duration,c.i&&(S=c.i.presentationTimeline.getDuration()),S==1/0)throw new $(1,4,4033);if(!h.length){P.u(6);break}return k(P,zb(c,e,c.F,c.g.streaming.retryParameters),7);case 7:T=P.h,A=cE(c,T,r,h),C=new Blob([A],{type:"text/vtt"}),e=ub(C),r="text/vtt";case 6:if(M={id:c.bg++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:pb(0,S,[e]),mimeType:r||"",codecs:i||"",kind:n,encrypted:!1,drmInfos:[],keyIds:new Set,language:t,originalLanguage:t,label:o||null,type:x.wa,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!!u,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([Un(r||"",i||"")])},_=Un(M.mimeType,M.codecs),O=Ep(_),!O)throw new $(2,2,2014,r);return c.i.textStreams.push(M),Br(c),P.return(jg(M))}})},f.vh=function(e,t){var n=this,r,i,o,u,c,h,g,v,b,x,S,T,A,C,M,_,O;return L(function(P){switch(P.g){case 1:if(n.m!=Mr&&n.m!=ai)throw new $(1,7,7004);if(t){P.u(2);break}return k(P,Vb(n,e),3);case 3:t=P.h;case 2:if(t!="text/vtt")throw new $(1,2,2017,e);if(r=Nn,i=n.h.duration,n.i&&(i=n.i.presentationTimeline.getDuration()),i==1/0)throw new $(1,4,4045);return k(P,zb(n,e,n.F,n.g.streaming.retryParameters),4);case 4:if(o=P.h,u=_n[t],!u)throw new $(2,2,2014,t);for(c=u(),h={periodStart:0,segmentStart:0,segmentEnd:i,vttOffset:0},g=Ge(o),v=c.parseMedia(g,h,e,[]),b=[],x=w(v),S=x.next(),T={};!S.done;T={we:void 0,Ec:void 0},S=x.next())T.Ec=S.value,T.we=null,A=function(j){return function(){return j.we==null&&(j.we=Yn([e],[j.Ec.payload])),j.we||[]}}(T),C=new Ye(T.Ec.startTime,T.Ec.endTime,A,0,null,null,0,0,1/0),T.Ec.payload.includes("#xywh")&&(M=T.Ec.payload.split("#xywh=")[1].split(","),M.length===4&&C.eh({height:parseInt(M[3],10),positionX:parseInt(M[0],10),positionY:parseInt(M[1],10),width:parseInt(M[2],10)})),b.push(C);if(_=t,!b.length){P.u(5);break}return k(P,hm(b[0].N()[0],n.F,n.g.manifest.retryParameters),6);case 6:_=P.h;case 5:return O={id:n.bg++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Nt(b),mimeType:_||"",codecs:"",kind:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:r.Ee,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,tilesLayout:"1x1",accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([Un(_||"","")])},n.m==ai?n.rd.push(O):n.i.imageStreams.push(O),Br(n),P.return(O1(O))}})},f.th=function(e,t,n){var r=this,i,o,u,c;return L(function(h){switch(h.g){case 1:if(r.m!=Mr&&r.m!=ai)throw new $(1,7,7004);if(n){h.u(2);break}return k(h,Vb(r,e),3);case 3:n=h.h;case 2:return i=[],r.s&&(i=r.s.getCuePoints()),k(h,lE(r,e,t,"chapters",n,"",i),4);case 4:if(o=h.h,u=r.vg(),c=u.find(function(g){return g.language==t}),!c){h.u(5);break}return k(h,new Promise(function(g,v){r.l.va(o,"load",g),r.l.va(o,"error",function(){v(new $(1,2,2015))})}),6);case 6:return Br(r),h.return(c);case 5:throw new $(1,2,2012)}})};function Vb(e,t){var n;return L(function(r){switch(r.g){case 1:return se(r,2),k(r,hm(t,e.F,e.g.streaming.retryParameters),4);case 4:n=r.h,z(r,3);break;case 2:Y(r);case 3:if(n)return r.return(n);throw new $(1,2,2011,t)}})}function lE(e,t,n,r,i,o,u){var c,h,g,v;return L(function(b){if(b.g==1)return i!="text/vtt"||u.length?k(b,zb(e,t,e.F,e.g.streaming.retryParameters),3):b.u(2);b.g!=2&&(c=b.h,h=cE(e,c,i,u),g=new Blob([h],{type:"text/vtt"}),t=ub(g),i="text/vtt"),v=document.createElement("track");var x=e.O,S=t;try{if(x.g.enabled){var T=Rb(x);T.ot=Ub,T.su=!0;var A=fm(T),C=Nb(S,A)}else C=S}catch(M){Lt("CMCD_TEXT_TRACK_ERROR","Could not generate text track CMCD data.",M),C=S}return v.src=C,v.label=o,v.kind=r,v.srclang=n,e.h.getAttribute("crossorigin")||e.h.setAttribute("crossorigin","anonymous"),e.h.appendChild(v),b.return(v)})}function zb(e,t,n,r){var i,o,u;return L(function(c){if(c.g==1){i=_a,o=qn([t],r),o.method="GET";var h=e.O;try{h.g.enabled&&Ec(h,o,{ot:Ub,su:!0})}catch(g){Lt("CMCD_TEXT_ERROR","Could not generate text CMCD data.",g)}return k(c,n.request(i,o).promise,2)}return u=c.h,c.return(u.data)})}function cE(e,t,n,r){var i=_n[n];if(i)return n=i(),e={periodStart:0,segmentStart:0,segmentEnd:e.h.duration,vttOffset:0},t=Ge(t),t=n.parseMedia(t,e,null,[]),c9(t,r);throw new $(2,2,2014,n)}f.Zi=function(e,t){this.ja.width=e,this.ja.height=t},f.Kf=function(e){if(this.m==Mr){var t=this.j;if(e=e===void 0?.1:e,t.m.g)t=!1;else if(t.A)t=!1;else{for(var n=w(t.i.values()),r=n.next();!r.done;r=n.next())r=r.value,!r.hd||r.Ma||r.wb||(r.hd=!1,Ui(t,r,e));t=!0}}else t=!1;return t},f.gf=function(){return ze("Shaka Player's internal Manifest structure is NOT covered by semantic versioning compatibility guarantees.  It may change at any time!  Please consider filing a feature request for whatever you use getManifest() for."),this.i},f.Sh=function(){return this.cb},f.Nh=function(){var e={video:null,audio:null,text:null};if(this.m!=Mr)return e;var t=this.j.j,n=this.h.currentTime;t=w([t.video,t.audio,this.j.s]);for(var r=t.next();!r.done;r=t.next())if((r=r.value)&&r.segmentIndex){var i=r.segmentIndex.find(n);i=r.segmentIndex.get(i),i={codecs:i.codecs||r.codecs,mimeType:i.mimeType||r.mimeType,bandwidth:i.bandwidth||r.bandwidth},r.type=="video"?(i.width=r.width,i.height=r.height,e.video=i):r.type=="audio"?e.audio=i:r.type==bt&&(e.text=i)}return e};function Uo(e){var t=xc();return t.streaming.failureCallback=function(n){if(e.U()){var r=null;n.code==1001||n.code==1002?(r=1,e.g.streaming.lowLatencyMode&&(r=.1)):n.code==1003&&(r=.1),r!=null&&(n.severity=1,e.Kf(r))}},t.textDisplayFactory=function(){if(e.fe){var n=e.getConfiguration();return new ii(e.h,e.fe,n.textDisplayer)}return HTMLMediaElement.prototype.addTextTrack?new ni(e.h,"Shaka Player TextTrack"):new ri},t}f.hh=function(e){this.fe=e};function U9(e,t){for(var n=new Set,r=w(t.textStreams),i=r.next();!i.done;i=r.next())i=i.value,i.mimeType!="application/cea-608"&&i.mimeType!="application/cea-708"||n.add(i.originalId);for(r=w(t.variants),i=r.next();!i.done;i=r.next())if((i=i.value.video)&&i.closedCaptions){for(var o=w(i.closedCaptions.keys()),u=o.next();!u.done;u=o.next())if(u=u.value,!n.has(u)){var c=u.startsWith("CC")?"application/cea-608":"application/cea-708",h=new bn,g=i.closedCaptions.get(u);c={id:e.bg++,originalId:u,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:h,mimeType:c,codecs:"",kind:"caption",encrypted:!1,drmInfos:[],keyIds:new Set,language:g,originalLanguage:g,label:null,type:bt,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:i.roles,forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set([Un(c,"")])},t.textStreams.push(c),n.add(u)}}}function O9(e,t){var n,r,i,o,u;return L(function(c){return c.g==1?(n=e.audio,r=e.video,i=function(h,g){var v,b,x;return L(function(S){return S.g==1?h?k(S,h.createSegmentIndex(),2):S.return(null):(b=(v=h.segmentIndex.Jb(g))?v.next().value:null,b?(x=b.startTime,S.return(x)):S.return(null))})},k(c,i(n,t),2)):c.g!=3?(o=c.h,k(c,i(r,t),3)):(u=c.h,u!=null&&o!=null?c.return(Math.max(u,o)):u!=null?c.return(u):o!=null?c.return(o):c.return(t))})}function $b(e){var t=e.pf();if(e.A&&e.M&&e.G){var n=e.K;if(n.j=t,v4(n),e.O&&(n=e.O,t||n.l||(n.l=!0),n.l&&t&&(n.m=!0),n.o=t),Hb(e),n=e.g.streaming.liveSync.dynamicTargetLatency.maxAttempts,e.g.streaming.liveSync.dynamicTargetLatency.enabled&&t&&e.Be<n){n=e.g.streaming.liveSync.dynamicTargetLatency.maxLatency;var r=e.g.streaming.liveSync.targetLatencyTolerance,i=e.g.streaming.liveSync.dynamicTargetLatency.rebufferIncrement;e.R&&(e.R=Math.min(e.R+ ++e.Be*i,n-r))}}t=new Map().set("buffering",t),e.dispatchEvent(ln("buffering",t))}function Hb(e){if(e.A&&e.M){var t=e.A.g,n="playing";e.M.g==oc?n="buffering":e.h.ended?n="ended":e.h.paused&&(n="paused");var r=n;if(t.g==null)t.g={timestamp:Date.now()/1e3,state:r,duration:0},t=!0;else{var i=Date.now()/1e3;t.g.duration=i-t.g.timestamp,t.g.state==r?t=!1:(t.h.push(t.g),t.g={timestamp:i,state:r,duration:0},t=!0)}t&&(n=new Map().set("newstate",n),e.dispatchEvent(ln("statechanged",n)))}}function dE(e){var t=e.h.playbackRate,n=e.U();if(e.g.streaming.vodDynamicPlaybackRate&&!n){var r=e.g.streaming.vodDynamicPlaybackRateLowBufferRate,i=e.ug();i<=e.g.streaming.vodDynamicPlaybackRateBufferRatio?t!=r&&e.wd(r,!1):i==1&&t!==e.K.nc()&&e.Xc()}if(n&&(n=e.Qb(),Number.isFinite(n.end)&&!(e.h.currentTime<n.start))){r=e.g.streaming.liveSync.targetLatencyTolerance,i=e.g.streaming.liveSync.dynamicTargetLatency.enabled;var o=e.g.streaming.liveSync.dynamicTargetLatency.stabilityThreshold;if(e.g.streaming.liveSync&&e.g.streaming.liveSync.enabled)var u=e.g.streaming.liveSync.targetLatency,c=u+r,h=Math.max(0,u-r),g=e.g.streaming.liveSync.maxPlaybackRate,v=e.g.streaming.liveSync.minPlaybackRate;else e.i&&e.i.serviceDescription&&(u=e.i.serviceDescription.targetLatency,e.i.serviceDescription.targetLatency!=null?c=e.i.serviceDescription.targetLatency+r:e.i.serviceDescription.maxLatency!=null&&(c=e.i.serviceDescription.maxLatency),e.i.serviceDescription.targetLatency!=null?h=Math.max(0,e.i.serviceDescription.targetLatency-r):e.i.serviceDescription.minLatency!=null&&(h=e.i.serviceDescription.minLatency),g=e.i.serviceDescription.maxPlaybackRate||e.g.streaming.liveSync.maxPlaybackRate,v=e.i.serviceDescription.minPlaybackRate||e.g.streaming.liveSync.minPlaybackRate);e.R||typeof u!="number"||(e.R=u);var b=e.g.streaming.liveSync.dynamicTargetLatency.maxAttempts;i&&e.Fa&&e.R!==null&&typeof u=="number"&&e.Be<b&&Date.now()-e.Fa>1e3*o&&(o=e.g.streaming.liveSync.dynamicTargetLatency.minLatency,e.R=Math.max(e.R-(u-o)/2,o+r),e.Fa=Date.now()),i&&e.R!==null&&(c=e.R+r,h=e.R-r),u=n.end-e.h.currentTime,r=0,e.m==ai&&(i=e.h.buffered,0<i.length&&(r=i.end(i.length-1),r=Math.max(g,r-n.end))),n=e.g.streaming.liveSync.panicMode,i=1e3*e.g.streaming.liveSync.panicThreshold,o=Date.now()-e.M.h,n&&!v&&(v=e.g.streaming.liveSync.minPlaybackRate),n&&v&&o<=i?t!=v&&e.wd(v,!1):c&&g&&u-r>c?(t!=g&&e.wd(g,!1),e.Fa=null):h&&v&&u-r<h?(t!=v&&e.wd(v,!1),e.Fa=null):t!==e.K.nc()&&(e.Xc(),e.Fa=Date.now())}}function km(e){if(e.h){var t=!1,n=e.h.currentTime/e.h.duration;if(isNaN(n)||(n=Math.round(100*n),isNaN(e.X)?(e.X=n,t=!0):(n=Math.max(e.X,n),e.X!=n&&(e.X=n,t=!0))),t){var r;e.X==0?r=ln("started"):e.X==25?r=ln("firstquartile"):e.X==50?r=ln("midpoint"):e.X==75?r=ln("thirdquartile"):e.X==100&&(r=ln("complete")),r&&e.dispatchEvent(r)}}}function Ou(e){try{N5(e.be,e.i)}catch(n){return Ic(e,n),!1}var t=Fg(e.i.variants);return t=e.Ea.create(t),e.o.setVariants(Array.from(t.values())),!0}function Cc(e,t,n,r,i){t=t===void 0?!0:t,n=n===void 0?0:n,r=r===void 0?!1:r,i=i===void 0?!0:i;var o;(o=Ou(e)?e.o.chooseVariant():null)&&Em(e,o,i,t,n,r)}function Em(e,t,n,r,i,o){o=o===void 0?!1:o;var u=e.j.j;if(t==u)r&&A4(e.j,t,r,i,!0);else{var c=e.A.h;c.h!=t&&(c.h=t,c.g.push({timestamp:Date.now()/1e3,id:t.id,type:"variant",fromAdaptation:n,bandwidth:t.bandwidth})),A4(e.j,t,r,i,o,n),r=null,u&&(r=ic(u)),t=ic(t),t.active=!0,n?(n=new Map().set("oldTrack",r).set("newTrack",t),e.L&&Z5(e.L,t,e.hf()),n=ln("adaptation",n),Mc(e,n)):hE(e,r,t)}}function pE(e,t){var n=Array.from(e.h.audioTracks).find(function(r){return r.enabled});t.enabled=!0,n&&(t.id!==n.id&&(n.enabled=!1),n=F1(n),t=F1(t),hE(e,n,t))}function j9(e,t,n){if(e.g.autoShowText==0)return!1;if(e.g.autoShowText==1)return!0;var r=Gt(e.g.preferredTextLanguage);return n=Gt(n.language),e.g.autoShowText==2?nc(n,r):e.g.autoShowText==3?t?(e=Gt(t.language),nc(n,r)&&!nc(e,n)):!1:(ze("Invalid autoShowText setting!"),!1)}function Br(e){var t=ln("trackschanged");Mc(e,t)}function hE(e,t,n){t=new Map().set("oldTrack",t).set("newTrack",n),e.L&&Z5(e.L,n,e.hf()),n=ln("variantchanged",t),Mc(e,n)}function Am(e){var t=ln("textchanged");Mc(e,t)}function fE(e){var t=ln("texttrackvisibility");Mc(e,t)}function gE(e){e.g.abr.enabled||qb(e);var t=new Map().set("newStatus",e.g.abr.enabled);Mc(e,ln("abrstatuschanged",t))}function qb(e,t){if(t=t===void 0?!0:t,e.m==Mr){e.ie.stop();for(var n=w(e.i.variants),r=n.next();!r.done;r=n.next())r.value.disabledUntilTime=0;t&&Ou(e)}}f.disableStream=function(e,t){if(!this.g.abr.enabled||this.m===aa||!navigator.onLine||t==0||!this.i)return!1;if(this.i.variants.some(function(c){var h=c[e.type];return h&&h.id!==e.id&&!c.disabledUntilTime?e.type=="audio"?e.language===h.language:!0:!1})){for(var n=!1,r=!1,i=w(this.i.variants),o=i.next();!o.done;o=i.next()){o=o.value;var u=o[e.type];u&&(u.id===e.id?(o.disabledUntilTime=Date.now()/1e3+t,n=!0):u.trickModeVideo&&u.trickModeVideo.id==e.id&&(r=!0))}return!n&&r?!1:(this.ie.Oa(1),t=this.zb().video.reduce(function(c,h){return c+h.end-h.start},0),Cc(this,!1,t,!0,!1),!0)}return!1};function Ic(e,t){var n,r,i,o;return L(function(u){switch(u.g){case 1:if(e.m==aa)return u.return();if(t.severity===1&&e.A.K++,n=!0,!(e.Da&&e.i&&e.j)||t.code!=3016&&t.code!=3014&&t.code!=3015&&t.code!=3018){u.u(2);break}return se(u,3),k(u,M4(e.j),5);case 5:r=u.h,n=!r,r&&(i=ln("mediasourcerecovered"),e.dispatchEvent(i)),z(u,2);break;case 3:Y(u),n=!0;case 2:if(!n)return u.return();t.severity===2&&qb(e,!1),o=ln("error",new Map().set("detail",t)),e.dispatchEvent(o),o.defaultPrevented&&(t.handled=!0),te(u)}})}f.addFont=function(e,t){var n,r,i,o,u;return L(function(c){if(c.g==1)return"fonts"in document&&"FontFace"in d?k(c,document.fonts.ready,3):c.u(0);if(!("entries"in document.fonts))return c.return();for(n=function(h){h=h.entries();for(var g=[],v=h.next();v.done===!1;)g.push(v.value),v=h.next();return g},r=w(n(document.fonts)),i=r.next();!i.done;i=r.next())if(o=i.value,o.family==e&&o.display=="swap")return c.return();u=new FontFace(e,"url("+t+")",{display:"swap"}),document.fonts.add(u),te(c)})};function Qp(e,t,n,r){r=r===void 0?e:r,e=new Map().set("detail",{schemeIdUri:n.schemeIdUri,value:n.value,startTime:n.startTime,endTime:n.endTime,id:n.id,eventElement:n.eventElement,eventNode:n.eventNode}),r.dispatchEvent(ln(t,e))}function mE(e,t,n,r){r=r===void 0?!1:r,t=new Map().set("mediaQuality",{bandwidth:t.bandwidth,audioSamplingRate:t.audioSamplingRate,codecs:t.codecs,contentType:t.contentType,frameRate:t.frameRate,height:t.height,mimeType:t.mimeType,channelsCount:t.channelsCount,pixelAspectRatio:t.pixelAspectRatio,width:t.width,label:t.label,roles:t.roles,language:t.language}).set("position",n),e.dispatchEvent(ln(r?"audiotrackchanged":"mediaqualitychanged",t))}function Gb(e,t){if(t=t===void 0?!0:t,!e.h.error)return t?new $(2,3,3016):null;var n=e.h.error.code;return!t&&n==1?null:((t=e.h.error.msExtendedCode)&&(0>t&&(t+=Math.pow(2,32)),t=t.toString(16)),new $(2,3,3016,n,t,e.h.error.message))}function Kb(e,t,n){0<t&&(e.U()||e.gh(t)),t=e.getDuration(),n<t&&(e.U()||e.$a(n))}function Mc(e,t){L(function(n){if(n.g==1)return k(n,Promise.resolve(),2);e.m!=aa&&e.dispatchEvent(t),te(n)})}function vE(e){var t=new Set;e=w(e);for(var n=e.next();!n.done;n=e.next())n=n.value,n.language?t.add(Gt(n.language)):t.add("und");return t}function yE(e){var t=new Map,n=new Map;e=w(e);for(var r=e.next();!r.done;r=e.next()){r=r.value;var i="und",o=[];r.language&&(i=Gt(r.language)),r.type=="variant"?o=r.audioRoles:o=r.roles,o&&o.length||(o=[""]),t.has(i)||t.set(i,new Set),o=w(o);for(var u=o.next();!u.done;u=o.next())u=u.value,t.get(i).add(u),r.label&&(n.has(i)||n.set(i,new Map),n.get(i).set(u,r.label))}var c=[];return t.forEach(function(h,g){h=w(h);for(var v=h.next();!v.done;v=h.next()){v=v.value;var b=null;n.has(g)&&n.get(g).has(v)&&(b=n.get(g).get(v)),c.push({language:g,role:v,label:b})}}),c}f.Ka=function(){return this.h&&this.h.remote?this.h.remote.state!="disconnected":!1},Ae("shaka.Player",le),le.prototype.isRemotePlayback=le.prototype.Ka,le.prototype.addFont=le.prototype.addFont,le.prototype.setVideoContainer=le.prototype.hh,le.prototype.getFetchedPlaybackInfo=le.prototype.Nh,le.prototype.getManifestParserFactory=le.prototype.Sh,le.prototype.getManifest=le.prototype.gf,le.prototype.retryStreaming=le.prototype.Kf,le.prototype.setMaxHardwareResolution=le.prototype.Zi,le.prototype.addChaptersTrack=le.prototype.th,le.prototype.addThumbnailsTrack=le.prototype.vh,le.prototype.addTextTrackAsync=le.prototype.uh,le.prototype.getStats=le.prototype.getStats,le.prototype.getBufferedInfo=le.prototype.zb,le.prototype.getSegmentAvailabilityDuration=le.prototype.Md,le.prototype.getPresentationStartTimeAsDate=le.prototype.Ag,le.prototype.getPlayheadTimeAsDate=le.prototype.Xh,le.prototype.setTextTrackVisibility=le.prototype.dh,le.prototype.getChapters=le.prototype.Kh,le.prototype.getChaptersTracks=le.prototype.vg,le.prototype.isTextTrackVisible=le.prototype.rf,le.prototype.selectVariantsByLabel=le.prototype.Ui,le.prototype.selectTextLanguage=le.prototype.Mf,le.prototype.selectAudioLanguage=le.prototype.Wg,le.prototype.getTextLanguages=le.prototype.ai,le.prototype.getAudioLanguages=le.prototype.Hh,le.prototype.getTextLanguagesAndRoles=le.prototype.bi,le.prototype.getAudioLanguagesAndRoles=le.prototype.Ih,le.prototype.selectVariantTrack=le.prototype.Nf,le.prototype.selectTextTrack=le.prototype.Xg,le.prototype.getThumbnails=le.prototype.Bg,le.prototype.getAllThumbnails=le.prototype.Gh,le.prototype.getImageTracks=le.prototype.Ph,le.prototype.getTextTracks=le.prototype.Jc,le.prototype.getVariantTracks=le.prototype.pc,le.prototype.cancelTrickPlay=le.prototype.Xc,le.prototype.trickPlay=le.prototype.wd,le.prototype.getPlaybackRate=le.prototype.hb,le.prototype.isBuffering=le.prototype.pf,le.prototype.getKeyStatuses=le.prototype.Kd,le.prototype.getActiveSessionsMetadata=le.prototype.ff,le.prototype.getExpiration=le.prototype.dd,le.prototype.drmInfo=le.prototype.drmInfo,le.prototype.keySystem=le.prototype.keySystem,le.prototype.isFullyLoaded=le.prototype.mi,le.prototype.goToLive=le.prototype.ii,le.prototype.seekRange=le.prototype.Qb,le.prototype.isAudioOnly=le.prototype.li,le.prototype.isInProgress=le.prototype.sc,le.prototype.isLive=le.prototype.U,le.prototype.getAdManager=le.prototype.tg,le.prototype.getAssetUri=le.prototype.Ic,le.prototype.getNetworkingEngine=le.prototype.Ab,le.prototype.getMediaElement=le.prototype.Vh,le.prototype.getManifestType=le.prototype.hf,le.prototype.getLoadMode=le.prototype.xg,le.prototype.resetConfiguration=le.prototype.Oi,le.prototype.getBufferFullness=le.prototype.ug,le.prototype.getNonDefaultConfiguration=le.prototype.zg,le.prototype.getConfiguration=le.prototype.getConfiguration,le.prototype.configure=le.prototype.configure,le.prototype.releaseAllMutexes=le.prototype.Ki,le.prototype.destroyAllPreloads=le.prototype.Qe,le.prototype.preload=le.prototype.preload,le.prototype.detachAndSavePreload=le.prototype.pg,le.prototype.unloadAndSavePreload=le.prototype.bj,le.prototype.load=le.prototype.load,le.prototype.updateStartTime=le.prototype.fj,le.prototype.unload=le.prototype.hc,le.prototype.detach=le.prototype.detach,le.prototype.attachCanvas=le.prototype.zh,le.prototype.attach=le.prototype.Tb,le.probeSupport=function(e){e=e===void 0?!0:e;var t,n,r,i,o,u,c;return L(function(h){switch(h.g){case 1:if(t={},!e){h.u(2);break}return k(h,O7(),3);case 3:t=h.h;case 2:var g={};if(Aa())for(var v in ia)g[v]=!0;v=w(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"]);for(var b=v.next();!b.done;b=v.next())b=b.value,g[b]=Aa()?!!ia[b]:dp(b);for(n=g,v='video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",video/mp4; codecs="dvh1.20.01",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="ac-4.02.01.01",audio/mp4; codecs="opus",audio/mp4; codecs="flac",audio/mp4; codecs="dtsc",audio/mp4; codecs="dtse",audio/mp4; codecs="dtsx",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",").concat(F(Ts)),g={},v=w(v),b=v.next();!b.done;b=v.next()){b=b.value,g[b]=Ep(b)?!0:Aa()?ct(b)||!!ws(b):dp(b);var x=b.split(";")[0];g[x]=g[x]||g[b]}return r=g,k(h,m3(),4);case 4:i=h.h,o={manifest:n,media:r,drm:t,hardwareResolution:i},u=Wb;for(c in u)o[c]=u[c]();return h.return(o)}})},le.isBrowserSupported=function(){if(d.Promise||ze("A Promise implementation or polyfill is required"),!(d.Promise&&d.Uint8Array&&Array.prototype.forEach)||Ut("Trident/"))return!1;var e=Kl();return e&&9>e||!(d.MediaKeys&&d.navigator&&d.navigator.requestMediaKeySystemAccess&&d.MediaKeySystemAccess&&d.MediaKeySystemAccess.prototype.getConfiguration)?!1:Aa()?!0:dp("application/x-mpegurl")},le.setAdManagerFactory=function(e){Im=e},le.registerSupportPlugin=function(e,t){Wb[e]=t},le.prototype.destroy=le.prototype.destroy;var aa=0,Cm=1,Mr=2,ai=3;le.LoadMode={DESTROYED:aa,NOT_LOADED:Cm,MEDIA_SOURCE:Mr,SRC_EQUALS:ai},le.version="v4.11.12";var bE=["4","11"];ye=new function(e){this.g=e,this.i=wo,this.h=ie}(new gi(Number(bE[0]),Number(bE[1])));var Wb={},Im=null;function wE(){this.g=[],this.i=this.l=this.j=this.h=0}function F9(e){return e.g.length?e.g.reduce(function(t,n){return t+n},0)/e.g.length:0}function tt(e,t,n){var r=this;this.g=e,this.h=t,this.j=n,this.i=!1,this.l=this.h.getVolume(),this.m=new ke,this.m.D(this.h,google.ima.AdEvent.Type.PAUSED,function(){r.i=!0}),this.m.D(this.h,google.ima.AdEvent.Type.RESUMED,function(){r.i=!1})}f=tt.prototype,f.needsSkipUI=function(){return!1},f.isClientRendering=function(){return!0},f.getDuration=function(){return this.g.getDuration()},f.getMinSuggestedDuration=function(){return this.g.getMinSuggestedDuration()},f.getRemainingTime=function(){return this.h.getRemainingTime()},f.isPaused=function(){return this.i},f.isSkippable=function(){return 0<=this.g.getSkipTimeOffset()},f.getTimeUntilSkippable=function(){var e=this.g.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},f.canSkipNow=function(){return this.h.getAdSkippableState()},f.skip=function(){return this.h.skip()},f.pause=function(){return this.h.pause()},f.play=function(){return this.h.resume()},f.getVolume=function(){return this.h.getVolume()},f.setVolume=function(e){return this.j.volume=e,this.h.setVolume(e)},f.isMuted=function(){return this.h.getVolume()==0},f.isLinear=function(){return this.g.isLinear()},f.resize=function(e,t){var n=!1,r=this.j;document.fullscreenEnabled?n=!!document.fullscreenElement:r.webkitSupportsFullscreen&&(n=r.webkitDisplayingFullscreen),this.h.resize(e,t,n?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)},f.setMuted=function(e){(this.j.muted=e)?(this.l=this.getVolume(),this.h.setVolume(0)):this.h.setVolume(this.l)},f.getSequenceLength=function(){var e=this.g.getAdPodInfo();return e==null?1:e.getTotalAds()},f.getPositionInSequence=function(){var e=this.g.getAdPodInfo();return e==null?1:e.getAdPosition()},f.getTitle=function(){return this.g.getTitle()},f.getDescription=function(){return this.g.getDescription()},f.getVastMediaBitrate=function(){return this.g.getVastMediaBitrate()},f.getVastMediaHeight=function(){return this.g.getVastMediaHeight()},f.getVastMediaWidth=function(){return this.g.getVastMediaWidth()},f.getAdId=function(){return this.g.getAdId()},f.getCreativeAdId=function(){return this.g.getCreativeAdId()},f.getAdvertiserName=function(){return this.g.getAdvertiserName()},f.getMediaUrl=function(){return this.g.getMediaUrl()},f.getTimeOffset=function(){var e=this.g.getAdPodInfo();return e==null?0:e.getTimeOffset()},f.getPodIndex=function(){var e=this.g.getAdPodInfo();return e==null?0:e.getPodIndex()},f.release=function(){this.h=this.g=null},Ae("shaka.ads.ClientSideAd",tt),tt.prototype.release=tt.prototype.release,tt.prototype.getPodIndex=tt.prototype.getPodIndex,tt.prototype.getTimeOffset=tt.prototype.getTimeOffset,tt.prototype.getMediaUrl=tt.prototype.getMediaUrl,tt.prototype.getAdvertiserName=tt.prototype.getAdvertiserName,tt.prototype.getCreativeAdId=tt.prototype.getCreativeAdId,tt.prototype.getAdId=tt.prototype.getAdId,tt.prototype.getVastMediaWidth=tt.prototype.getVastMediaWidth,tt.prototype.getVastMediaHeight=tt.prototype.getVastMediaHeight,tt.prototype.getVastMediaBitrate=tt.prototype.getVastMediaBitrate,tt.prototype.getDescription=tt.prototype.getDescription,tt.prototype.getTitle=tt.prototype.getTitle,tt.prototype.getPositionInSequence=tt.prototype.getPositionInSequence,tt.prototype.getSequenceLength=tt.prototype.getSequenceLength,tt.prototype.setMuted=tt.prototype.setMuted,tt.prototype.resize=tt.prototype.resize,tt.prototype.isLinear=tt.prototype.isLinear,tt.prototype.isMuted=tt.prototype.isMuted,tt.prototype.setVolume=tt.prototype.setVolume,tt.prototype.getVolume=tt.prototype.getVolume,tt.prototype.play=tt.prototype.play,tt.prototype.pause=tt.prototype.pause,tt.prototype.skip=tt.prototype.skip,tt.prototype.canSkipNow=tt.prototype.canSkipNow,tt.prototype.getTimeUntilSkippable=tt.prototype.getTimeUntilSkippable,tt.prototype.isSkippable=tt.prototype.isSkippable,tt.prototype.isPaused=tt.prototype.isPaused,tt.prototype.getRemainingTime=tt.prototype.getRemainingTime,tt.prototype.getMinSuggestedDuration=tt.prototype.getMinSuggestedDuration,tt.prototype.getDuration=tt.prototype.getDuration,tt.prototype.isClientRendering=tt.prototype.isClientRendering,tt.prototype.needsSkipUI=tt.prototype.needsSkipUI;function un(){}function xE(e,t){var n=[],r=0;t!=null&&(r=t),e=w(zt(e,"Ad"));for(var i=e.next();!i.done;i=e.next())if((i=xr(i.value,"InLine"))&&(i=xr(i,"Creatives"))){i=w(zt(i,"Creative"));for(var o=i.next();!o.done;o=i.next()){var u=xr(o.value,"Linear");if(u&&(o=null,u.attributes.skipoffset&&(o=vp(u.attributes.skipoffset),isNaN(o)&&(o=null)),u=xr(u,"MediaFiles"))){var c=zt(u,"MediaFile");for(u=c,c=c.filter(function(h){return h.attributes.delivery=="streaming"}),c.length&&(u=c),u=u.sort(function(h,g){return(parseInt(g.attributes.height,10)||0)-(parseInt(h.attributes.height,10)||0)}),u=w(u),c=u.next();!c.done;c=u.next())if(c=Mn(c.value)){n.push({id:null,startTime:r,endTime:null,uri:c,isSkippable:o!=null,skipOffset:o,canJump:!1,resumeOffset:0,playoutLimit:null,once:!0,pre:t==null,post:t==1/0,timelineRange:!1});break}}}}return n}Ae("shaka.ads.Utils",un),un.ADS_LOADED="ads-loaded",un.AD_STARTED="ad-started",un.AD_FIRST_QUARTILE="ad-first-quartile",un.AD_MIDPOINT="ad-midpoint",un.AD_THIRD_QUARTILE="ad-third-quartile",un.AD_COMPLETE="ad-complete",un.AD_STOPPED="ad-stopped",un.AD_SKIPPED="ad-skipped",un.AD_VOLUME_CHANGED="ad-volume-changed",un.AD_MUTED="ad-muted",un.AD_PAUSED="ad-paused",un.AD_RESUMED="ad-resumed",un.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",un.CUEPOINTS_CHANGED="ad-cue-points-changed",un.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",un.IMA_STREAM_MANAGER_LOADED="ima-stream-manager-loaded",un.AD_CLICKED="ad-clicked",un.AD_PROGRESS="ad-progress",un.AD_BUFFERING="ad-buffering",un.AD_IMPRESSION="ad-impression",un.AD_DURATION_CHANGED="ad-duration-changed",un.AD_CLOSED="ad-closed",un.AD_LOADED="ad-loaded",un.ALL_ADS_COMPLETED="all-ads-completed",un.AD_LINEAR_CHANGED="ad-linear-changed",un.AD_METADATA="ad-metadata",un.AD_RECOVERABLE_ERROR="ad-recoverable-error",un.AD_ERROR="ad-error",un.AD_BREAK_READY="ad-break-ready",un.AD_INTERACTION="ad-interaction",un.AD_CONTENT_PAUSE_REQUESTED="ad-content-pause-requested",un.AD_CONTENT_RESUME_REQUESTED="ad-content-resume-requested",un.AD_CONTENT_ATTACH_REQUESTED="ad-content-attach-requested";function Mm(e,t,n,r,i){var o=this;this.s=e,this.i=t,this.F=!1,this.A=this.o=null,this.G=NaN,this.l=i,this.j=null,this.h=new ke,google.ima.settings.setLocale(n),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),this.C=new google.ima.AdDisplayContainer(this.s,this.i),this.C.initialize(),this.m=new google.ima.AdsLoader(this.C),this.m.getSettings().setPlayerType("shaka-player"),this.m.getSettings().setPlayerVersion("v4.11.12"),this.g=null,this.B=r||new google.ima.AdsRenderingSettings,this.h.D(this.m,google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(u){B9(o,u)}),this.h.D(this.m,google.ima.AdErrorEvent.Type.AD_ERROR,function(u){SE(o,u)}),this.h.D(this.i,"ended",function(){o.m.contentComplete()}),this.h.va(this.i,"play",function(){o.F=!0})}Mm.prototype.configure=function(e){this.o=e},Mm.prototype.stop=function(){this.g&&this.g.stop(),this.s&&Tc(this.s)},Mm.prototype.release=function(){this.stop(),this.A&&this.A.disconnect(),this.h&&this.h.release(),this.g&&this.g.destroy(),this.m.destroy(),this.C.destroy()};function SE(e,t){t.getError(),t=new Map().set("originalEvent",t),e.l(new Me("ad-error",t)),Pm(e,null),e.l(new Me("ad-cue-points-changed",new Map().set("cuepoints",[])))}function B9(e,t){if(e.l(new Me("ads-loaded",new Map().set("loadTime",Date.now()/1e3-e.G))),e.o.customPlayheadTracker){var n={currentTime:e.i.currentTime};e.g=t.getAdsManager(n,e.B),e.i.muted?e.g.setVolume(0):e.g.setVolume(e.i.volume),e.h.D(e.i,"timeupdate",function(){e.i.duration&&(n.currentTime=e.i.currentTime)}),e.h.D(e.i,"volumechange",function(){e.j&&(e.j.setVolume(e.i.volume),e.i.muted&&e.j.setMuted(!0))})}else e.g=t.getAdsManager(e.i,e.B);e.l(new Me("ima-ad-manager-loaded",new Map().set("imaAdManager",e.g)));var r=e.g.getCuePoints();if(r.length){t=[],r=w(r);for(var i=r.next();!i.done;i=r.next())t.push({start:i.value,end:null});e.l(new Me("ad-cue-points-changed",new Map().set("cuepoints",t)))}V9(e);try{e.g.init(e.i.offsetWidth,e.i.offsetHeight,_m(e)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),e.h.D(e.i,"loadeddata",function(){e.g.resize(e.i.offsetWidth,e.i.offsetHeight,_m(e)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}),"ResizeObserver"in d?(e.A=new ResizeObserver(function(){e.g.resize(e.i.offsetWidth,e.i.offsetHeight,_m(e)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}),e.A.observe(e.i)):e.h.D(document,"fullscreenchange",function(){e.g.resize(e.i.offsetWidth,e.i.offsetHeight,_m(e)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}),e.F||e.o.skipPlayDetection?e.g.start():e.h.va(e.i,"play",function(){e.F=!0,e.g.start()})}catch{Pm(e,null)}}function _m(e){return document.fullscreenEnabled?!!document.fullscreenElement:(e=e.i,e.webkitSupportsFullscreen?e.webkitDisplayingFullscreen:!1)}function V9(e){function t(n,r){n=new Map().set("originalEvent",n),e.l(new Me(r,n))}e.h.D(e.g,google.ima.AdErrorEvent.Type.AD_ERROR,function(n){SE(e,n)}),e.h.D(e.g,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,function(n){TE(e,n)}),e.h.D(e.g,google.ima.AdEvent.Type.STARTED,function(n){TE(e,n)}),e.h.D(e.g,google.ima.AdEvent.Type.FIRST_QUARTILE,function(n){t(n,"ad-first-quartile")}),e.h.D(e.g,google.ima.AdEvent.Type.MIDPOINT,function(n){t(n,"ad-midpoint")}),e.h.D(e.g,google.ima.AdEvent.Type.THIRD_QUARTILE,function(n){t(n,"ad-third-quartile")}),e.h.D(e.g,google.ima.AdEvent.Type.COMPLETE,function(n){t(n,"ad-complete")}),e.h.D(e.g,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,function(n){Pm(e,n)}),e.h.D(e.g,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(n){Pm(e,n)}),e.h.D(e.g,google.ima.AdEvent.Type.SKIPPED,function(n){t(n,"ad-skipped")}),e.h.D(e.g,google.ima.AdEvent.Type.VOLUME_CHANGED,function(n){t(n,"ad-volume-changed")}),e.h.D(e.g,google.ima.AdEvent.Type.VOLUME_MUTED,function(n){t(n,"ad-muted")}),e.h.D(e.g,google.ima.AdEvent.Type.PAUSED,function(n){e.j&&(e.j.i=!0,t(n,"ad-paused"))}),e.h.D(e.g,google.ima.AdEvent.Type.RESUMED,function(n){e.j&&(e.j.i=!1,t(n,"ad-resumed"))}),e.h.D(e.g,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,function(n){e.j&&t(n,"ad-skip-state-changed")}),e.h.D(e.g,google.ima.AdEvent.Type.CLICK,function(n){t(n,"ad-clicked")}),e.h.D(e.g,google.ima.AdEvent.Type.AD_PROGRESS,function(n){t(n,"ad-progress")}),e.h.D(e.g,google.ima.AdEvent.Type.AD_BUFFERING,function(n){t(n,"ad-buffering")}),e.h.D(e.g,google.ima.AdEvent.Type.IMPRESSION,function(n){t(n,"ad-impression")}),e.h.D(e.g,google.ima.AdEvent.Type.DURATION_CHANGE,function(n){t(n,"ad-duration-changed")}),e.h.D(e.g,google.ima.AdEvent.Type.USER_CLOSE,function(n){t(n,"ad-closed")}),e.h.D(e.g,google.ima.AdEvent.Type.LOADED,function(n){t(n,"ad-loaded")}),e.h.D(e.g,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(n){t(n,"all-ads-completed")}),e.h.D(e.g,google.ima.AdEvent.Type.LINEAR_CHANGED,function(n){t(n,"ad-linear-changed")}),e.h.D(e.g,google.ima.AdEvent.Type.AD_METADATA,function(n){t(n,"ad-metadata")}),e.h.D(e.g,google.ima.AdEvent.Type.LOG,function(n){t(n,"ad-recoverable-error")}),e.h.D(e.g,google.ima.AdEvent.Type.AD_BREAK_READY,function(n){t(n,"ad-break-ready")}),e.h.D(e.g,google.ima.AdEvent.Type.INTERACTION,function(n){t(n,"ad-interaction")})}function TE(e,t){var n=t.getAd();n?(e.j=new tt(n,e.g,e.i),t.type!=google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED||e.o.supportsMultipleMediaElements||e.l(new Me("ad-content-pause-requested")),t=new Map().set("ad",e.j).set("sdkAdObject",n).set("originalEvent",t),e.l(new Me("ad-started",t)),e.j.isLinear()&&(e.s.setAttribute("ad-active","true"),e.o.customPlayheadTracker||e.i.pause(),e.i.muted?(t=e.j,t.l=e.i.volume,t.h.setVolume(0)):e.j.setVolume(e.i.volume))):ze("The IMA SDK fired a "+t.type+" event with no associated ad. Unable to play ad!")}function Pm(e,t){t&&t.type==google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED&&!e.o.supportsMultipleMediaElements&&e.l(new Me("ad-content-resume-requested")),e.l(new Me("ad-stopped",new Map().set("originalEvent",t))),e.j&&e.j.isLinear()&&(e.s.removeAttribute("ad-active"),e.o.customPlayheadTracker||e.i.ended||e.i.play())}function nt(e,t,n,r,i,o){this.g=e,this.h=t,this.j=n,this.l=r,this.m=i,this.i=o}f=nt.prototype,f.needsSkipUI=function(){return!0},f.isClientRendering=function(){return!0},f.getDuration=function(){var e=this.g.duration;return isNaN(e)?-1:e},f.getMinSuggestedDuration=function(){return this.getDuration()},f.getRemainingTime=function(){var e=this.g.duration;return isNaN(e)?-1:e-this.g.currentTime},f.isPaused=function(){return this.g.paused},f.isSkippable=function(){return this.h},f.getTimeUntilSkippable=function(){if(this.h){var e=this.getRemainingTime()+this.j-this.getDuration();return Math.max(e,0)}return Math.max(this.getRemainingTime(),0)},f.canSkipNow=function(){return this.getTimeUntilSkippable()==0},f.skip=function(){this.l()},f.pause=function(){return this.g.pause()},f.play=function(){return this.g.play()},f.getVolume=function(){return this.g.volume},f.setVolume=function(e){this.g.volume=e},f.isMuted=function(){return this.g.muted},f.isLinear=function(){return!0},f.resize=function(){},f.setMuted=function(e){this.g.muted=e},f.getSequenceLength=function(){return this.m},f.getPositionInSequence=function(){return this.i},f.getTitle=function(){return""},f.getDescription=function(){return""},f.getVastMediaBitrate=function(){return 0},f.getVastMediaHeight=function(){return 0},f.getVastMediaWidth=function(){return 0},f.getAdId=function(){return""},f.getCreativeAdId=function(){return""},f.getAdvertiserName=function(){return""},f.getMediaUrl=function(){return null},f.getTimeOffset=function(){return 0},f.getPodIndex=function(){return 0},f.release=function(){this.g=null},Ae("shaka.ads.InterstitialAd",nt),nt.prototype.release=nt.prototype.release,nt.prototype.getPodIndex=nt.prototype.getPodIndex,nt.prototype.getTimeOffset=nt.prototype.getTimeOffset,nt.prototype.getMediaUrl=nt.prototype.getMediaUrl,nt.prototype.getAdvertiserName=nt.prototype.getAdvertiserName,nt.prototype.getCreativeAdId=nt.prototype.getCreativeAdId,nt.prototype.getAdId=nt.prototype.getAdId,nt.prototype.getVastMediaWidth=nt.prototype.getVastMediaWidth,nt.prototype.getVastMediaHeight=nt.prototype.getVastMediaHeight,nt.prototype.getVastMediaBitrate=nt.prototype.getVastMediaBitrate,nt.prototype.getDescription=nt.prototype.getDescription,nt.prototype.getTitle=nt.prototype.getTitle,nt.prototype.getPositionInSequence=nt.prototype.getPositionInSequence,nt.prototype.getSequenceLength=nt.prototype.getSequenceLength,nt.prototype.setMuted=nt.prototype.setMuted,nt.prototype.resize=nt.prototype.resize,nt.prototype.isLinear=nt.prototype.isLinear,nt.prototype.isMuted=nt.prototype.isMuted,nt.prototype.setVolume=nt.prototype.setVolume,nt.prototype.getVolume=nt.prototype.getVolume,nt.prototype.play=nt.prototype.play,nt.prototype.pause=nt.prototype.pause,nt.prototype.skip=nt.prototype.skip,nt.prototype.canSkipNow=nt.prototype.canSkipNow,nt.prototype.getTimeUntilSkippable=nt.prototype.getTimeUntilSkippable,nt.prototype.isSkippable=nt.prototype.isSkippable,nt.prototype.isPaused=nt.prototype.isPaused,nt.prototype.getRemainingTime=nt.prototype.getRemainingTime,nt.prototype.getMinSuggestedDuration=nt.prototype.getMinSuggestedDuration,nt.prototype.getDuration=nt.prototype.getDuration,nt.prototype.isClientRendering=nt.prototype.isClientRendering,nt.prototype.needsSkipUI=nt.prototype.needsSkipUI;function Jp(e,t,n,r){function i(){if(!o.H&&o.j&&!o.A.Ka()){o.j=o.g.currentTime,o.C&&!o.C.pre&&!o.C.post&&o.j<o.C.startTime&&(o.C=null);var h=Yb(o,!1,0,o.C);h&&Zb(o,h,1,1,Date.now())}}var o=this;if(this.L=null,this.G=e,this.A=t,this.g=n,this.F=null,this.s=!0,this.l=this.g,this.h=r,this.I=new Set,this.B=new Set,this.o=new Map,this.i=new le,Jb(this),this.M=new ke,this.m=new ke,this.H=!1,this.C=this.j=null,this.M.D(this.g,"timeupdate",function(){if(!(o.H||o.j||o.A.Ka())){o.j=o.g.currentTime;var h=Yb(o,!0,0,o.C);h&&Zb(o,h,1,1,Date.now())}}),this.K=new mt(i),"requestVideoFrameCallback"in this.g&&!m1()){var u=this.g,c=function(){i(),u.requestVideoFrameCallback(c)};u.requestVideoFrameCallback(c)}else this.K.Oa(.025);this.O=new mt(function(){var h,g,v,b,x,S,T,A,C,M,_;return L(function(O){switch(O.g){case 1:if(!o.B.size||o.j==null){O.u(0);break}if(h=o.A.xg(),h==aa||h==Cm)return O.return();g=!1,v=Array.from(o.B),b=o.A.Qb(),x=w(v),S=x.next();case 3:if(S.done){O.u(5);break}if(T=S.value,T==o.C){O.u(4);break}if(A=T.endTime||T.startTime,!(1<=b.start-A)){C=T.startTime-o.j,0<C&&10>=C&&(o.o.has(T)||o.o.set(T,o.i.preload(T.uri))),O.u(4);break}if(!o.o.has(T)){O.u(7);break}return k(O,o.o.get(T),8);case 8:(M=O.h)&&M.destroy(),o.o.delete(T);case 7:_=JSON.stringify(T),o.I.has(_)&&o.I.delete(_),o.B.delete(T),g=!0;case 4:S=x.next(),O.u(3);break;case 5:g&&Qb(o),te(O)}})}).Oa(1)}Jp.prototype.configure=function(e){this.L=e,Xb(this)};function Xb(e){if(e.G&&e.L&&!e.H){var t=e.L.supportsMultipleMediaElements,n=e.g;n.webkitSupportsFullscreen&&n.webkitDisplayingFullscreen&&(t=!1),e.s==t&&(e.s=!t,e.s?(e.l=e.g,e.F&&(e.F.parentElement&&e.G.removeChild(e.F),e.F=null)):(e.F||(t=document.createElement(e.g.tagName),t.autoplay=!0,t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.backgroundColor="rgb(0, 0, 0)",t.setAttribute("playsinline",""),e.F=t),e.l=e.F))}}Jp.prototype.stop=function(){this.m&&this.m.Sa(),this.I.clear(),this.B.clear(),this.i.Qe(),this.o.clear(),this.i.detach(),this.H=!1,this.C=this.j=null},Jp.prototype.release=function(){this.stop(),this.M&&this.M.release(),this.m&&this.m.release(),this.G&&Tc(this.G),this.K&&(this.K.stop(),this.K=null),this.O&&(this.O.stop(),this.O=null),this.i.destroy()};function z9(e,t){var n;L(function(r){if(r.g==1)return Jb(e),k(r,$9(e,t),2);n=r.h,n.length?Dm(e,n):ze("Unsupported HLS interstitial",t),te(r)})}Jp.prototype.addAdUrlInterstitial=function(e){var t=this,n,r,i,o,u,c,h,g,v;return L(function(b){switch(b.g){case 1:return n={type:12},k(b,e2(t,e,n),2);case 2:if(r=b.h,i=yp(r,"VAST,vmap:VMAP"),!i)throw new $(2,10,4001);if(o=[],i.tagName=="VAST"){o=xE(i,t.j),b.u(3);break}if(i.tagName!="vmap:VMAP"){b.u(3);break}for(var x=[],S=w(zt(i,"vmap:AdBreak")),T=S.next();!T.done;T=S.next()){var A=T.value,C=A.attributes.timeOffset;C&&(T=null,C=="start"?T=0:C=="end"?T=1/0:T=vp(C),(A=xr(A,"vmap:AdSource"))&&(A=xr(A,"vmap:AdTagURI"))&&(A=Mn(A))&&x.push({time:T,uri:A}))}u=w(x),c=u.next();case 5:if(c.done){b.u(3);break}return h=c.value,k(b,e2(t,h.uri,n),8);case 8:if(g=b.h,v=yp(g,"VAST"),!v)throw new $(2,10,4001);o.push.apply(o,F(xE(v,h.time))),c=u.next(),b.u(5);break;case 3:Dm(t,o),te(b)}})};function Dm(e,t){var n=!1;t=w(t);for(var r=t.next();!r.done;r=t.next()){r=r.value;var i=r.id||JSON.stringify(r);if(!e.I.has(i)){if(n=!0,e.I.add(i),e.B.add(r),i=!1,r.pre&&e.j==null)i=!0;else if(r.startTime==0&&!r.canJump)i=!0;else if(e.j!=null){var o=r.startTime-e.j;0<o&&10>=o&&(i=!0)}i&&(e.o.has(r)||e.o.set(r,e.i.preload(r.uri)))}}n&&Qb(e)}function Yb(e,t,n,r){var i=0,o=null;if(e.B.size&&e.j!=null){var u=e.g.ended,c=Array.from(e.B).sort(function(b,x){return x.startTime-b.startTime});c=w(c);for(var h=c.next();!h.done;h=c.next()){h=h.value;var g=!1;if(t)g=h.pre;else if(u)g=h.post;else if(!h.pre&&!h.post){var v=e.j-Math.round(1e3*h.startTime)/1e3;0<v&&(1>=v||!h.canJump)&&(g=!(1<v&&r&&!r.pre&&!r.post&&r.startTime>=h.startTime))}if(g){if(i==n){o=h;break}i++}}}return o}function Zb(e,t,n,r,i,o){o=o===void 0?0:o;var u,c,h,g,v,b,x,S,T,A,C,M,_,O,P,j;L(function(V){switch(V.g){case 1:if(Xb(e),e.C=t,u=Date.now(),!e.l.parentElement&&e.G&&e.G.appendChild(e.l),r==1&&n==1&&(n=Array.from(e.B).filter(function(B){return t.pre?B.pre==t.pre:t.post?B.post==t.post:.001>Math.abs(B.startTime-t.startTime)}).length),(t.once||t.pre)&&(o++,e.B.delete(t),Qb(e)),e.H=!0,!e.s||r!=1){V.u(2);break}return e.h(new Me("ad-content-pause-requested",new Map().set("saveLivePosition",!0))),c=new Yt,h=function(B){return L(function(H){if(H.g==1)return B.state!="detach"?H.u(0):m1()?k(H,new Promise(function(W){return new mt(W).Z(.1)}),3):H.u(3);c.resolve(),e.m.ab(e.A,"onstatechange",h),te(H)})},e.m.D(e.A,"onstatechange",h),k(V,c,2);case 2:return e.s||(e.g.pause(),t.resumeOffset!=null&&t.resumeOffset!=0&&(e.g.currentTime+=t.resumeOffset)),g=!1,v=null,b=function(){if(!e.s&&t.resumeOffset==null)if(t.timelineRange&&t.endTime&&t.endTime!=1/0)e.g.currentTime!=t.endTime&&(e.g.currentTime=t.endTime);else{var B=Date.now();e.g.currentTime+=(B-i)/1e3,i=B}},x=function(){var B,H;return L(function(W){if(W.g==1)return b(),v&&v.stop(),(B=Yb(e,t.pre,r-o))?(e.h(new Me("ad-stopped")),e.m.Sa(),Zb(e,B,n,++r,i,o),W.u(0)):e.s?k(W,e.i.detach(),4):k(W,e.i.hc(),4);e.s&&(H=t.resumeOffset,H==null&&(H=t.timelineRange&&t.endTime&&t.endTime!=1/0?t.endTime-(e.j||0):(Date.now()-i)/1e3),e.h(new Me("ad-content-resume-requested",new Map().set("offset",H)))),e.h(new Me("ad-stopped")),e.m.Sa(),e.H=!1,e.s||(b(),e.g.ended||e.g.play()),Xb(e),te(W)})},S=function(B){return L(function(H){return g?H.return():(g=!0,e.h(new Me("ad-error",new Map().set("originalEvent",B))),k(H,x(),0))})},T=function(){return L(function(B){if(B.g==1)return g?B.return():(g=!0,k(B,x(),2));e.h(new Me("ad-complete")),te(B)})},A=function(){return L(function(B){return g?B.return():(g=!0,e.h(new Me("ad-skipped")),k(B,x(),0))})},C=new nt(e.l,t.isSkippable,t.skipOffset,A,n,r),e.s||(C.setMuted(e.g.muted),C.setVolume(e.g.volume)),e.h(new Me("ad-started",new Map().set("ad",C))),C.canSkipNow()&&e.h(new Me("ad-skip-state-changed")),M=new Set,e.m.va(e.i,"error",S),e.m.D(e.l,"timeupdate",function(){var B=e.l.duration;B&&(t.isSkippable&&t.skipOffset&&C.canSkipNow()&&0<C.getRemainingTime()&&0<C.getDuration()&&e.h(new Me("ad-skip-state-changed")),B=100*e.l.currentTime/B,25<=B&&!M.has("firstquartile")?(b(),e.h(new Me("ad-first-quartile")),M.add("firstquartile")):50<=B&&!M.has("midpoint")?(b(),e.h(new Me("ad-midpoint")),M.add("midpoint")):75<=B&&!M.has("thirdquartile")&&(b(),e.h(new Me("ad-third-quartile")),M.add("thirdquartile")))}),e.m.va(e.i,"complete",T),e.m.D(e.l,"play",function(){e.h(new Me("ad-resumed"))}),e.m.D(e.l,"pause",function(){var B=e.i.getConfiguration();e.l.currentTime>=B.playRangeEnd?T():e.h(new Me("ad-paused"))}),e.m.D(e.l,"volumechange",function(){e.l.muted?e.h(new Me("ad-muted")):e.h(new Me("ad-volume-changed"))}),se(V,4),Jb(e),t.startTime&&t.endTime&&t.endTime!=1/0&&t.startTime!=t.endTime&&(_=t.endTime-t.startTime,0<_&&e.i.configure("playRangeEnd",_)),t.playoutLimit&&(v=new mt(function(){C.skip()}).Z(t.playoutLimit),e.i.configure("playRangeEnd",t.playoutLimit)),k(V,e.i.Tb(e.l),6);case 6:return e.o.has(t)?k(V,e.o.get(t),10):k(V,e.i.load(t.uri),8);case 10:return O=V.h,e.o.delete(t),O?k(V,e.i.load(O),8):k(V,e.i.load(t.uri),8);case 8:t.playoutLimit&&(v&&v.stop(),v=new mt(function(){C.skip()}).Z(t.playoutLimit)),P=(Date.now()-u)/1e3,e.h(new Me("ads-loaded",new Map().set("loadTime",P))),e.s&&e.g.play(),z(V,0);break;case 4:j=Y(V),S(j),te(V)}})}function $9(e,t){var n,r,i,o,u,c,h,g,v,b,x,S,T,A,C,M,_,O,P,j,V,B,H,W,G,ee,re,ce,ae,oe,he,ge,Oe,Je;return L(function(Ne){switch(Ne.g){case 1:if(n=[],!t||(r=t.values.find(function(st){return st.key=="X-ASSET-URI"}),i=t.values.find(function(st){return st.key=="X-ASSET-LIST"}),!r&&!i))return Ne.return(n);if(o=null,(u=t.values.find(function(st){return st.key=="ID"}))&&(o=u.data),c=o==null?Math.floor(10*t.startTime)/10:t.startTime,(h=t.endTime)&&t.endTime!=1/0&&typeof t.endTime=="number"&&(h=o==null?Math.floor(10*t.endTime)/10:t.endTime),g=t.values.find(function(st){return st.key=="X-RESTRICT"}),b=v=!0,g&&g.data&&(x=g.data,v=!x.includes("SKIP"),b=!x.includes("JUMP")),S=null,(T=t.values.find(function(st){return st.key=="X-RESUME-OFFSET"}))&&(A=T.data,S=parseFloat(A),isNaN(S)&&(S=null)),C=null,(M=t.values.find(function(st){return st.key=="X-PLAYOUT-LIMIT"}))&&(_=M.data,C=parseFloat(_),isNaN(C)&&(C=null)),j=P=O=!1,(V=t.values.find(function(st){return st.key=="CUE"}))&&(B=V.data,O=B.includes("ONCE"),P=B.includes("PRE"),j=B.includes("POST")),H=!1,(W=t.values.find(function(st){return st.key=="X-TIMELINE-OCCUPIES"}))?(G=W.data,H=G.includes("RANGE")):!T&&e.A.U()&&(H=!P&&!j),r){if(ee=r.data,!ee)return Ne.return(n);n.push({id:o,startTime:c,endTime:h,uri:ee,isSkippable:v,skipOffset:v?0:null,canJump:b,resumeOffset:S,playoutLimit:C,once:O,pre:P,post:j,timelineRange:H}),Ne.u(2);break}if(!i){Ne.u(2);break}return re=i.data,re?(se(Ne,4),ce={type:11},k(Ne,e2(e,re,ce),6)):Ne.return(n);case 6:for(ae=Ne.h,oe=hn(ae),he=JSON.parse(oe),ge=w(he.ASSETS),Oe=ge.next();!Oe.done;Oe=ge.next())Je=Oe.value,Je.URI&&n.push({id:o,startTime:c,endTime:h,uri:Je.URI,isSkippable:v,skipOffset:v?0:null,canJump:b,resumeOffset:S,playoutLimit:C,once:O,pre:P,post:j,timelineRange:H});z(Ne,2);break;case 4:Y(Ne);case 2:return Ne.return(n)}})}function Qb(e){for(var t=[],n=w(e.B),r=n.next(),i={};!r.done;i={Sb:void 0},r=n.next())r=r.value,i.Sb={start:r.startTime,end:null},r.pre?(i.Sb.start=0,i.Sb.end=null):r.post?(i.Sb.start=-1,i.Sb.end=null):r.timelineRange&&(i.Sb.end=r.endTime),t.find(function(o){return function(u){return o.Sb.start==u.start&&o.Sb.end==u.end}}(i))||t.push(i.Sb);e.h(new Me("ad-cue-points-changed",new Map().set("cuepoints",t)))}function Jb(e){e.i.configure(e.A.zg());var t=e.i.Ab();t.kg(),t.lg(),p5(e.A.Ab(),t)}function e2(e,t,n){var r,i,o;return L(function(u){return u.g==1?(r=qn([t],Ma()),i=e.A.Ab().request(7,r,n),k(u,i.promise,2)):(o=u.h,u.return(o.data))})}function Qe(e,t,n,r,i){this.h=e,this.j=vp(this.h.skipOffset),this.g=i,this.i=t,this.l=n,this.o=r,this.m=!1}f=Qe.prototype,f.needsSkipUI=function(){return!0},f.isClientRendering=function(){return!1},f.getDuration=function(){return this.h.durationInSeconds},f.getMinSuggestedDuration=function(){return this.getDuration()},f.getRemainingTime=function(){return this.h.startTimeInSeconds+this.h.durationInSeconds-this.g.currentTime},f.isPaused=function(){return this.g.paused},f.isSkippable=function(){return typeof this.j=="number"},f.getTimeUntilSkippable=function(){if(typeof this.j!="number")return this.getRemainingTime();var e=this.getRemainingTime()+this.j-this.getDuration();return Math.max(e,0)},f.canSkipNow=function(){return this.getTimeUntilSkippable()==0},f.skip=function(){this.m=!0,this.g.currentTime+=this.getRemainingTime()},f.pause=function(){return this.g.pause()},f.play=function(){return this.g.play()},f.getVolume=function(){return this.g.volume},f.setVolume=function(e){this.g.volume=e},f.isMuted=function(){return this.g.muted},f.isLinear=function(){return this.o},f.resize=function(){},f.setMuted=function(e){this.g.muted=e},f.getSequenceLength=function(){return this.l?this.l:1},f.getPositionInSequence=function(){return this.i?this.i:1},f.getTitle=function(){return this.h.adTitle},f.getDescription=function(){return""},f.getVastMediaBitrate=function(){return 0},f.getVastMediaHeight=function(){return 0},f.getVastMediaWidth=function(){return 0},f.getAdId=function(){return this.h.adId},f.getCreativeAdId=function(){return this.h.creativeId},f.getAdvertiserName=function(){return""},f.getMediaUrl=function(){return null},f.getTimeOffset=function(){return 0},f.getPodIndex=function(){return 0},f.release=function(){this.l=this.i=this.g=this.h=null},Ae("shaka.ads.MediaTailorAd",Qe),Qe.prototype.release=Qe.prototype.release,Qe.prototype.getPodIndex=Qe.prototype.getPodIndex,Qe.prototype.getTimeOffset=Qe.prototype.getTimeOffset,Qe.prototype.getMediaUrl=Qe.prototype.getMediaUrl,Qe.prototype.getAdvertiserName=Qe.prototype.getAdvertiserName,Qe.prototype.getCreativeAdId=Qe.prototype.getCreativeAdId,Qe.prototype.getAdId=Qe.prototype.getAdId,Qe.prototype.getVastMediaWidth=Qe.prototype.getVastMediaWidth,Qe.prototype.getVastMediaHeight=Qe.prototype.getVastMediaHeight,Qe.prototype.getVastMediaBitrate=Qe.prototype.getVastMediaBitrate,Qe.prototype.getDescription=Qe.prototype.getDescription,Qe.prototype.getTitle=Qe.prototype.getTitle,Qe.prototype.getPositionInSequence=Qe.prototype.getPositionInSequence,Qe.prototype.getSequenceLength=Qe.prototype.getSequenceLength,Qe.prototype.setMuted=Qe.prototype.setMuted,Qe.prototype.resize=Qe.prototype.resize,Qe.prototype.isLinear=Qe.prototype.isLinear,Qe.prototype.isMuted=Qe.prototype.isMuted,Qe.prototype.setVolume=Qe.prototype.setVolume,Qe.prototype.getVolume=Qe.prototype.getVolume,Qe.prototype.play=Qe.prototype.play,Qe.prototype.pause=Qe.prototype.pause,Qe.prototype.skip=Qe.prototype.skip,Qe.prototype.canSkipNow=Qe.prototype.canSkipNow,Qe.prototype.getTimeUntilSkippable=Qe.prototype.getTimeUntilSkippable,Qe.prototype.isSkippable=Qe.prototype.isSkippable,Qe.prototype.isPaused=Qe.prototype.isPaused,Qe.prototype.getRemainingTime=Qe.prototype.getRemainingTime,Qe.prototype.getMinSuggestedDuration=Qe.prototype.getMinSuggestedDuration,Qe.prototype.getDuration=Qe.prototype.getDuration,Qe.prototype.isClientRendering=Qe.prototype.isClientRendering,Qe.prototype.needsSkipUI=Qe.prototype.needsSkipUI;function eh(e,t,n,r){this.B=e,this.K=t,this.h=n,this.l=null,this.R=NaN,this.i=r,this.I=!1,this.A=null,this.j=[],this.M=[],this.L=this.C=this.g=null,this.F=new Map,this.m=[],this.s=[],this.G="",this.O=!0,this.H="",this.o=new ke}eh.prototype.stop=function(){for(var e=w(this.m),t=e.next();!t.done;t=e.next())t=t.value,this.o.ab(t.target,t.type,t.listener);_c(this),this.m=[],this.s=[],this.G="",this.O=!0,this.H="",this.A=null,this.j=[],this.M=[],this.F.clear()},eh.prototype.release=function(){this.stop(),this.o&&this.o.release()},eh.prototype.onManifestUpdated=function(e){this.I=e,this.G!=""&&(q9(this,this.G,this.O),this.O=!1)},eh.prototype.getCuePoints=function(){for(var e=[],t=w(this.j),n=t.next();!n.done;n=t.next()){n=w(n.value.ads);for(var r=n.next();!r.done;r=n.next())r=r.value,e.push({start:r.startTimeInSeconds,end:r.startTimeInSeconds+r.durationInSeconds})}return e};function H9(e,t,n){var r,i,o,u,c,h,g,v,b,x,S,T;L(function(A){if(A.g==1)return r={type:7},i=qn([t],Ma()),i.method="POST",n&&(o=JSON.stringify(n),i.body=Ia(o)),u=e.K.request(7,i,r),se(A,2),k(A,u.promise,4);if(A.g!=2){if(c=A.h,h=hn(c.data),g=JSON.parse(h),g.manifestUrl&&g.trackingUrl)v=new En(t),b=new En(g.trackingUrl),e.G=v.resolve(b).toString(),x=Date.now()/1e3,S=x-e.R,e.i(new Me("ads-loaded",new Map().set("loadTime",S))),T=new En(g.manifestUrl),e.l.resolve(v.resolve(T).toString()),e.l=null;else throw Error("Insufficient data from MediaTailor.");return z(A,0)}if(Y(A),!e.H.length)return e.l.reject("MediaTailor request returned an error and there was no backup asset uri provided."),e.l=null,A.return();e.l.resolve(e.H),e.l=null,te(A)})}function q9(e,t,n){var r,i,o,u,c,h,g,v,b,x,S,T,A,C,M,_;L(function(O){if(O.g==1)return r={type:8},i=qn([t],Ma()),o=e.K.request(7,i,r),se(O,2),k(O,o.promise,4);if(O.g!=2){if(u=O.h,c=[],h=hn(u.data),g=JSON.parse(h),0<g.avails.length){if(JSON.stringify(e.j)!=JSON.stringify(g.avails)){for(e.j=g.avails,v=w(e.j),b=v.next();!b.done;b=v.next())for(x=b.value,S=w(x.nonLinearAdsList),T=S.next();!T.done;T=S.next())for(A=T.value,C=w(A.nonLinearAdList),M=C.next();!M.done;M=C.next())_=M.value,G9(e,_);c=e.getCuePoints(),e.i(new Me("ad-cue-points-changed",new Map().set("cuepoints",c)))}}else e.j.length&&e.i(new Me("ad-cue-points-changed",new Map().set("cuepoints",c))),_c(e),e.j=[];return n&&(e.I||0<c.length)&&K9(e),z(O,0)}Y(O),te(O)})}function G9(e,t){var n,r,i,o,u,c,h,g;L(function(v){if(v.g==1)return!t.staticResource||(n=kE(t),e.F.get(n))?v.return():(r={type:9},i=qn([t.staticResource],Ma()),o=e.K.request(7,i,r),se(v,2),e.F.set(n,[]),k(v,o.promise,4));if(v.g!=2)return u=v.h,c=hn(u.data),h=JSON.parse(c),g=h.apps,e.F.set(n,g),z(v,0);Y(v),e.F.delete(n),te(v)})}function kE(e){return[e.adId,e.adParameters,e.adSystem,e.adTitle,e.creativeAdId,e.creativeId,e.creativeSequence,e.height,e.width,e.staticResource].join("")}function K9(e){AE(e),e.I||(EE(e),e.o.D(e.h,"seeked",function(){EE(e)}),e.o.D(e.h,"ended",function(){_c(e)})),e.o.D(e.h,"timeupdate",function(){AE(e)})}function EE(e){var t=e.h.currentTime;if(t!=0&&e.A==null){for(var n,r,i=w(e.j),o=i.next();!o.done;o=i.next()){o=o.value;for(var u=w(o.ads),c=u.next();!c.done;c=u.next())if(c=c.value,!r)c.startTimeInSeconds<t&&(r=c,n=o);else if(c.startTimeInSeconds<t&&c.startTimeInSeconds>r.startTimeInSeconds+r.durationInSeconds){r=c,n=o;break}}n&&r&&!e.M.includes(r.adId)&&(e.A=t,e.h.currentTime=n.startTimeInSeconds)}}function AE(e){if(e.h.duration&&(e.g||e.j.length)){var t=e.h.currentTime,n=!1;if(e.g){n=!0;var r=e.C,i=r.startTimeInSeconds+.5*r.durationInSeconds,o=r.startTimeInSeconds+.75*r.durationInSeconds;t>=r.startTimeInSeconds+.25*r.durationInSeconds&&!e.s.includes("firstQuartile")?(e.s.push("firstQuartile"),_r(e,"firstQuartile")):t>=i&&!e.s.includes("midpoint")?(e.s.push("midpoint"),_r(e,"midpoint")):t>=o&&!e.s.includes("thirdQuartile")&&(e.s.push("thirdQuartile"),_r(e,"thirdQuartile")),r=e.g.getRemainingTime(),i=e.g.getDuration(),e.g.canSkipNow()&&0<r&&0<i&&_r(e,"skipStateChanged"),0<i&&(0>=r||r>i)&&_c(e)}if(!e.g||!e.g.isLinear()){e:for(r=w(e.j),i=r.next();!i.done&&(i=i.value,!(e.g&&e.g.isLinear()));i=r.next())for(o=0;o<i.ads.length;o++){var u=i.ads[o],c=u.startTimeInSeconds+u.durationInSeconds;if(u.startTimeInSeconds<=t&&c>t){if(e.M.includes(u.adId)){if(e.h.ended)continue;e.h.currentTime=c;break e}_c(e),e.L=i,e.g=new Qe(u,o+1,i.ads.length,!0,e.h),e.C=u,o===0&&_r(e,"breakStart"),CE(e);break}}if(!e.g){for(r=w(e.j),i=r.next();!i.done&&(i=i.value,!e.g);i=r.next())for(o=0;o<i.nonLinearAdsList.length;o++)if(u=i.nonLinearAdsList[o],u.nonLinearAdList.length){c=i.startTimeInSeconds;var h=e.F.get(kE(u.nonLinearAdList[0]));if(c<=t&&h&&h.length){_c(e),c=e,h=w(h);for(var g=h.next();!g.done;g=h.next())if(g=g.value,g.data.source.length){var v=document.createElement("img");v.src=g.data.source[0].url,v.style.top=(g.placeholder.top||0)+"%",v.style.height=100-(g.placeholder.top||0)+"%",v.style.left=(g.placeholder.left||0)+"%",v.style.maxWidth=100-(g.placeholder.left||0)+"%",v.style.objectFit="contain",v.style.position="absolute",c.B.appendChild(v)}e.L=i,e.g=new Qe(u,o+1,i.ads.length,!1,e.h),e.C=u,o===0&&_r(e,"breakStart"),CE(e);break}}}n&&!e.g&&(t=e.h.currentTime,e.A&&e.A>t&&(e.h.currentTime=e.A),e.A=null)}}}function _c(e){if(e.g){for(;e.B.lastChild;)e.B.removeChild(e.B.firstChild);e.I||e.M.push(e.C.adId);var t=e.g.m;t!==void 0&&t?_r(e,"skip"):_r(e,"complete"),t=w(e.m);for(var n=t.next();!n.done;n=t.next())n=n.value,e.o.ab(n.target,n.type,n.listener);e.m=[],e.s=[],t=e.g.getPositionInSequence(),n=e.g.getSequenceLength(),t===n&&_r(e,"breakEnd"),e.g=null,e.C=null,e.L=null}}function CE(e){var t=!1;e.h.paused?t=!0:(_r(e,"impression"),_r(e,"start")),e.m.push({target:e.h,type:"volumechange",listener:function(){e.h.muted&&_r(e,"mute")}}),e.m.push({target:e.h,type:"volumechange",listener:function(){e.h.muted||_r(e,"unmute")}}),e.m.push({target:e.h,type:"play",listener:function(){t?(_r(e,"impression"),_r(e,"start"),t=!1):_r(e,"resume")}}),e.m.push({target:e.h,type:"pause",listener:function(){_r(e,"pause")}});for(var n=w(e.m),r=n.next();!r.done;r=n.next())r=r.value,e.o.D(r.target,r.type,r.listener)}function _r(e,t){var n=e.C.trackingEvents.find(function(o){return o.eventType==t});if(n||(n=e.L.adBreakTrackingEvents.find(function(o){return o.eventType==t})),n){var r={type:10};n=w(n.beaconUrls);for(var i=n.next();!i.done;i=n.next())(i=i.value)&&i!=""&&(i=qn([i],Ma()),i.method="POST",e.K.request(7,i,r))}switch(t){case"impression":e.i(new Me("ad-impression"));break;case"start":e.i(new Me("ad-started",new Map().set("ad",e.g)));break;case"mute":e.i(new Me("ad-muted"));break;case"unmute":e.i(new Me("ad-volume-changed"));break;case"resume":e.i(new Me("ad-resumed"));break;case"pause":e.i(new Me("ad-paused"));break;case"firstQuartile":e.i(new Me("ad-first-quartile"));break;case"midpoint":e.i(new Me("ad-midpoint"));break;case"thirdQuartile":e.i(new Me("ad-third-quartile"));break;case"complete":e.i(new Me("ad-complete")),e.i(new Me("ad-stopped"));break;case"skip":e.i(new Me("ad-skipped")),e.i(new Me("ad-stopped"));break;case"breakStart":e.B.setAttribute("ad-active","true");break;case"breakEnd":e.B.removeAttribute("ad-active");break;case"skipStateChanged":e.i(new Me("ad-skip-state-changed"))}}function rt(e,t){this.g=e,this.i=null,this.h=t}f=rt.prototype,f.needsSkipUI=function(){return!0},f.isClientRendering=function(){return!1},f.getDuration=function(){return this.i?this.i.duration:-1},f.getMinSuggestedDuration=function(){return this.getDuration()},f.getRemainingTime=function(){return this.i?this.i.duration-this.i.currentTime:-1},f.isPaused=function(){return this.h.paused},f.isSkippable=function(){return this.g.isSkippable()},f.getTimeUntilSkippable=function(){var e=this.g.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},f.canSkipNow=function(){return this.getTimeUntilSkippable()==0},f.skip=function(){this.h.currentTime+=this.getRemainingTime()},f.pause=function(){return this.h.pause()},f.play=function(){return this.h.play()},f.getVolume=function(){return this.h.volume},f.setVolume=function(e){this.h.volume=e},f.isMuted=function(){return this.h.muted},f.isLinear=function(){return!0},f.resize=function(){},f.setMuted=function(e){this.h.muted=e},f.getSequenceLength=function(){var e=this.g.getAdPodInfo();return e==null?1:e.getTotalAds()},f.getPositionInSequence=function(){var e=this.g.getAdPodInfo();return e==null?1:e.getAdPosition()},f.getTitle=function(){return this.g.getTitle()},f.getDescription=function(){return this.g.getDescription()},f.getVastMediaBitrate=function(){return 0},f.getVastMediaHeight=function(){return this.g.getVastMediaHeight()},f.getVastMediaWidth=function(){return this.g.getVastMediaWidth()},f.getAdId=function(){return this.g.getAdId()},f.getCreativeAdId=function(){return this.g.getCreativeAdId()},f.getAdvertiserName=function(){return this.g.getAdvertiserName()},f.getMediaUrl=function(){return null},f.getTimeOffset=function(){var e=this.g.getAdPodInfo();return e==null?0:e.getTimeOffset()},f.getPodIndex=function(){var e=this.g.getAdPodInfo();return e==null?0:e.getPodIndex()},f.release=function(){this.h=this.i=this.g=null},Ae("shaka.ads.ServerSideAd",rt),rt.prototype.release=rt.prototype.release,rt.prototype.getPodIndex=rt.prototype.getPodIndex,rt.prototype.getTimeOffset=rt.prototype.getTimeOffset,rt.prototype.getMediaUrl=rt.prototype.getMediaUrl,rt.prototype.getAdvertiserName=rt.prototype.getAdvertiserName,rt.prototype.getCreativeAdId=rt.prototype.getCreativeAdId,rt.prototype.getAdId=rt.prototype.getAdId,rt.prototype.getVastMediaWidth=rt.prototype.getVastMediaWidth,rt.prototype.getVastMediaHeight=rt.prototype.getVastMediaHeight,rt.prototype.getVastMediaBitrate=rt.prototype.getVastMediaBitrate,rt.prototype.getDescription=rt.prototype.getDescription,rt.prototype.getTitle=rt.prototype.getTitle,rt.prototype.getPositionInSequence=rt.prototype.getPositionInSequence,rt.prototype.getSequenceLength=rt.prototype.getSequenceLength,rt.prototype.setMuted=rt.prototype.setMuted,rt.prototype.resize=rt.prototype.resize,rt.prototype.isLinear=rt.prototype.isLinear,rt.prototype.isMuted=rt.prototype.isMuted,rt.prototype.setVolume=rt.prototype.setVolume,rt.prototype.getVolume=rt.prototype.getVolume,rt.prototype.play=rt.prototype.play,rt.prototype.pause=rt.prototype.pause,rt.prototype.skip=rt.prototype.skip,rt.prototype.canSkipNow=rt.prototype.canSkipNow,rt.prototype.getTimeUntilSkippable=rt.prototype.getTimeUntilSkippable,rt.prototype.isSkippable=rt.prototype.isSkippable,rt.prototype.isPaused=rt.prototype.isPaused,rt.prototype.getRemainingTime=rt.prototype.getRemainingTime,rt.prototype.getMinSuggestedDuration=rt.prototype.getMinSuggestedDuration,rt.prototype.getDuration=rt.prototype.getDuration,rt.prototype.isClientRendering=rt.prototype.isClientRendering,rt.prototype.needsSkipUI=rt.prototype.needsSkipUI;function IE(e,t,n,r){var i=this;this.s=e,this.l=t,this.j=null,this.F=NaN,this.i=r,this.G=!1,this.A=this.m=this.o=null,this.B="",this.C=[],this.h=new ke,e=new google.ima.dai.api.UiSettings,e.setLocale(n),this.g=new google.ima.dai.api.StreamManager(this.l,this.s,e),this.i(new Me("ima-stream-manager-loaded",new Map().set("imaStreamManager",this.g))),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.LOADED,function(o){W9(i,o)}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.ERROR,function(){i.B.length?i.j.resolve(i.B):i.j.reject("IMA Stream request returned an error and there was no backup asset uri provided."),i.j=null}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,function(){}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.STARTED,function(o){o=o.getAd(),i.m=new rt(o,i.l),i.A&&(i.m.i=i.A),i.i(new Me("ad-started",new Map().set("ad",i.m))),i.s.setAttribute("ad-active","true")}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,function(){i.s.removeAttribute("ad-active");var o=i.l.currentTime;i.o&&i.o>o&&(i.l.currentTime=i.o,i.o=null)}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,function(o){i.A=o.getStreamData().adProgressData,i.m&&(i.m.i=i.A)}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,function(){i.i(new Me("ad-first-quartile"))}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.MIDPOINT,function(){i.i(new Me("ad-midpoint"))}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,function(){i.i(new Me("ad-third-quartile"))}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.COMPLETE,function(){i.i(new Me("ad-complete")),i.i(new Me("ad-stopped")),i.s.removeAttribute("ad-active"),i.m=null}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.SKIPPED,function(){i.i(new Me("ad-skipped")),i.i(new Me("ad-stopped"))}),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED,function(o){var u=o.getStreamData();o=[],u=w(u.cuepoints);for(var c=u.next();!c.done;c=u.next())c=c.value,o.push({start:c.start,end:c.end});i.C=o,i.i(new Me("ad-cue-points-changed",new Map().set("cuepoints",o)))})}f=IE.prototype,f.configure=function(){},f.stop=function(){this.B="",this.o=null,this.C=[]},f.release=function(){this.stop(),this.h&&this.h.release()},f.onCueMetadataChange=function(e){if(e.key&&e.data){var t={};t[e.key]=e.data,this.g.onTimedMetadata(t)}},f.getCuePoints=function(){return this.C};function W9(e,t){e.i(new Me("ads-loaded",new Map().set("loadTime",Date.now()/1e3-e.F))),t=t.getStreamData().url,e.j.resolve(t),e.j=null,e.G||e.h.D(e.l,"seeked",function(){var n=e.l.currentTime;if(n!=0){e.g.streamTimeForContentTime(n);var r=e.g.previousCuePointForStreamTime(n);r&&!r.played&&(e.o=n,e.l.currentTime=r.start)}})}function Le(){$t.call(this),this.g=this.i=this.j=this.h=null,this.m=new wE,this.o=navigator.language,this.l=null}Se(Le,$t),f=Le.prototype,f.setLocale=function(e){this.o=e},f.configure=function(e){this.l=e,this.h&&this.h.configure(this.l),this.j&&this.j.configure(this.l),this.g&&this.g.configure(this.l)},f.initInterstitial=function(e,t,n){var r=this;this.h&&this.h.release(),this.h=new Jp(e,t,n,function(i){return Lm(r,i)}),this.h.configure(this.l)},f.initClientSide=function(e,t,n){var r=this;if(!d.google||!google.ima||!google.ima.AdsLoader)throw new $(2,10,1e4);this.j&&this.j.release(),this.j=new Mm(e,t,this.o,n,function(i){return Lm(r,i)}),this.j.configure(this.l)},f.release=function(){this.h&&(this.h.release(),this.h=null),this.j&&(this.j.release(),this.j=null),this.i&&(this.i.release(),this.i=null),this.g&&(this.g.release(),this.g=null),$t.prototype.release.call(this)},f.onAssetUnload=function(){this.h&&this.h.stop(),this.j&&this.j.stop(),this.i&&this.i.stop(),this.g&&this.g.stop(),this.dispatchEvent(new Me("ad-stopped")),this.dispatchEvent(new Me("ad-content-attach-requested")),this.m=new wE},f.requestClientSideAds=function(e){if(!this.j)throw new $(1,10,10001);var t=this.j;t.g&&t.g.destroy(),t.m&&t.m.contentComplete(),t.G=Date.now()/1e3,t.m.requestAds(e)},f.updateClientSideAdsRenderingSettings=function(e){if(!this.j)throw new $(1,10,10001);var t=this.j;t.B=e,t.g&&t.g.updateAdsRenderingSettings(t.B)},f.initMediaTailor=function(e,t,n){var r=this;this.i&&this.i.release(),this.i=new eh(e,t,n,function(i){return Lm(r,i)})},f.requestMediaTailorStream=function(e,t,n){if(!this.i)throw new $(1,10,10005);var r=this.i;return n=n===void 0?"":n,r.l?e=Promise.reject(new $(1,10,10004)):(r.l=new Yt,H9(r,e,t),r.H=n||"",r.R=Date.now()/1e3,e=r.l),e},f.addMediaTailorTrackingUrl=function(e){if(!this.i)throw new $(1,10,10005);var t=this.i;t.G=e,t.i(new Me("ads-loaded",new Map().set("loadTime",0)))},f.initServerSide=function(e,t){var n=this;if(!d.google||!google.ima||!google.ima.dai)throw new $(2,10,10002);this.g&&this.g.release(),this.g=new IE(e,t,this.o,function(r){return Lm(n,r)}),this.g.configure(this.l)},f.requestServerSideStream=function(e,t){if(t=t===void 0?"":t,!this.g)throw new $(1,10,10003);e.adTagParameters||(e.adTagParameters={});var n=e.adTagParameters;return(n.mpt||n.mpv)&&ze('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),e.adTagParameters.mpt="shaka-player",e.adTagParameters.mpv="v4.11.12",n=this.g,n.j?e=Promise.reject(new $(1,10,10004)):(e instanceof google.ima.dai.api.LiveStreamRequest&&(n.G=!0),n.j=new Yt,n.g.requestStream(e),n.B=t||"",n.F=Date.now()/1e3,e=n.j),e},f.replaceServerSideAdTagParameters=function(e){if(!this.g)throw new $(1,10,10003);(e.mpt||e.mpv)&&ze('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),e.mpt="Shaka Player",e.mpv="v4.11.12",this.g.g.replaceAdTagParameters(e)},f.getServerSideCuePoints=function(){return At("AdManager.getServerSideCuePoints","Please use getCuePoints function."),this.getCuePoints()},f.getCuePoints=function(){var e=[];return this.g&&(e=e.concat(this.g.getCuePoints())),this.i&&(e=e.concat(this.i.getCuePoints())),e},f.getStats=function(){var e=this.m;return{loadTimes:e.g,averageLoadTime:F9(e),started:e.h,playedCompletely:e.j,skipped:e.l,errors:e.i}},f.onManifestUpdated=function(e){this.i&&this.i.onManifestUpdated(e)},f.onDashTimedMetadata=function(e){this.g&&e.schemeIdUri=="urn:google:dai:2018"&&this.g.g.processMetadata(e.schemeIdUri,e.eventNode?e.eventNode.attributes.messageData:null,e.startTime)},f.onHlsTimedMetadata=function(e,t){this.g&&this.g.g.processMetadata("ID3",e.data,t)},f.onCueMetadataChange=function(e){this.g&&this.g.onCueMetadataChange(e)},f.onHLSInterstitialMetadata=function(e,t,n){this.h||this.initInterstitial(null,e,t),this.h&&z9(this.h,n)},f.onDASHInterstitialMetadata=function(e,t,n){if(n.schemeIdUri=="urn:mpeg:dash:event:alternativeMPD:2022"&&(this.h||this.initInterstitial(null,e,t),this.h)){e=this.h,t=w(n.eventNode.children);for(var r=t.next();!r.done;r=t.next()){var i=r.value;if(i.tagName=="AlternativeMPD"&&(r=i.attributes.uri,i=i.attributes.mode,r)){var o=r,u=i;break}}o?(t=u=="replace",u=u=="insert",(t||u)&&Dm(e,[{id:null,startTime:n.startTime,endTime:t?n.endTime:null,uri:o,isSkippable:!1,skipOffset:null,canJump:!0,resumeOffset:u?0:null,playoutLimit:null,once:!1,pre:!1,post:!1,timelineRange:t&&!u}])):ze("Unsupported MPD alternate",n)}},f.addCustomInterstitial=function(e){if(!this.h)throw new $(1,10,10006);Dm(this.h,[e])},f.addAdUrlInterstitial=function(e){if(!this.h)throw new $(1,10,10006);return this.h.addAdUrlInterstitial(e)};function Lm(e,t){if(t&&t.type)switch(t.type){case"ads-loaded":e.m.g.push(t.loadTime);break;case"ad-started":e.m.h++;break;case"ad-complete":e.m.j++;break;case"ad-skipped":e.m.l++;break;case"ad-error":e.m.i++}e.dispatchEvent(t)}Ae("shaka.ads.AdManager",Le),Le.prototype.addAdUrlInterstitial=Le.prototype.addAdUrlInterstitial,Le.prototype.addCustomInterstitial=Le.prototype.addCustomInterstitial,Le.prototype.onDASHInterstitialMetadata=Le.prototype.onDASHInterstitialMetadata,Le.prototype.onHLSInterstitialMetadata=Le.prototype.onHLSInterstitialMetadata,Le.prototype.onCueMetadataChange=Le.prototype.onCueMetadataChange,Le.prototype.onHlsTimedMetadata=Le.prototype.onHlsTimedMetadata,Le.prototype.onDashTimedMetadata=Le.prototype.onDashTimedMetadata,Le.prototype.onManifestUpdated=Le.prototype.onManifestUpdated,Le.prototype.getStats=Le.prototype.getStats,Le.prototype.getCuePoints=Le.prototype.getCuePoints,Le.prototype.getServerSideCuePoints=Le.prototype.getServerSideCuePoints,Le.prototype.replaceServerSideAdTagParameters=Le.prototype.replaceServerSideAdTagParameters,Le.prototype.requestServerSideStream=Le.prototype.requestServerSideStream,Le.prototype.initServerSide=Le.prototype.initServerSide,Le.prototype.addMediaTailorTrackingUrl=Le.prototype.addMediaTailorTrackingUrl,Le.prototype.requestMediaTailorStream=Le.prototype.requestMediaTailorStream,Le.prototype.initMediaTailor=Le.prototype.initMediaTailor,Le.prototype.updateClientSideAdsRenderingSettings=Le.prototype.updateClientSideAdsRenderingSettings,Le.prototype.requestClientSideAds=Le.prototype.requestClientSideAds,Le.prototype.onAssetUnload=Le.prototype.onAssetUnload,Le.prototype.release=Le.prototype.release,Le.prototype.initClientSide=Le.prototype.initClientSide,Le.prototype.initInterstitial=Le.prototype.initInterstitial,Le.prototype.configure=Le.prototype.configure,Le.prototype.setLocale=Le.prototype.setLocale,Le.ADS_LOADED="ads-loaded",Le.AD_STARTED="ad-started",Le.AD_FIRST_QUARTILE="ad-first-quartile",Le.AD_MIDPOINT="ad-midpoint",Le.AD_THIRD_QUARTILE="ad-third-quartile",Le.AD_COMPLETE="ad-complete",Le.AD_STOPPED="ad-stopped",Le.AD_SKIPPED="ad-skipped",Le.AD_VOLUME_CHANGED="ad-volume-changed",Le.AD_MUTED="ad-muted",Le.AD_PAUSED="ad-paused",Le.AD_RESUMED="ad-resumed",Le.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",Le.CUEPOINTS_CHANGED="ad-cue-points-changed",Le.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",Le.IMA_STREAM_MANAGER_LOADED="ima-stream-manager-loaded",Le.AD_CLICKED="ad-clicked",Le.AD_PROGRESS="ad-progress",Le.AD_BUFFERING="ad-buffering",Le.AD_IMPRESSION="ad-impression",Le.AD_DURATION_CHANGED="ad-duration-changed",Le.AD_CLOSED="ad-closed",Le.AD_LOADED="ad-loaded",Le.ALL_ADS_COMPLETED="all-ads-completed",Le.AD_LINEAR_CHANGED="ad-linear-changed",Le.AD_METADATA="ad-metadata",Le.AD_RECOVERABLE_ERROR="ad-recoverable-error",Le.AD_ERROR="ad-error",Le.AD_BREAK_READY="ad-break-ready",Le.AD_INTERACTION="ad-interaction",Le.AD_CONTENT_PAUSE_REQUESTED="ad-content-pause-requested",Le.AD_CONTENT_RESUME_REQUESTED="ad-content-resume-requested",Le.AD_CONTENT_ATTACH_REQUESTED="ad-content-attach-requested",Im=function(){return new Le};function ME(e){return JSON.stringify(e,function(t,n){if(typeof n!="function"){if(n instanceof Event||n instanceof Me){var r={};for(i in n)(t=n[i])&&typeof t=="object"?i=="detail"&&(r[i]=t):i in Event||(r[i]=t);return r}if(n instanceof Error){var i=new Set(["name","message","stack"]);for(r in n)i.add(r);for(r=w(Object.getOwnPropertyNames(n)),t=r.next();!t.done;t=r.next())i.add(t.value);for(r={},i=w(i),t=i.next();!t.done;t=i.next())t=t.value,r[t]=n[t];n={__type__:"Error",contents:r}}else if(n instanceof TimeRanges){for(i={__type__:"TimeRanges",length:n.length,start:[],end:[]},n=w(As(n)),r=n.next();!r.done;r=n.next())r=r.value,t=r.end,i.start.push(r.start),i.end.push(t);n=i}else n=n instanceof Uint8Array?{__type__:"Uint8Array",entries:Array.from(n)}:typeof n=="number"?isNaN(n)?"NaN":isFinite(n)?n:0>n?"-Infinity":"Infinity":n;return n}})}function t2(e){return JSON.parse(e,function(t,n){if(n=="NaN")var r=NaN;else if(n=="-Infinity")r=-1/0;else if(n=="Infinity")r=1/0;else if(n&&typeof n=="object"&&n.__type__=="TimeRanges")r=X9(n);else if(n&&typeof n=="object"&&n.__type__=="Uint8Array")r=new Uint8Array(n.entries);else if(n&&typeof n=="object"&&n.__type__=="Error"){t=n.contents,n=Error(t.message);for(r in t)n[r]=t[r];r=n}else r=n;return r})}function X9(e){return{length:e.length,start:function(t){return e.start[t]},end:function(t){return e.end[t]}}}var _E="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),Y9="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),n2=["loop","playbackRate"],Z9=["pause","play"],Rm={getAssetUri:2,getAudioLanguages:4,getAudioLanguagesAndRoles:4,getBufferFullness:1,getBufferedInfo:2,getExpiration:2,getKeyStatuses:2,getPlaybackRate:2,getTextLanguages:4,getTextLanguagesAndRoles:4,getImageTracks:2,getThumbnails:2,isAudioOnly:10,isBuffering:1,isInProgress:1,isLive:10,isTextTrackVisible:1,keySystem:10,seekRange:1,getLoadMode:10,getManifestType:10,isFullyLoaded:1},Nm={getConfiguration:4,getStats:5,getTextTracks:2,getVariantTracks:2},r2={getPlayheadTimeAsDate:1,getPresentationStartTimeAsDate:20,getSegmentAvailabilityDuration:20},PE=[["getConfiguration","configure"]],DE=[["isTextTrackVisible","setTextTrackVisibility"]],Q9="addChaptersTrack addTextTrackAsync addThumbnailsTrack cancelTrickPlay configure getChapters getChaptersTracks resetConfiguration retryStreaming selectAudioLanguage selectTextLanguage selectTextTrack selectVariantTrack selectVariantsByLabel setTextTrackVisibility trickPlay updateStartTime goToLive".split(" "),J9=["attach","attachCanvas","detach","load","unload"];function i2(e,t,n,r,i,o,u){var c=this;this.G=e,this.K=u,this.l=new mt(t),this.L=n,this.s=!1,this.A=r,this.F=i,this.M=o,this.h=this.m=!1,this.I="",this.o=null,this.B=function(){return a2(c)},this.C=function(h,g){switch(h=t2(g),h.type){case"event":var v=h.targetName,b=d5(h.event);c.A(v,b);break;case"update":v=h.update;for(b in v){h=c.g[b]||{};for(var x in v[b])h[x]=v[b][x]}c.s&&(c.L(),c.s=!1);break;case"asyncComplete":if(b=h.id,x=h.error,h=c.i[b],delete c.i[b],h)if(x){b=new $(x.severity,x.category,x.code);for(v in x)b[v]=x[v];h.reject(b)}else h.resolve()}},this.g={video:{},player:{}},this.H=0,this.i={},this.j=null,nh.add(this)}f=i2.prototype,f.destroy=function(){return nh.delete(this),o2(this),oa&&RE(this),this.l&&(this.l.stop(),this.l=null),this.F=this.A=null,this.h=this.m=!1,this.C=this.B=this.j=this.i=this.g=this.o=null,Promise.resolve()},f.ib=function(){return this.h},f.Gf=function(){return this.I},f.init=function(){if(this.G.length)if(d.chrome&&chrome.cast&&chrome.cast.isAvailable){this.m=!0,this.l.yc();var e=new chrome.cast.SessionRequest(this.G,[],null,this.K,null);e=new chrome.cast.ApiConfig(e,function(t){for(var n=w(nh),r=n.next();!r.done;r=n.next()){r=r.value;var i=t;r.j=new Yt,r.s=!0,Um(r,i)}},function(t){for(var n=w(nh),r=n.next();!r.done;r=n.next())r=r.value,Om=t=="available",r.l.yc()},"origin_scoped"),chrome.cast.initialize(e,function(){},function(){}),Om&&this.l.Z(tN),(e=oa)&&e.status!=chrome.cast.SessionStatus.STOPPED?(this.j=new Yt,this.s=!0,Um(this,e)):oa=null}else d.__onGCastApiAvailable!==NE&&(jm=d.__onGCastApiAvailable||null,d.__onGCastApiAvailable=NE)},f.Of=function(e){this.o=e,this.h&&th(this,{type:"appData",appData:this.o})},f.cast=function(){var e=this;return L(function(t){if(!e.m)throw new $(1,8,8e3);if(!Om)throw new $(1,8,8001);if(e.h)throw new $(1,8,8002);return e.j=new Yt,chrome.cast.requestSession(function(n){return Um(e,n)},function(n){return LE(e,n)}),k(t,e.j,0)})};function eN(e){e.h&&chrome.cast.requestSession(function(t){return Um(e,t)},function(t){return LE(e,t)})}f.Hc=function(){if(this.h){if(o2(this),oa){RE(this);try{oa.stop(function(){},function(){})}catch{}oa=null}a2(this)}},f.get=function(e,t){var n=this;if(e=="video"){if(Z9.includes(t))return function(){return n.Tg.apply(n,[e,t].concat(F(Ue.apply(0,arguments))))}}else if(e=="player"){if(r2[t]&&!this.get("player","isLive")())return function(){};if(Q9.includes(t))return function(){return n.Tg.apply(n,[e,t].concat(F(Ue.apply(0,arguments))))};if(J9.includes(t))return function(){return n.Li.apply(n,[e,t].concat(F(Ue.apply(0,arguments))))};if(Rm[t]||Nm[t])return function(){return n.g[e][t]}}return this.g[e][t]},f.set=function(e,t,n){this.g[e][t]=n,th(this,{type:"set",targetName:e,property:t,value:n})};function Um(e,t){var n=e.M();oa=t,t.addUpdateListener(e.B),t.addMessageListener("urn:x-cast:com.google.shaka.v2",e.C),a2(e),th(e,{type:"init",initState:n,appData:e.o}),e.j.resolve()}function LE(e,t){var n=8003;switch(t.code){case"cancel":n=8004;break;case"timeout":n=8005;break;case"receiver_unavailable":n=8006}e.j.reject(new $(2,8,n,t))}f.Tg=function(e,t){th(this,{type:"call",targetName:e,methodName:t,args:Ue.apply(2,arguments)})},f.Li=function(e,t){var n=Ue.apply(2,arguments),r=new Yt,i=this.H.toString();this.H++,this.i[i]=r;try{th(this,{type:"asyncCall",targetName:e,methodName:t,args:n,id:i})}catch(o){r.reject(o)}return r};function RE(e){var t=oa;t.removeUpdateListener(e.B),t.removeMessageListener("urn:x-cast:com.google.shaka.v2",e.C)}function a2(e){var t=oa?oa.status=="connected":!1;if(e.h&&!t){e.F();for(var n in e.g)e.g[n]={};o2(e)}e.h=t,e.I=t?oa.receiver.friendlyName:"",e.l.yc()}function o2(e){for(var t in e.i){var n=e.i[t];delete e.i[t],n.reject(new $(1,7,7e3))}}function th(e,t){t=ME(t);var n=oa;try{n.sendMessage("urn:x-cast:com.google.shaka.v2",t,function(){},ue)}catch(r){throw t=new $(2,8,8005,r),n=new Me("error",new Map().set("detail",t)),e.A("player",n),e.Hc(),t}}var tN=.02,Om=!1,oa=null,jm=null,nh=new Set;function NE(e){if(jm?d.__onGCastApiAvailable=jm:delete d.__onGCastApiAvailable,jm=null,e)for(var t=w(nh),n=t.next();!n.done;n=t.next())n.value.init();typeof d.__onGCastApiAvailable=="function"&&d.__onGCastApiAvailable(e)}function Ln(e,t,n,r){r=r===void 0?!1:r,$t.call(this);var i=this;this.i=e,this.h=t,this.m=this.o=this.j=this.s=this.l=null,this.C=n,this.B=r,this.A=new Map,this.g=new i2(n,function(){return jE(i)},function(){return FE(i)},function(o,u){return VE(i,o,u)},function(){return BE(i)},function(){return OE(i)},r),nN(this)}Se(Ln,$t),f=Ln.prototype,f.destroy=function(e){return e&&this.g.Hc(),this.m&&(this.m.release(),this.m=null),e=[],this.h&&(e.push(this.h.destroy()),this.h=null),this.g&&(e.push(this.g.destroy()),this.g=null),this.s=this.l=this.i=null,$t.prototype.release.call(this),Promise.all(e)},f.gi=function(){return this.l},f.Wh=function(){return this.s},f.Ah=function(){return this.g.m&&Om},f.ib=function(){return this.g.ib()},f.Gf=function(){return this.g.Gf()},f.cast=function(){var e=this;return L(function(t){return t.g==1?k(t,e.g.cast(),2):e.h?k(t,e.h.hc(),0):t.return()})},f.Of=function(e){this.g.Of(e)},f.aj=function(){eN(this.g)},f.Hc=function(){this.g.Hc()},f.Bh=function(e,t){t=t===void 0?!1:t;var n=this;return L(function(r){if(r.g==1)return e==n.C&&t==n.B?r.return():(n.C=e,n.B=t,n.g.Hc(),k(r,n.g.destroy(),2));n.g=null,n.g=new i2(e,function(){return jE(n)},function(){return FE(n)},function(i,o){return VE(n,i,o)},function(){return BE(n)},function(){return OE(n)},t),n.g.init(),te(r)})};function nN(e){e.g.init(),e.m=new ke;for(var t=w(_E),n=t.next();!n.done;n=t.next())e.m.D(e.i,n.value,function(o){e.g.ib()||(o=d5(o),e.j.dispatchEvent(o))});for(var r in Vg)e.m.D(e.h,Vg[r],function(o){e.g.ib()||e.o.dispatchEvent(o)});e.l={},t={};for(var i in e.i)t={md:t.md},t.md=i,Object.defineProperty(e.l,t.md,{configurable:!1,enumerable:!0,get:function(o){return function(){return iN(e,o.md)}}(t),set:function(o){return function(u){var c=o.md;e.g.ib()?e.g.set("video",c,u):e.i[c]=u}}(t)});e.s={},UE(e,function(o){Object.defineProperty(e.s,o,{configurable:!1,enumerable:!0,get:function(){return aN(e,o)}})}),rN(e),e.j=new $t,e.j.pe=e.l,e.o=new $t,e.o.pe=e.s}function rN(e){var t=new Map;UE(e,function(n,r){t.has(r)?(r=t.get(r),n.length<r.length?e.A.set(n,r):e.A.set(r,n)):t.set(r,n)})}function UE(e,t){function n(h){return h=="constructor"||typeof r[h]!="function"?!1:!i.has(h)}var r=e.h,i=new Set,o;for(o in r)n(o)&&(i.add(o),t(o,r[o]));for(e=Object.getPrototypeOf(r),o=Object.getPrototypeOf({});e&&e!=o;){for(var u=w(Object.getOwnPropertyNames(e)),c=u.next();!c.done;c=u.next())c=c.value,n(c)&&(i.add(c),t(c,r[c]));e=Object.getPrototypeOf(e)}}function OE(e){var t={video:{},player:{},playerAfterLoad:{},manifest:e.h.Ic(),startTime:null};e.i.pause();for(var n=w(n2),r=n.next();!r.done;r=n.next())r=r.value,t.video[r]=e.i[r];for(e.i.ended||(t.startTime=e.i.currentTime),n=w(PE),r=n.next();!r.done;r=n.next()){var i=r.value;r=i[1],i=e.h[i[0]](),t.player[r]=i}for(n=w(DE),r=n.next();!r.done;r=n.next())i=r.value,r=i[1],i=e.h[i[0]](),t.playerAfterLoad[r]=i;return t}function jE(e){var t=new Me("caststatuschanged");e.dispatchEvent(t)}function FE(e){var t=new Me(e.l.paused?"pause":"play");e.j.dispatchEvent(t)}function BE(e){for(var t=w(PE),n=t.next();!n.done;n=t.next()){var r=n.value;n=r[1],r=e.g.get("player",r[0])(),e.h[n](r)}var i=e.g.get("player","getAssetUri")();r=e.g.get("video","ended"),t=Promise.resolve();var o=e.i.autoplay;n=null,r||(n=e.g.get("video","currentTime"));var u;(r=e.g.get("player","getTextTracks")())&&r.length&&(u=r.find(function(g){return g.active}));var c=e.g.get("player","isTextTrackVisible")();i&&(e.i.autoplay=!1,t=e.h.load(i,n));var h={};for(n=w(n2),r=n.next();!r.done;r=n.next())r=r.value,h[r]=e.g.get("video",r);t.then(function(){if(e.i){for(var g=w(n2),v=g.next();!v.done;v=g.next())v=v.value,e.i[v]=h[v];for(g=w(DE),v=g.next();!v.done;v=g.next()){var b=v.value;v=b[1],b=e.g.get("player",b[0])(),e.h[v](b)}e.h.dh(c),u&&e.h.Mf(u.language,u.roles,u.forced),e.i.autoplay=o,i&&e.i.play()}},function(g){g=new Map().set("detail",g),g=new Me("error",g),e.h.dispatchEvent(g)})}function iN(e,t){if(t=="addEventListener")return function(r,i,o){return e.j.addEventListener(r,i,o)};if(t=="removeEventListener")return function(r,i,o){return e.j.removeEventListener(r,i,o)};if(e.g.ib()&&Object.keys(e.g.g.video).length==0){var n=e.i[t];if(typeof n!="function")return n}return e.g.ib()?e.g.get("video",t):(t=e.i[t],typeof t=="function"&&(t=t.bind(e.i)),t)}function aN(e,t){if(e.A.has(t)&&(t=e.A.get(t)),t=="addEventListener")return function(n,r,i){return e.o.addEventListener(n,r,i)};if(t=="removeEventListener")return function(n,r,i){return e.o.removeEventListener(n,r,i)};if(t=="getMediaElement")return function(){return e.l};if(t=="getSharedConfiguration")return e.g.get("player","getConfiguration");if(t=="getNetworkingEngine")return function(){return e.h.Ab()};if(t=="getDrmEngine")return function(){return e.h.B};if(t=="getAdManager")return function(){return e.h.tg()};if(t=="setVideoContainer")return function(n){return e.h.hh(n)};if(e.g.ib()){if(t=="getManifest"||t=="drmInfo")return function(){return ze(t+"() does not work while casting!"),null};if(t=="attach"||t=="detach")return function(){return ze(t+"() does not work while casting!"),Promise.resolve()}}return e.g.ib()&&Object.keys(e.g.g.video).length==0&&(Rm[t]||Nm[t])||!e.g.ib()?e.h[t].bind(e.h):e.g.get("player",t)}function VE(e,t,n){e.g.ib()&&(t=="video"?e.j.dispatchEvent(n):t=="player"&&e.o.dispatchEvent(n))}Ae("shaka.cast.CastProxy",Ln),Ln.prototype.changeReceiverId=Ln.prototype.Bh,Ln.prototype.forceDisconnect=Ln.prototype.Hc,Ln.prototype.suggestDisconnect=Ln.prototype.aj,Ln.prototype.setAppData=Ln.prototype.Of,Ln.prototype.cast=Ln.prototype.cast,Ln.prototype.receiverName=Ln.prototype.Gf,Ln.prototype.isCasting=Ln.prototype.ib,Ln.prototype.canCast=Ln.prototype.Ah,Ln.prototype.getPlayer=Ln.prototype.Wh,Ln.prototype.getVideo=Ln.prototype.gi,Ln.prototype.destroy=Ln.prototype.destroy;function dr(e,t,n,r){$t.call(this);var i=this;this.g=e,this.h=t,this.j=new ke,this.H={video:e,player:t},this.F=n||function(){},this.I=r||function(o){return o},this.i=null,this.G=!1,this.o=!0,this.m=0,this.B=!1,this.A=!0,this.s=this.l=null,this.C=new mt(function(){s2(i)}),oN(this)}Se(dr,$t),f=dr.prototype,f.isConnected=function(){return this.G},f.ni=function(){return this.o},f.Xi=function(e){this.i=e},f.Dh=function(){this.i=null},f.Yi=function(e){this.i||(this.i={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.i.title=e},f.Wi=function(e){this.i||(this.i={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.i.images=[{url:e}]},f.Vi=function(e){this.i||(this.i={}),this.i.artist=e,this.i.metadataType=cast.receiver.media.MetadataType.MUSIC_TRACK},f.destroy=function(){var e=this,t,n;return L(function(r){if(r.g==1)return e.j&&(e.j.release(),e.j=null),t=[],e.h&&(t.push(e.h.destroy()),e.h=null),e.C&&(e.C.stop(),e.C=null),e.g=null,e.H=null,e.F=null,e.G=!1,e.o=!0,e.l=null,e.s=null,$t.prototype.release.call(e),k(r,Promise.all(t),2);n=cast.receiver.CastReceiverManager.getInstance(),n.stop(),te(r)})};function oN(e){var t=cast.receiver.CastReceiverManager.getInstance();t.onSenderConnected=function(){return zE(e)},t.onSenderDisconnected=function(){return zE(e)},t.onSystemVolumeChanged=function(){var i=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();i&&Oo(e,{type:"update",update:{video:{volume:i.level,muted:i.muted}}},e.l),Oo(e,{type:"event",targetName:"video",event:{type:"volumechange"}},e.l)},e.s=t.getCastMessageBus("urn:x-cast:com.google.cast.media"),e.s.onMessage=function(i){return lN(e,i)},e.l=t.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),e.l.onMessage=function(i){return uN(e,i)},t.start(),t=w(_E);for(var n=t.next();!n.done;n=t.next())e.j.D(e.g,n.value,function(i){return $E(e,"video",i)});for(var r in Vg)e.j.D(e.h,Vg[r],function(i){return $E(e,"player",i)});e.j.D(e.g,"loadeddata",function(){e.B=!0}),e.j.D(e.h,"loading",function(){e.o=!1,Pc(e)}),e.j.D(e.g,"playing",function(){e.o=!1,Pc(e)}),e.j.D(e.g,"pause",function(){Pc(e)}),e.j.D(e.h,"unloading",function(){e.o=!0,Pc(e)}),e.j.D(e.g,"ended",function(){new mt(function(){e.g&&e.g.ended&&(e.o=!0,Pc(e))}).Z(dN)})}function zE(e){e.m=0,e.A=!0,e.G=cast.receiver.CastReceiverManager.getInstance().getSenders().length!=0,Pc(e)}function Pc(e){var t;L(function(n){if(n.g==1)return k(n,Promise.resolve(),2);if(!e.h)return n.return();t=new Me("caststatuschanged"),e.dispatchEvent(t),HE(e)||jo(e),te(n)})}function sN(e,t,n){var r,i,o,u,c,h,g,v,b,x;L(function(S){switch(S.g){case 1:for(r in t.player)i=t.player[r],e.h[r](i);return e.F(n),o=e.g.autoplay,t.manifest?(e.g.autoplay=!1,se(S,5),k(S,e.h.load(t.manifest,t.startTime),7)):k(S,Promise.resolve(),3);case 7:z(S,3);break;case 5:return u=Y(S),c=new Map().set("detail",u),h=new Me("error",c),e.h&&e.h.dispatchEvent(h),S.return();case 3:if(!e.h)return S.return();for(g in t.video)v=t.video[g],e.g[g]=v;for(b in t.playerAfterLoad)x=t.playerAfterLoad[b],e.h[b](x);e.g.autoplay=o,t.manifest&&(e.g.play(),jo(e)),te(S)}})}function $E(e,t,n){e.h&&(s2(e),Oo(e,{type:"event",targetName:t,event:n},e.l))}function s2(e){e.C.Z(cN);for(var t={video:{},player:{}},n=w(Y9),r=n.next();!r.done;r=n.next())r=r.value,t.video[r]=e.g[r];if(e.h.U())for(var i in r2)e.m%r2[i]==0&&(t.player[i]=e.h[i]());for(var o in Rm)e.m%Rm[o]==0&&(t.player[o]=e.h[o]());(n=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(t.video.volume=n.level,t.video.muted=n.muted),Oo(e,{type:"update",update:t},e.l);for(var u in Nm)e.m%Nm[u]==0&&(t={player:{}},t.player[u]=e.h[u](),Oo(e,{type:"update",update:t},e.l));e.B&&(e.m+=1),HE(e)}function HE(e){return e.A&&(e.g.duration||e.h.U())?(u2(e),e.A=!1,!0):!1}function u2(e,t){var n={contentId:e.h.Ic(),streamType:e.h.U()?"LIVE":"BUFFERED",contentType:""};e.h.U()||(n.duration=e.g.duration),e.i&&(n.metadata=e.i),jo(e,t===void 0?0:t,n)}function uN(e,t){var n=t2(t.data);switch(n.type){case"init":e.m=0,e.B=!1,e.A=!0,sN(e,n.initState,n.appData),s2(e);break;case"appData":e.F(n.appData);break;case"set":var r=n.targetName,i=n.property;if(n=n.value,r=="video"){if(t=cast.receiver.CastReceiverManager.getInstance(),i=="volume"){t.setSystemVolumeLevel(n);break}else if(i=="muted"){t.setSystemVolumeMuted(n);break}}e.H[r][i]=n;break;case"call":r=e.H[n.targetName],r[n.methodName].apply(r,n.args);break;case"asyncCall":r=n.targetName,i=n.methodName,r=="player"&&i=="load"&&(e.m=0,e.B=!1);var o=n.id,u=t.senderId;t=e.H[r],n=t[i].apply(t,n.args),r=="player"&&i=="load"&&(n=n.then(function(){e.A=!0})),n.then(function(){return qE(e,u,o,null)},function(c){return qE(e,u,o,c)})}}function lN(e,t){var n=t2(t.data);switch(n.type){case"PLAY":e.g.play(),jo(e);break;case"PAUSE":e.g.pause(),jo(e);break;case"SEEK":t=n.currentTime;var r=n.resumeState;t!=null&&(e.g.currentTime=Number(t)),r&&r=="PLAYBACK_START"?(e.g.play(),jo(e)):r&&r=="PLAYBACK_PAUSE"&&(e.g.pause(),jo(e));break;case"STOP":e.h.hc().then(function(){e.h&&jo(e)});break;case"GET_STATUS":u2(e,Number(n.requestId));break;case"VOLUME":r=n.volume,t=r.level,r=r.muted;var i=e.g.volume,o=e.g.muted;t!=null&&(e.g.volume=Number(t)),r!=null&&(e.g.muted=r),i==e.g.volume&&o==e.g.muted||jo(e);break;case"LOAD":e.m=0,e.B=!1,e.A=!1,t=n.media,r=n.currentTime,i=e.I(t.contentId),o=n.autoplay||!0,e.F(t.customData),o&&(e.g.autoplay=!0),e.h.load(i,r).then(function(){e.h&&u2(e)}).catch(function(u){var c="LOAD_FAILED";u.category==7&&u.code==7e3&&(c="LOAD_CANCELLED"),Oo(e,{requestId:Number(n.requestId),type:c},e.s)});break;default:Oo(e,{requestId:Number(n.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},e.s)}}function qE(e,t,n,r){e.h&&Oo(e,{type:"asyncComplete",id:n,error:r},e.l,t)}function Oo(e,t,n,r){e.G&&(e=ME(t),r?n.getCastChannel(r).send(e):n.broadcast(e))}function jo(e,t,n){n=n===void 0?null:n;var r={mediaSessionId:0,playbackRate:e.g.playbackRate,playerState:e.o?pN:e.h.pf()?fN:e.g.paused?gN:hN,currentTime:e.g.currentTime,supportedMediaCommands:63,volume:{level:e.g.volume,muted:e.g.muted}};n&&(r.media=n),Oo(e,{requestId:t===void 0?0:t,type:"MEDIA_STATUS",status:[r]},e.s)}Ae("shaka.cast.CastReceiver",dr),dr.prototype.destroy=dr.prototype.destroy,dr.prototype.setContentArtist=dr.prototype.Vi,dr.prototype.setContentImage=dr.prototype.Wi,dr.prototype.setContentTitle=dr.prototype.Yi,dr.prototype.clearContentMetadata=dr.prototype.Dh,dr.prototype.setContentMetadata=dr.prototype.Xi,dr.prototype.isIdle=dr.prototype.ni,dr.prototype.isConnected=dr.prototype.isConnected;var cN=.5,dN=5,pN="IDLE",hN="PLAYING",fN="BUFFERING",gN="PAUSED";function GE(e,t,n,r,i){if(r>=i)return null;for(var o=-1,u=-1,c=0;c<n.length;c++)if(n[c].some(function(P){return P!=null&&P.g.trim()!=""})){o=c;break}for(c=n.length-1;0<=c;c--)if(n[c].some(function(P){return P!=null&&P.g.trim()!=""})){u=c;break}if(o===-1||u===-1)return null;for(var h=c=!1,g="white",v="black",b=l2(r,i,c,h,g,v);o<=u;o++){for(var x=n[o],S=-1,T=-1,A=0;A<x.length;A++)if(x[A]!=null&&x[A].g.trim()!==""){S=A;break}for(A=x.length-1;0<=A;A--)if(x[A]!=null&&x[A].g.trim()!==""){T=A;break}if(S===-1||T===-1)x=KE(r,i),e.nestedCues.push(x);else{for(;S<=T;S++)if(A=x[S]){var C=A.l,M=A.i,_=A.j,O=A.h;(C!=c||M!=h||_!=g||O!=v)&&(b.payload&&e.nestedCues.push(b),b=l2(r,i,C,M,_,O),c=C,h=M,g=_,v=O),b.payload+=A.g}else b.payload+=" ";b.payload&&e.nestedCues.push(b),o!==u&&(b=KE(r,i),e.nestedCues.push(b)),b=l2(r,i,c,h,g,v)}}return e.nestedCues.length?{cue:e,stream:t}:null}function l2(e,t,n,r,i,o){return e=new en(e,t,""),n&&e.textDecoration.push(Ao),r&&(e.fontStyle=Ql),e.color=i,e.backgroundColor=o,e}function KE(e,t){return e=new en(e,t,""),e.lineBreak=!0,e}function WE(e,t,n,r,i){this.g=e,this.l=t,this.i=n,this.h=r,this.j=i}function c2(e,t){this.i=[],this.g=1,this.h=0,this.C=e,this.B=t,this.j=this.m=!1,this.l="white",this.o="black",this.s=this.A=null,rh(this)}function Fm(e,t,n){var r="CC"+((e.C<<1|e.B)+1),i=new en(t,n,"");i.lineInterpretation=1;var o=ZE.get(e.g);return o&&(i.line=o),e.s!=null&&e.A!=null&&(i.position=10+Math.min(70,10*e.s)+2.5*e.A),(t=GE(i,r,e.i,t,n))&&15<e.g+t.cue.nestedCues.length-3&&(o=ZE.get(e.g+3-t.cue.nestedCues.length))&&(i.line=o),t}function rh(e){Fo(e,0,15),e.g=1}function Dc(e,t,n){if(!(32>n||127<n)){var r="";switch(t){case 0:r=YE.has(n)?YE.get(n):String.fromCharCode(n);break;case 1:r=mN.get(n);break;case 2:e.i[e.g].pop(),r=vN.get(n);break;case 3:e.i[e.g].pop(),r=yN.get(n)}r&&e.i[e.g].push(new WE(r,e.m,e.j,e.o,e.l))}}function XE(e,t,n,r){if(!(0>n||0>t))if(t>=n)for(--r;0<=r;r--)e.i[t+r]=e.i[n+r].map(function(o){return o});else for(var i=0;i<r;i++)e.i[t+i]=e.i[n+i].map(function(o){return o})}function Fo(e,t,n){for(var r=0;r<=n;r++)e.i[t+r]=[]}var YE=new Map([[39,"\u2019"],[42,"\xE1"],[92,"\xE9"],[92,"\xE9"],[94,"\xED"],[95,"\xF3"],[96,"\xFA"],[123,"\xE7"],[124,"\xF7"],[125,"\xD1"],[126,"\xF1"],[127,"\u2588"]]),mN=new Map([[48,"\xAE"],[49,"\xB0"],[50,"\xBD"],[51,"\xBF"],[52,"\u2122"],[53,"\xA2"],[54,"\xA3"],[55,"\u266A"],[56,"\xE0"],[57," "],[58,"\xE8"],[59,"\xE2"],[60,"\xEA"],[61,"\xEE"],[62,"\xF4"],[63,"\xFB"]]),vN=new Map([[32,"\xC1"],[33,"\xC9"],[34,"\xD3"],[35,"\xDA"],[36,"\xDC"],[37,"\xFC"],[38,"\u2018"],[39,"\xA1"],[40,"*"],[41,"'"],[42,"\u2500"],[43,"\xA9"],[44,"\u2120"],[45,"\xB7"],[46,"\u201C"],[47,"\u201D"],[48,"\xC0"],[49,"\xC2"],[50,"\xC7"],[51,"\xC8"],[52,"\xCA"],[53,"\xCB"],[54,"\xEB"],[55,"\xCE"],[56,"\xCF"],[57,"\xEF"],[58,"\xD4"],[59,"\xD9"],[60,"\xF9"],[61,"\xDB"],[62,"\xAB"],[63,"\xBB"]]),yN=new Map([[32,"\xC3"],[33,"\xE3"],[34,"\xCD"],[35,"\xCC"],[36,"\xEC"],[37,"\xD2"],[38,"\xF2"],[39,"\xD5"],[40,"\xF5"],[41,"{"],[42,"}"],[43,"\\"],[44,"^"],[45,"_"],[46,"|"],[47,"~"],[48,"\xC4"],[49,"\xE4"],[50,"\xD6"],[51,"\xF6"],[52,"\xDF"],[53,"\xA5"],[54,"\xA4"],[55,"\u2502"],[56,"\xC5"],[57,"\xE5"],[58,"\xD8"],[59,"\xF8"],[60,"\u250C"],[61,"\u2510"],[62,"\u2514"],[63,"\u2518"]]),ZE=new Map([[1,10],[2,15.33],[3,20.66],[4,26],[5,31.33],[6,36.66],[7,42],[8,47.33],[9,52.66],[10,58],[11,63.33],[12,68.66],[13,74],[14,79.33],[15,84.66]]);function Bm(e,t){this.h=0,this.o=new c2(e,t),this.i=new c2(e,t),this.g=this.j=new c2(e,t),this.l=0,this.m=null}function d2(e,t,n){e.g=e.i;var r=e.g,i=null;return e.h!==3&&e.h!==4&&(i=Fm(r,e.l,n),n=e.i,n.g=0<n.h?n.h:0,Fo(n,0,15),n=e.j,n.g=0<n.h?n.h:0,Fo(n,0,15),r.g=15),e.h=3,r.h=t,i}function QE(e){e.h=1,e.g=e.j,e.g.h=0}function JE(e){Lt("Cea608DataChannel","CEA-608 text mode entered, but is unsupported"),e.g=e.o,e.h=4}var bN="black green blue cyan red yellow magenta black".split(" "),eA="white green blue cyan red yellow magenta white_italics".split(" ");function p2(e,t){this.I=t,this.M=e,this.K=this.l=!1,this.m=this.o=this.G=this.L=this.H=0,this.F=2,this.i=[],this.g=this.h=this.j=0,this.C=this.A=!1,this.B="white",this.s="black",h2(this)}function h2(e){e.i=[];for(var t=0;16>t;t++)e.i.push(f2())}function f2(){for(var e=[],t=0;42>t;t++)e.push(null);return e}function ju(e,t){tA(e)&&(e.i[e.h][e.g]=new WE(t,e.C,e.A,e.s,e.B),e.g++)}function tA(e){var t=e.g<e.m&&0<=e.g;return e.h<e.o&&0<=e.h&&t}p2.prototype.isVisible=function(){return this.l};function Fu(e,t,n){var r=new en(e.j,t,"");r.textAlign=e.F===0?"left":e.F===1?"right":Ya;var i=r.region;switch(e.I&&(i.id+="svc"+e.I),i.id+="win"+e.M,i.height=e.o,i.width=e.m,i.heightUnits=2,i.widthUnits=2,i.viewportAnchorX=e.H,i.viewportAnchorY=e.L,i.viewportAnchorUnits=e.K?Xn:2,e.G){case 0:i.regionAnchorX=0,i.regionAnchorY=0;break;case 1:i.regionAnchorX=50,i.regionAnchorY=0;break;case 2:i.regionAnchorX=100,i.regionAnchorY=0;break;case 3:i.regionAnchorX=0,i.regionAnchorY=50;break;case 4:i.regionAnchorX=50,i.regionAnchorY=50;break;case 5:i.regionAnchorX=100,i.regionAnchorY=50;break;case 6:i.regionAnchorX=0,i.regionAnchorY=100;break;case 7:i.regionAnchorX=50,i.regionAnchorY=100;break;case 8:i.regionAnchorX=100,i.regionAnchorY=100}return(n=GE(r,"svc"+n,e.i,e.j,t))&&(e.j=t),n}p2.prototype.display=function(){this.l=!0};function wN(){this.i=[],this.h=null,this.g=0}function xN(e,t){t.type===3?(e.g=2*(t.value&63)-1,e.h=[]):e.h&&(0<e.g&&(e.h.push(t),e.g--),e.g===0&&(e.i.push(new Vm(e.h)),e.h=null,e.g=0))}function Vm(e){this.g=0,this.h=e}Vm.prototype.qa=function(){return this.g<this.h.length},Vm.prototype.xa=function(){return this.g};function Zn(e){if(!e.qa())throw new $(2,2,3e3);return e.h[e.g++]}Vm.prototype.skip=function(e){if(this.g+e>this.h.length)throw new $(2,2,3e3);this.g+=e};function SN(e){this.i=e,this.h=[null,null,null,null,null,null,null,null],this.g=null}function TN(e,t,n,r){if(128<=n&&135>=n)r=n&7,e.h[r]&&(e.g=e.h[r]);else{if(n===136){n=Zn(t).value,t=null,n=w(ih(e,n));for(var i=n.next();!i.done;i=n.next())i=e.h[i.value],i.isVisible()&&(t=Fu(i,r,e.i)),h2(i);return t}if(n===137)for(t=Zn(t).value,t=w(ih(e,t)),n=t.next();!n.done;n=t.next())n=e.h[n.value],n.isVisible()||(n.j=r),n.display();else{if(n===138){for(n=Zn(t).value,t=null,n=w(ih(e,n)),i=n.next();!i.done;i=n.next())i=e.h[i.value],i.isVisible()&&(t=Fu(i,r,e.i)),i.l=!1;return t}if(n===139){for(n=Zn(t).value,t=null,n=w(ih(e,n)),i=n.next();!i.done;i=n.next())i=e.h[i.value],i.isVisible()?t=Fu(i,r,e.i):i.j=r,i.l=!i.l;return t}if(n===140)return t=Zn(t).value,nA(e,t,r);if(n===143)return r=nA(e,255,r),rA(e),r;if(n===144)t.skip(1),r=Zn(t).value,e.g&&(e.g.A=0<(r&128),e.g.C=0<(r&64));else if(n===145)r=Zn(t).value,n=Zn(t).value,t.skip(1),e.g&&(t=iA((n&48)>>4,(n&12)>>2,n&3),e.g.B=iA((r&48)>>4,(r&12)>>2,r&3),e.g.s=t);else if(n===146)r=Zn(t).value,t=Zn(t).value,e.g&&(e=e.g,e.h=r&15,e.g=t&63);else if(n===151)t.skip(1),t.skip(1),r=Zn(t).value,t.skip(1),e.g&&(e.g.F=r&3);else if(152<=n&&159>=n){if(n=(n&15)-8,i=e.h[n]!==null,!i){var o=new p2(n,e.i);o.j=r,e.h[n]=o}r=Zn(t).value,o=Zn(t).value;var u=Zn(t).value,c=Zn(t).value,h=Zn(t).value;t=Zn(t).value,i&&!(t&7)||(t=e.h[n],t.h=0,t.g=0,t.C=!1,t.A=!1,t.B="white",t.s="black"),t=e.h[n],t.l=0<(r&32),t.L=o&127,t.H=u,t.G=(c&240)>>4,t.K=0<(o&128),t.o=(c&15)+1,t.m=(h&63)+1,e.g=e.h[n]}}}return null}function ih(e,t){for(var n=[],r=0;8>r;r++)(t&1)===1&&e.h[r]&&n.push(r),t>>=1;return n}function nA(e,t,n){var r=null;t=w(ih(e,t));for(var i=t.next();!i.done;i=t.next()){i=i.value;var o=e.h[i];o.isVisible()&&(r=Fu(o,n,e.i)),e.h[i]=null}return r}function rA(e){e.g=null,e.h=[null,null,null,null,null,null,null,null]}function iA(e,t,n){var r={0:0,1:0,2:1,3:1};return e=r[e],t=r[t],n=r[n],kN[e<<2|t<<1|n]}var aA=new Map([[32," "],[33,"\xA0"],[37,"\u2026"],[42,"\u0160"],[44,"\u0152"],[48,"\u2588"],[49,"\u2018"],[50,"\u2019"],[51,"\u201C"],[52,"\u201D"],[53,"\u2022"],[57,"\u2122"],[58,"\u0161"],[60,"\u0153"],[61,"\u2120"],[63,"\u0178"],[118,"\u215B"],[119,"\u215C"],[120,"\u215D"],[121,"\u215E"],[122,"\u2502"],[123,"\u2510"],[124,"\u2514"],[125,"\u2500"],[126,"\u2518"],[127,"\u250C"]]),kN="black blue green cyan red magenta yellow white".split(" ");function Lc(){this.h=[],this.g=[],this.i=new wN,this.l=0,this.m=new Map([["CC1",new Bm(0,0)],["CC2",new Bm(0,1)],["CC3",new Bm(1,0)],["CC4",new Bm(1,1)]]),this.s=this.o=0,this.j=new Map,this.B=!0,this.A=new Set,g2(this)}Lc.prototype.clear=function(){this.l=0,this.h=[],this.g=[];var e=this.i;e.i=[],e.h=[],e.g=0,g2(this),e=w(this.j.values());for(var t=e.next();!t.done;t=e.next())rA(t.value)};function g2(e){e.o=0,e.s=0;for(var t=w(e.m.values()),n=t.next();!n.done;n=t.next())n=n.value,n.h=0,n.g=n.j,n.m=null,rh(n.i),rh(n.j),rh(n.o);e.B=!0}Lc.prototype.extract=function(e,t){if(this.B){for(var n=w(this.m.values()),r=n.next();!r.done;r=n.next())r.value.l=t;this.B=!1}if(e=new tn(e,0),!(8>e.getLength())&&e.T()===181&&e.ma()===49&&e.P()===1195456820&&e.T()===3&&(n=e.T(),(n&64)!==0))for(n&=31,e.skip(1),r=0;r<n;r++){var i=e.T(),o=(i&4)>>2,u=e.T(),c=e.T();o&&(i&=3,i===0||i===1?this.h.push({pts:t,type:i,eb:u,Eb:c,order:this.h.length}):(this.g.push({pts:t,type:i,value:u,order:this.g.length}),this.g.push({pts:t,type:2,value:c,order:this.g.length})))}},Lc.prototype.decode=function(){function e(i,o){return i.pts-o.pts||i.order-o.order}var t=[];this.h.sort(e),this.g.sort(e);for(var n=w(this.h),r=n.next();!r.done;r=n.next())(r=EN(this,r.value))&&t.push(r);for(n=w(this.g),r=n.next();!r.done;r=n.next())xN(this.i,r.value);for(n=w(this.i.i),r=n.next();!r.done;r=n.next())r=AN(this,r.value),t.push.apply(t,F(r));return this.i.i=[],this.h=[],this.g=[],t};function EN(e,t){var n=t.type;if((t.eb&112)===16){var r=t.eb>>3&1;n===0?e.o=r:e.s=r}if(r="CC"+((n<<1|(n?e.s:e.o))+1),n=e.m.get(r),t.eb===255&&t.Eb===255||!t.eb&&!t.Eb||!oA(t.eb)||!oA(t.Eb))return 45<=++e.l&&g2(e),null;e.l=0,t.eb&=127,t.Eb&=127;var i=t.eb;if(1<=i&&15>=i||!t.eb&&!t.Eb)return null;if(i=null,(t.eb&112)===16)e:{if(e.A.add(r),r=t.eb,e=t.Eb,n.m===(r<<8|e))n.m=null;else if(n.m=r<<8|e,(r&240)===16&&(e&192)===64){t=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(r&7)<<1|e>>5&1],r="white",i=!1;var o=null,u=95<e?e-96:e-64;13>=u?r=eA[Math.floor(u/2)]:15>=u?i=!0:o=Math.floor((u-16)/2),e=(e&1)===1,n.h!==4&&(u=n.g,n.h===3&&t!==u.g&&(n=1+t-u.h,XE(u,n,1+u.g-u.h,u.h),Fo(u,0,n-1),Fo(u,t+1,15-t)),u.g=t,u.m=e,u.j=i,u.l=r,u.s=o,u.o="black")}else if((r&247)===17&&(e&240)===32)n.g.m=!1,n.g.j=!1,n.g.l="white",Dc(n.g,0,32),r=!1,t=eA[(e&14)>>1],t==="white_italics"&&(t="white",r=!0),n.g.m=(e&1)===1,n.g.j=r,n.g.l=t;else if((r&247)===16&&(e&240)===32||(r&247)===23&&(e&255)===45)t="black",!(r&7)&&(t=bN[(e&14)>>1]),n.g.o=t;else if((r&247)===17&&(e&240)===48)Dc(n.g,1,e);else if((r&246)===18&&(e&224)===32)Dc(n.g,r&1?3:2,e);else{if((r&246)===20&&(e&240)===32){switch(e=t.pts,r=null,t.Eb){case 32:QE(n);break;case 33:n=n.g,n.i[n.g].pop();break;case 37:r=d2(n,2,e);break;case 38:r=d2(n,3,e);break;case 39:r=d2(n,4,e);break;case 40:Dc(n.g,0,32);break;case 41:n.h=2,n.g=n.i,n.g.h=0,n.l=e;break;case 42:rh(n.o),JE(n);break;case 43:JE(n);break;case 44:t=n.i,r=null,n.h!==4&&(r=Fm(t,n.l,e)),Fo(t,0,15);break;case 45:t=n.g,n.h!==3?r=null:(r=Fm(t,n.l,e),i=t.g-t.h+1,XE(t,i-1,i,t.h),Fo(t,0,i-1),Fo(t,t.g,15-t.g),n.l=e);break;case 46:Fo(n.j,0,15);break;case 47:t=null,n.h!==4&&(t=Fm(n.i,n.l,e)),r=n.j,n.j=n.i,n.i=r,QE(n),n.l=e,r=t}i=r;break e}(r==23||r==31)&&33<=e&&35>=e&&(n.g.A=e-32)}i=null}else e=t.Eb,Dc(n.g,0,t.eb),Dc(n.g,0,e);return i}function AN(e,t){var n=[];try{for(;t.qa();){var r=Zn(t).value,i=(r&224)>>5,o=r&31;if(i===7&&o!=0&&(i=Zn(t).value&63),i!=0){e.A.add("svc"+i),e.j.has(i)||e.j.set(i,new SN(i));for(var u=e.j.get(i),c=t.xa();t.xa()-c<o;){i=u;var h=t,g=Zn(h),v=g.value,b=g.pts;if(v===16){var x=Zn(h);v=v<<16|x.value}if(0<=v&&31>=v){h=i;var S=v,T=b;if(h.g){var A=h.g;switch(i=null,S){case 8:!tA(A)||0>=A.g&&0>=A.h||(0>=A.g?(A.g=A.m-1,A.h--):A.g--,A.i[A.h][A.g]=null);break;case 13:if(A.isVisible()&&(i=Fu(A,T,h.i)),A.h+1>=A.o){for(h=A,S=0,T=1;16>T;T++,S++)h.i[S]=h.i[T];for(T=0;1>T;T++,S++)h.i[S]=f2()}else A.h++;A.g=0;break;case 14:A.isVisible()&&(i=Fu(A,T,h.i)),A.i[A.h]=f2(),A.g=0;break;case 12:A.isVisible()&&(i=Fu(A,T,h.i)),h2(A),h=A,h.h=0,h.g=0}var C=i}else C=null}else if(128<=v&&159>=v)C=TN(i,h,v,b);else{if(4096<=v&&4127>=v)i=h,h=v&255,8<=h&&15>=h?i.skip(1):16<=h&&23>=h?i.skip(2):24<=h&&31>=h&&i.skip(3);else if(4224<=v&&4255>=v)i=h,h=v&255,128<=h&&135>=h?i.skip(4):136<=h&&143>=h&&i.skip(5);else if(32<=v&&127>=v)h=v,i.g&&(h===127?ju(i.g,"\u266A"):ju(i.g,String.fromCharCode(h)));else if(160<=v&&255>=v)i.g&&ju(i.g,String.fromCharCode(v));else if(4128<=v&&4223>=v){if(h=v&255,i.g)if(aA.has(h)){var M=aA.get(h);ju(i.g,M)}else ju(i.g,"_")}else 4256<=v&&4351>=v&&i.g&&((v&255)!=160?ju(i.g,"_"):ju(i.g,"[CC]"));C=null}(i=C)&&n.push(i)}}}}catch(_){if(_ instanceof $&&_.code===3e3)Lt("CEA708_INVALID_DATA","Buffer read out of bounds / invalid CEA-708 Data.");else throw _}return n}function oA(e){for(var t=0;e;)t^=e&1,e>>=1;return t===1}Lc.prototype.getStreams=function(){return Array.from(this.A)},Ae("shaka.cea.CeaDecoder",Lc),Ea=function(){return new Lc};function sA(e){for(var t=[],n=e,r=e=0;r<n.length;)e==2&&n[r]==3?(e=0,n=[].concat(F(n)),n.splice(r,1),n=new Uint8Array(n)):n[r]==0?e++:e=0,r++;for(e=n,r=0;r<e.length;){for(n=0;e[r]==255;)n+=255,r++;n+=e[r++];for(var i=0;e[r]==255;)i+=255,r++;i+=e[r++],n==4&&t.push(e.subarray(r,r+i)),r+=i}return t}function zm(){this.j=new Map,this.i=this.h=0,this.g=m2}zm.prototype.init=function(e){function t(o){o=o.name,o in $m&&(n.g=$m[o])}var n=this,r=[],i=[];if(new nn().box("moov",vt).box("mvex",vt).S("trex",function(o){var u=o.reader;u.skip(4),u.skip(4),o=u.P(),u=u.P(),n.h=o,n.i=u}).box("trak",vt).S("tkhd",function(o){var u=o.reader;o=o.version,o==1?(u.skip(8),u.skip(8)):(u.skip(4),u.skip(4));var c=u.P();o==1?u.skip(8):u.skip(4),u.skip(4),u.skip(8),u.skip(2),u.skip(2),u.skip(2),u.skip(2),u.skip(36),u.ma(),u.ma(),u.ma(),u.ma(),r.push(c)}).box("mdia",vt).S("mdhd",function(o){o=Wg(o.reader,o.version),i.push(o.timescale)}).box("minf",vt).box("stbl",vt).S("stsd",Es).box("avc1",t).box("avc3",t).box("dvav",t).box("dva1",t).box("hev1",t).box("hvc1",t).box("dvh1",t).box("dvhe",t).box("vvc1",t).box("vvi1",t).box("dvc1",t).box("dvi1",t).box("encv",Qr).box("sinf",vt).box("frma",function(o){o=K5(o.reader).codec,o in $m&&(n.g=$m[o])}).parse(e,!0),!r.length||!i.length||r.length!=i.length)throw new $(2,2,2010);this.g==m2&&ze("Unable to determine bitstream format for CEA parsing!"),r.forEach(function(o,u){n.j.set(o,i[u])})},zm.prototype.parse=function(e){var t=this;if(this.g==m2)return[];var n=[],r=0,i=[];return new nn().box("moof",function(o){r=o.start,i=[],vt(o)}).box("traf",function(o){i.push({baseMediaDecodeTime:null,bd:t.h,Hd:t.i,Og:[],timescale:9e4}),vt(o)}).S("trun",function(o){var u=i[i.length-1];o=q5(o.reader,o.version,o.flags),u.Og.push(o)}).S("tfhd",function(o){var u=i[i.length-1];o=H5(o.reader,o.flags),u.bd=o.bd||t.h,u.Hd=o.Hd||t.i,o=o.trackId,t.j.has(o)&&(u.timescale=t.j.get(o))}).S("tfdt",function(o){var u=i[i.length-1];o=Kg(o.reader,o.version),u.baseMediaDecodeTime=o.baseMediaDecodeTime}).box("mdat",function(o){for(var u=r-o.start-8,c=o.reader.xa(),h=w(i),g=h.next();!g.done;g=h.next()){if(g=g.value,g.baseMediaDecodeTime===null)throw ze("Unable to find base media decode time for CEA captions!"),new $(2,2,2010);o.reader.seek(c),CN(t,o.reader,g.baseMediaDecodeTime,g.timescale,g.bd,g.Hd,u,g.Og,n)}}).parse(e,!1),n};function CN(e,t,n,r,i,o,u,c,h){var g=0,v=o,b=c.map(function(T){return T.Vg});for(b=[].concat.apply([],F(b)),b.length&&(v=b[0].sampleSize||o),t.skip(u+c[0].Fh);t.qa();){u=t.P();var x=t.T(),S=null;switch(S=!1,c=1,e.g){case ah:S=x&31,S=S==6;break;case oh:c=2,t.skip(1),S=x>>1&63,S=S==39||S==40;break;case sh:c=2,t.skip(1),S=x>>1&63,S=S==23||S==24;break;default:return}if(S)for(x=0,g<b.length&&(x=b[g].le||0),x=(n+x)/r,c=w(sA(t.ub(u-c))),S=c.next();!S.done;S=c.next())h.push({packet:S.value,pts:x});else try{t.skip(u-c)}catch{break}v-=u+4,v==0&&(n=g<b.length?n+(b[g].Lf||i):n+i,g++,g<b.length?v=b[g].sampleSize||o:v=o)}}Ae("shaka.cea.Mp4CeaParser",zm);var m2=0,ah=1,oh=2,sh=3,$m={avc1:ah,avc3:ah,dvav:ah,dva1:ah,hev1:oh,hvc1:oh,dvh1:oh,dvhe:oh,vvc1:sh,vvi1:sh,dvc1:sh,dvi1:sh};xo["video/mp4"]=function(){return new zm};function Hm(){this.g=null}Hm.prototype.init=function(){},Hm.prototype.parse=function(e){this.g?this.g.clearData():this.g=new sn;var t=[];if(e=Ge(e),!jp(e))return t;e=this.g.parse(e);var n=e.cd(),r=e.Nd();switch(e=[],n.video){case"avc":e.push(6);break;case"hvc":e.push(39),e.push(40)}if(!e.length)return t;for(n=w(r),r=n.next();!r.done;r=n.next())if(r=r.value,e.includes(r.type)&&r.time!=null)for(var i=w(sA(r.data)),o=i.next();!o.done;o=i.next())t.push({packet:o.value,pts:r.time});return t},Ae("shaka.cea.TsCeaParser",Hm),xo["video/mp2t"]=function(){return new Hm};function uA(e,t,n){var r=DN(e),i=null;e=[];var o=[],u=null,c=new Set(r.map(function(g){return g.keyId}));c.delete(null);var h="cenc";if(1<c.size)throw new $(2,4,4010);if(!t){if(o=r.filter(function(g){return g.Tc=="urn:mpeg:dash:sea:2012"}),1<o.length)throw new $(2,4,4050);o.length&&(u=RN(o[0])),(o=r.find(function(g){return g.Tc=="urn:mpeg:dash:mp4protection:2011"}))&&o.encryptionScheme&&(h=o.encryptionScheme),o=r.filter(function(g){return g.Tc=="urn:mpeg:dash:mp4protection:2011"?(i=g.init||i,!1):g.Tc!="urn:mpeg:dash:sea:2012"}),o.length&&(e=PN(i,h,o,n,c),e.length==0&&(e=[Mu("",h,i)]))}if(r.length&&!u&&(t||!o.length))for(e=[],t=w(Object.values(n)),n=t.next();!n.done;n=t.next())n=n.value,n!="org.w3.clearkey"&&e.push(Mu(n,h,i));if(c=Array.from(c)[0]||null)for(h=w(e),t=h.next();!t.done;t=h.next())for(t=w(t.value.initData),n=t.next();!n.done;n=t.next())n.value.keyId=c;return{ng:c,hk:i,drmInfos:e,Ge:u,sg:!0}}function IN(e,t,n,r){var i=uA(e,n,r);if(t.sg)e=t.drmInfos.length==1&&!t.drmInfos[0].keySystem,n=i.drmInfos.length==0,(t.drmInfos.length==0||e&&!n)&&(t.drmInfos=i.drmInfos),t.sg=!1;else if(0<i.drmInfos.length&&(t.drmInfos=t.drmInfos.filter(function(o){return i.drmInfos.some(function(u){return u.keySystem==o.keySystem})}),t.drmInfos.length==0))throw new $(2,4,4008);return i.ng||t.ng}function MN(e){var t=0,n=cr(e),r=n.getUint32(t,!0);if(r!=e.byteLength)return[];e:{for(e=t+6,t=[];e<n.byteLength-1;){r=n.getUint16(e,!0),e+=2;var i=n.getUint16(e,!0);if(e+=2,i&1||i+e>n.byteLength){n=[];break e}var o=Ge(n,e,i);t.push({type:r,value:o}),e+=i}n=t}return n}function _N(e){e=w(na(e,"DATA"));for(var t=e.next();!t.done;t=e.next())if(t=t.value,t.children){t=w(t.children);for(var n=t.next();!n.done;n=t.next())if(n=n.value,n.tagName=="LA_URL")return Mn(n)}return""}function qm(e){var t=Ka(e.node,"https://dashif.org/CPS","Laurl");return t&&(t=Mn(t))?t:(e=Ka(e.node,"urn:microsoft:playready","pro"),!e||!Mn(e)||(e=Mn(e),e=Ri(e),e=MN(e).filter(function(n){return n.type===NN})[0],!e)?"":(e=So(e.value,!0),(e=Yl(e,"WRMHEADER"))?_N(e):""))}function PN(e,t,n,r,i){var o=[];n=w(n);for(var u=n.next();!u.done;u=n.next()){u=u.value;var c=r[u.Tc];if(c){var h;if((h=Ka(u.node,"urn:microsoft:playready","pro"))&&Mn(h)){h=Mn(h),h=Ri(h);var g=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);h=[{initData:qg(h,g,new Set,0),initDataType:"cenc",keyId:u.keyId}]}else h=null;if(g=null,u.Tc==="urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e"){g=u;var v=i;if(v.size==0)g=null;else{var b=new Uint8Array([16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75]),x=new Uint8Array([]);g=[{initData:qg(x,b,v,1),initDataType:"cenc",keyId:g.keyId}]}}h=Mu(c,t,u.init||e||h||g),(c=UN.get(c))&&(h.licenseServerUri=c(u)),o.push(h)}}return o}function DN(e){var t=[];e=w(e);for(var n=e.next();!n.done;n=e.next())(n=LN(n.value))&&t.push(n);return t}function LN(e){var t=e.attributes.schemeIdUri,n=ko(e,"urn:mpeg:cenc:2013","default_KID"),r=b3(e,"urn:mpeg:cenc:2013","pssh").map(ta),i=e.attributes.value;if(!t)return null;if(t=t.toLowerCase(),n&&(n=n.replace(/-/g,"").toLowerCase(),n.includes(" ")))throw new $(2,4,4009);var o=[];try{o=r.map(function(u){return{initDataType:"cenc",initData:Ri(u),keyId:null}})}catch{throw new $(2,4,4007)}return{node:e,Tc:t,keyId:n,init:0<o.length?o:null,encryptionScheme:i}}function RN(e){if(!d.crypto||!d.crypto.subtle)throw ze("Web Crypto API is not available to decrypt AES-128. (Web Crypto only exists in secure origins like https)"),new $(2,4,4042);var t=Ka(e.node,"urn:mpeg:dash:schema:sea:2012","SegmentEncryption");if(!t)throw new $(2,4,4051);if(t.attributes.schemeIdUri!="urn:mpeg:dash:sea:aes128-cbc:2013")throw new $(2,4,4051);if(t=Ka(e.node,"urn:mpeg:dash:schema:sea:2012","CryptoPeriod"),!t)throw new $(2,4,4051);if(e=t.attributes.IV,t=jr(t.attributes.keyUriTemplate),!e||!t)throw new $(2,4,4051);if(e=Iu(e.substr(2)),e.byteLength!=16)throw new $(2,4,4048);return{ti:t,iv:e}}var NN=1,UN=new Map().set("com.widevine.alpha",function(e){var t=Ka(e.node,"https://dashif.org/CPS","Laurl");return t&&(t=Mn(t))?t:(e=Ka(e.node,"urn:microsoft","laurl"))&&jr(e.attributes.licenseUrl)||""}).set("com.microsoft.playready",qm).set("com.microsoft.playready.recommendation",qm).set("com.microsoft.playready.software",qm).set("com.microsoft.playready.hardware",qm).set("org.w3.clearkey",function(e){var t=Ka(e.node,"https://dashif.org/CPS","Laurl");return t&&(t=Mn(t))?t:(e=Ka(e.node,"http://dashif.org/guidelines/clearKey","Laurl"))&&e.attributes.Lic_type==="EME-1.0"&&e&&(e=Mn(e))?e:""});function uh(e,t,n,r,i,o){var u={RepresentationID:t,Number:n,SubNumber:r,Bandwidth:i,Time:o};return e.replace(/\$(RepresentationID|Number|SubNumber|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,function(c,h,g,v){if(c=="$$")return"$";var b=u[h];if(b==null)return c;switch(h=="RepresentationID"&&g&&(g=void 0),h=="Time"&&typeof b!="bigint"&&(.2<=Math.abs(b-Math.round(b))&&ze("Calculated $Time$ values must be close to integers"),b=Math.round(b)),v){case void 0:case"d":case"i":case"u":c=b.toString();break;case"o":c=b.toString(8);break;case"x":c=b.toString(16);break;case"X":c=b.toString(16).toUpperCase();break;default:c=b.toString()}return g=d.parseInt(g,10)||1,Array(Math.max(0,g-c.length)+1).join("0")+c})}function lA(e,t){var n=sa(e,t,"timescale"),r=1;n&&(r=Eo(n)||1),n=sa(e,t,"duration"),(n=Eo(n||""))&&(n/=r);var i=sa(e,t,"startNumber"),o=Number(sa(e,t,"presentationTimeOffset"))||0,u=Sr(i||"");if((i==null||u==null)&&(u=1),i=null,t=Rc(e,t,"SegmentTimeline")){t=zt(t,"S"),i=r,e=e.ia.duration||1/0;for(var c=u,h=[],g=-o,v=0;v<t.length;++v){var b=t[v],x=t[v+1],S=kt(b,"t",Sr),T=kt(b,"d",Sr),A=kt(b,"r",Eg);if(b=kt(b,"k",Eg)||0,S!=null&&(S-=o),T){if(S=S??g,A=A||0,0>A)if(x){if(x=kt(x,"t",Sr),x==null||S>=x)break;A=Math.ceil((x-S)/T)-1}else{if(e==1/0||S/i>=e)break;A=Math.ceil((e*i-S)/T)-1}for(0<h.length&&S!=g&&(h[h.length-1].end=S/i),x=0;x<=A;++x)g=S+T,h.push({start:S/i,end:g/i,$f:S,Cb:b,Ti:h.length+c}),S=g}}i=h}return{timescale:r,Na:n,vd:u,Pb:o/r||0,Zf:o,timeline:i}}function cA(e,t){return[t(e.J),t(e.ga),t(e.na)].filter(ks)}function sa(e,t,n){t=cA(e,t),e=null,t=w(t);for(var r=t.next();!r.done&&!(e=r.value.attributes[n]);r=t.next());return e}function Rc(e,t,n){t=cA(e,t),e=null,t=w(t);for(var r=t.next();!r.done&&!(e=xr(r.value,n));r=t.next());return e}function ON(e,t,n,r,i,o){for(var u=ko(e,"http://www.w3.org/1999/xlink","href"),c=ko(e,"http://www.w3.org/1999/xlink","actuate")||"onRequest",h=w(Object.keys(e.attributes)),g=h.next();!g.done;g=h.next()){g=g.value;var v=g.split(":"),b=w1("http://www.w3.org/1999/xlink");v[0]==b&&delete e.attributes[g]}if(5<=o)return Du(new $(2,4,4028));if(c!="onLoad")return Du(new $(2,4,4027));var x=Yn([r],[u]);return i.request(0,qn(x,t)).Aa(function(S){if(S=yp(S.data,e.tagName),!S)return Du(new $(2,4,4001,u));for(e.children=[];S.children.length;){var T=S.children.shift();e.children.push(T)}T=w(Object.keys(S.attributes));for(var A=T.next();!A.done;A=T.next())A=A.value,e.attributes[A]=S.attributes[A];return Gm(e,t,n,x[0],i,o+1)})}function Gm(e,t,n,r,i,o){if(o=o===void 0?0:o,ko(e,"http://www.w3.org/1999/xlink","href")){var u=ON(e,t,n,r,i,o);return n&&(u=u.Aa(void 0,function(){return Gm(e,t,n,r,i,o)})),u}u=[];for(var c=w(y3(e)),h=c.next(),g={};!h.done;g={Yc:void 0},h=c.next())g.Yc=h.value,ko(g.Yc,"http://www.w3.org/1999/xlink","href")=="urn:mpeg:dash:resolve-to-zero:2013"?e.children=e.children.filter(function(v){return function(b){return b!==v.Yc}}(g)):g.Yc.tagName!="SegmentTimeline"&&u.push(Gm(g.Yc,t,n,r,i,o));return c5(u).Aa(function(){return e})}function jN(e,t,n,r,i,o,u){var c,h=new nn().S("sidx",function(g){c=FN(t,r,i,o,u,n,g)});if(e&&h.parse(e),c)return c;throw new $(2,3,3004)}function FN(e,t,n,r,i,o,u){var c=[];u.reader.skip(4);var h=u.reader.P();if(h==0)throw new $(2,3,3005);if(u.version==0)var g=u.reader.P(),v=u.reader.P();else g=u.reader.Sc(),v=u.reader.Sc();u.reader.skip(2);var b=u.reader.ma();for(e=e+u.size+v,v=0;v<b;v++){var x=u.reader.P(),S=(x&2147483648)>>>31;x&=2147483647;var T=u.reader.P();if(u.reader.skip(4),S==1)throw new $(2,3,3006);c.push(new Ye(g/h+n,(g+T)/h+n,function(){return o},e,e+x-1,t,n,r,i)),g+=T,e+=x}return u.parser.stop(),c}function Is(e){this.h=cr(e),this.g=new tn(this.h,0)}Is.prototype.qa=function(){return this.g.qa()};function Bo(e){var t=dA(e);if(7<t.length)throw new $(2,3,3002);var n=0;t=w(t);for(var r=t.next();!r.done;r=t.next())n=256*n+r.value;t=dA(e);e:{r=w(BN);for(var i=r.next();!i.done;i=r.next())if(lt(t,new Uint8Array(i.value))){r=!0;break e}r=!1}if(r)t=e.h.byteLength-e.g.xa();else{if(t.length==8&&t[1]&224)throw new $(2,3,3001);for(i=r=0;i<t.length;i++){var o=t[i];r=i==0?o&(1<<8-t.length)-1:256*r+o}t=r}return t=e.g.xa()+t<=e.h.byteLength?t:e.h.byteLength-e.g.xa(),r=cr(e.h,e.g.xa(),t),e.g.skip(t),new VN(n,r)}function dA(e){var t=e.g.xa(),n=e.g.T();if(n==0)throw new $(2,3,3002);return n=8-Math.floor(Math.log2(n)),e.g.skip(n-1),Ge(e.h,t,n)}var BN=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]];function VN(e,t){this.id=e,this.g=t}function v2(e){if(8<e.g.byteLength)throw new $(2,3,3002);if(e.g.byteLength==8&&e.g.getUint8(0)&224)throw new $(2,3,3001);for(var t=0,n=0;n<e.g.byteLength;n++){var r=e.g.getUint8(n);t=256*t+r}return t}function zN(e,t,n,r,i,o,u,c,h){function g(){return i}var v=[];e=new Is(e.g);for(var b=null,x=null;e.qa();){var S=Bo(e);if(S.id==187){var T=$N(S);T&&(S=n*T.ej,T=t+T.Ji,b!=null&&v.push(new Ye(b+u,S+u,g,x,T-1,o,u,c,h)),b=S,x=T)}}return b!=null&&v.push(new Ye(b+u,r+u,g,x,null,o,u,c,h)),v}function $N(e){var t=new Is(e.g);if(e=Bo(t),e.id!=179)throw new $(2,3,3013);if(e=v2(e),t=Bo(t),t.id!=183)throw new $(2,3,3012);t=new Is(t.g);for(var n=0;t.qa();){var r=Bo(t);if(r.id==241){n=v2(r);break}}return{ej:e,Ji:n}}function pA(e,t,n){if(t=Rc(e,t,"Initialization"),!t)return null;var r=e.J.Ja(),i=t.attributes.sourceURL;i&&(r=Yn(r,[jr(i)],e.nb())),i=0;var o=null;return(t=kt(t,"range",kg))&&(i=t.start,o=t.end),n=new Jr(function(){return r},i,o,mA(e),null,null,n),n.codecs=e.J.codecs,n.mimeType=e.J.mimeType,n}function HN(e,t,n){var r=Number(sa(e,Nc,"presentationTimeOffset"))||0,i=sa(e,Nc,"timescale"),o=1;i&&(o=Eo(i)||1);var u=r/o||0,c=pA(e,Nc,n);qN(e,c);var h=Tu(e);return{mc:function(){var g=Rc(h,Nc,"RepresentationIndex"),v=h.J.Ja();return g&&(g=jr(g.attributes.sourceURL))&&(v=Yn(v,[g],h.nb())),g=fA(h),hA(h,t,c,v,g.start,g.end,u)}}}function hA(e,t,n,r,i,o,u){var c,h,g,v,b,x,S,T,A,C,M,_,O,P,j,V,B,H;return L(function(W){if(W.g==1)return c=e.presentationTimeline,h=!e.xb||!e.ia.qf,g=e.ia.start,v=e.ia.duration,b=e.J.mimeType.split("/")[1],x=t,S=null,T=[x(r,i,o,!1),b=="webm"?x(n.N(),n.Ha,n.ua,!0):null],x=null,k(W,Promise.all(T),2);if(A=W.h,C=A[0],M=A[1]||null,_=null,O=g-u,P=g,j=v?g+v:1/0,b=="mp4")var G=jN(C,i,r,n,O,P,j);else{G=C;var ee=new Is(M);if(Bo(ee).id!=440786851)throw new $(2,3,3008);var re=Bo(ee);if(re.id!=408125543)throw new $(2,3,3009);ee=re.g.byteOffset,re=new Is(re.g);for(var ce=null;re.qa();){var ae=Bo(re);if(ae.id==357149030){ce=ae;break}}if(!ce)throw new $(2,3,3010);for(ce=new Is(ce.g),ae=1e6,re=null;ce.qa();){var oe=Bo(ce);if(oe.id==2807729)ae=v2(oe);else if(oe.id==17545)if(oe.g.byteLength==4)re=oe.g.getFloat32(0);else if(oe.g.byteLength==8)re=oe.g.getFloat64(0);else throw new $(2,3,3003)}if(re==null)throw new $(2,3,3011);if(ce=ae/1e9,re*=ce,G=Bo(new Is(G)),G.id!=475249515)throw new $(2,3,3007);G=zN(G,ee,ce,re,r,n,O,P,j)}for(_=G,V=w(_),B=V.next();!B.done;B=V.next())H=B.value,H.codecs=e.J.codecs,H.mimeType=e.J.mimeType,H.bandwidth=e.bandwidth;return c.sd(_),S=new Nt(_),h&&S.Gc(P,j,!0),W.return(S)})}function Nc(e){return e.Vc}function fA(e){var t=Rc(e,Nc,"RepresentationIndex");return e=sa(e,Nc,"indexRange"),e=kg(e||""),t&&(e=kt(t,"range",kg,e)),e}function qN(e,t){if(gA(e,t),!fA(e))throw new $(2,4,4002)}function gA(e,t){var n=e.J.mimeType.split("/")[1];if(e.J.contentType!=bt&&n!="mp4"&&n!="webm")throw new $(2,4,4006);if(n=="webm"&&!t)throw new $(2,4,4005)}function mA(e){var t=e.J;return{bandwidth:e.bandwidth,audioSamplingRate:t.audioSamplingRate,codecs:t.codecs,contentType:t.contentType,frameRate:t.frameRate||null,height:t.height||null,mimeType:t.mimeType,channelsCount:t.ae,pixelAspectRatio:t.pixelAspectRatio||null,width:t.width||null,label:e.ga.label||null,roles:e.roles||null,language:e.ga.language||null}}function GN(e,t,n){var r=pA(e,vA,n),i=KN(e);if(!i.Na&&!i.timeline&&1<i.Oc.length)throw new $(2,4,4002);if(!i.Na&&!e.ia.duration&&!i.timeline&&i.Oc.length==1)throw new $(2,4,4002);if(i.timeline&&i.timeline.length==0)throw new $(2,4,4002);var o=null,u=null;e.na.id&&e.J.id&&(u=t[e.na.id+","+e.J.id])&&(o=u.segmentIndex);var c=WN(e.ia.start,e.ia.duration,e.J.Ja,i,r,n,e.J.mimeType,e.J.codecs,e.bandwidth,e.nb);return t=!o,o?o.qd(c,e.presentationTimeline.pb()):o=new Nt(c),e.presentationTimeline.sd(c),e.xb&&e.ia.qf||o.Gc(e.ia.start,e.ia.duration?e.ia.start+e.ia.duration:1/0,t),u&&(u.segmentIndex=o),{mc:function(){return o&&o.getNumReferences()!=0||o.Xd(c),Promise.resolve(o)}}}function vA(e){return e.Rb}function KN(e){var t=XN(e);e=lA(e,vA);var n=e.vd;n==0&&(n=1);var r=0;return e.Na?r=e.Na*(n-1):e.timeline&&0<e.timeline.length&&(r=e.timeline[0].start),{Na:e.Na,startTime:r,vd:n,Pb:e.Pb,timeline:e.timeline,Oc:t}}function WN(e,t,n,r,i,o,u,c,h,g){var v=r.Oc.length;r.timeline&&r.timeline.length!=r.Oc.length&&(v=Math.min(r.timeline.length,r.Oc.length));for(var b=e-r.Pb,x=t?e+t:1/0,S=[],T=r.startTime,A={},C=0;C<v;A={te:void 0,me:void 0},C++){A.me=r.Oc[C];var M=T;T=void 0,T=r.Na!=null?M+r.Na:r.timeline?r.timeline[C].end:M+t,A.te=null,A=new Ye(e+M,e+T,function(_){return function(){return _.te==null&&(_.te=Yn(n(),[_.me.zi],g())),_.te}}(A),A.me.start,A.me.end,i,b,e,x,[],"",null,null,Do,o),A.codecs=c,A.mimeType=u,A.bandwidth=h,S.push(A)}return S}function XN(e){return[e.J.Rb,e.ga.Rb,e.na.Rb].filter(ks).map(function(t){return zt(t,"SegmentURL")}).reduce(function(t,n){return 0<t.length?t:n}).map(function(t){t.attributes.indexRange&&!e.lf&&(e.lf=!0);var n=jr(t.attributes.media);return t=kt(t,"mediaRange",kg,{start:0,end:null}),{zi:n,start:t.start,end:t.end}})}function yA(e,t,n,r,i,o,u,c,h){h||e.J.Qd||(e.J.Qd=sa(e,Ms,"initialization"));var g=e.J.Qd?JN(e,u):null,v=YN(e);ZN(v);var b=Tu(e);if(v.jd)return gA(e,g),{mc:function(){var C=uh(v.jd,b.J.id,null,null,b.bandwidth||null,null);return C=Yn(b.J.Ja(),[C]),hA(b,t,g,C,0,null,v.Pb)}};if(v.Na)return r||e.ga.contentType==="image"||e.ga.contentType==="text"||(n=e.ia.start,r=e.na.id,h=e.ia.duration,r=(r=r!=null&&o[r]||h)?n+r:1/0,e.presentationTimeline.yf(v.Na),e.presentationTimeline.Mg(n,r)),{mc:function(){return QN(b,v,i,g,o,u,c,e.J.ne)}};var x=null;r=r=null,e.na.id&&e.J.id&&(r=e.na.id+","+e.J.id,r=n[r])&&(x=r.segmentIndex);var S=e.ia.start,T=e.ia.duration?S+e.ia.duration:1/0,A=!(e.xb&&e.ia.qf);return x?(n=x,bA(n,v,S,T,A,g),n.Ga(e.presentationTimeline.pb())):x=new Km(v,e.J.id,e.bandwidth,e.J.Ja,e.nb,S,T,g,A,u,e.J.ne),v.timeline&&e.ga.contentType!=="image"&&e.ga.contentType!=="text"&&e.presentationTimeline.Ng(v.timeline,S),r&&e.xb&&(r.segmentIndex=x),{mc:function(){return x instanceof Km&&x.getNumReferences()==0&&bA(x,v,S,T,A,g),Promise.resolve(x)}}}function Ms(e){return e.ec}function YN(e){var t=lA(e,Ms),n=sa(e,Ms,"media"),r=sa(e,Ms,"index"),i=sa(e,Ms,"k"),o=0;return i&&(o=parseInt(i,10)),{Na:t.Na,timescale:t.timescale,vd:t.vd,Pb:t.Pb,Zf:t.Zf,timeline:t.timeline,cc:n&&jr(n),jd:r,mimeType:e.J.mimeType,codecs:e.J.codecs,bandwidth:e.bandwidth,Ai:o}}function ZN(e){var t=e.jd?1:0;if(t+=e.timeline?1:0,t+=e.Na?1:0,t==0)throw new $(2,4,4002);if(t!=1&&(e.jd&&(e.timeline=null),e.Na=null),!e.jd&&!e.cc)throw new $(2,4,4002)}function QN(e,t,n,r,i,o,u,c){function h(ce){var ae=(ce-C)*A,oe=ae+t.Pb,he=ae+x;ae=he+A;var ge=Math.min(ae,v()),Oe=[],Je=t.Ai;if(Je)for(var Ne=(ge-he)/Je,st={},Jt=0;Jt<Je;st={jh:void 0},Jt++){var Zt=he+Ne*Jt,wn=Zt+Ne;st.jh=Jt+1,st=new Ye(Zt,wn,function(jt){return function(){var Bt=oe*M;return"BigInt"in d&&Bt>Number.MAX_SAFE_INTEGER&&(Bt=BigInt(oe)*BigInt(M)),Bt=uh(_,P,ce,jt.jh,O,Bt),Yn(j(),[Bt],V())}}(st),0,null,r,B,x,v(),[],"",null,null,Do,o),st.codecs=e.J.codecs,st.mimeType=e.J.mimeType,c==0?0<Jt&&st.Mc():Jt%c!=0&&st.Mc(),Oe.push(st)}return he=new Ye(he,ge,function(){if(Je)return[];var jt=oe*M;return"BigInt"in d&&jt>Number.MAX_SAFE_INTEGER&&(jt=BigInt(oe)*BigInt(M)),jt=uh(_,P,ce,null,O,jt),Yn(j(),[jt],V())},0,null,r,B,x,v(),Oe,"",null,null,Do,o,0<Oe.length),he.codecs=e.J.codecs,he.mimeType=e.J.mimeType,he.bandwidth=e.bandwidth,he.j=ae,he}function g(){var ce=[Math.max(b.pb(),x),Math.min(b.Yb(),v())].map(function(ae){return ae-x});return ce=[Math.ceil(ce[0]/A),Math.ceil(ce[1]/A)-1],e.J.Ta&&ce[1]++,ce.map(function(ae){return ae+C})}function v(){var ce=S!=null&&i[S]||T;return ce?x+ce:1/0}var b=e.presentationTimeline,x=e.ia.start,S=e.na.id,T=e.ia.duration,A=t.Na,C=t.vd,M=t.timescale,_=t.cc,O=e.bandwidth||null,P=e.J.id,j=e.J.Ja,V=e.nb,B=x-t.Pb,H=g();n=e.xb?Math.max(H[0],H[1]-n+1):H[0],u=u||H[1],H=[];for(var W=n;W<=u;++W){var G=h(W);H.push(G)}var ee=new Nt(H);if(H=b.Yb()<v(),W=b.U(),H||W){var re=Math.max(n,u+1);n=A,e.J.Ta&&(n=.1),ee.se(n,function(){var ce=b.pb();ee.Ga(ce);var ae=w(g());ae.next(),ae=ae.next().value;for(var oe=[];re<=ae;){var he=h(re);oe.push(he),re++}return ce>v()&&!oe.length?null:oe})}return Promise.resolve(ee)}function JN(e,t){var n=e.J.Qd;if(n||(n=sa(e,Ms,"initialization")),!n)return null;n=jr(n);var r=e.J.id,i=e.bandwidth||null,o=e.J.Ja,u=e.nb;return t=new Jr(function(){var c=uh(n,r,null,null,i,null);return Yn(o(),[c],u())},0,null,mA(e),null,null,t),t.codecs=e.J.codecs,t.mimeType=e.J.mimeType,t}function Km(e,t,n,r,i,o,u,c,h,g,v){Nt.call(this,[]),this.h=e,this.F=t,this.B=n,this.C=r,this.H=i,this.j=o,this.l=u,this.s=c,this.A=g,this.G=v,h&&y2(this)}Se(Km,Nt),f=Km.prototype,f.getNumReferences=function(){return this.h?this.h.timeline.length:0},f.release=function(){Nt.prototype.release.call(this),this.h=null},f.Ga=function(e){if(this.h){for(var t=0,n=this.h.timeline,r=0;r<n.length&&n[r].end+this.j<=e;r+=1)t+=1;0<t&&(this.h.timeline=n.slice(t),this.g.length>=t&&(this.g=this.g.slice(t)),this.i+=t,this.getNumReferences()===0&&this.release())}};function bA(e,t,n,r,i,o){if(eU(e,o),e.h){if(n=e.h.timeline,e.h.cc!==t.cc&&(e.h.cc=t.cc),n.length){var u=n[n.length-1];t=t.timeline.filter(function(c){return c.end>u.end})}else t=t.timeline.slice();0<t.length&&e.h.timeline.push.apply(e.h.timeline,F(t)),e.l!==r&&(e.l=r)}else e.h=t,e.j=n,e.l=r;i&&y2(e)}function eU(e,t){if(e.s!==t){e.s=t,e=w(e.g);for(var n=e.next();!n.done;n=e.next())(n=n.value)&&F5(n,t)}}function y2(e){if(!e.o){for(var t=e.h.timeline;t.length&&t[t.length-1].start>=e.l;)t.pop();e.Ga(e.j)}}f.find=function(e){if(this.h&&this.h.timeline&&this.h.timeline.length&&e<this.h.timeline[0].start+this.j)return this.i;if(!this.h)return null;var t=this.h.timeline;if(e<this.j||e>=this.l)return null;for(var n=t.length-1,r=0;r<t.length;r++){var i=t[r],o=i.start+this.j;if(i=r<n?t[r+1].start+this.j:this.l===1/0?i.end+this.j:this.l,e>=o&&e<i)return r+this.i}return null},f.get=function(e){var t=this;if(e-=this.i,0>e||e>=this.getNumReferences()||!this.h)return null;var n=this.g[e];if(!n){var r=this.h.timeline[e],i=r.Ti,o=this.h.Zf+r.$f;n=this.j-this.h.Pb;var u=this.j+r.end,c=u;e===this.getNumReferences()-1&&this.l!==1/0&&(c=this.l);for(var h=this.h.codecs,g=this.h.mimeType,v=this.h.bandwidth,b=[],x=(r.end-r.start)/r.Cb,S={},T=0;T<r.Cb;S={ue:void 0,kh:void 0},T++){var A=r.start+x*T,C=A+x;S.kh=T+1,S.ue=null,S=new Ye(this.j+A,this.j+C,function(M){return function(){return t.h?(M.ue==null&&(M.ue=wA(t.h.cc,t.F,i,t.B,o,M.kh,t.C,t.H)),M.ue):[]}}(S),0,null,this.s,n,this.j,this.l,[],"",null,null,Do,this.A),S.codecs=h,S.mimeType=g,S.bandwidth=v,this.G==0?0<T&&S.Mc():T%this.G!=0&&S.Mc(),b.push(S)}n=new Ye(this.j+r.start,c,function(){return 0<r.Cb||!t.h?[]:wA(t.h.cc,t.F,i,t.B,o,null,t.C,t.H)},0,null,this.s,n,this.j,this.l,b,"",null,null,Do,this.A,0<r.Cb),n.codecs=h,n.mimeType=g,n.j=u,n.bandwidth=v,this.g[e]=n}return n},f.yb=function(e){y2(this);for(var t=0;t<this.getNumReferences();t++){var n=this.get(t+this.i);n&&e(n)}};function wA(e,t,n,r,i,o,u,c){return e=uh(e,t,n,o,r||null,i),Yn(u(),[e],c()).map(function(h){return h.toString()})}function Uc(e){this.o=null,this.A=e,this.G=new uc,this.i=[],this.h=null,this.m=[],this.B=null,this.F=[],this.C=300,this.l=new Map,this.j=new Map,this.g=null,this.s="UNKNOWN"}Uc.prototype.configure=function(e){this.o=e},Uc.prototype.destroy=function(){return this.A=this.o=null,this.i=[],this.h=null,this.m=[],this.F=[],this.l.clear(),this.g!=null&&(this.g.stop(),this.g=null),this.G.destroy()},Uc.prototype.setManifestType=function(e){this.s=e};function lh(e,t){var n,r,i,o,u,c,h;return L(function(g){if(g.g==1)return n=Yn(e.i,[tU(e,t)]),r=qn(n,e.o.retryParameters),i=e.A.networkingEngine.request(8,r),Lu(e.G,i),se(g,2),k(g,i.promise,4);if(g.g!=2)return o=g.h,u=hn(o.data),c=JSON.parse(u),c.VERSION==1&&nU(e,c,o.uri),z(g,0);if((h=Y(g))&&h.code==7001)return g.return();e.g!=null&&(e.g.stop(),e.g=null),e.g=new mt(function(){lh(e,t)}),e.g.Z(e.C),te(g)})}function tU(e,t){if(!e.m.length)return t;t=new En(t);var n=e.B||e.m[0],r=Math.round(e.A.getBandwidthEstimate()),i=t.g;return e.s=="DASH"?(i.add("_DASH_pathway",n),i.add("_DASH_throughput",String(r))):e.s=="HLS"&&(i.add("_HLS_pathway",n),i.add("_HLS_throughput",String(r))),R3(i)&&Au(t,i),t.toString()}function nU(e,t,n){e.g!=null&&(e.g.stop(),e.g=null);var r=t["RELOAD-URI"]||n;e.g=new mt(function(){lh(e,r)}),(n=t.TTL)&&(e.C=n),e.g.Z(e.C),e.m=t["PATHWAY-PRIORITY"]||[],e.F=t["PATHWAY-CLONES"]||[]}function Oc(e,t,n,r){var i=e.l.get(t);i||(i=new Map),i.set(n,r),e.l.set(t,i)}Uc.prototype.banLocation=function(e){this.j.set(e,Date.now()+6e4)};function ch(e,t,n){n=n===void 0?!1:n,t=e.l.get(t)||new Map;for(var r=[],i=w(e.m),o=i.next(),u={};!o.done;u={Qc:void 0},o=i.next())if(u.Qc=o.value,o=t.get(u.Qc))r.push({Ef:u.Qc,location:o});else if(o=e.F.find(function(h){return function(g){return g.xj==h.Qc}}(u))){var c=t.get(o["BASE-ID"]);c&&(o["URI-REPLACEMENT"].rh?(c=new En(c),Lg(c,o["URI-REPLACEMENT"].rh),r.push({Ef:u.Qc,location:c.toString()})):r.push({Ef:u.Qc,location:c}))}for(i=Date.now(),u=w(e.j.keys()),o=u.next();!o.done;o=u.next())o=o.value,c=e.j.get(o),i>c&&e.j.delete(o);if(r=r.filter(function(h){for(var g=w(e.j.keys()),v=g.next();!v.done;v=g.next())if(v.value.includes(new En(h.location).Fb))return!1;return!0}),r.length&&(e.B=r[0].Ef),r=r.map(function(h){return h.location}),!r.length&&e.h)for(i=w(e.h.split(",")),u=i.next();!u.done;u=i.next())(u=t.get(u.value))&&(e.B=e.h,r.push(u));if(!r.length)for(t=w(t.values()),i=t.next();!i.done;i=t.next())r.push(i.value);return n?r:Yn(e.i,r)}function kr(){this.l=[],this.h=[],this.g=[],this.j=[],this.i=[],this.s=this.o=!1,this.m=new Set}f=kr.prototype,f.release=function(){for(var e=w(this.h.concat(this.g,this.j,this.i)),t=e.next();!t.done;t=e.next())t=t.value,t.segmentIndex&&t.segmentIndex.release();this.h=[],this.g=[],this.j=[],this.i=[],this.l=[],this.s=this.o=!1,this.m.clear()},f.fi=function(){return this.l},f.jf=function(){return this.j.slice()},f.Oh=function(){return this.i},f.og=function(e,t){if(e){if(e.type=="audio")for(var n=w(this.h),r=n.next();!r.done;r=n.next())r=r.value,r.matchedStreams=r.matchedStreams.filter(function(i){return i!==e});else if(e.type=="video")for(n=w(this.g),r=n.next();!r.done;r=n.next())r=r.value,r.matchedStreams=r.matchedStreams.filter(function(i){return i!==e}),r.trickModeVideo&&(r.trickModeVideo.matchedStreams=r.trickModeVideo.matchedStreams.filter(function(i){return i!==e}));else if(e.type==bt)for(n=w(this.j),r=n.next();!r.done;r=n.next())r=r.value,r.matchedStreams=r.matchedStreams.filter(function(i){return i!==e});else if(e.type=="image")for(n=w(this.i),r=n.next();!r.done;r=n.next())r=r.value,r.matchedStreams=r.matchedStreams.filter(function(i){return i!==e});e.segmentIndex&&e.closeSegmentIndex(),this.m.delete(t)}};function xA(e,t){var n=[],r=[],i=[],o=[];e=w(e);for(var u=e.next();!u.done;u=e.next()){var c=u.value;u=new Map(c.audioStreams.map(function(b){return[S2(b),b]}));var h=new Map(c.videoStreams.map(function(b){return[x2(b),b]})),g=new Map(c.textStreams.map(function(b){return[fh(b),b]}));if(c=new Map(c.imageStreams.map(function(b){return[gh(b),b]})),t){var v=CA(bt);g.set(fh(v),v),v=CA("image"),c.set(gh(v),v)}n.push(u),r.push(h),i.push(g),o.push(c)}return{hg:n,ph:r,lh:i,Dg:o}}f.Ke=function(e,t,n){n=n===void 0?!1:n;var r=this,i,o,u,c,h,g,v,b,x,S,T,A,C,M,_,O,P,j,V,B,H,W,G,ee,re,ce,ae,oe,he,ge;return L(function(Oe){if(Oe.g==1){if(i=Nn,!t&&e.length==1)return o=xA(e,!1),u=o.hg,c=o.ph,h=o.lh,g=o.Dg,r.h=Array.from(u[0].values()),r.g=Array.from(c[0].values()),r.j=Array.from(h[0].values()),r.i=Array.from(g[0].values()),Oe.u(2);for(v=n?r.m.size:0,b=-1,x=0;x<e.length;x++)S=e[x],r.m.has(S.id)||(r.m.add(S.id),b==-1&&(b=x));return b==-1?Oe.return():(T=xA(e,!0),A=T.hg,C=T.ph,M=T.lh,_=T.Dg,k(Oe,Promise.all([_s(r,r.h,A,b,dh,jc,v),_s(r,r.g,C,b,dh,jc,v),_s(r,r.j,M,b,dh,jc,v),_s(r,r.i,_,b,dh,jc,v)]),2))}if(O=0,P=[],r.g.length&&r.h.length)for(G=w(r.h),ee=G.next();!ee.done;ee=G.next())for(re=ee.value,ce=w(r.g),ae=ce.next();!ae.done;ae=ce.next())oe=ae.value,he=d1(re.drmInfos,oe.drmInfos),re.drmInfos.length&&oe.drmInfos.length&&!he.length||(ge=O++,P.push({id:ge,language:re.language,disabledUntilTime:0,primary:re.primary,audio:re,video:oe,bandwidth:(re.bandwidth||0)+(oe.bandwidth||0),drmInfos:he,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]}));else for(j=r.g.length?r.g:r.h,V=w(j),B=V.next();!B.done;B=V.next())H=B.value,W=O++,P.push({id:W,language:H.language,disabledUntilTime:0,primary:H.primary,audio:H.type==i.Y?H:null,video:H.type==i.ka?H:null,bandwidth:H.bandwidth||0,drmInfos:H.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});r.l=P,te(Oe)})};function SA(e){var t,n,r,i,o,u,c,h,g,v,b,x,S,T,A,C,M,_,O,P,j,V,B,H,W,G,ee,re,ce,ae;return L(function(oe){switch(oe.g){case 1:if(t=Nn,e.length==1)return oe.return(e[0]);for(n=e.map(function(he){return new Map(he.filter(function(ge){return ge.type===t.Y}).map(function(ge){return[S2(ge),ge]}))}),r=e.map(function(he){return new Map(he.filter(function(ge){return ge.type===t.ka}).map(function(ge){return[x2(ge),ge]}))}),i=e.map(function(he){return new Map(he.filter(function(ge){return ge.type===t.wa}).map(function(ge){return[fh(ge),ge]}))}),o=e.map(function(he){return new Map(he.filter(function(ge){return ge.type===t.Ee}).map(function(ge){return[gh(ge),ge]}))}),u=w(i),c=u.next();!c.done;c=u.next())h=c.value,g=AA(t.wa),h.set(fh(g),g);for(v=w(o),b=v.next();!b.done;b=v.next())x=b.value,S=AA(t.Ee),x.set(gh(S),S);return T=new kr,k(oe,_s(T,[],n,0,Wm,Xm,0),2);case 2:return A=oe.h,k(oe,_s(T,[],r,0,Wm,Xm,0),3);case 3:return C=oe.h,k(oe,_s(T,[],i,0,Wm,Xm,0),4);case 4:return M=oe.h,k(oe,_s(T,[],o,0,Wm,Xm,0),5);case 5:if(_=oe.h,O=0,C.length&&A.length)for(H=w(A),W=H.next();!W.done;W=H.next())for(G=W.value,ee=w(C),re=ee.next();!re.done;re=ee.next())ce=re.value,ae=O++,ce.variantIds.push(ae),G.variantIds.push(ae);else for(P=C.concat(A),j=w(P),V=j.next();!V.done;V=j.next())B=V.value,B.variantIds=[O++];return oe.return(C.concat(A).concat(M).concat(_))}})}function _s(e,t,n,r,i,o,u){var c,h,g,v,b,x,S,T,A,C,M,_,O,P,j,V,B,H,W;return L(function(G){switch(G.g){case 1:for(c=[],h=0;h<n.length;h++)h>=r?c.push(new Set(n[h].values())):c.push(new Set);g=w(t),v=g.next();case 2:if(v.done){G.u(4);break}return b=v.value,k(G,rU(e,b,n,r,o,c,u),5);case 5:if(x=G.h,!x)throw new $(2,4,4037);v=g.next(),G.u(2);break;case 4:for(S=w(c),T=S.next();!T.done;T=S.next())for(A=T.value,C=w(A),M=C.next();!M.done;M=C.next())_=M.value,(O=iU(e,_,n,i,o,c))&&t.push(O);for(P=w(c),j=P.next();!j.done;j=P.next())for(V=j.value,B=w(V),H=B.next(),W={};!H.done;W={Tf:void 0},H=B.next())if(W.Tf=H.value,!w2(W.Tf)&&t.some(function(ee){return function(re){return b2(e,ee.Tf,re)}}(W)))throw new $(2,4,4037);return G.return(t)}})}function rU(e,t,n,r,i,o,u){return L(function(c){return c.g==1?(EA(e,n,t,0<u),t.matchedStreams?t.segmentIndex?k(c,TA(t,r+u),2):c.u(2):c.return(!1)):(kA(t,r,i,o,u),c.return(!0))})}function TA(e,t){var n,r,i,o,u,c;return L(function(h){if(h.g==1){for(n=[],r=e.matchedStreams,i=t;i<r.length;i++)o=r[i],n.push(o.createSegmentIndex()),o.trickModeVideo&&!o.trickModeVideo.segmentIndex&&n.push(o.trickModeVideo.createSegmentIndex());return k(h,Promise.all(n),2)}if(e.segmentIndex instanceof bn)for(u=t;u<r.length;u++)c=r[u],c.segmentIndex&&e.segmentIndex.h.push(c.segmentIndex);te(h)})}function iU(e,t,n,r,i,o){if(w2(t))return null;var u=r(t);return EA(e,n,u),u.createSegmentIndex&&(u.createSegmentIndex=function(){return L(function(c){return u.segmentIndex?c.u(0):(u.segmentIndex=new bn,k(c,TA(u,0),0))})}),!u.matchedStreams||!u.matchedStreams.length?null:(kA(u,0,i,o,0),u)}function kA(e,t,n,r,i){var o=e.matchedStreams;for(t+=i;t<o.length;t++){var u=o[t];n(e,u);var c=!0;if(e.type=="audio"&&Pu(e.language,u.language)==0&&(c=!1),c&&(r[t-i].delete(u),u.fullMimeTypes))for(u=w(u.fullMimeTypes.values()),c=u.next();!c.done;c=u.next())e.fullMimeTypes.add(c.value)}}function dh(e){var t=Object.assign({},e);return t.originalId=null,t.createSegmentIndex=function(){return Promise.resolve()},t.closeSegmentIndex=function(){if(t.segmentIndex&&(t.segmentIndex.release(),t.segmentIndex=null),t.matchedStreams)for(var n=w(t.matchedStreams),r=n.next();!r.done;r=n.next())r=r.value,r.segmentIndex&&(r.segmentIndex.release(),r.segmentIndex=null)},t.roles=t.roles.slice(),t.segmentIndex=null,t.emsgSchemeIdUris=[],t.keyIds=new Set,t.closedCaptions=e.closedCaptions?new Map(e.closedCaptions):null,t.trickModeVideo=null,t}function Wm(e){var t=Object.assign({},e);return t.roles=t.roles.slice(),t.keyIds=new Set,t.segments=[],t.variantIds=[],t.closedCaptions=e.closedCaptions?new Map(e.closedCaptions):null,t}function jc(e,t){function n(u,c){u||(u=[]),c=w(c);for(var h=c.next();!h.done;h=c.next())h=h.value,u.includes(h)||u.push(h);return u}e.roles=n(e.roles,t.roles),t.emsgSchemeIdUris&&(e.emsgSchemeIdUris=n(e.emsgSchemeIdUris,t.emsgSchemeIdUris));for(var r=w(t.keyIds),i=r.next();!i.done;i=r.next())e.keyIds.add(i.value);if(e.originalId==null?e.originalId=t.originalId:(r=t.originalId||"")&&!e.originalId.endsWith(r)&&(e.originalId+=","+r),r=d1(e.drmInfos,t.drmInfos),t.drmInfos.length&&e.drmInfos.length&&!r.length)throw new $(2,4,4038);if(e.drmInfos=r,e.encrypted=e.encrypted||t.encrypted,t.closedCaptions)for(e.closedCaptions||(e.closedCaptions=new Map),r=w(t.closedCaptions),i=r.next();!i.done;i=r.next()){var o=w(i.value);i=o.next().value,o=o.next().value,e.closedCaptions.set(i,o)}e.bandwidth&&t.bandwidth&&(e.bandwidth=Math.max(e.bandwidth,t.bandwidth)),t.trickModeVideo?(e.trickModeVideo||(e.trickModeVideo=dh(t.trickModeVideo),e.trickModeVideo.matchedStreams=[],e.trickModeVideo.createSegmentIndex=function(){if(e.trickModeVideo.segmentIndex)return Promise.resolve();for(var u=new bn,c=w(e.trickModeVideo.matchedStreams),h=c.next();!h.done;h=c.next())u.h.push(h.value.segmentIndex);return e.trickModeVideo.segmentIndex=u,Promise.resolve()}),e.trickModeVideo.matchedStreams.push(t.trickModeVideo),jc(e.trickModeVideo,t.trickModeVideo)):e.trickModeVideo&&(e.trickModeVideo.matchedStreams.push(t),jc(e.trickModeVideo,t))}function Xm(e,t){var n=e.roles;n||(n=[]);for(var r=w(t.roles),i=r.next();!i.done;i=r.next())i=i.value,n.includes(i)||n.push(i);for(e.roles=n,n=w(t.keyIds),r=n.next();!r.done;r=n.next())e.keyIds.add(r.value);if(e.encrypted=e.encrypted&&t.encrypted,e.segments.push.apply(e.segments,F(t.segments)),t.closedCaptions)for(e.closedCaptions||(e.closedCaptions=new Map),t=w(t.closedCaptions),n=t.next();!n.done;n=t.next())r=w(n.value),n=r.next().value,r=r.next().value,e.closedCaptions.set(n,r)}function EA(e,t,n,r){r=r!==void 0&&r?n.matchedStreams:[],t=w(t);for(var i=t.next();!i.done;i=t.next()){if(i=aU(e,i.value,n),!i)return;r.push(i)}n.matchedStreams=r}function aU(e,t,n){var r={audio:S2,video:x2,text:fh,image:gh}[n.type],i=null,o=r(n);if(t.has(o))i=t.get(o);else{o={audio:function(g,v){return b2(e,g,v)},video:function(g,v){return b2(e,g,v)},text:oU,image:sU}[n.type];for(var u={audio:uU,video:lU,text:cU,image:dU}[n.type],c=w(t.values()),h=c.next();!h.done;h=c.next())h=h.value,!o(n,h)||n.fastSwitching!=h.fastSwitching||i&&!u(n,i,h)||(i=h)}return e.s&&!w2(i)&&t.delete(r(i)),i}function ph(e,t){return e.mimeType!=t.mimeType?!1:Ym(e.codecs)===Ym(t.codecs)}f.Yg=function(e){this.o=e},f.fh=function(e){this.s=e};function b2(e,t,n){return!(!ph(t,n)&&!e.o||t.drmInfos&&!f3(t.drmInfos,n.drmInfos))}function oU(e,t){return t.language?!(e.forced!==t.forced||Pu(e.language,t.language)==0||t.kind!=e.kind):!0}function sU(){return!0}function uU(e,t,n){var r=ph(e,t),i=ph(e,n);if(r&&!i)return!1;if(!r&&i||(r=Pu(e.language,t.language),i=Pu(e.language,n.language),i>r))return!0;if(i<r)return!1;if(t.label!==n.label){if(e.label===t.label)return!1;if(e.label===n.label)return!0}if(e.roles.length){if(r=t.roles.filter(function(o){return e.roles.includes(o)}),i=n.roles.filter(function(o){return e.roles.includes(o)}),i.length>r.length)return!0;if(i.length<r.length)return!1;if(n.roles.length!==t.roles.length)return n.roles.length<t.roles.length}else{if(!n.roles.length&&t.roles.length)return!0;if(n.roles.length&&!t.roles.length)return!1}return!t.primary&&n.primary?!0:t.primary&&!n.primary?!1:(r=hh(e.channelsCount,t.channelsCount,n.channelsCount),r==La?!0:r==Vo?!1:(r=hh(e.audioSamplingRate,t.audioSamplingRate,n.audioSamplingRate),r==La?!0:r==Vo?!1:!!(e.bandwidth&&IA(e.bandwidth,t.bandwidth,n.bandwidth)==La)))}function lU(e,t,n){var r=ph(e,t),i=ph(e,n);if(r&&!i)return!1;if(!r&&i||(r=hh(e.width*e.height,t.width*t.height,n.width*n.height),r==La))return!0;if(r==Vo)return!1;if(e.frameRate){if(r=hh(e.frameRate,t.frameRate,n.frameRate),r==La)return!0;if(r==Vo)return!1}return!!(e.bandwidth&&IA(e.bandwidth,t.bandwidth,n.bandwidth)==La)}function cU(e,t,n){var r=Pu(e.language,t.language),i=Pu(e.language,n.language);if(i>r)return!0;if(i<r)return!1;if(!t.primary&&n.primary)return!0;if(t.primary&&!n.primary)return!1;if(t.label!==n.label){if(e.label===t.label)return!1;if(e.label===n.label)return!0}if(e.roles.length){if(r=t.roles.filter(function(o){return e.roles.includes(o)}),i=n.roles.filter(function(o){return e.roles.includes(o)}),i.length>r.length)return!0;if(i.length<r.length)return!1}else{if(!n.roles.length&&t.roles.length)return!0;if(n.roles.length&&!t.roles.length)return!1}return!(n.mimeType!=e.mimeType||n.codecs!=e.codecs||t.mimeType==e.mimeType&&t.codecs==e.codecs)}function dU(e,t,n){return hh(e.width*e.height,t.width*t.height,n.width*n.height)==La}function AA(e){return{id:0,originalId:"",groupId:null,primary:!1,type:e,mimeType:"",codecs:"",language:"",originalLanguage:null,label:null,width:null,height:null,encrypted:!1,keyIds:new Set,segments:[],variantIds:[],roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,external:!1,fastSwitching:!1}}function CA(e){return{id:0,originalId:"",groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Nt([]),mimeType:"",codecs:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"",originalLanguage:null,label:null,type:e,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set}}function hh(e,t,n){if(t==e&&e!=n)return Vo;if(n==e&&e!=t)return La;if(t>e){if(n<=e||n-e<t-e)return La;if(n-e>t-e)return Vo}else{if(n>e)return Vo;if(e-n<e-t)return La;if(e-n>e-t)return Vo}return MA}function IA(e,t,n){return t=Math.abs(e-t),e=Math.abs(e-n),e<t?La:t<e?Vo:MA}function w2(e){switch(e.type){case bt:return!e.language;case"image":return!e.tilesLayout;default:return!1}}function x2(e){return JSON.stringify([e.fastSwitching,e.width,e.frameRate,Ym(e.codecs),e.mimeType,e.label,e.roles,e.closedCaptions?Array.from(e.closedCaptions.entries()):null,e.bandwidth])}function S2(e){return JSON.stringify([e.fastSwitching,e.channelsCount,e.language,e.bandwidth,e.label,Ym(e.codecs),e.mimeType,e.roles,e.audioSamplingRate,e.primary])}function fh(e){return JSON.stringify([e.language,e.label,e.codecs,e.mimeType,e.bandwidth,e.roles])}function gh(e){return JSON.stringify([e.width,e.codecs,e.mimeType])}function Ym(e){if(!T2.has(e)){var t=Tr(e);T2.set(e,t)}return T2.get(e)}Ae("shaka.util.PeriodCombiner",kr),kr.prototype.setUseStreamOnce=kr.prototype.fh,kr.prototype.setAllowMultiTypeVariants=kr.prototype.Yg,kr.prototype.combinePeriods=kr.prototype.Ke,kr.prototype.deleteStream=kr.prototype.og,kr.prototype.getImageStreams=kr.prototype.Oh,kr.prototype.getTextStreams=kr.prototype.jf,kr.prototype.getVariants=kr.prototype.fi;var La=1,MA=0,Vo=-1,T2=new Map;function pU(e,t){var n=new DOMParser,r=hU.value()(e);e=null;try{e=n.parseFromString(r,"text/xml")}catch{return null}if(n=e.documentElement,!n||n.getElementsByTagName("parsererror").length||n.tagName!=t)return null;if(!("createNodeIterator"in document))return n;for(t=document.createNodeIterator(e,NodeFilter.SHOW_ALL);e=t.nextNode();)if(e instanceof HTMLElement||e instanceof SVGElement)return null;return n}function _A(e,t){try{var n=To(e);return pU(n,t)}catch{return null}}var hU=new ql(function(){if(typeof trustedTypes<"u"){var e=trustedTypes.createPolicy("shaka-player#xml",{createHTML:function(t){return t}});return function(t){return e.createHTML(t)}}return function(t){return t}});function Zm(){var e=this;this.j=this.g=null,this.A=[],this.i=null,this.ra=1,this.F=[],this.l={Zd:"",type:"",profiles:[],Mb:null,Ta:0,Ja:null,td:0},this.s=new Map,this.o={},this.B={},this.la={},this.m=new kr,this.K=0,this.oa=new fe(5),this.L=new mt(function(){if(e.I&&!e.g.continueLoadingWhenPaused&&(e.G.ab(e.I,"timeupdate"),e.I.paused)){e.G.va(e.I,"timeupdate",function(){return UA(e)});return}UA(e)}),this.R=new uc,this.O=null,this.C=[],this.ea=1/0,this.H=!1,this.h=null,this.M=0,this.ja=!1,this.G=new ke,this.I=null,this.X=!1,this.ca="",this.fa=function(){return!1},this.aa=[]}f=Zm.prototype,f.configure=function(e,t){var n=this.j&&e.dash.updatePeriod!=this.g.dash.updatePeriod&&0<=e.dash.updatePeriod;this.g=e,t&&(this.fa=t),n&&this.i&&this.i.presentationTimeline.U()&&this.L.yc(),this.h&&this.h.configure(this.g),this.m&&(this.m.Yg(this.g.dash.multiTypeVariantsAllowed&&kn()),this.m.fh(this.g.dash.useStreamOnceInPeriodFlattening))},f.start=function(e,t){var n=this,r;return L(function(i){if(i.g==1)return n.H=t.isLowLatencyMode(),n.A=[e],n.j=t,k(i,k2(n),2);if(r=i.h,n.j&&E2(n,r),!n.j)throw new $(2,7,7001);return i.return(n.i)})},f.stop=function(){for(var e=w(Object.values(this.o)),t=e.next();!t.done;t=e.next())t=t.value,t.segmentIndex&&t.segmentIndex.release();return this.m&&this.m.release(),this.g=this.j=null,this.A=[],this.i=null,this.o={},this.B={},this.s.clear(),this.l={Zd:"",type:"",profiles:[],Mb:null,Ta:0,Ja:null,td:0},this.m=null,this.L!=null&&(this.L.stop(),this.L=null),this.h&&this.h.destroy(),this.G&&(this.G.release(),this.G=null),this.R.destroy()},f.update=function(){var e=this,t;return L(function(n){if(n.g==1)return se(n,2),k(n,k2(e),4);if(n.g!=2)return z(n,0);if(t=Y(n),!e.j||!t)return n.return();e.j.onError(t),te(n)})},f.onExpirationUpdated=function(){},f.onInitialVariantChosen=function(e){if(this.i&&this.i.presentationTimeline.U()){var t=e.video||e.audio;if(t&&t.segmentIndex){e=this.i.presentationTimeline.Yb();var n=t.segmentIndex.find(e);n!=null&&(t=t.segmentIndex.get(n))&&(this.K=t.endTime-e,E2(this,0))}}},f.banLocation=function(e){this.h&&this.h.banLocation(e)},f.setMediaElement=function(e){this.I=e};function k2(e){var t,n,r,i,o,u,c,h,g,v,b;return L(function(x){return x.g==1?(t=4,n="MPD",r=_U(e),i=e.A,r.length?(i=r,n="Patch",t=6):1<e.A.length&&e.h&&(o=ch(e.h,"Location",!0),o.length&&(i=o)),u=qn(i,e.g.retryParameters),c=Date.now(),k(x,C2(e,u,0,{type:t}),2)):x.g!=3?(h=x.h,e.j?(h.uri&&h.uri!=h.originalUri&&!e.A.includes(h.uri)&&e.A.unshift(h.uri),g=new En(h.uri),e.ca=g.g.toString(),k(x,fU(e,h.data,h.uri,n),3)):x.return(0)):(v=Date.now(),b=(v-c)/1e3,e.oa.sample(1,b),x.return(b))})}function fU(e,t,n,r){var i,o,u,c,h,g,v,b,x,S;return L(function(T){if(T.g==1){if(i=t,o=e.g.dash.manifestPreprocessor,u=cm,o!=u){if(At("manifest.dash.manifestPreprocessor configuration","Please Use manifest.dash.manifestPreprocessorTXml instead."),c=_A(i,r),!c)throw new $(2,4,4001,n);o(c),i=Ia(c.outerHTML)}if(h=yp(i,r),!h)throw new $(2,4,4001,n);return g=e.g.dash.manifestPreprocessorTXml,v=dm,g!=v&&g(h),r==="Patch"?T.return(gU(e,h)):e.g.dash.disableXlinkProcessing?T.return(PA(e,h,n)):(b=e.g.dash.xlinkFailGracefully,x=Gm(h,e.g.retryParameters,b,n,e.j.networkingEngine),Lu(e.R,x),k(T,x.promise,2))}return S=T.h,T.return(PA(e,S,n))})}function PA(e,t,n){var r,i,o,u,c,h,g,v,b,x,S,T,A,C,M,_,O,P,j,V,B,H,W,G,ee,re,ce,ae,oe,he,ge,Oe,Je,Ne,st,Jt,Zt,wn,jt,Bt,cn,ua,Bn,ki,qi,Vn,la,Gc,$o,Kc,L0,Mh;return L(function(ca){switch(ca.g){case 1:for(e.h&&e.h.l.clear(),r=[n],i=[],o=new Map,u=zt(t,"Location"),c=w(u),h=c.next();!h.done;h=c.next())g=h.value,v=g.attributes.serviceLocation,(b=ta(g))&&(x=Yn(r,[b])[0],v&&(e.h?Oc(e.h,"Location",v,x):o.set(v,x)),i.push(x));if(e.h?(S=ch(e.h,"Location",!0),0<S.length&&(r=e.A=S)):i.length&&(r=e.A=i),e.l.Zd=t.attributes.id||"",e.l.td=kt(t,"publishTime",ys)||0,e.F=zt(t,"PatchLocation"),T=Promise.resolve(),(A=xr(t,"ContentSteering"))&&e.j)for(C=A.attributes.defaultServiceLocation,e.h?(e.h.i=r,e.h.h=C):(e.h=new Uc(e.j),e.h.configure(e.g),e.h.setManifestType("DASH"),e.h.i=r,e.h.h=C,(M=ta(A))&&(kt(A,"queryBeforeStart",Cg,!1)?T=lh(e.h,M):lh(e.h,M))),_=w(o.keys()),O=_.next();!O.done;O=_.next())P=O.value,j=o.get(P),Oc(e.h,"Location",P,j);if(V=zt(t,"BaseURL"),B=!1,e.h)for(H=w(V),W=H.next();!W.done;W=H.next())G=W.value,ee=G.attributes.serviceLocation,re=ta(G),ee&&re&&(Oc(e.h,"BaseURL",ee,re),B=!0);if(e.aa=null,B&&e.h||(ce=V.map(ta),e.aa=Yn(r,ce)),ae=function(){return e.h&&B?ch(e.h,"BaseURL"):e.aa?e.aa:[]},e.l.Ja=ae,oe=0,V&&V.length&&(oe=kt(V[0],"availabilityTimeOffset",Ag)||0),e.l.Ta=oe,he=e.g.dash.ignoreMinBufferTime,ge=0,he||(ge=kt(t,"minBufferTime",Xa)||0),e.K=kt(t,"minimumUpdatePeriod",Xa,-1),Oe=kt(t,"availabilityStartTime",ys),Je=kt(t,"timeShiftBufferDepth",Xa),Ne=e.g.dash.ignoreSuggestedPresentationDelay,st=null,Ne||(st=kt(t,"suggestedPresentationDelay",Xa)),Jt=e.g.dash.ignoreMaxSegmentDuration,Zt=null,Jt||(Zt=kt(t,"maxSegmentDuration",Xa)),wn=t.attributes.type||"static",e.i&&e.i.presentationTimeline&&(e.X=e.i.presentationTimeline.U()&&wn=="static"),e.l.type=wn,wU(e),e.i)for(jt=e.i.presentationTimeline,Bt=w(Object.values(e.o)),cn=Bt.next();!cn.done;cn=Bt.next())ua=cn.value,ua.segmentIndex&&ua.segmentIndex.Ga(jt.pb());else Bn=e.g.defaultPresentationDelay||1.5*ge,ki=st??Bn,jt=new Ke(Oe,ki,e.g.dash.autoCorrectDrift);return jt.xc(wn=="static"),jt.U()&&!isNaN(e.g.availabilityWindowOverride)&&(Je=e.g.availabilityWindowOverride),Je==null&&(Je=1/0),jt.oe(Je),qi=t.attributes.profiles||"",e.l.profiles=qi.split(","),Vn={xb:wn!="static",presentationTimeline:jt,na:null,ia:null,ga:null,J:null,bandwidth:0,lf:!1,Ta:oe,Mb:null,profiles:qi.split(","),roles:null,nb:function(){return""}},e.M=0,la=NA(e,Vn,ae,t,!1),Gc=la.duration,$o=la.periods,(wn!="static"||e.X)&&la.qg||jt.$a(Gc||1/0),e.ja&&!e.H&&e.j.isAutoLowLatencyMode()&&(e.j.enableLowLatencyMode(),e.H=e.j.isLowLatencyMode()),e.H&&jt.Zg(e.ea),jt.yf(Zt||1),k(ca,T,2);case 2:return e.H&&(ge=0,Kc=st??e.g.defaultPresentationDelay,jt.Pf(Kc)),e.i?(e.i.periodCount=$o.length,e.i.gapCount=e.M,k(ca,DA(e,$o,!1),4)):k(ca,e.m.Ke($o,Vn.xb),6);case 6:if(e.i={presentationTimeline:jt,variants:e.m.l,textStreams:e.m.jf(),imageStreams:e.m.i,offlineSessionIds:[],minBufferTime:ge||0,sequenceMode:e.g.dash.sequenceMode,ignoreManifestTimestampsInSegmentsMode:!1,type:"DASH",serviceDescription:yU(t),nextUrl:bU(t),periodCount:$o.length,gapCount:e.M,isLowLatency:e.ja,startTime:null},!jt.nh()){ca.u(7);break}return L0=zt(t,"UTCTiming"),k(ca,IU(e,ae,L0),8);case 8:if(Mh=ca.h,!e.j)return ca.return();jt.$g(Mh);case 7:jt.Vd();case 4:e.j.makeTextStreamsForClosedCaptions(e.i),te(ca)}})}function DA(e,t,n){var r;return L(function(i){if(i.g==1)return k(i,e.m.Ke(t,!0,n),2);e.i.variants=e.m.l,r=e.m.jf(),0<r.length&&(e.i.textStreams=r),e.i.imageStreams=e.m.i,e.j.filter(e.i),te(i)})}function gU(e,t){var n,r,i,o,u,c,h,g,v,b,x,S,T,A,C,M,_,O,P,j,V,B,H,W,G,ee,re;return L(function(ce){if(ce.g==1){if(n=t.attributes.mpdId,r=kt(t,"originalPublishTime",ys),!n||n!==e.l.Zd||r!==e.l.td)throw e.F=[],new $(1,4,4052);for(i=[],o=[],u=new Set,c=w(y3(t)),h=c.next();!h.done;h=c.next())if(g=h.value,v=Ig(g.attributes.sel||""),b=v[v.length-1],x=ta(g)||"",b.name==="MPD")if(b.Ub==="mediaPresentationDuration"){S=ta(g)||"";var ae=Xa(S);if(ae!=null){e.l.Mb=ae;for(var oe=w(e.s.values()),he=oe.next();!he.done;he=oe.next())he.value.Mb=ae}}else if(b.Ub==="type"){for(e.i.presentationTimeline.xc(x=="static"),e.l.type=x,ae=w(e.s.values()),oe=ae.next();!oe.done;oe=ae.next())oe.value.xb=x=="dynamic";x=="static"&&(e.K=-1)}else b.Ub==="publishTime"?e.l.td=ys(x)||0:b.Ub===null&&g.tagName==="add"&&o.push(g);else if(b.name==="PatchLocation")w3(e.F,g);else if(b.name==="Period")g.tagName==="add"?o.push(g):g.tagName==="remove"&&b.id&&vU(e,b.id);else if(b.name==="SegmentTemplate"){if(oe=Ig(g.attributes.sel||""),ae=oe[oe.length-1],ae.Ub){oe=LA(e,oe),he=ta(g)||"";for(var ge=w(oe),Oe=ge.next();!Oe.done;Oe=ge.next())Oe=e.s.get(Oe.value),S3(Oe.J.ec,g.tagName,ae.Ub,he);ae=oe}else ae=[];for(T=ae,A=w(T),C=A.next();!C.done;C=A.next())M=C.value,u.add(M)}else if(b.name==="SegmentTimeline"||b.name==="S"){for(ae=Ig(g.attributes.sel||""),ae=LA(e,ae),oe=w(ae),he=oe.next();!he.done;he=oe.next())he=e.s.get(he.value),he=Rc(he,Ms,"SegmentTimeline"),ge=zt(he,"S"),w3(ge,g),he.children=ge;for(_=ae,O=w(_),P=O.next();!P.done;P=O.next())j=P.value,u.add(j)}for(V=w(u),B=V.next();!B.done;B=V.next())H=B.value,RA(e,H);for(W=w(o),G=W.next();!G.done;G=W.next())ee=G.value,i.push.apply(i,F(mU(e,ee)));return i.length?(e.i.periodCount+=i.length,e.i.gapCount=e.M,k(ce,DA(e,i,!0),2)):ce.u(2)}e.l.type=="static"&&(re=e.l.Mb,e.i.presentationTimeline.$a(re||1/0)),te(ce)})}function mU(e,t){return NA(e,{xb:e.l.type=="dynamic",presentationTimeline:e.i.presentationTimeline,na:null,ia:null,ga:null,J:null,bandwidth:0,lf:!1,Ta:e.l.Ta,profiles:e.l.profiles,Mb:e.l.Mb,roles:null,nb:function(){return""}},e.l.Ja,t,!0).periods}function vU(e,t){e.i.periodCount--;for(var n=w(e.s.keys()),r=n.next();!r.done;r=n.next())if(r=r.value,r.startsWith(t)){var i=e.s.get(r);Rc(i,Ms,"SegmentTimeline").children=[],RA(e,r),e.s.delete(r)}e.C=e.C.filter(function(o){return o!==t})}function LA(e,t){var n="",r="",i=-1,o="";t=w(t);for(var u=t.next();!u.done;u=t.next())u=u.value,u.name==="Period"?n=u.id:u.name==="AdaptationSet"?(r=u.id,u.position!==null&&(i=u.position)):u.name==="Representation"&&(o=u.id);if(t=[],o)t.push(n+","+o);else if(r)for(i=w(e.s.values()),e=i.next();!e.done;e=i.next())e=e.value,e.na.id===n&&e.ga.id===r&&e.J.id&&t.push(n+","+e.J.id);else if(-1<i)for(r=w(e.s.values()),e=r.next();!e.done;e=r.next())e=e.value,e.na.id===n&&e.ga.position===i&&e.J.id&&t.push(n+","+e.J.id);return t}function RA(e,t){var n=e.s.get(t),r=e.o[t];r.segmentIndex&&r.segmentIndex.Ga(e.i.presentationTimeline.pb());try{var i=yA(n,function(o,u,c,h){return jA(e,o,u,c,h)},e.o,!0,e.g.dash.initialSegmentLimit,e.la,n.J.aesKey,null,!0);r.createSegmentIndex=function(){return L(function(o){if(o.g==1)return r.segmentIndex?o.u(0):k(o,i.mc(),3);r.segmentIndex=o.h,te(o)})}}catch(o){if(t=n.J.contentType,t!=bt&&t!="application"&&t!="image"||o.code!=4002)throw o}}function yU(e){var t=xr(e,"ServiceDescription");if(!t||(e=xr(t,"Latency"),t=xr(t,"PlaybackRate"),!e&&!t))return null;var n={};return e&&("target"in e.attributes&&(n.targetLatency=parseInt(e.attributes.target,10)/1e3),"max"in e.attributes&&(n.maxLatency=parseInt(e.attributes.max,10)/1e3),"min"in e.attributes&&(n.minLatency=parseInt(e.attributes.min,10)/1e3)),t&&("max"in t.attributes&&(n.maxPlaybackRate=parseFloat(t.attributes.max)),"min"in t.attributes&&(n.minPlaybackRate=parseFloat(t.attributes.min))),n}function bU(e){if(e=zt(e,"SupplementalProperty"),!e.length)return null;e=w(e);for(var t=e.next();!t.done;t=e.next())if(t=t.value,t.attributes.schemeIdUri=="urn:mpeg:dash:chaining:2016")return t.attributes.value;return null}function NA(e,t,n,r,i){var o=t.Mb;o||(o=kt(r,"mediaPresentationDuration",Xa),e.l.Mb=o);var u=0;e.i&&e.i.presentationTimeline&&e.X&&(u=e.i.presentationTimeline.Kb());var c=[],h=u;r=zt(r,"Period");for(var g=0;g<r.length;g++){var v=r[g],b=r[g+1],x=kt(v,"start",Xa,h),S=v.attributes.id,T=kt(v,"duration",Xa);x=g==0&&x==0&&e.X?u:x;var A=null;if(b){var C=kt(b,"start",Xa);C!=null&&(A=C-x+u)}else o!=null&&(A=o-x+u);if(C=qL,A&&T&&Math.abs(A-T)>C&&A>T&&e.M++,A==null&&(A=T),!(e.O!==null&&S!==null&&x!==null&&x<e.O)||e.C.includes(S)||g+1==r.length){if(x!==null&&(e.O===null||x>e.O)&&(e.O=x),h=xU(e,t,n,{start:x,duration:A,node:v,qf:A==null||!b}),c.push(h),t.na.id&&A&&(e.la[t.na.id]=A),A==null){h=null;break}h=x+A}}if(i)for(t=w(c),n=t.next();!n.done;n=t.next())n=n.value.id,e.C.includes(n)||e.C.push(n);else e.C=c.map(function(M){return M.id});return o!=null?{periods:c,duration:o+u,qg:!1}:{periods:c,duration:h,qg:!0}}function wU(e){var t=Object.keys(e.B).filter(function(o){return!e.C.includes(o)});t=w(t);for(var n=t.next();!n.done;n=t.next()){n=n.value;for(var r=w(e.B[n]),i=r.next();!i.done;i=r.next())i=i.value,e.m&&e.m.og(e.o[i],n),delete e.o[i];delete e.B[n]}}function xU(e,t,n,r){t.na=A2(e,r.node,null,n),t.ia=r,t.na.Ta=t.Ta,t.na.id||(t.na.id="__shaka_period_"+r.start);var i=zt(r.node,"EventStream");n=t.presentationTimeline.pb(),i=w(i);for(var o=i.next();!o.done;o=i.next())MU(e,r.start,r.duration,o.value,n);for(n=zt(r.node,"SupplementalProperty"),n=w(n),i=n.next();!i.done;i=n.next())i=i.value,i.attributes.schemeIdUri=="urn:mpeg:dash:urlparam:2014"&&(i=Jm(e,i))&&(t.nb=i);if(n=zt(r.node,"AdaptationSet").map(function(g,v){return SU(e,t,v,g)}).filter(ks),t.xb){for(r=[],i=w(n),o=i.next();!o.done;o=i.next()){o=w(o.value.Ni);for(var u=o.next();!u.done;u=o.next())r.push(u.value)}if(r.length!=new Set(r).size)throw new $(2,4,4018)}for(r=n.filter(function(g){return!g.Yf}),n=n.filter(function(g){return g.Yf}),n=w(n),i=n.next();!i.done;i=n.next()){i=i.value,o=i.Yf.split(" "),u=w(r);for(var c=u.next();!c.done;c=u.next())if(c=c.value,o.includes(c.id)){c=w(c.streams);for(var h=c.next();!h.done;h=c.next())J3(h.value,i.streams)}}if(n=Qm(e.g.disableAudio,r,"audio"),i=Qm(e.g.disableVideo,r,"video"),o=Qm(e.g.disableText,r,bt),r=Qm(e.g.disableThumbnails,r,"image"),i.length===0&&n.length===0)throw new $(2,4,4004);return{id:t.na.id,audioStreams:n,videoStreams:i,textStreams:o,imageStreams:r}}function Qm(e,t,n){return e||!t.length?[]:t.reduce(function(r,i){return i.contentType!=n||r.push.apply(r,F(i.streams)),r},[])}function SU(e,t,n,r){function i(ee){var re=ee.attributes["dvb:fontFamily"];ee=ee.attributes["dvb:url"],re&&ee&&(ee=Yn(t.ga.Ja(),[ee],t.nb()),e.j.addFont(re,ee[0]))}function o(ee){switch(ee){case 1:case 5:case 6:case 7:return"srgb";case 9:return"rec2020";case 11:case 12:return"p3"}}function u(ee){switch(ee){case 1:case 6:case 13:case 14:case 15:return"SDR";case 16:return"PQ";case 18:return"HLG"}}t.ga=A2(e,r,t.na,null),t.ga.position=n;var c=!1;n=zt(r,"Role");var h=n.map(function(ee){return ee.attributes.value}).filter(ks),g=void 0,v=t.ga.contentType==bt;v&&(g="subtitle"),n=w(n);for(var b=n.next();!b.done;b=n.next()){b=b.value;var x=b.attributes.schemeIdUri;if(x==null||x=="urn:mpeg:dash:role:2011")switch(b=b.attributes.value,b){case"main":c=!0;break;case"caption":case"subtitle":g=b}}var S=zt(r,"EssentialProperty");n=null;var T=!1;b=null,x=!1,S=w(S);for(var A=S.next();!A.done;A=S.next()){A=A.value;var C=A.attributes.schemeIdUri;if(C=="http://dashif.org/guidelines/trickmode")n=A.attributes.value;else if(C=="urn:mpeg:mpegB:cicp:TransferCharacteristics")var M=u(parseInt(A.attributes.value,10));else if(C=="urn:mpeg:mpegB:cicp:ColourPrimaries")var _=o(parseInt(A.attributes.value,10));else C!="urn:mpeg:mpegB:cicp:MatrixCoefficients"&&(C=="urn:mpeg:dash:ssr:2023"&&e.g.dash.enableFastSwitching?T=!0:C=="urn:dvb:dash:fontdownload:2014"?i(A):C=="urn:mpeg:dash:urlparam:2014"&&(b=Jm(e,A))||(x=!0))}if(x)return null;var O=null;for(x=zt(r,"SupplementalProperty"),x=w(x),S=x.next();!S.done;S=x.next())S=S.value,A=S.attributes.schemeIdUri,A=="http://dashif.org/guidelines/last-segment-number"?O=parseInt(S.attributes.value,10)-1:A=="urn:mpeg:mpegB:cicp:TransferCharacteristics"?M=u(parseInt(S.attributes.value,10)):A=="urn:mpeg:mpegB:cicp:ColourPrimaries"?_=o(parseInt(S.attributes.value,10)):A=="urn:dvb:dash:fontdownload:2014"?i(S):A=="urn:mpeg:dash:urlparam:2014"&&(b=Jm(e,S));b&&(t.nb=b),b=zt(r,"Accessibility");var P=new Map,j;for(b=w(b),x=b.next();!x.done;x=b.next())if(S=x.value,x=S.attributes.schemeIdUri,S=S.attributes.value,x!="urn:scte:dash:cc:cea-608:2015"||e.g.disableText)if(x!="urn:scte:dash:cc:cea-708:2015"||e.g.disableText)x=="urn:mpeg:dash:role:2011"?S!=null&&(h.push(S),S=="captions"&&(g="caption")):x=="urn:tva:metadata:cs:AudioPurposeCS:2007"&&(S=="1"?j="visually impaired":S=="2"&&(j="hard of hearing"));else if(x=1,S!=null)for(S=w(S.split(";")),A=S.next();!A.done;A=S.next()){C=A.value;var V=A=void 0;C.includes("=")?(C=C.split("="),A="svc"+C[0],V=C[1].split(",")[0].split(":").pop()):(A="svc"+x,x++,V=C),P.set(A,Gt(V))}else P.set("svc1","und");else if(x=1,S!=null)for(S=S.split(";"),A=w(S),C=A.next();!C.done;C=A.next()){V=C.value;var B=C=void 0;V.includes("=")?(V=V.split("="),C=V[0].startsWith("CC")?V[0]:"CC"+V[0],B=V[1]||"und"):(C="CC"+x,S.length==2?x+=2:x++,B=V),P.set(C,Gt(B))}else P.set("CC1","und");b=zt(r,"ContentProtection");var H=uA(b,e.g.dash.ignoreDrmInfo,e.g.dash.keySystemsByURI),W=Gt(t.ga.language||"und"),G=t.ga.label;if(b=zt(r,"Representation"),r=b.map(function(ee){return(ee=TU(e,t,H,g,W,G,c,h,P,ee,j,O))&&(ee.hdr=ee.hdr||M,ee.colorGamut=ee.colorGamut||_,ee.fastSwitching=T),ee}).filter(function(ee){return!!ee}),r.length==0){if(n=t.ga.contentType=="image",e.g.dash.ignoreEmptyAdaptationSet||v||n)return null;throw new $(2,4,4003)}if(!t.ga.contentType||t.ga.contentType=="application")for(t.ga.contentType=FA(r[0].mimeType,r[0].codecs),v=w(r),x=v.next();!x.done;x=v.next())x.value.type=t.ga.contentType;for(v=t.ga.id||"__fake__"+e.ra++,x=w(r),S=x.next();!S.done;S=x.next()){for(S=S.value,A=w(H.drmInfos),C=A.next();!C.done;C=A.next())C=C.value,C.keyIds=C.keyIds&&S.keyIds?new Set([].concat(F(C.keyIds),F(S.keyIds))):C.keyIds||S.keyIds;e.g.dash.enableAudioGroups&&(S.groupId=v)}return b=b.map(function(ee){return ee.attributes.id}).filter(ks),{id:v,contentType:t.ga.contentType,language:W,ik:c,streams:r,drmInfos:H.drmInfos,Yf:n,Ni:b}}function Jm(e,t){if((t=Ka(t,"urn:mpeg:dash:schema:urlparam:2014","UrlQueryInfo"))&&kt(t,"useMPDUrlQuery",Cg,!1)){var n=t.attributes.queryTemplate;if(n)return function(){return n=="$querypart$"?e.ca:n.split("&").map(function(r){if(r=="$querypart$")return e.ca;var i=/\$query:(.*?)\$/g.exec(r);if(i&&i.length==2){i=i[1];var o=new Jl(e.ca).get(i);if(o.length)return i+"="+o[0]}return r}).join("&")}}return null}function TU(e,t,n,r,i,o,u,c,h,g,v,b){t.J=A2(e,g,t.ga,null);var x=t.J.id;if(e.ea=Math.min(e.ea,t.J.Ta),e.ja=0<e.ea,!CU(t.J))return null;var S=t.ia.start;t.bandwidth=kt(g,"bandwidth",Eo)||0,t.roles=c;var T=zt(g,"SupplementalProperty"),A=zt(g,"EssentialProperty"),C=null,M=A.find(function(oe){return oe.attributes.schemeIdUri=="urn:mpeg:dash:urlparam:2014"});(M||(M=T.find(function(oe){return oe.attributes.schemeIdUri=="urn:mpeg:dash:urlparam:2014"})))&&(C=Jm(e,M)),C&&(t.nb=C),M=t.J.contentType,C=M==bt||M=="application",M=M=="image";try{var _=void 0;if(n.Ge){var O=t.J.Ja,P=t.nb,j=Yn(O(),[n.Ge.ti],P()),V=qn(j,e.g.retryParameters);_={bitsKey:128,blockCipherMode:"CBC",iv:n.Ge.iv,firstMediaSequenceNumber:0,fetchKey:function(){var oe,he,ge;return L(function(Oe){if(Oe.g==1)return k(Oe,C2(e,V,6),2);if(Oe.g!=3){if(oe=Oe.h,!oe.data||oe.data.byteLength!=16)throw new $(2,4,4049);return he={name:"AES-CBC"},ge=_,k(Oe,d.crypto.subtle.importKey("raw",oe.data,he,!0,["decrypt"]),3)}ge.cryptoKey=Oe.h,_.fetchKey=void 0,te(Oe)})}}}if(t.J.aesKey=_,O=function(oe,he,ge,Oe){return jA(e,oe,he,ge,Oe)},t.J.Vc)var B=HN(t,O,_);else if(t.J.Rb)B=GN(t,e.o,_);else if(t.J.ec)B=yA(t,O,e.o,!!e.i,e.g.dash.initialSegmentLimit,e.la,_,b,!1);else{var H=t.ia.duration||0,W=t.J.Ja,G=t.J.mimeType,ee=t.J.codecs;B={mc:function(){var oe=pb(S,H,W());return oe.yb(function(he){he.mimeType=G,he.codecs=ee}),Promise.resolve(oe)}}}}catch(oe){if((C||M)&&oe.code==4002)return null;throw oe}g=zt(g,"ContentProtection"),g=IN(g,n,e.g.dash.ignoreDrmInfo,e.g.dash.keySystemsByURI),g=new Set(g?[g]:[]),b=!1,T.some(function(oe){return oe.attributes.schemeIdUri=="tag:dolby.com,2018:dash:EC3_ExtensionType:2018"&&oe.attributes.value=="JOC"})&&(b=!0),T=!1,C&&(T=c.includes("forced_subtitle")||c.includes("forced-subtitle"));var re;if(M&&((A=A.find(function(oe){return["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"].includes(oe.attributes.schemeIdUri)}))&&(re=A.attributes.value),!re))return null;var ce;C=t.J.codecs,t.profiles.includes("http://dashif.org/guidelines/dash-if-uhd#hevc-hdr-pq10")&&(C.includes("hvc1.2.4.L153.B0")||C.includes("hev1.2.4.L153.B0"))&&(ce="PQ"),A=t.J.id?t.na.id+","+t.J.id:"",e.F.length&&x&&e.s.set(t.na.id+","+x,kU(t));var ae=A&&e.o[A]?e.o[A]:{id:e.ra++,originalId:t.J.id,groupId:null,createSegmentIndex:function(){return Promise.resolve()},closeSegmentIndex:function(){ae.segmentIndex&&(ae.segmentIndex.release(),ae.segmentIndex=null)},segmentIndex:null,mimeType:t.J.mimeType,codecs:C,frameRate:t.J.frameRate,pixelAspectRatio:t.J.pixelAspectRatio,bandwidth:t.bandwidth,width:t.J.width,height:t.J.height,kind:r,encrypted:0<n.drmInfos.length,drmInfos:n.drmInfos,keyIds:g,language:i,originalLanguage:t.ga.language,label:o,type:t.ga.contentType,primary:u,trickModeVideo:null,emsgSchemeIdUris:t.J.emsgSchemeIdUris,roles:c,forced:T,channelsCount:t.J.ae,audioSamplingRate:t.J.audioSamplingRate,spatialAudio:b,closedCaptions:h,hdr:ce,colorGamut:void 0,videoLayout:void 0,tilesLayout:re,accessibilityPurpose:v,external:!1,fastSwitching:!1,fullMimeTypes:new Set([Un(t.J.mimeType,t.J.codecs)])};return ae.createSegmentIndex=function(){var oe;return L(function(he){if(he.g==1)return ae.segmentIndex?he.u(0):(oe=ae,k(he,B.mc(),3));oe.segmentIndex=he.h,te(he)})},A&&t.xb&&!e.o[A]&&(t=t.na.id||"",e.B[t]||(e.B[t]=[]),e.o[A]=ae,e.B[t].push(A)),ae}function kU(e){function t(n){return n?(n=Tu(n),n.Vc=null,n.Rb=null,n.ec=x1(n.ec),n):null}return e=Tu(e),e.na=t(e.na),e.ga=t(e.ga),e.J=t(e.J),e.ia&&(e.ia=Tu(e.ia),e.ia.node=null),e}function UA(e){var t,n;return L(function(r){switch(r.g){case 1:return t=0,se(r,2),k(r,k2(e),4);case 4:t=r.h,z(r,3);break;case 2:if(n=Y(r),e.j){if(e.g.raiseFatalErrorOnManifestUpdateRequestFailure)return e.j.onError(n),r.return();n.severity=1,e.j.onError(n)}case 3:if(!e.j)return r.return();e.j.onManifestUpdated(),E2(e,t),te(r)}})}function E2(e,t){if(!(0>e.K)){var n=e.K;0<=e.g.dash.updatePeriod&&(n=e.g.dash.updatePeriod),e.L.Z(Math.max(n-t,Ve(e.oa)))}}function A2(e,t,n,r){n=n||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,pixelAspectRatio:void 0,ae:null,audioSamplingRate:null,Ta:0,ne:0},r=r||n.Ja;var i=t.attributes.id,o=zt(t,"BaseURL"),u,c=!1;if(e.h)for(var h=w(o),g=h.next();!g.done;g=h.next()){var v=g.value;g=v.attributes.serviceLocation,v=ta(v),g&&v&&(Oc(e.h,i,g,v),c=!0)}c&&e.h||(u=o.map(ta)),h=t.attributes.contentType||n.contentType,g=t.attributes.mimeType||n.mimeType,v=[t.attributes.codecs||n.codecs];var b=ko(t,"urn:scte:dash:scte214-extensions","supplementalCodecs");b&&v.push(b),v=yb(v).join(","),b=kt(t,"frameRate",UL)||n.frameRate;var x=t.attributes.sar||n.pixelAspectRatio,S=EU(zt(t,"InbandEventStream"),n.emsgSchemeIdUris),T=zt(t,"AudioChannelConfiguration");T=AU(T)||n.ae;var A=kt(t,"audioSamplingRate",Sr)||n.audioSamplingRate;h||(h=FA(g,v));var C=xr(t,"SegmentBase"),M=xr(t,"SegmentTemplate"),_=C&&kt(C,"availabilityTimeOffset",Ag)||0,O=M&&kt(M,"availabilityTimeOffset",Ag)||0,P=o&&o.length&&kt(o[0],"availabilityTimeOffset",Ag)||0;_=n.Ta+P+_+O,O=null,(P=xr(t,"SegmentSequenceProperties"))&&(P=xr(P,"SAP"))&&(O=kt(P,"cadence",Eg)),P=t.attributes.label;var j=zt(t,"Label");return j&&j.length&&(j=j[0],Mn(j)&&(P=Mn(j))),{Ja:function(){return Yn(r(),o.length?e.h&&c?ch(e.h,i):u||[]:[])},Vc:C||n.Vc,Rb:xr(t,"SegmentList")||n.Rb,ec:M||n.ec,width:kt(t,"width",Sr)||n.width,height:kt(t,"height",Sr)||n.height,contentType:h,mimeType:g,codecs:v,frameRate:b,pixelAspectRatio:x,emsgSchemeIdUris:S,id:i,language:t.attributes.lang,ae:T,audioSamplingRate:A,Ta:_,Qd:null,ne:O||n.ne,label:P||null}}function EU(e,t){t=t.slice(),e=w(e);for(var n=e.next();!n.done;n=e.next())n=n.value.attributes.schemeIdUri,t.includes(n)||t.push(n);return t}function AU(e){e=w(e);for(var t=e.next();!t.done;t=e.next()){t=t.value;var n=t.attributes.schemeIdUri;if(n&&(t=t.attributes.value))switch(n){case"urn:mpeg:dash:outputChannelPositionList:2012":return t.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(t=parseInt(t,10),!t)continue;return t;case"tag:dolby.com,2015:dash:audio_channel_configuration:2015":if(n=[2,1,2,2,2,2,1,2,2,1,1,1,1,2,1,1,2,2],t=parseInt(t,16),!t)continue;for(var r=0,i=0;i<n.length;i++)t&1<<i&&(r+=n[i]);if(r)return r;continue;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(n=[1,1,1,1,1,2,2,1,1,2,2,2,1,2,1,1].reverse(),t=parseInt(t,16),!t)continue;for(i=r=0;i<n.length;i++)t&1<<i&&(r+=n[i]);if(r)return r;continue;case"urn:mpeg:mpegB:cicp:ChannelConfiguration":if(n=[0,1,2,3,4,5,6,8,2,3,4,7,8,24,8,12,10,12,14,12,14],(t=parseInt(t,10))&&0<t&&t<n.length)return n[t]}}return null}function CU(e){var t=e.Vc?1:0;return t+=e.Rb?1:0,t+=e.ec?1:0,t==0?e.contentType==bt||e.contentType=="application":(t!=1&&(e.Vc&&(e.Rb=null),e.ec=null),!0)}function OA(e,t,n,r){var i,o,u,c,h,g,v;return L(function(b){if(b.g==1)return i=[jr(n)],o=Yn(t(),i),u=qn(o,e.g.retryParameters),u.method=r,c=e.j.networkingEngine.request(4,u,{isPreload:e.fa()}),Lu(e.R,c),k(b,c.promise,2);if(h=b.h,r=="HEAD"){if(!h.headers||!h.headers.date)return b.return(0);g=h.headers.date}else g=hn(h.data);return v=Date.parse(g),isNaN(v)?b.return(0):b.return(v-Date.now())})}function IU(e,t,n){var r,i,o,u,c,h,g,v;return L(function(b){switch(b.g){case 1:r=n.map(function(x){return{scheme:x.attributes.schemeIdUri,value:x.attributes.value}}),i=e.g.dash.clockSyncUri,!r.length&&i&&r.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:i}),o=w(r),u=o.next();case 2:if(u.done){b.u(4);break}switch(c=u.value,se(b,5),h=c.scheme,g=c.value,h){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return b.u(7);case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return b.u(8);case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return v=Date.parse(g),b.return(isNaN(v)?0:v-Date.now());case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":ze("NTP UTCTiming scheme is not supported");break;default:ze("Unrecognized scheme in UTCTiming element",h)}b.u(9);break;case 7:return k(b,OA(e,t,g,"HEAD"),10);case 10:return b.return(b.h);case 8:return k(b,OA(e,t,g,"GET"),11);case 11:return b.return(b.h);case 9:z(b,3);break;case 5:Y(b);case 3:u=o.next(),b.u(2);break;case 4:return ze("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),b.return(0)}})}function MU(e,t,n,r,i){var o=r.attributes.schemeIdUri||"",u=r.attributes.value||"",c=kt(r,"timescale",Sr)||1,h=kt(r,"presentationTimeOffset",Sr)||0;r=w(zt(r,"Event"));for(var g=r.next();!g.done;g=r.next()){g=g.value;var v=kt(g,"presentationTime",Sr)||0,b=kt(g,"duration",Sr)||0;v=Math.max((v-h)/c+t,t),b=v+b/c,n!=null&&(v=Math.min(v,t+n),b=Math.min(b,t+n)),b<i||(g={schemeIdUri:o,value:u,startTime:v,endTime:b,id:g.attributes.id||"",eventElement:T3(g),eventNode:x1(g)},e.j.onTimelineRegionAdded(g))}}function jA(e,t,n,r,i){var o,u,c,h;return L(function(g){return g.g==1?(o=_a,u=i?0:1,c=yc(t,n,r,e.g.retryParameters),k(g,C2(e,c,o,{type:u}),2)):(h=g.h,g.return(h.data))})}function FA(e,t){return t=Un(e,t),Ep(t)?bt:e.split("/")[0]}function C2(e,t,n,r){return r||(r={}),r.isPreload=e.fa(),t=e.j.networkingEngine.request(n,t,r),Lu(e.R,t),t.promise}function _U(e){var t=e.l.td;if(!e.l.Zd||!t||!e.F.length)return[];var n=Date.now()/1e3,r=e.F.filter(function(i){return i=Sr(i.attributes.ttl),!i||t+i>n}).map(ta).filter(ks);return r.length?Yn(e.A,r):[]}Ae("shaka.dash.DashParser",Zm),ia["application/dash+xml"]=function(){return new Zm},ia["video/vnd.mpeg.dash.mpd"]=function(){return new Zm};function e0(){}Ae("shaka.dependencies",e0),e0.has=function(e){return I2.has(e)},e0.add=function(e,t){if(!VA[e])throw Error(e+" is not supported");e==BA?At("mux.js","mux.js is no longer used in Shaka Player."):I2.set(e,function(){return t})};var BA="muxjs",VA={jk:BA,ISOBoxer:"ISOBoxer"};e0.Allowed=VA;var I2=new Map([["ISOBoxer",function(){return d.ISOBoxer}]]);function zA(e,t,n){this.type=e,this.W=t,this.segments=n||null}function $A(e,t,n,r){this.id=e,this.name=t,this.attributes=n,this.value=r===void 0?null:r}$A.prototype.toString=function(e){function t(i){return i.name+"="+(isNaN(Number(i.value))?'"'+i.value+'"':i.value)}var n="#"+this.name,r=this.attributes?this.attributes.filter(function(i){return e?!e.has(i.name):!0}).map(t):[];return this.value&&r.unshift(this.value),0<r.length&&(n+=":"+r.join(",")),n};function HA(e,t){return t?e.toString():(t=new Set().add("AUDIO").add("VIDEO").add("SUBTITLES").add("PATHWAY-ID").add("GROUP-ID").add("URI"),e.toString(t))}function mh(e,t){return e=e.attributes.filter(function(n){return n.name==t}),e.length?e[0]:null}function Fe(e,t,n){return(e=mh(e,t))?e.value:n||null}function Ht(e,t){if(e=mh(e,t),!e)throw new $(2,4,4023,t);return e.value}function qA(e,t,n){n=n===void 0?[]:n,this.W=t,this.g=e,this.Cb=n}function GA(e,t){this.name=e,this.value=t}function Fi(e,t){return e.filter(function(n){return n.name==t})}function KA(e,t){return e.filter(function(n){return Ht(n,"TYPE")==t})}function Qn(e,t){e=w(e);for(var n=e.next();!n.done;n=e.next())if(n=n.value,n.name===t)return n;return null}function Fc(e,t,n){return n=n===void 0?0:n,(e=Qn(e,t))?Number(e.value):n}function Ps(e,t,n){return t?WA(e,[t],n):[]}function WA(e,t,n){if(!t.length)return[];t=Yn(e,t),e=[],t=w(t);for(var r=t.next();!r.done;r=t.next())e.push(XA(r.value,n));return e}function XA(e,t){if(!t||!t.size)return e;e=String(e).replace(/%7B/g,"{").replace(/%7D/g,"}");var n=e.match(/{\$\w*}/g);if(n){n=w(n);for(var r=n.next();!r.done;r=n.next()){r=r.value;var i=r.slice(2,r.length-1),o=t.get(i);if(o)e=e.replace(r,o);else throw new $(2,4,4039,i)}}return e}function PU(){this.g=0}function M2(e,t){t=hn(t),t=t.replace(/\r\n|\r(?=[^\n]|$)/gm,`
`).trim();var n=t.split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(n[0]))throw new $(2,4,4015);t=0;for(var r=!0,i=w(n),o=i.next();!o.done;o=i.next())if(o=o.value,/^#(?!EXT)/m.test(o)||r)r=!1;else if(o=_2(e,o),--e.g,YA.includes(o.name)){t=1;break}else o.name=="EXT-X-STREAM-INF"&&(r=!0);for(i=[],r=!0,o=0;o<n.length;o++){var u=n[o],c=n[o+1];if(/^#(?!EXT)/m.test(u)||r)r=!1;else{if(u=_2(e,u),DU.includes(u.name)){if(t!=1)throw new $(2,4,4017);u=n.splice(o,n.length-o),n=[],r=[],o=[],c=null,u=w(u);for(var h=u.next();!h.done;h=u.next())h=h.value,/^(#EXT)/.test(h)?(h=_2(e,h),YA.includes(h.name)?i.push(h):h.name=="EXT-X-MAP"?c=h:h.name=="EXT-X-PART"?o.push(h):h.name=="EXT-X-PRELOAD-HINT"?Fe(h,"TYPE")=="PART"?o.push(h):Fe(h,"TYPE")=="MAP"&&(h.name="EXT-X-MAP",c=h):r.push(h)):/^#(?!EXT)/m.test(h)||(h=h.trim(),c&&r.push(c),n.push(new qA(h,r,o)),r=[],o=[]);return o.length&&(c&&r.push(c),n.push(new qA("",r,o))),new zA(t,i,n)}i.push(u),u.name=="EXT-X-STREAM-INF"&&(u.attributes.push(new GA("URI",c)),r=!0)}}return new zA(t,i)}function _2(e,t){e=e.g++;var n=t.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!n)throw new $(2,4,4016,t);t=n[1];var r=n[2];n=[];var i;if(r){r=new Wl(r);var o;(o=xu(r,/^([^,=]+)(?:,|$)/g))&&(i=o[1]);for(var u=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;o=xu(r,u);)n.push(new GA(o[1],o[2]||o[3])),Xl(r)}return new $A(e,t,n,i)}var YA="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST EXT-X-SERVER-CONTROL EXT-X-SKIP EXT-X-PART-INF EXT-X-DATERANGE".split(" "),DU="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE EXT-X-MAP EXT-X-GAP".split(" ");function ZA(){}function QA(e){try{var t=P2(e);return sc({uri:e,originalUri:e,data:t.data,headers:{"content-type":t.contentType}})}catch(n){return Du(n)}}function P2(e){var t=e.split(":");if(2>t.length||t[0]!="data")throw new $(2,1,1004,e);if(t=t.slice(1).join(":").split(","),2>t.length)throw new $(2,1,1004,e);var n=t[0];e=d.decodeURIComponent(t.slice(1).join(",")),t=n.split(";"),n=t[0];var r=!1;1<t.length&&t[t.length-1]=="base64"&&(r=!0,t.pop());var i;return r?i=Ri(e):i=Ia(e),{data:i,contentType:n}}Ae("shaka.net.DataUriPlugin",ZA),ZA.parse=QA,_o("data",QA);function t0(){var e=this;this.g=this.h=null,this.C=1,this.A=new Map,this.H=new Map,this.O=new Map,this.O.set("video",new Map),this.O.set("audio",new Map),this.O.set(bt,new Map),this.O.set("image",new Map),this.gb=new Set,this.i=new Map,this.l=null,this.M="",this.Ua=new PU,this.I=-1,this.ja=1/0,this.fa=this.ac=this.bc=!1,this.B=new mt(function(){if(e.ca&&!e.g.continueLoadingWhenPaused&&(e.aa.ab(e.ca,"timeupdate"),e.ca.paused)){e.aa.va(e.ca,"timeupdate",function(){return xC(e)});return}xC(e)}),this.za=o0,this.m=null,this.cb=0,this.o=1/0,this.Fa=this.Ea=this.X=0,this.ea=new uc,this.F=new Map,this.G=new Map,this.sa=new Map,this.la=new Map,this.L=new Map,this.oa=new Map,this.ra=new Map,this.Ib=this.K=!1,this.Gb=new fe(5),this.j=null,this.R=!0,this.Da=new Set,this.aa=new ke,this.s=this.ca=null,this.Hb=function(){return!1}}f=t0.prototype,f.configure=function(e,t){this.g=e,t&&(this.Hb=t),this.j&&this.j.configure(this.g)},f.start=function(e,t){var n=this,r;return L(function(i){return i.g==1?(n.h=t,n.K=t.isLowLatencyMode(),k(i,F2(n,[e]).promise,2)):i.g!=3?(r=i.h,n.M=r.uri,k(i,NU(n,r.data,e),3)):i.return(n.m)})},f.stop=function(){this.B&&(this.B.stop(),this.B=null);var e=[];return this.ea&&(e.push(this.ea.destroy()),this.ea=null),this.g=this.h=null,this.gb.clear(),this.m=null,this.i.clear(),this.H.clear(),this.G.clear(),this.A.clear(),this.sa.clear(),this.la.clear(),this.L.clear(),this.oa.clear(),this.ra.clear(),this.Da.clear(),this.j&&this.j.destroy(),this.aa&&(this.aa.release(),this.aa=null),Promise.all(e)},f.update=function(){var e=this,t,n,r,i,o,u,c,h,g,v,b,x;return L(function(S){if(S.g==1){if(!Vr(e))return S.return();for(t=[],n=Array.from(e.i.values()),e.o=1/0,e.m.gapCount=0,r=n.filter(function(T){return T.stream.segmentIndex}),i=w(r),o=i.next();!o.done;o=i.next())u=o.value,t.push(LU(e,u));return k(S,Promise.all(t),2)}for(uC(e,r.map(function(T){return T.stream})),c=r.some(function(T){return T.gd==0}),r.length&&!c&&(h=nO,i0(e,h.sh),g=r.map(function(T){return T.Lb}),e.l.$a(Math.min.apply(Math,F(g))),e.h.updateDuration()),c&&L2(e),v=w(r),b=v.next();!b.done;b=v.next())x=b.value,x.stream.segmentIndex&&!Pa(x.stream.segmentIndex)&&e.h.disableStream(x.stream);te(S)})};function D2(e,t){return Vr(e)?e.O.get(t.type):t.Wd}function LU(e,t){var n,r,i,o,u,c,h,g,v,b,x,S,T,A,C,M,_,O,P,j,V,B,H,W,G,ee,re,ce,ae,oe,he,ge,Oe,Je;return L(function(Ne){switch(Ne.g){case 1:for(n=[],r=w(t.N()),i=r.next();!i.done;i=r.next())o=i.value,u=new En(o),c=u.g,t.Ed&&(0<=t.rb&&c.add("_HLS_msn",String(t.rb)),0<=t.sb&&c.add("_HLS_part",String(t.sb))),t.Fd&&c.add("_HLS_skip","YES"),R3(c)&&Au(u,c),n.push(u.toString());return se(Ne,2),k(Ne,F2(e,n,!0).promise,4);case 4:h=Ne.h,z(Ne,3);break;case 2:throw g=Y(Ne),e.h&&e.h.disableStream(t.stream),g;case 3:if(!t.stream.segmentIndex)return Ne.return();if(v=M2(e.Ua,h.data),v.type!=1)throw new $(2,4,4017);return b=h.uri,b==h.originalUri||t.N().includes(b)||t.Sg.push(b),x=Fi(v.W,"EXT-X-DEFINE"),S=R2(e,x,b),T=t.stream,A=D2(e,t),k(Ne,pC(e,v,T.mimeType,t.N,S),5);case 5:for(C=Ne.h,M=C.keyIds,_=C.drmInfos,O=function(st,Jt){return st.size===Jt.size&&[].concat(F(st)).every(function(Zt){return Jt.has(Zt)})},O(T.keyIds,M)||(T.keyIds=M,T.drmInfos=_,e.h.newDrmInfo(T)),P=yC(e,v,A,S,t.N,t.type),j=P.segments,(V=P.bandwidth)&&(T.bandwidth=V),B=rm(T),H=w(j),W=H.next();!W.done;W=H.next())G=W.value,G.$&&(G.$.Nc=B);T.segmentIndex.qd(j,e.l.pb()),j.length&&(ee=Fc(v.W,"EXT-X-MEDIA-SEQUENCE",0),ce=(re=Qn(v.W,"EXT-X-SKIP"))?Number(Fe(re,"SKIPPED-SEGMENTS")):0,ae=cC(ee,j),oe=ae.rb,he=ae.sb,t.rb=oe+ce,t.sb=he,ge=A.get(ee),T.segmentIndex.Ga(ge)),(Oe=Pa(T.segmentIndex))&&(t.tc=Oe.startTime,Je=j[j.length-1],t.Lb=Je.endTime),Qn(v.W,"EXT-X-ENDLIST")&&(t.gd=!0),U2(e,v),O2(e,v.W,T.type,S,t.N),te(Ne)}})}f.onExpirationUpdated=function(){},f.onInitialVariantChosen=function(){},f.banLocation=function(e){this.j&&this.j.banLocation(e)},f.setMediaElement=function(e){this.ca=e};function JA(e,t,n){n=n===void 0?!1:n;for(var r=e.I==-1,i=w(t),o=i.next();!o.done;o=i.next()){o=o.value;var u=o.stream.segmentIndex,c=D2(e,o);if(u=Pa(u)){c=w(c);for(var h=c.next();!h.done;h=c.next()){h=w(h.value);var g=h.next().value;if(h.next().value==u.startTime){r&&(e.I=Math.max(e.I,g)),o.Re=g;break}}}}if(!(0>e.I))for(t=w(t),r=t.next();!r.done;r=t.next())r=r.value,(vh(e,r.type)||n)&&(i=r.stream.segmentIndex)&&(o=e.I-r.Re,0<o&&(i.g.splice(0,o),i=Pa(i))&&(i=-i.startTime,r.stream.segmentIndex.offset(i),eC(e,r,i)))}function RU(e,t){if(e.ja==1/0){t=w(t);for(var n=t.next();!n.done;n=t.next())n=Pa(n.value.stream.segmentIndex),n!=null&&n.h!=null&&(e.ja=Math.min(e.ja,n.h))}if(t=e.ja,t!=1/0){n=w(e.i.values());for(var r=n.next();!r.done;r=n.next())if(r=r.value,!vh(e,r.type)){var i=r.stream.segmentIndex;if(i!=null){var o=Pa(i);if(o)if(o.h==null)et("Missing EXT-X-PROGRAM-DATE-TIME for stream",r.N(),"Expect AV sync issues!");else for(eC(e,r,o.h-t-o.startTime),r=w(i),i=r.next();!i.done;i=r.next())i.value.Vf(t)}}}}function eC(e,t,n){t.tc+=n,t.Lb+=n,e=D2(e,t);for(var r=w(e),i=r.next();!i.done;i=r.next()){var o=w(i.value);i=o.next().value,o=o.next().value,e.set(i,o+n)}t.N()}function NU(e,t,n){var r,i,o,u,c,h,g,v,b,x,S,T,A,C,M,_,O,P,j,V,B,H,W,G,ee,re,ce,ae,oe,he,ge,Oe,Je;return L(function(Ne){switch(Ne.g){case 1:return r=Nn,i=M2(e.Ua,t),o=Fi(i.W,"EXT-X-DEFINE"),u=[],c=[],h=[],e.l=new Ke(null,0),e.l.xc(!0),g=function(){return[n]},v=null,b=new Map,i.type==1?(e.R=!1,P=Fi(i.W,"EXT-X-DEFINE"),b=R2(e,P,e.M),v=r.ka,j="",V=new Map,k(Ne,lC(e,e.C++,b,i,g,"",v,j,!0,"Media Playlist",null,V,null,!1,null,!1),7)):(OU(e,o),x=Fi(i.W,"EXT-X-MEDIA"),S=Fi(i.W,"EXT-X-STREAM-INF"),T=Fi(i.W,"EXT-X-IMAGE-STREAM-INF"),A=Fi(i.W,"EXT-X-I-FRAME-STREAM-INF"),C=Fi(i.W,"EXT-X-SESSION-KEY"),M=Fi(i.W,"EXT-X-SESSION-DATA"),_=Fi(i.W,"EXT-X-CONTENT-STEERING"),FU(e,M),k(Ne,BU(e,_),4));case 4:return jU(e,S),WU(e,x),O=HU(e,A),k(Ne,qU(e,S,C,x,g,e.A,O),5);case 5:return u=Ne.h,c=VU(e,x),k(Ne,zU(e,T,A),6);case 6:h=Ne.h,Ne.u(3);break;case 7:B=Ne.h,e.i.set(n,B),B.stream&&(H=rm(B.stream),B.stream.segmentIndex.yb(function(st){st.$&&(st.$.Nc=H)})),v=B.stream.type,u.push({id:0,language:Gt(j||"und"),disabledUntilTime:0,primary:!0,audio:v=="audio"?B.stream:null,video:v=="video"?B.stream:null,bandwidth:B.stream.bandwidth||0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});case 3:if(!e.h)throw new $(2,7,7001);if(fC(e,i),i.type==1&&(Vr(e)&&(gC(e,i),W=e.o,e.B.Z(W)),G=Array.from(e.i.values()),N2(e,G),L2(e),O2(e,i.W,v,b,g)),e.m={presentationTimeline:e.l,variants:u,textStreams:c,imageStreams:h,offlineSessionIds:[],minBufferTime:0,sequenceMode:e.g.hls.sequenceMode,ignoreManifestTimestampsInSegmentsMode:e.g.hls.ignoreManifestTimestampsInSegmentsMode,type:"HLS",serviceDescription:null,nextUrl:null,periodCount:1,gapCount:0,isLowLatency:!1,startTime:e.s},e.fa||!e.g.hls.disableCodecGuessing){Ne.u(8);break}for(ee=[],re=w(e.m.variants),ce=re.next();!ce.done;ce=re.next())ae=ce.value,ae.audio&&ae.audio.codecs===""&&ee.push(ae.audio.createSegmentIndex()),ae.video&&ae.video.codecs===""&&ee.push(ae.video.createSegmentIndex());return k(Ne,Promise.all(ee),8);case 8:if(e.h.makeTextStreamsForClosedCaptions(e.m),u.length==1){for(oe=[],he=u[0],ge=w([he.video,he.audio]),Oe=ge.next();!Oe.done;Oe=ge.next())(Je=Oe.value)&&!Je.segmentIndex&&oe.push(Je.createSegmentIndex());if(0<oe.length)return k(Ne,Promise.all(oe),0)}Ne.u(0)}})}function UU(e,t){var n,r,i,o,u,c,h,g,v,b,x,S,T,A,C,M,_,O,P,j,V,B,H;return L(function(W){switch(W.g){case 1:if(n=im(e.g.hls.mediaPlaylistFullMimeType),!t.length)return W.return(n);if(r=bC(e,t),i=r.segment,o=r.segmentIndex,u=i.N(),c=u[0],h=new En(c),g=h.Ra.split(".").pop(),v=B2[g])return W.return(im(v));if(b=_a,S=x=null,T=i.$,!T){W.u(2);break}return A=yc(T.N(),T.Zb(),T.Xb(),e.g.retryParameters),k(W,zo(e,A,b,{type:0}).promise,3);case 3:if(C=W.h,x=C.data,!T.aesKey){W.u(4);break}return k(W,bb(x,T.aesKey,0),5);case 5:x=W.h;case 4:(S=C.headers["content-type"])&&(S=S.split(";")[0].toLowerCase());case 2:return M=yc(i.N(),i.Zb(),i.Xb(),e.g.retryParameters),k(W,zo(e,M,b,{type:1}).promise,6);case 6:if(_=W.h,O=_.data,!i.aesKey){W.u(7);break}return k(W,bb(O,i.aesKey,o),8);case 8:O=W.h;case 7:if((P=_.headers["content-type"])&&(P=P.split(";")[0].toLowerCase()),j="mp4 mp4a m4s m4i m4a m4f cmfa mp4v m4v cmfv fmp4".split(" "),V=["audio/mp4","video/mp4","video/iso.segment"],jp(Ge(O))){var G=O,ee=Ge(G);ee=new sn().parse(ee);var re=ee.cd();ee=ee.kf();var ce=[],ae=!1,oe=!1;switch(re.audio){case"aac":case"aac-loas":ce.push("mp4a.40.2"),ae=!0;break;case"mp3":ce.push("mp4a.40.34"),ae=!0;break;case"ac3":ce.push("ac-3"),ae=!0;break;case"ec3":ce.push("ec-3"),ae=!0;break;case"opus":ce.push("opus"),ae=!0}switch(re.video){case"avc":ee.codec?ce.push(ee.codec):ce.push("avc1.42E01E"),oe=!0;break;case"hvc":ee.codec?ce.push(ee.codec):ce.push("hvc1.1.6.L93.90"),oe=!0;break;case"av1":ce.push("av01.0.01M.08"),oe=!0}if(ce.length){if(re=ae&&!oe,ae=new Map,oe){oe=new Or("video/mp2t"),oe.i(G),G=w(oe.j());for(var he=G.next();!he.done;he=G.next())he=he.value,ae.set(he,he);oe.g()}ee={type:re?"audio":"video",mimeType:"video/mp2t",codecs:ce.join(", "),language:null,height:ee.height,width:ee.width,channelCount:null,sampleRate:null,closedCaptions:ae,xd:null,colorGamut:null,frameRate:ee.frameRate}}else ee=null;if(B=ee)return W.return(B)}else if((j.includes(g)||V.includes(P)||S&&V.includes(S))&&(H=IR(x,O)))return W.return(H);return P?W.return(im(P)):S?W.return(im(S)):W.return(n)}})}function L2(e){if(Vr(e)){if(e.za==s0){for(var t=1/0,n=1/0,r=w(e.i.values()),i=r.next();!i.done;i=r.next())i=i.value,i.stream.segmentIndex&&i.stream.type!="text"&&(t=Math.min(t,i.Lb),n=Math.min(n,i.tc));t=t-n||0,isNaN(e.g.availabilityWindowOverride)||(t=e.g.availabilityWindowOverride),e.l.oe(t)}}else e.l.$a(sC(e));if(!e.l.s)for(t=w(e.i.values()),n=t.next();!n.done;n=t.next())n=n.value,!n.stream.segmentIndex||n.type!="audio"&&n.type!="video"||(n=Pa(n.stream.segmentIndex))&&n.h&&e.l.ah(n.h);e.l.Vd()}function OU(e,t){var n=new En(e.M).g;t=w(t);for(var r=t.next();!r.done;r=t.next()){var i=r.value;r=Fe(i,"NAME");var o=Fe(i,"VALUE");i=Fe(i,"QUERYPARAM"),r&&o&&(e.A.has(r)||e.A.set(r,o)),i&&(r=n.get(i)[0])&&!e.A.has(r)&&e.A.set(i,r)}}function R2(e,t,n){n=new En(n).g;var r=new Map;t=w(t);for(var i=t.next();!i.done;i=t.next()){var o=i.value,u=Fe(o,"NAME"),c=Fe(o,"VALUE");i=Fe(o,"QUERYPARAM"),o=Fe(o,"IMPORT"),u&&c&&(r.has(u)||r.set(u,c)),i&&(u=n.get(i)[0])&&!r.has(u)&&r.set(i,u),o&&(i=e.A.get(o))&&r.set(o,i)}return r}function jU(e,t){t=w(t);for(var n=t.next();!n.done;n=t.next()){var r=n.value,i=Fe(r,"AUDIO");n=Fe(r,"VIDEO");var o=Fe(r,"SUBTITLES");if(r=tC(e,r),o){var u=Zr(bt,r);e.G.set(o,u),Xr(r,u)}i&&(o=Zr("audio",r),o||(o=e.g.hls.defaultAudioCodec),e.G.set(i,o)),n&&(i=Zr("video",r),i||(i=e.g.hls.defaultVideoCodec),e.G.set(n,i))}}function FU(e,t){t=w(t);for(var n=t.next();!n.done;n=t.next()){var r=n.value,i=Fe(r,"DATA-ID");n=Fe(r,"URI");var o=Fe(r,"LANGUAGE");r=Fe(r,"VALUE"),i=new Map().set("id",i),n&&i.set("uri",Ps([e.M],n,e.A)[0]),o&&i.set("language",o),r&&i.set("value",r),n=new Me("sessiondata",i),e.h&&e.h.onEvent(n)}}function BU(e,t){var n,r,i,o,u,c;return L(function(h){if(!e.h||!e.g)return h.return();for(r=w(t),i=r.next();!i.done;i=r.next())if(o=i.value,u=Fe(o,"PATHWAY-ID"),c=Fe(o,"SERVER-URI"),u&&c){e.j=new Uc(e.h),e.j.configure(e.g),e.j.i=[e.M],e.j.setManifestType("HLS"),e.j.h=u,n=lh(e.j,c);break}return k(h,n,0)})}function VU(e,t){var n=KA(t,"SUBTITLES");t=n.map(function(u){if(e.g.disableText)return null;try{return aC(e,[u],new Map).stream}catch(c){if(e.g.hls.ignoreTextStreamFailures)return null;throw c}}),n=w(n);for(var r=n.next();!r.done;r=n.next()){var i=Ht(r.value,"GROUP-ID");if((r=e.G.get(i))&&(i=e.H.get(i))){i=w(i);for(var o=i.next();!o.done;o=i.next())o=o.value,o.stream.codecs=r,o.stream.mimeType=j2(bt,r)||r0(bt),Bc(o.stream)}}return t.filter(function(u){return u})}function Bc(e){var t=new Set([Un(e.mimeType,e.codecs)]);e.segmentIndex&&e.segmentIndex.yb(function(n){n.mimeType&&t.add(Un(n.mimeType,e.codecs))}),e.fullMimeTypes=t}function zU(e,t,n){var r,i;return L(function(o){return o.g==1?(r=t.map(function(u){var c,h;return L(function(g){if(g.g==1)return e.g.disableThumbnails?g.return(null):(se(g,2),k(g,XU(e,u),4));if(g.g!=2)return c=g.h,g.return(c.stream);if(h=Y(g),e.g.hls.ignoreImageStreamFailures)return g.return(null);throw h})}).concat(n.map(function(u){if(e.g.disableThumbnails)return null;try{var c=oC(e,u);return c.stream.type!=="image"?null:c.stream}catch(h){if(e.g.hls.ignoreImageStreamFailures)return null;throw h}})),k(o,Promise.all(r),2)):(i=o.h,o.return(i.filter(function(u){return u})))})}function $U(e,t,n){t=t.filter(function(c){var h=Fe(c,"URI")||"";return Fe(c,"TYPE")!="SUBTITLES"&&h!=""});var r={};t=w(t);for(var i=t.next();!i.done;i=t.next()){i=i.value;var o=HA(i,!e.j);r[o]?r[o].push(i):r[o]=[i]}for(var u in r)aC(e,r[u],n)}function HU(e,t){return t.map(function(n){return n=oC(e,n),n.stream.type!=="video"?null:n.stream}).filter(function(n){return n})}function qU(e,t,n,r,i,o,u){var c,h,g,v,b,x,S,T,A,C,M,_,O,P,j,V,B,H,W,G,ee,re,ce,ae,oe,he,ge,Oe,Je,Ne,st,Jt,Zt,wn,jt;return L(function(Bt){switch(Bt.g){case 1:if(c=[],h=new Set,!(0<n.length)){Bt.u(2);break}g=w(n),v=g.next();case 3:if(v.done){Bt.u(2);break}if(b=v.value,x=Ht(b,"METHOD"),S=Fe(b,"KEYFORMAT")||"identity",T=null,x=="NONE"){Bt.u(4);break}if(a0(x)){A=Ps(i(),Ht(b,"URI"),o),C=A.sort().join(""),e.L.has(C)||(M=qn(A,e.g.retryParameters),_=zo(e,M,6).promise,e.L.set(C,_)),Bt.u(4);break}if(S!="identity"){T=(O=kC[S])?O(b,""):null,Bt.u(6);break}return k(Bt,SC(e,b,"",i,null,o),9);case 9:T=Bt.h;case 6:if(T){if(T.keyIds)for(P=w(T.keyIds),j=P.next();!j.done;j=P.next())V=j.value,h.add(V);c.push(T)}case 4:v=g.next(),Bt.u(3);break;case 2:for(B={},H=w(t),W=H.next();!W.done;W=H.next())G=W.value,ee=HA(G,!e.j),B[ee]?B[ee].push(G):B[ee]=[G];re=[];for(ce in B)ae=B[ce],oe=ae[0],he=Fe(oe,"FRAME-RATE"),ge=Number(Fe(oe,"AVERAGE-BANDWIDTH"))||Number(Ht(oe,"BANDWIDTH")),Oe=Fe(oe,"RESOLUTION"),Je=w(Oe?Oe.split("x"):[null,null]),Ne=Je.next().value,st=Je.next().value,Jt=Fe(oe,"VIDEO-RANGE"),(Zt=Fe(oe,"REQ-VIDEO-LAYOUT"))&&Zt.includes(",")&&(wn=Zt.split(",").filter(function(cn){return cn=="CH-STEREO"||cn=="CH-MONO"}),Zt=wn[0]),Zt=Zt||"CH-MONO",jt=GU(e,ae,r),re.push.apply(re,F(KU(e,jt.audio,jt.video,ge,Ne,st,he,Jt,Zt,c,h,u)));return Bt.return(re.filter(function(cn){return cn!=null}))}})}function GU(e,t,n){for(var r={audio:[],video:[]},i=new Map,o=[],u=!1,c=!1,h=w(t),g=h.next();!g.done;g=h.next()){var v=g.value;g=Fe(v,"AUDIO");var b=Fe(v,"VIDEO"),x=g||b;x&&(o.includes(x)||o.push(x),(v=Fe(v,"PATHWAY-ID"))&&i.set(x,v),g?u=!0:b&&(c=!0))}o.length&&n.length&&(h=n.filter(function(A){return o.includes(Ht(A,"GROUP-ID"))}),$U(e,h,i)),h=(i=o.sort().join(","))&&e.H.has(i)?e.H.get(i):[],u?r.audio.push.apply(r.audio,F(h)):c&&r.video.push.apply(r.video,F(h)),g=!1;var S=t.map(function(A){return Ht(A,"URI")});if(c=r.audio.find(function(A){return A&&A.N().find(function(C){return S.includes(C)})}),u=tC(e,t[0]),b=Zr("video",u),(x=Zr("audio",u))&&!b?(c="audio",g=0<r.audio.length):!r.audio.length&&!r.video.length&&x&&b?(c="video",u=[[b,x].join()]):r.audio.length&&c?(c="audio",g=!0):c=r.video.length&&!r.audio.length?"audio":"video",!g){var T=v=x=b=g=null;!h.length&&(n=n.find(function(A){var C=Fe(A,"URI")||"",M=Fe(A,"TYPE");return A=Ht(A,"GROUP-ID"),M!="SUBTITLES"&&C==""&&o.includes(A)}))&&(g=Fe(n,"LANGUAGE"),b=Fe(n,"NAME"),x=nC(n),iC(n),v=Fe(n,"CHARACTERISTICS"),T=rC(n)),e=YU(e,t,u,c,g,b,x,v,T),i&&(e.stream.groupId=i),r[e.stream.type]=[e]}return r}function tC(e,t){var n=Fe(t,"CODECS")||"";return t=Fe(t,"SUPPLEMENTAL-CODECS"),e.fa=0<n.length,e.fa||e.g.hls.disableCodecGuessing||(n=[],e.g.disableVideo||n.push(e.g.hls.defaultVideoCodec),e.g.disableAudio||n.push(e.g.hls.defaultAudioCodec),n=n.join(",")),e=n.split(/\s*,\s*/),t&&(t=t.split(/\s*,\s*/).map(function(r){return r.split("/")[0]}),e.push.apply(e,F(t))),yb(e)}function nC(e){return(e=Fe(e,"CHANNELS"))?parseInt(e.split("/")[0],10):null}function rC(e){return(e=Fe(e,"SAMPLE-RATE"))?parseInt(e,10):null}function iC(e){return(e=Fe(e,"CHANNELS"))?e.includes("/JOC"):!1}function KU(e,t,n,r,i,o,u,c,h,g,v,b){for(var x=w(n),S=x.next();!S.done;S=x.next())wC(S.value.stream,i,o,u,c,h,null);for(i=e.g.disableAudio,(!t.length||i)&&(t=[null]),i=e.g.disableVideo,(!n.length||i)&&(n=[null]),i=[],t=w(t),o=t.next();!o.done;o=t.next())for(o=o.value,u=w(n),c=u.next();!c.done;c=u.next()){var T=c.value;(c=o?o.stream:null)&&(c.drmInfos=g,c.keyIds=v),(h=T?T.stream:null)&&(h.drmInfos=g,h.keyIds=v,J3(h,b)),h&&!c&&(h.bandwidth=r),!h&&c&&(c.bandwidth=r),x=o?o.stream.drmInfos:null,S=T?T.stream.drmInfos:null,T=T?T.N().sort().join(","):"";var A=o?o.N().sort().join(","):"";T=T+" - "+A,c&&h&&!f3(x,S)||e.gb.has(T)||(c={id:e.C++,language:c?c.language:"und",disabledUntilTime:0,primary:!!c&&c.primary||!!h&&h.primary,audio:c,video:h,bandwidth:r,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},i.push(c),e.gb.add(T))}return i}function WU(e,t){t=KA(t,"CLOSED-CAPTIONS"),e.R=t.length==0,t=w(t);for(var n=t.next();!n.done;n=t.next()){var r=n.value,i=Fe(r,"LANGUAGE");n=Gt(i||"und"),i||(i=Fe(r,"NAME"))&&(n=i),i=Ht(r,"GROUP-ID"),r=Ht(r,"INSTREAM-ID").replace("SERVICE","svc"),e.F.get(i)||e.F.set(i,new Map),e.F.get(i).set(r,n)}}function aC(e,t,n){for(var r=[],i=[],o=new Map,u=w(t),c=u.next();!c.done;c=u.next()){var h=c.value;c=Ht(h,"URI"),h=Ht(h,"GROUP-ID"),r.push(c),i.push(h),o.set(h,c)}if(u=i.sort().join(","),c=t[0],t="",h=Ht(c,"TYPE").toLowerCase(),h=="subtitles"&&(h=bt),h==bt)t=Fe(c,"CODECS")||"";else{i=w(i);for(var g=i.next();!g.done;g=i.next())if(g=g.value,e.G.has(g)){t=e.G.get(g);break}}if(i=r.sort().join(","),e.i.has(i))return e.i.get(i);if(g=e.C++,e.j){o=w(o);for(var v=o.next();!v.done;v=o.next()){var b=w(v.value);v=b.next().value,b=b.next().value,(v=n.get(v))&&Oc(e.j,g,v,b)}}n=Fe(c,"LANGUAGE"),o=Fe(c,"NAME"),v=Fe(c,"DEFAULT")=="YES",b=h=="audio"?nC(c):null;var x=h=="audio"?iC(c):!1,S=Fe(c,"CHARACTERISTICS"),T=Fe(c,"FORCED")=="YES";return c=h=="audio"?rC(c):null,r=n0(e,g,r,t,h,n,v,o,b,null,S,T,c,x),r.stream&&(r.stream.groupId=u),e.H.has(u)?e.H.get(u).push(r):e.H.set(u,[r]),e.i.set(i,r),r}function XU(e,t){var n,r,i,o,u,c,h,g,v,b;return L(function(x){return x.g==1?(n=Ht(t,"URI"),r=Fe(t,"CODECS","jpeg")||"",e.i.has(n)?x.return(e.i.get(n)):(i=Fe(t,"LANGUAGE"),o=Fe(t,"NAME"),u=Fe(t,"CHARACTERISTICS"),c=n0(e,e.C++,[n],r,"image",i,!1,o,null,null,u,!1,null,!1),(h=Fe(t,"RESOLUTION"))?k(x,c.stream.createSegmentIndex(),3):x.u(2))):(x.g!=2&&(g=Pa(c.stream.segmentIndex),v=g.tilesLayout)&&(c.stream.width=Number(h.split("x")[0])*Number(v.split("x")[0]),c.stream.height=Number(h.split("x")[1])*Number(v.split("x")[1])),(b=Fe(t,"BANDWIDTH"))&&(c.stream.bandwidth=Number(b)),e.i.set(n,c),x.return(c))})}function oC(e,t){var n="video",r=Ht(t,"URI"),i=Fe(t,"CODECS")||"";if(i=="mjpg"&&(n="image"),e.i.has(r))return e.i.get(r);var o=Fe(t,"LANGUAGE"),u=Fe(t,"NAME"),c=Fe(t,"CHARACTERISTICS");return n=n0(e,e.C++,[r],i,n,o,!1,u,null,null,c,!1,null,!1),i=Fe(t,"RESOLUTION"),o=w(i?i.split("x"):[null,null]),i=o.next().value,o=o.next().value,n.stream.width=Number(i)||void 0,n.stream.height=Number(o)||void 0,(t=Fe(t,"BANDWIDTH"))&&(n.stream.bandwidth=Number(t)),e.i.set(r,n),n}function YU(e,t,n,r,i,o,u,c,h){for(var g=e.C++,v=[],b=w(t),x=b.next();!x.done;x=b.next()){var S=x.value;x=Ht(S,"URI"),S=Fe(S,"PATHWAY-ID"),e.j&&S&&Oc(e.j,g,S,x),v.push(x)}if(b=v.sort().join(","),e.i.has(b))return e.i.get(b);e:{if(t=Fe(t[0],"CLOSED-CAPTIONS"),r=="video"){if(e.g.disableText){e.R=!1,t=null;break e}if(t){if(t!="NONE"){t=e.F.get(t);break e}e.R=!1}else if(!t&&e.F.size)for(t=w(e.F.keys()).next();!t.done;){t=e.F.get(t.value);break e}}t=null}return n=ec(r,n),r=n0(e,g,v,n,r,i,!1,o,u,t,c,!1,h,!1),e.i.set(b,r),r}function n0(e,t,n,r,i,o,u,c,h,g,v,b,x,S){function T(j){var V,B,H,W,G,ee,re,ce,ae,oe,he,ge,Oe,Je,Ne,st,Jt,Zt,wn,jt,Bt,cn,ua;return L(function(Bn){switch(Bn.g){case 1:return V=Nn,se(Bn,2),B=_.N(),k(Bn,j.promise,4);case 4:if(H=Bn.h,j.aborted)return Bn.return();if(W=H.uri,W==H.originalUri||B.includes(W)||M.push(W),G=M2(e.Ua,H.data),G.type!=1)throw new $(2,4,4017);return ee=Fi(G.W,"EXT-X-DEFINE"),re=R2(e,ee,W),ce=!1,(!e.fa&&e.g.hls.disableCodecGuessing||e.R&&i==V.ka&&!e.g.hls.disableClosedCaptionsDetection)&&0<G.segments.length&&(e.R=!1,ce=!0),ae=!e.fa&&e.g.hls.disableCodecGuessing,oe=Vr(e),k(Bn,lC(e,0,re,G,A,r,i,o,u,c,h,g,v,b,x,S,void 0,ce,ae),5);case 5:if(he=Bn.h,j.aborted)return Bn.return();if(ge=he.stream,fC(e,G),Vr(e)&&!oe&&gC(e,G),_.tc=he.tc,_.Lb=he.Lb,_.Fd=he.Fd,_.Ed=he.Ed,_.gd=he.gd,_.Wd=he.Wd,_.rb=he.rb,_.sb=he.sb,_.wf=!0,C.segmentIndex=ge.segmentIndex,C.encrypted=ge.encrypted,C.drmInfos=ge.drmInfos,C.keyIds=ge.keyIds,C.mimeType=ge.mimeType,C.bandwidth=C.bandwidth||ge.bandwidth,C.codecs=C.codecs||ge.codecs,C.closedCaptions=C.closedCaptions||ge.closedCaptions,C.width=C.width||ge.width,C.height=C.height||ge.height,C.hdr=C.hdr||ge.hdr,C.colorGamut=C.colorGamut||ge.colorGamut,C.frameRate=C.frameRate||ge.frameRate,C.language=="und"&&ge.language!="und"&&(C.language=ge.language),C.language=C.language||ge.language,C.channelsCount=C.channelsCount||ge.channelsCount,C.audioSamplingRate=C.audioSamplingRate||ge.audioSamplingRate,Bc(C),C.drmInfos.length&&e.h.newDrmInfo(C),Oe=!1,(!g&&C.closedCaptions||g&&C.closedCaptions&&g.size!=C.closedCaptions.size)&&(Oe=!0),e.m&&Oe&&e.h.makeTextStreamsForClosedCaptions(e.m),i==V.ka||i==V.Y)for(Je=w(e.i.values()),Ne=Je.next();!Ne.done;Ne=Je.next())st=Ne.value,st.wf||st.type!=i||(st.stream.mimeType=ge.mimeType,Bc(st.stream));i==V.wa&&(Jt=Pa(ge.segmentIndex))&&Jt.$&&(C.mimeType="application/mp4",Bc(C)),Zt=rm(C),C.segmentIndex.yb(function(ki){ki.$&&(ki.$.Nc=Zt)}),ZU(e)&&(e.ac?N2(e,[_]):(e.ac=!0,wn=Array.from(e.i.values()),jt=wn.filter(function(ki){return ki.stream.segmentIndex}),N2(e,jt),L2(e),Bt=e.o,0<Bt&&e.B.Z(Bt))),O2(e,G.W,C.type,re,A),e.m&&(e.m.startTime=e.s),z(Bn,0);break;case 2:if(cn=Y(Bn),C.closeSegmentIndex(),cn.code===7001)return Bn.return();if(ua=e.h.disableStream(C),!ua)throw cn;te(Bn)}})}function A(){return e.j&&1<n.length?ch(e.j,t):M.concat(WA([e.M],n,e.A))}var C=dC(e,r,i,o,u,c,h,g,v,b,x,S),M=[],_={stream:C,type:i,Sg:M,N:A,tc:0,Lb:0,Wd:new Map,Fd:!1,Ed:!1,gd:!1,Re:-1,rb:-1,sb:-1,wf:!1},O=null,P;return C.createSegmentIndex=function(){return O||(P=F2(e,_.N(),!0),O=new Promise(function(j){j(T(P))}))},C.closeSegmentIndex=function(){O&&!C.segmentIndex&&P.abort(),C.segmentIndex&&(C.segmentIndex.release(),C.segmentIndex=null),O=null},_}function sC(e){var t=1/0;e=w(e.i.values());for(var n=e.next();!n.done;n=e.next())n=n.value,n.stream.segmentIndex&&n.stream.type!="text"&&(t=Math.min(t,n.Lb));return t}function uC(e,t){var n=[];t=w(t);for(var r=t.next();!r.done;r=t.next())r=r.value,r.segmentIndex&&r.segmentIndex.yb(function(i){n.push(i)});e.l.sd(n)}function N2(e,t){if(!Vr(e))for(var n=sC(e),r=w(t),i=r.next();!i.done;i=r.next())i.value.stream.segmentIndex.Gc(0,n);uC(e,t.map(function(o){return o.stream})),n=Vr(e)&&!e.bc,e.g.hls.ignoreManifestProgramDateTime||n?JA(e,t,n):(RU(e,t),0<e.g.hls.ignoreManifestProgramDateTimeForTypes.length&&JA(e,t))}function vh(e,t){return e.g.hls.ignoreManifestProgramDateTime?!0:e.g.hls.ignoreManifestProgramDateTimeForTypes.includes(t)}function ZU(e){if(!e.m)return!1;var t=[],n=[];e=w(e.m.variants);for(var r=e.next();!r.done;r=e.next())r=r.value,r.video&&t.push(r.video),r.audio&&n.push(r.audio);return!(0<t.length&&!t.some(function(i){return i.segmentIndex})||0<n.length&&!n.some(function(i){return i.segmentIndex}))}function lC(e,t,n,r,i,o,u,c,h,g,v,b,x,S,T,A,C,M,_){M=M===void 0?!0:M,_=_===void 0?!0:_;var O,P,j,V,B,H,W,G,ee,re,ce,ae,oe,he,ge,Oe,Je,Ne,st,Jt,Zt,wn,jt,Bt,cn,ua,Bn,ki,qi;return L(function(Vn){switch(Vn.g){case 1:if(O=r.segments||[],P=O.every(function(la){return!!Qn(la.W,"EXT-X-GAP")}),!O.length||P)throw new $(2,4,4053);if(QU(e,r),Vr(e)&&U2(e,r),j=Vr(e)?e.O.get(u):new Map,V=yC(e,r,j,n,i,u),B=V.segments,H=V.bandwidth,ce=re=ee=G=W=null,!(0<B.length&&M)){Vn.u(2);break}return k(Vn,UU(e,B),3);case 3:ae=Vn.h,u=ae.type,c=ae.language,v=ae.channelCount,T=ae.sampleRate,e.g.disableText||(b=ae.closedCaptions),G=ae.height,W=ae.width,ee=ae.xd,re=ae.colorGamut,ce=ae.frameRate,_&&(C=ae.mimeType,o=ae.codecs);case 2:if(C){Vn.u(4);break}return k(Vn,tO(e,u,o,B),5);case 5:C=Vn.h;case 4:return k(Vn,pC(e,r,C,i,n),6);case 6:if(oe=Vn.h,he=oe.drmInfos,ge=oe.keyIds,Oe=oe.encrypted,Je=oe.wh,Oe&&!he.length&&!Je)throw new $(2,4,4026);return Ne=dC(e,o,u,c,h,g,v,b,x,S,T,A),Ne.encrypted=Oe,Ne.drmInfos=he,Ne.keyIds=ge,Ne.mimeType=C,H&&(Ne.bandwidth=H),Bc(Ne),u=="video"&&(W||G||ee||re)&&wC(Ne,W,G,ce,ee,null,re),Vr(e)&&U2(e,r),st=B[0].startTime,Jt=B[B.length-1],Zt=Jt.endTime,wn=new Nt(B),Ne.segmentIndex=wn,Bt=(jt=Qn(r.W,"EXT-X-SERVER-CONTROL"))?mh(jt,"CAN-SKIP-UNTIL")!=null:!1,cn=jt?mh(jt,"CAN-BLOCK-RELOAD")!=null:!1,ua=Fc(r.W,"EXT-X-MEDIA-SEQUENCE",0),Bn=cC(ua,B),ki=Bn.rb,qi=Bn.sb,Vn.return({stream:Ne,type:u,Sg:[],N:i,tc:st,Lb:Zt,Fd:Bt,Ed:cn,gd:!1,Re:-1,rb:ki,sb:qi,Wd:j,wf:!1})}})}function cC(e,t){e=e+t.length-1;var n=-1;if(!t.length)return e++,{rb:e,sb:n};t=t[t.length-1];var r=t.g;return t.g.length?(n=r.length-1,r[r.length-1].isPreload()||(e++,n=0),{rb:e,sb:n}):(e++,t.m&&(n=0),{rb:e,sb:n})}function dC(e,t,n,r,i,o,u,c,h,g,v,b){var x=j2(n,t)||r0(n),S=[];if(h){h=w(h.split(","));for(var T=h.next();!T.done;T=h.next())S.push(T.value)}return h=void 0,T=null,n==bt?h=S.includes("public.accessibility.transcribes-spoken-dialog")&&S.includes("public.accessibility.describes-music-and-sound")?"caption":"subtitle":S.includes("public.accessibility.describes-video")&&(T="visually impaired"),S.length||h!=="subtitle"||S.push("subtitle"),e={id:e.C++,originalId:o,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:x,codecs:t,kind:n==bt?"subtitle":void 0,encrypted:!1,drmInfos:[],keyIds:new Set,language:Gt(r||"und"),originalLanguage:r,label:o,type:n,primary:i,trickModeVideo:null,emsgSchemeIdUris:null,frameRate:void 0,pixelAspectRatio:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:S,forced:g,channelsCount:u,audioSamplingRate:v,spatialAudio:b,closedCaptions:c,hdr:void 0,colorGamut:void 0,videoLayout:void 0,tilesLayout:void 0,accessibilityPurpose:T,external:!1,fastSwitching:!1,fullMimeTypes:new Set},Bc(e),e}function pC(e,t,n,r,i){var o,u,c,h,g,v,b,x,S,T,A,C,M,_,O,P,j,V,B,H,W,G,ee,re,ce,ae,oe,he;return L(function(ge){switch(ge.g){case 1:if(o=new Map,t.segments){for(u=w(t.segments),c=u.next();!c.done;c=u.next())if(h=c.value,g=Fi(h.W,"EXT-X-KEY"),v=null,g.length)for(v=mC(e,t,h.W,r,i),b=w(g),x=b.next();!x.done;x=b.next())S=x.value,o.set(S,v)}A=T=!1,C=[],M=new Set,_=w(o),O=_.next();case 2:if(O.done){ge.u(4);break}if(P=O.value,j=w(P),V=j.next().value,B=j.next().value,H=V,W=B,G=Ht(H,"METHOD"),G=="NONE"){ge.u(3);break}if(T=!0,ee=Fe(H,"KEYFORMAT")||"identity",re=null,a0(G)){A=!0,ge.u(3);break}if(ee!="identity"){re=(ce=kC[ee])?ce(H,n):null,ge.u(6);break}return k(ge,SC(e,H,n,r,W,i),8);case 8:re=ge.h;case 6:if(re){if(re.keyIds)for(ae=w(re.keyIds),oe=ae.next();!oe.done;oe=ae.next())he=oe.value,M.add(he);C.push(re)}case 3:O=_.next(),ge.u(2);break;case 4:return ge.return({drmInfos:C,keyIds:M,encrypted:T,wh:A})}})}function hC(e,t,n,r,i){if(!d.crypto||!d.crypto.subtle)throw ze("Web Crypto API is not available to decrypt AES. (Web Crypto only exists in secure origins like https)"),new $(2,4,4042);var o=0,u=Fe(t,"IV","");if(u){var c=Iu(u.substr(2));if(c.byteLength!=16)throw new $(2,4,4048)}else o=Fc(n.W,"EXT-X-MEDIA-SEQUENCE",0);if(n=t.toString()+"-"+o,!e.la.has(n)){var h={bitsKey:128,blockCipherMode:"CBC",iv:c,firstMediaSequenceNumber:o};switch(Ht(t,"METHOD")){case"AES-256":h.bitsKey=256;break;case"AES-256-CTR":h.bitsKey=256,h.blockCipherMode="CTR"}h.fetchKey=function(){var g,v,b,x,S,T;return L(function(A){if(A.g==1)return g=Ps(r(),Ht(t,"URI"),i),v=g.sort().join(""),e.L.has(v)||(b=qn(g,e.g.retryParameters),x=zo(e,b,6).promise,e.L.set(v,x)),k(A,e.L.get(v),2);if(A.g!=3){if(S=A.h,!S.data||S.data.byteLength!=h.bitsKey/8)throw new $(2,4,4049);return T={name:h.blockCipherMode=="CTR"?"AES-CTR":"AES-CBC",length:h.bitsKey},k(A,d.crypto.subtle.importKey("raw",S.data,T,!0,["decrypt"]),3)}h.cryptoKey=A.h,h.fetchKey=void 0,te(A)})},e.la.set(n,h)}return e.la.get(n)}function fC(e,t){e.s==null&&(t=Qn(t.W,"EXT-X-START"))&&(e.s=Number(Ht(t,"TIME-OFFSET")))}function QU(e,t){var n=Qn(t.W,"EXT-X-PLAYLIST-TYPE");t=Qn(t.W,"EXT-X-ENDLIST"),t=n&&n.value=="VOD"||t,n=n&&n.value=="EVENT"&&!t,n=!t&&!n,t?i0(e,o0):n?i0(e,s0):i0(e,EC)}function U2(e,t){var n=1/0,r=t.segments;if(r.length)for(var i=r.length-1;0<=i;){var o=Qn(r[i].W,"EXTINF");if(o){n=Number(o.value.split(",")[0]);break}i--}if(r=Qn(t.W,"EXT-X-TARGETDURATION"),!r)throw new $(2,4,4024,"EXT-X-TARGETDURATION");r=Number(r.value),(i=Qn(t.W,"EXT-X-PART-INF"))&&(e.X=Number(Ht(i,"PART-TARGET"))),t=Qn(t.W,"EXT-X-SERVER-CONTROL"),e.K&&e.X?(e.o=e.Ib?5*e.X<=n?Math.min(e.X,e.o):Math.min(n,e.o):Math.min(e.X,e.o),e.Fa=t?Number(Ht(t,"PART-HOLD-BACK")):0):(e.o=Math.min(n,e.o),n=t?mh(t,"HOLD-BACK"):null,e.Ea=n?Number(n.value):0),e.cb=Math.max(r,e.cb)}function gC(e,t){var n=0;if(e.g.defaultPresentationDelay)n=e.g.defaultPresentationDelay;else if(e.Fa)n=e.Fa;else if(e.Ea)n=e.Ea;else{var r=t.segments.length,i=e.g.hls.liveSegmentsDelay;for(i>r-2&&(i=Math.max(1,r-2)),i=r-i;i<r;i++){var o=Qn(t.segments[i].W,"EXTINF");n=o?n+Math.ceil(Number(o.value.split(",")[0])):n+e.cb}}e.s&&0>e.s&&(n=Math.min(-e.s,n),e.s+=n),e.l.bh(0),e.l.Pf(n),e.l.xc(!1)}function mC(e,t,n,r,i){var o=Qn(n,"EXT-X-MAP");if(!o)return null;var u=Ht(o,"URI"),c=Ps(r(),u,i);if(u=[c.toString(),Fe(o,"BYTERANGE","")].join("-"),!e.sa.has(u)){var h=void 0,g=null;n=w(n);for(var v=n.next();!v.done;v=n.next())v=v.value,v.name=="EXT-X-KEY"?a0(Ht(v,"METHOD"))&&v.id<o.id&&(h=hC(e,v,t,r,i)):v.name=="EXT-X-BYTERANGE"&&v.id<o.id&&(g=v);t=JU(c,o,g,h),e.sa.set(u,t)}return e.sa.get(u)}function JU(e,t,n,r){var i=0,o=null;return t=Fe(t,"BYTERANGE"),!t&&n&&(t=n.value),t&&(i=t.split("@"),o=Number(i[0]),i=Number(i[1]),o=i+o-1,r&&(n=o+1-i,n%16&&(o+=16-n%16))),new Jr(function(){return e},i,o,null,null,null,r)}function eO(e,t,n,r,i,o,u,c,h){function g(Oe){Oe=new En(Oe).Ra.split(".").pop();var Je=V2[u][Oe];return Je||(Je=B2[Oe]),Je}var v=r.W,b=Qn(v,"EXTINF"),x=0,S=0,T=null;r.Cb.length&&(e.m.isLowLatency=!0);var A=null;if(!e.g.hls.ignoreManifestProgramDateTime){var C=Qn(v,"EXT-X-PROGRAM-DATE-TIME");C&&C.value&&(A=ys(C.value),e.bc=!0)}var M=Do;if(Qn(v,"EXT-X-GAP")&&(e.m.gapCount++,M=2),!b){if(r.Cb.length==0)throw new $(2,4,4024,"EXTINF");if(!e.K)return null}var _=[];C=!1;var O=null,P=!1,j=!1;if(e.K&&r.Cb.length){x=t&&d.ReadableStream&&e.g.hls.allowLowLatencyByteRangeOptimization;for(var V=A,B={},H=0;H<r.Cb.length;B={ve:void 0,ee:void 0},H++){var W=r.Cb[H],G=H==0?n:_[_.length-1],ee=H==0?i:G.endTime,re=Number(Fe(W,"DURATION"))||e.X;if(re){var ce=ee+re,ae=0,oe=null;if(W.name=="EXT-X-PRELOAD-HINT"?(ae=(ae=Fe(W,"BYTERANGE-START"))?Number(ae):0,(G=Fe(W,"BYTERANGE-LENGTH"))?oe=ae+Number(G)-1:ae&&(oe=Number.MAX_SAFE_INTEGER)):(ae=Fe(W,"BYTERANGE"),oe=w(vC(G,ae)),ae=oe.next().value,oe=oe.next().value),B.ee=Fe(W,"URI"),B.ee){G=Do,Fe(W,"GAP")=="YES"&&(e.m.gapCount++,G=2,P=!0),B.ve=null;var he=function(Oe){return function(){return Oe.ve==null&&(Oe.ve=Ps(c(),Oe.ee,o)),Oe.ve}}(B);x&&0<=ae&&oe!=null&&(O=he,C=!0),ee=new Ye(ee,ce,he,ae,oe,t,0,0,1/0,[],"",null,V,G,h),W.name=="EXT-X-PRELOAD-HINT"&&(ee.xf(),j=!0),Fe(W,"INDEPENDENT")!="YES"&&0<H&&ee.Mc(),(B=g(B.ee))&&(ee.mimeType=B,TC.has(B)&&(ee.$=null)),_.push(ee),V&&(V+=re)}}}}if(b){if(b=Number(b.value.split(",")[0]),b==0)return null;x=i+b}else if(_.length)x=_[_.length-1].endTime;else return null;C&&(P||_[0].Ha!=0?(C=!1,O=null):_=[]),(b=Qn(v,"EXT-X-BYTERANGE"))?(T=w(vC(n,b.value)),S=T.next().value,T=T.next().value):_.length&&(S=_[0].Ha,T=_[_.length-1].ua),n="",b=null,u=="image"&&(n="1x1",v=Qn(v,"EXT-X-TILES"))&&(n=Ht(v,"LAYOUT"),(v=Fe(v,"DURATION"))&&(b=Number(v)));var ge=null;return t=new Ye(i,x,function(){return O?O():(ge==null&&(ge=Ps(c(),r.g,o)),ge||[])},S,T,t,0,0,1/0,_,n,b,A,M,h,0<_.length&&!!r.g),(i=g(r.g))&&(t.mimeType=i,TC.has(i)&&(t.$=null)),C&&(e.Ib=!0,t.Hg(),j&&t.xf()),t}function vC(e,t){var n=0,r=null;return t&&(n=t.split("@"),t=Number(n[0]),n=n[1]?Number(n[1]):e.ua+1,r=n+t-1),[n,r]}function O2(e,t,n,r,i){if(n=="video"||n=="audio"){var o=e.l.m;if(o&&!vh(e,n))for(t=Fi(t,"EXT-X-DATERANGE"),t=t.sort(function(ee,re){return ee=Ht(ee,"START-DATE"),re=Ht(re,"START-DATE"),ee<re?-1:ee>re?1:0}),n=0;n<t.length;n++){var u=t[n];try{var c=Ht(u,"ID");if(!e.Da.has(c)){var h=Ht(u,"START-DATE"),g=ys(h);if(!isNaN(g)){var v=Math.max(0,g-o),b=null,x=Fe(u,"END-DATE");if(x){var S=ys(x);if(!isNaN(S)&&(b=S-o,0>b))continue}if(b==null){var T=Fe(u,"DURATION")||Fe(u,"PLANNED-DURATION");if(T){var A=parseFloat(T);if(isNaN(A)||(b=v+A),0>g-o+A)continue}}var C=Fe(u,"CLASS")||"com.apple.quicktime.HLS",M=Fe(u,"END-ON-NEXT")=="YES";if(b==null&&M){for(var _=n+1;_<t.length;_++){var O=Fe(t[_],"CLASS")||"com.apple.quicktime.HLS";if(C==O){var P=Ht(t[_],"START-DATE"),j=ys(P);if(!isNaN(j)&&j&&j>g){b=Math.max(0,j-o);break}}}if(b==null)continue}_=["CLASS","START-DATE","END-DATE","DURATION","END-ON-NEXT"];for(var V=[],B=w(u.attributes),H=B.next();!H.done;H=B.next()){var W=H.value;if(!_.includes(W.name)){var G=XA(W.value,r);(W.name=="X-ASSET-URI"||W.name=="X-ASSET-LIST")&&(G=Ps(i(),W.value,r)[0]),V.push({key:W.name,description:"",data:G,mimeType:null,pictureType:null})}}1<V.length&&e.h.onMetadata(C,v,b,V),e.Da.add(c)}}}catch{}}}}function yC(e,t,n,r,i,o){var u=t.segments,c=void 0,h=Fc(t.W,"EXT-X-DISCONTINUITY-SEQUENCE",0),g=Fc(t.W,"EXT-X-MEDIA-SEQUENCE",0),v=Qn(t.W,"EXT-X-SKIP"),b=v?Number(Fe(v,"SKIPPED-SEGMENTS")):0,x=g+b,S=0;Vr(e)&&n.has(x)&&(S=n.get(x)),S===0&&e.za==s0&&0<n.size&&!n.has(x)&&e.l.i!=null&&(S=e.l.pb());var T=[],A=null;v=[];for(var C=0;C<u.length;C++){var M=u[C],_=C==0?S:A.endTime;x=g+b+C,Qn(M.W,"EXT-X-DISCONTINUITY")&&h++;for(var O=w(M.W),P=O.next();!P.done;P=O.next())P=P.value,P.name=="EXT-X-KEY"&&(a0(Ht(P,"METHOD"))?c=hC(e,P,t,i,r):c=void 0);n.set(x,_),O=mC(e,t,M.W,i,r),!e.K&&e.h.isAutoLowLatencyMode()&&(e.h.enableLowLatencyMode(),e.K=e.h.isLowLatencyMode()),(_=eO(e,O,A,M,_,r,o,i,c))&&((A=Fc(M.W,"EXT-X-BITRATE"))?v.push({bitrate:A,duration:_.endTime-_.startTime}):v.length&&(A=v.pop(),A.duration+=_.endTime-_.startTime,v.push(A)),A=_,_.i=h,vh(e,o)&&e.I!=null&&x<e.I||T.push(_))}if(t=void 0,v.length&&(t=v.reduce(function(j,V){return j+V.duration},0),t=Math.round(v.reduce(function(j,V){return j+V.bitrate*V.duration},0)/t*1e3)),v=T.some(function(j){return j.h!=null})){for(n={},r=0;r<T.length;n={Jd:void 0,Id:void 0,Bd:void 0,vc:void 0,zd:void 0},r++)if(n.vc=T[r],n.vc.h==null)for(n.Id=0,n.Jd=r,i=function(j){return function(){var V=T[j.Jd];if(V){if(V.h!=null)return V.h+j.Id;j.Id-=V.endTime-V.startTime,j.Jd+=1}return null}}(n),n.zd=0,n.Bd=r,u=function(j){return function(){var V=T[j.Bd];if(V){if(V!=j.vc&&(j.zd+=V.endTime-V.startTime),V.h!=null)return V.h+j.zd;--j.Bd}return null}}(n);n.vc.h==null;)n.vc.h=u(),n.vc.h==null&&(n.vc.h=i())}if(v)for(n=w(T),r=n.next();!r.done;r=n.next())for(i=r.value,r=i.h,i=w(i.g),u=i.next();!u.done;u=i.next())u=u.value,u.h=r,r+=u.endTime-u.startTime;if(n=e.ja,v&&n!=1/0&&!vh(e,o))for(e=w(T),o=e.next();!o.done;o=e.next())o.value.Vf(n);return{segments:T,bandwidth:t}}function j2(e,t){if(e==bt){if(t=="vtt"||t=="wvtt")return"text/vtt";if(t&&t!=="")return"application/mp4"}return e!="image"||t&&t!="jpeg"?e=="audio"&&t=="mp4a.40.34"?"audio/mpeg":t=="mjpg"?"application/mp4":null:"image/jpeg"}function r0(e){return e==bt?"text/vtt":V2[e].mp4}function bC(e,t){e=Vr(e)?Math.trunc((t.length-1)/2):0;for(var n=t[e];n.$b()==2&&e+1<t.length;)e++,n=t[e];return{segment:n,segmentIndex:e}}function tO(e,t,n,r){var i,o,u,c,h,g,v,b,x,S,T,A,C,M;return L(function(_){switch(_.g){case 1:return i=_a,o=bC(e,r),u=o.segment,u.status==2?_.return(r0(t)):(c=u.N(),h=new En(c[0]),g=h.Ra.split(".").pop(),v=V2[t],(b=v[g])||(b=B2[g])||(b=j2(t,n))?_.return(b):(S=1,T=qn(c,e.g.retryParameters),se(_,2),T.method="HEAD",k(_,zo(e,T,i,{type:S}).promise,4)));case 4:A=_.h,x=A.headers["content-type"],z(_,3);break;case 2:if(C=Y(_),!C||C.code!=1002&&C.code!=1001){_.u(3);break}return T.method="GET",k(_,zo(e,T,i,{type:S}).promise,6);case 6:M=_.h,x=M.headers["content-type"];case 3:return x?_.return(x.toLowerCase().split(";")[0]):_.return(r0(t))}})}function wC(e,t,n,r,i,o,u){e&&(e.width=Number(t)||void 0,e.height=Number(n)||void 0,e.frameRate=Number(r)||void 0,e.hdr=i||void 0,e.videoLayout=o||void 0,e.colorGamut=u||void 0)}function F2(e,t,n){return zo(e,qn(t,e.g.retryParameters),0,{type:n?2:3})}function xC(e){var t,n,r,i,o,u;return L(function(c){switch(c.g){case 1:return e.h?(se(c,2),t=Date.now(),k(c,e.update(),4)):c.return();case 4:n=Date.now(),Vr(e)&&(r=(n-t)/1e3,e.Gb.sample(1,r),i=e.o,o=Math.max(0,i-Ve(e.Gb)),e.B.Z(o)),z(c,3);break;case 2:if(u=Y(c),!e.h)return c.return();if(e.g.raiseFatalErrorOnManifestUpdateRequestFailure)return e.h.onError(u),c.return();u.severity=1,e.h.onError(u),e.B.Z(.1);case 3:if(!e.h)return c.return();e.h.onManifestUpdated(),te(c)}})}function Vr(e){return e.za!=o0}function i0(e,t){e.za=t,e.l&&e.l.xc(!Vr(e)),Vr(e)||e.B.stop()}function zo(e,t,n,r){if(!e.ea)throw new $(2,7,7001);return r||(r={}),r.isPreload=e.Hb(),t=e.h.networkingEngine.request(n,t,r),Lu(e.ea,t),t}function a0(e){return e=="AES-128"||e=="AES-256"||e=="AES-256-CTR"}function SC(e,t,n,r,i,o){var u,c,h,g,v,b,x,S,T,A,C,M,_,O,P;return L(function(j){switch(j.g){case 1:if(n=="video/mp2t")throw new $(2,4,4040);if(Sg())throw new $(2,4,4041);if(u=Ht(t,"METHOD"),c=["SAMPLE-AES","SAMPLE-AES-CTR"],!c.includes(u))return j.return(null);if(h=Ps(r(),Ht(t,"URI"),o),h[0].startsWith("data:text/plain;base64,")){g=Io(Ri(h[0].split("data:text/plain;base64,").pop())),j.u(2);break}return v=h.sort().join(""),e.oa.has(v)||(b=qn(h,e.g.retryParameters),x=zo(e,b,6).promise,e.oa.set(v,x)),k(j,e.oa.get(v),3);case 3:S=j.h,g=Io(S.data);case 2:if(T="00000000000000000000000000000000",!i){j.u(4);break}if(e.ra.has(i)){A=e.ra.get(i),j.u(5);break}return C=yc(i.N(),i.Zb(),i.Xb(),e.g.retryParameters),M=_a,k(j,zo(e,C,M,{type:0}).promise,6);case 6:_=j.h,A=_R(_.data),e.ra.set(i,A);case 5:A&&(T=A);case 4:return O=new Map,O.set(T,g),P="cenc",u=="SAMPLE-AES"&&(P="cbcs"),j.return(N3(O,P))}})}Ae("shaka.hls.HlsParser",t0);var B2={aac:"audio/aac",ac3:"audio/ac3",ec3:"audio/ec3",mp3:"audio/mpeg"},V2={audio:{mp4:"audio/mp4",mp4a:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",m4f:"audio/mp4",cmfa:"audio/mp4",ts:"video/mp2t",tsa:"video/mp2t"},video:{mp4:"video/mp4",mp4v:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",m4f:"video/mp4",cmfv:"video/mp4",ts:"video/mp2t",tsv:"video/mp2t"},text:{mp4:"application/mp4",m4s:"application/mp4",m4i:"application/mp4",m4f:"application/mp4",cmft:"application/mp4",vtt:"text/vtt",webvtt:"text/vtt",ttml:"application/ttml+xml"},image:{jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml",webp:"image/webp",avif:"image/avif"}},TC=new Set(["video/mp2t"].concat(F(Ts))),kC={"com.apple.streamingkeydelivery":function(e,t){if(t=="video/mp2t")throw new $(2,4,4040);if(Sg())throw new $(2,4,4041);if(t=Ht(e,"METHOD"),!["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t))return null;var n="cenc";return t=="SAMPLE-AES"&&(n="cbcs"),Mu("com.apple.fps",n,[{initDataType:"sinf",initData:new Uint8Array(0),keyId:null}],Ht(e,"URI"))},"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(e){var t=Ht(e,"METHOD");if(!["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t))return null;var n="cenc";return t=="SAMPLE-AES"&&(n="cbcs"),t=Ht(e,"URI"),t=P2(t.split("?")[0]),t=Ge(t.data),n=Mu("com.widevine.alpha",n,[{initDataType:"cenc",initData:t}]),(e=Fe(e,"KEYID"))&&(n.keyIds=new Set([e.toLowerCase().substr(2)])),n},"com.microsoft.playready":function(e){var t=Ht(e,"METHOD");if(!["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t))return null;var n="cenc";return t=="SAMPLE-AES"&&(n="cbcs"),e=Ht(e,"URI"),e=P2(e.split("?")[0]),e=Ge(e.data),t=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),e=qg(e,t,new Set,0),Mu("com.microsoft.playready",n,[{initDataType:"cenc",initData:e}])}},o0="VOD",EC="EVENT",s0="LIVE",nO={sh:o0,rj:EC,zj:s0};ia["application/x-mpegurl"]=function(){return new t0},ia["application/vnd.apple.mpegurl"]=function(){return new t0};function rO(e){var t=0,n=cr(e),r=n.getUint32(t,!0);if(r!=e.byteLength)return[];e:{for(e=t+6,t=[];e<n.byteLength-1;){r=n.getUint16(e,!0),e+=2;var i=n.getUint16(e,!0);if(e+=2,i&1||i+e>n.byteLength){n=[];break e}var o=Ge(n,e,i);t.push({type:r,value:o}),e+=i}n=t}return n}function u0(e){if(e=AC(e))e:{e=w(na(e,"DATA"));for(var t=e.next();!t.done;t=e.next())if(t=xr(t.value,"LA_URL")){e=Mn(t);break e}e=""}else e="";return e}function AC(e){return e=Ri(Mn(e)),e=rO(e).filter(function(t){return t.type===iO})[0],e?(e=So(e.value,!0),(e=Yl(e,"WRMHEADER"))?e:null):null}var iO=1,aO=new Map().set("com.microsoft.playready",u0).set("com.microsoft.playready.recommendation",u0).set("com.microsoft.playready.software",u0).set("com.microsoft.playready.hardware",u0);function Vc(e){if(!_C){_C=!0;var t=new Uint8Array([105,115,111,109]),n=new Uint8Array([97,118,99,49]),r=new Uint8Array([0,0,0,1]);l0=St("ftyp",t,r,t,n),t=St("dref",mO),z2=St("dinf",t)}this.g=e}function zc(e){for(var t=[],n=w(e.g),r=n.next();!r.done;r=n.next()){var i=t,o=i.push,u=r.value;r=St;var c=u.id+1,h=u.stream.width||0,g=u.stream.height||0;u.type=="audio"&&(g=h=0);var v=u.duration*u.timescale,b=Math.floor(v/(Ds+1));switch(v=Math.floor(v%(Ds+1)),c=new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(F(mn(c,4)),[0,0,0,0],F(mn(b,4)),F(mn(v,4)),[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0],F(mn(h,2)),[0,0],F(mn(g,2)),[0,0])),c=St("tkhd",c),h=St,b=u.duration*u.timescale,g=Math.floor(b/(Ds+1)),b=Math.floor(b%(Ds+1)),v=u.stream.language,v=v.charCodeAt(0)-96<<10|v.charCodeAt(1)-96<<5|v.charCodeAt(2)-96,g=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(F(mn(u.timescale,4)),F(mn(g,4)),F(mn(b,4)),F(mn(v,2)),[0,0])),g=St("mdhd",g),b=u,v=new Uint8Array([]),b.type){case"video":v=sO;break;case"audio":v=uO}b=St("hdlr",v);e:{switch(u.type){case"video":u=St("minf",St("vmhd",hO),z2,CC(u));break e;case"audio":u=St("minf",St("smhd",fO),z2,CC(u));break e}u=new Uint8Array([])}u=h("mdia",g,b,u),r=r("trak",c,u),o.call(i,r)}for(t=An.apply(Ir,F(t)),o=e.g[0],n=St,r=o.duration*o.timescale,i=Math.floor(r/(Ds+1)),r=Math.floor(r%(Ds+1)),i=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(F(mn(o.timescale,4)),F(mn(i,4)),F(mn(r,4)),[0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255])),i=St("mvhd",i),r=[],e=w(e.g),h=e.next();!h.done;h=e.next())u=r,c=u.push,h=new Uint8Array([0,0,0,0].concat(F(mn(h.value.id+1,4)),[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),h=St("trex",h),c.call(u,h);if(e=An.apply(Ir,F(r)),e=St("mvex",e),r=[],o.encrypted){for(o=w(o.stream.drmInfos),u=o.next();!u.done;u=o.next())if(u=u.value,u.initData)for(u=w(u.initData),c=u.next();!c.done;c=u.next())r.push(c.value.initData);o=An.apply(Ir,F(r))}else o=new Uint8Array([]);return e=n("moov",i,t,e,o),t=new Uint8Array(l0.byteLength+e.byteLength),t.set(l0),t.set(e,l0.byteLength),t}function CC(e){var t=St,n=new Uint8Array([]);switch(e.type){case"video":if(e.codecs.includes("avc1")){n=e.stream.width||0;var r=e.stream.height||0;if(0<e.ya.byteLength)var i=St("avcC",e.ya);else{i=St;for(var o=7,u=[],c=[],h=0,g=0,v=0,b=0;b<e.bb.length;b++){var x=MC(e.bb[b]);switch(x[0]&31){case 7:u.push(x),o+=x.length+2;break;case 8:c.push(x),o+=x.length+2}}for(0<u.length&&(h=u[0][1],v=u[0][2],g=u[0][3]),o=new Uint8Array(o),b=0,o[b++]=1,o[b++]=h,o[b++]=v,o[b++]=g,o[b++]=255,o[b++]=224|u.length,h=0;h<u.length;h++)o[b++]=(u[h].length&65280)>>8,o[b++]=u[h].length&255,o.set(u[h],b),b+=u[h].length;for(o[b++]=c.length,u=0;u<c.length;u++)o[b++]=(c[u].length&65280)>>8,o[b++]=c[u].length&255,o.set(c[u],b),b+=c[u].length;i=i("avcC",o)}n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].concat(F(mn(n,2)),F(mn(r,2)),[0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17])),r="avc1",c=IC(e),u=new Uint8Array([]),e.encrypted&&(u=$c(e),r="encv"),n=St(r,n,i,c,u)}else e.codecs.includes("hvc1")&&(r=e.stream.width||0,i=e.stream.height||0,n=new Uint8Array([]),0<e.ya.byteLength&&(n=St("hvcC",e.ya)),r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].concat(F(mn(r,2)),F(mn(i,2)),[0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17])),i="hvc1",c=IC(e),u=new Uint8Array([]),e.encrypted&&(u=$c(e),i="encv"),n=St(i,r,n,c,u));break;case"audio":e.codecs.includes("mp3")?e=St(".mp3",yh(e)):e.codecs.includes("ac-3")?(n=St("dac3",e.pa),r="ac-3",i=new Uint8Array([]),e.encrypted&&(i=$c(e),r="enca"),e=St(r,yh(e),n,i)):e.codecs.includes("ec-3")?(n=St("dec3",e.pa),r="ec-3",i=new Uint8Array([]),e.encrypted&&(i=$c(e),r="enca"),e=St(r,yh(e),n,i)):e.codecs.includes("opus")?(n=St("dOps",e.pa),r="Opus",i=new Uint8Array([]),e.encrypted&&(i=$c(e),r="enca"),e=St(r,yh(e),n,i)):(0<e.pa.byteLength?n=St("esds",e.pa):(n=St,r=e.id+1,i=e.stream.channelsCount||2,u=e.stream.audioSamplingRate||44100,h=ec("audio",e.codecs.split(",")),g={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12},c=g[u],(h==="mp4a.40.5"||h==="mp4a.40.29")&&(c=g[2*u]),u=parseInt(h.split(".").pop(),10),r=new Uint8Array([0,0,0,0,3,25].concat(F(mn(r,2)),[0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2,u<<3|c>>>1,c<<7|i<<3,6,1,2])),n=n("esds",r)),r="mp4a",i=new Uint8Array([]),e.encrypted&&(i=$c(e),r="enca"),e=St(r,yh(e),n,i)),n=e}return e=St("stsd",gO,n),t("stbl",e,St("stts",lO),St("stsc",cO),St("stsz",pO),St("stco",dO))}function IC(e){if(!e.Ba&&!e.Ca)return new Uint8Array([]);var t=e.Ca;return e=new Uint8Array([].concat(F(mn(e.Ba,4)),F(mn(t,4)))),St("pasp",e)}function yh(e){return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.stream.channelsCount||2,0,16,0,0,0,0].concat(F(mn(e.stream.audioSamplingRate||44100,2)),[0,0]))}function $c(e){for(var t=St,n=e.codecs.substring(0,e.codecs.indexOf(".")),r=0,i=0;i<n.length;i+=1)r|=n.charCodeAt(i)<<8*(n.length-i-1);n=new Uint8Array([].concat(F(mn(r,4)))),n=St("frma",n),r=new Uint8Array([0,0,0,0,99,101,110,99,0,1,0,0]),r=St("schm",r),i=St;var o=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);e=w(e.stream.drmInfos);for(var u=e.next();!u.done;u=e.next())if((u=u.value)&&u.keyIds&&u.keyIds.size){u=w(u.keyIds);for(var c=u.next();!c.done;c=u.next())o=MC(c.value)}return e=new Uint8Array([0,0,0,0,0,0,1,8]),o=St("tenc",e,o),t("sinf",n,r,i("schi",o))}function bh(e){var t=[];e=w(e.g);for(var n=e.next();!n.done;n=e.next()){n=n.value;var r=t.push,i=r.apply,o=St,u=new Uint8Array([0,0,0,0].concat(F(mn(n.data?n.data.vb:0,4))));u=St("mfhd",u);var c,h=n.data?n.data.Za:[],g=new Uint8Array(4+h.length);for(c=0;c<h.length;c++){var v=h[c].flags;g[c+4]=v.Wa<<4|v.Ya<<2|v.Xa}h=St("sdtp",g);var b=h.length+92;g=St,c=new Uint8Array([0,0,0,58].concat(F(mn(n.id+1,4)),[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),c=St("tfhd",c),v=n.data?n.data.baseMediaDecodeTime:0;var x=Math.floor(v%(Ds+1));v=new Uint8Array([1,0,0,0].concat(F(mn(Math.floor(v/(Ds+1)),4)),F(mn(x,4)))),v=St("tfdt",v);var S=b;b=n.data?n.data.Za:[],x=b.length;var T=12+16*x,A=new Uint8Array(T);for(S+=8+T,A.set([n.type==="video"?1:0,0,15,1].concat(F(mn(x,4)),F(mn(S,4))),0),S=0;S<x;S++){var C=b[S];T=mn(C.duration,4);var M=mn(C.size,4),_=C.flags;C=mn(C.fb,4),A.set([].concat(F(T),F(M),[_.jb<<2|_.Wa,_.Ya<<6|_.Xa<<4|_.kb,_.Va&61440,_.Va&15],F(C)),12+16*S)}b=St("trun",A),h=g("traf",c,v,b,h),o=o("moof",u,h),i.call(r,t,[o,oO(n)])}return An.apply(Ir,F(t))}function oO(e){return e=(e.data?e.data.Za:[]).map(function(t){return t.data}),e=An.apply(Ir,F(e)),St("mdat",e)}function mn(e,t){var n=[];for(--t;0<=t;t--)n.push(e>>8*t&255);return n}function MC(e){for(var t=new Uint8Array(e.length/2),n=0;n<e.length/2;n+=1)t[n]=parseInt(String(e[2*n]+e[2*n+1]),16);return t}function St(e){var t=Ue.apply(1,arguments),n=PC[e];n||(n=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)],PC[e]=n);for(var r=8,i=t.length-1;0<=i;i--)r+=t[i].byteLength;for(i=new Uint8Array(r),i[0]=r>>24&255,i[1]=r>>16&255,i[2]=r>>8&255,i[3]=r&255,i.set(n,4),n=0,r=8;n<t.length;n++)i.set(t[n],r),r+=t[n].byteLength;return i}var _C=!1,Ds=Math.pow(2,32)-1,PC={},sO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),uO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),lO=new Uint8Array([0,0,0,0,0,0,0,0]),cO=new Uint8Array([0,0,0,0,0,0,0,0]),dO=new Uint8Array([0,0,0,0,0,0,0,0]),pO=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),hO=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),fO=new Uint8Array([0,0,0,0,0,0,0,0]),gO=new Uint8Array([0,0,0,0,0,0,0,1]),l0=new Uint8Array([]),mO=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),z2=new Uint8Array([]);function $2(){var e=this;this.h=this.g=null,this.l=[],this.j=null,this.s=1,this.i=null,this.C=new fe(5),this.o=new mt(function(){vO(e)}),this.B=new uc,this.m=new Map,this.A=function(){return!1}}f=$2.prototype,f.configure=function(e,t){this.g=e,t&&(this.A=t)},f.start=function(e,t){var n=this;return L(function(r){if(r.g==1)return n.l=[e],n.h=t,k(r,H2(n),2);if(!n.h)throw new $(2,7,7001);return r.return(n.j)})};function vO(e){var t;L(function(n){switch(n.g){case 1:return se(n,2),k(n,H2(e),4);case 4:z(n,3);break;case 2:t=Y(n),e.h&&(t.severity=1,e.h.onError(t));case 3:if(!e.h)return n.return();te(n)}})}f.stop=function(){return this.g=this.h=null,this.l=[],this.j=null,this.o!=null&&(this.o.stop(),this.o=null),this.m.clear(),this.B.destroy()},f.update=function(){var e=this,t;return L(function(n){if(n.g==1)return se(n,2),k(n,H2(e),4);if(n.g!=2)return z(n,0);if(t=Y(n),!e.h||!t)return n.return();e.h.onError(t),te(n)})},f.onExpirationUpdated=function(){},f.onInitialVariantChosen=function(){},f.banLocation=function(){},f.setMediaElement=function(){};function H2(e){var t,n,r,i,o,u,c;return L(function(h){if(h.g==1)return t=qn(e.l,e.g.retryParameters),n=e.h.networkingEngine,r=Date.now(),i=n.request(0,t,{type:5,isPreload:e.A()}),Lu(e.B,i),k(h,i.promise,2);if(o=h.h,!e.h)return h.return();o.uri&&!e.l.includes(o.uri)&&e.l.unshift(o.uri);var g=o.uri,v=o.data,b=e.g.mss.manifestPreprocessor;if(b!=cm){if(At("manifest.mss.manifestPreprocessor configuration","Please Use manifest.mss.manifestPreprocessorTXml instead."),v=_A(v,"SmoothStreamingMedia"),!v)throw new $(2,4,4046,g);b(v),v=Ia(v.outerHTML)}var x=yp(v,"SmoothStreamingMedia");if(!x)throw new $(2,4,4046,g);if(g=e.g.mss.manifestPreprocessorTXml,g!=dm&&g(x),e.i||(e.i=new Ke(null,0)),g=kt(x,"IsLive",Cg,!1))throw new $(2,4,4047);e.i.xc(!g),b=kt(x,"TimeScale",Sr,1e7),v=kt(x,"DVRWindowLength",Sr),g&&(v===0||isNaN(v))&&(v=1/0);var S=kt(x,"CanSeek",Cg,!1);v===0&&S&&(v=1/0),S=null,v&&0<v&&(S=v/b),g&&!isNaN(e.g.availabilityWindowOverride)&&(S=e.g.availabilityWindowOverride),S==null&&(S=1/0),e.i.oe(S),v=kt(x,"Duration",Sr,1/0),g||e.i.$a(v/b),g={variants:[],textStreams:[],timescale:b,duration:v/b};var T;for(S=zt(x,"Protection"),b=e.g.mss.keySystemsBySystemId,v=[],S=w(S),T=S.next();!T.done;T=S.next())v=v.concat(zt(T.value,"ProtectionHeader"));if(v.length){for(S=[],T=0;T<v.length;T++){var A=v[T],C=A.attributes.SystemID.toLowerCase(),M=b[C];if(M){var _=AC(A);if(_)e:{_=w(na(_,"DATA"));for(var O=_.next();!O.done;O=_.next())if(O=xr(O.value,"KID")){_=Ri(Mn(O)),_=new Uint8Array([_[3],_[2],_[1],_[0],_[5],_[4],_[7],_[6]].concat(F(_.slice(8)))),_=Io(_);break e}_=null}else _=null;O=Ri(Mn(A)),C=Iu(C.replace(/-/g,"")),C=[{initData:qg(O,C,new Set,0),initDataType:"cenc",keyId:_}],C=Mu(M,"cenc",C),_&&C.keyIds.add(_),(M=aO.get(M))&&(C.licenseServerUri=M(A)),S.push(C)}}b=S}else b=[];for(T=b,S=[],b=[],v=[],x=zt(x,"StreamIndex"),x=w(x),A=x.next();!A.done;A=x.next()){A=A.value,M=zt(A,"QualityLevel"),C=g.timescale,_=g.duration,O=zt(A,"c");for(var P=[],j=0,V=0;V<O.length;++V){var B=O[V],H=O[V+1],W=kt(B,"t",Sr),G=kt(B,"d",Sr);if(B=kt(B,"r",Eg),!G)break;if(W=W??j,(B=B||0)&&B--,0>B)if(H){if(H=kt(H,"t",Sr),H==null||W>=H)break;B=Math.ceil((H-W)/G)-1}else{if(_==1/0||W/C>=_)break;B=Math.ceil((_*C-W)/G)-1}for(H=0;H<=B;++H)j=W+G,P.push({start:W/C,end:j/C,$f:W}),W=j}for(C=P,M=w(M),_=M.next();!_.done;_=M.next())(_=yO(e,A,_.value,C,T,g))&&(_.type!="audio"||e.g.disableAudio?_.type!="video"||e.g.disableVideo?_.type!=bt||e.g.disableText||v.push(_):b.push(_):S.push(_))}for(x=[],S=w(0<S.length?S:[null]),T=S.next();!T.done;T=S.next())for(T=T.value,A=w(0<b.length?b:[null]),P=A.next();!P.done;P=A.next())M=x,C=M.push,_=e,O=T,P=P.value,V=0,O&&O.bandwidth&&0<O.bandwidth&&(V+=O.bandwidth),P&&P.bandwidth&&0<P.bandwidth&&(V+=P.bandwidth),_={id:_.s++,language:O?O.language:"und",disabledUntilTime:0,primary:!!O&&O.primary||!!P&&P.primary,audio:O,video:P,bandwidth:V,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},C.call(M,_);g.variants=x,g.textStreams=v,e.j?(e.j.variants=g.variants,e.j.textStreams=g.textStreams,e.h.filter(e.j)):(e.j={presentationTimeline:e.i,variants:g.variants,textStreams:g.textStreams,imageStreams:[],offlineSessionIds:[],minBufferTime:0,sequenceMode:e.g.mss.sequenceMode,ignoreManifestTimestampsInSegmentsMode:!1,type:"MSS",serviceDescription:null,nextUrl:null,periodCount:1,gapCount:0,isLowLatency:!1,startTime:null},e.i.Vd()),Promise.resolve(),u=Date.now(),c=(u-r)/1e3,e.C.sample(1,c),te(h)})}function yO(e,t,n,r,i,o){var u=t.attributes.Type;if(u!=="audio"&&u!=="video"&&u!=="text")return ze("Ignoring unrecognized type:",u),null;var c=t.attributes.Language,h=e.s++,g=kt(n,"Bitrate",Eo),v=kt(n,"MaxWidth",Eo),b=kt(n,"MaxHeight",Eo),x=kt(n,"Channels",Eo),S=kt(n,"SamplingRate",Eo),T=o.duration;r.length&&(T=r[r.length-1].end-r[0].start);var A=e.i.getDuration();e.i.$a(Math.min(T,A));var C={id:h,originalId:t.attributes.Name||String(h),groupId:null,createSegmentIndex:function(){return Promise.resolve()},closeSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:"",codecs:"",frameRate:void 0,pixelAspectRatio:void 0,bandwidth:g||0,width:v||void 0,height:b||void 0,kind:"",encrypted:0<i.length,drmInfos:i,keyIds:new Set,language:Gt(c||"und"),originalLanguage:c,label:"",type:"",primary:!1,trickModeVideo:null,emsgSchemeIdUris:[],roles:[],forced:!1,channelsCount:x,audioSamplingRate:S,spatialAudio:!1,closedCaptions:null,hdr:void 0,colorGamut:void 0,videoLayout:void 0,tilesLayout:void 0,matchedStreams:[],mssPrivateData:{duration:T,timescale:o.timescale,codecPrivateData:null},accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set};if((i=t.attributes.Subtype)&&((i=kO[i])&&C.roles.push(i),i==="main"&&(C.primary=!0)),i=n.attributes.FourCC,(i===null||i==="")&&(i=t.attributes.FourCC),!i){if(u==="audio")i="AAC";else if(u==="video")return ze('FourCC is not defined whereas it is required for a QualityLevel element for a StreamIndex of type "video"'),null}if(!TO.includes(i.toUpperCase()))return ze("Codec not supported:",i),null;switch(n=bO(n,u,i,C),C.mssPrivateData.codecPrivateData=n,u){case"audio":if(!n)return ze("Quality unsupported without CodecPrivateData",u),null;C.type="audio",C.mimeType="mss/audio/mp4",C.codecs=wO(i,n);break;case"video":if(!n)return ze("Quality unsupported without CodecPrivateData",u),null;C.type="video",C.mimeType="mss/video/mp4",C.codecs=xO(n);break;case"text":C.type=bt,C.mimeType="application/mp4",(i==="TTML"||i==="DFXP")&&(C.codecs="stpp")}return C.fullMimeTypes.add(Un(C.mimeType,C.codecs)),C.createSegmentIndex=function(){if(C.segmentIndex)return Promise.resolve();if(e.m.has(C.id))var M=e.m.get(C.id);else M=[],C.type=="video"&&(M=C.mssPrivateData.codecPrivateData.split("00000001").slice(1)),M={id:C.id,type:C.type,codecs:C.codecs,encrypted:C.encrypted,timescale:C.mssPrivateData.timescale,duration:C.mssPrivateData.duration,bb:M,pa:new Uint8Array([]),ya:new Uint8Array([]),Ba:0,Ca:0,data:null,stream:C},M=zc(new Vc([M])),e.m.set(C.id,M);return M=SO(e,new Jr(function(){return[]},0,null,rm(C),C.mssPrivateData.timescale,M),C,t,r),C.segmentIndex=new Nt(M),Promise.resolve()},C.closeSegmentIndex=function(){C.segmentIndex&&(C.segmentIndex.release(),C.segmentIndex=null)},C}function bO(e,t,n,r){if(e=e.attributes.CodecPrivateData)return e;if(t!=="audio")return null;t=r.channelsCount||2,e=r.audioSamplingRate||44100;var i={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12};return r=i[e],n==="AACH"?(n=new Uint8Array(4),e=i[2*e],n[0]=40|r>>1,n[1]=r<<7|t<<3|e>>1,n[2]=e<<7|8,n[3]=0,t=new Uint16Array(2),t[0]=(n[0]<<8)+n[1],t[1]=(n[2]<<8)+n[3],t[0].toString(16)+t[1].toString(16)):(n=new Uint8Array(2),n[0]=16|r>>1,n[1]=r<<7|t<<3,t=new Uint16Array(1),t[0]=(n[0]<<8)+n[1],t[0].toString(16))}function wO(e,t){var n=0;return e==="AACH"&&(n=5),t?n===0&&(n=(parseInt(t.substr(0,2),16)&248)>>3):(n=2,e==="AACH"&&(n=5)),"mp4a.40."+n}function xO(e){var t=/00000001[0-9]7/.exec(e);return t.length&&e?"avc1."+e.substr(e.indexOf(t[0])+10,6):""}function SO(e,t,n,r,i){var o=r.attributes.Url.replace("{bitrate}",String(n.bandwidth));r=[],i=w(i);for(var u=i.next(),c={};!u.done;c={qe:void 0},u=i.next())c.qe=u.value,r.push(new Ye(c.qe.start,c.qe.end,function(h){return function(){return Yn(e.l,[o.replace("{start time}",String(h.qe.$f))])}}(c),0,null,t,0,0,n.mssPrivateData.duration));return r}Ae("shaka.mss.MssParser",$2);var TO="AAC AACL AACH AACP AVC1 H264 TTML DFXP".split(" "),kO={CAPT:"main",SUBT:"alternate",DESC:"main"};ia["application/vnd.ms-sstr+xml"]=function(){return new $2};function DC(e,t,n,r,i,o){if(200<=n&&299>=n&&n!=202)return{uri:i||r,originalUri:r,data:t,status:n,headers:e,fromCache:!!e["x-shaka-from-cache"]};var u=null;try{u=To(t)}catch{}throw new $(n==401||n==403?2:1,1,1001,r,n,u,e,o,i||r)}function q2(){}function c0(e,t,n,r,i,o){var u=new MO;Pp(t.headers).forEach(function(v,b){u.append(b,v)});var c=new CO,h={jg:!1,mh:!1};if(e=EO(e,n,{body:t.body||void 0,headers:u,method:t.method,signal:c.signal,credentials:t.allowCrossSiteCredentials?"include":void 0},h,r,i,t.streamDataCallback,o.minBytesForProgressEvents||0),e=new Cn(e,function(){return h.jg=!0,c.abort(),Promise.resolve()}),t=t.retryParameters.timeout){var g=new mt(function(){h.mh=!0,c.abort()});g.Z(t/1e3),e.finally(function(){g.stop()})}return e}function EO(e,t,n,r,i,o,u,c){var h,g,v,b,x,S,T,A,C,M,_,O,P;return L(function(j){switch(j.g){case 1:return h=AO,g=IO,S=x=0,T=Date.now(),se(j,2),k(j,h(e,n),4);case 4:if(v=j.h,o(LC(v.headers)),n.method=="HEAD"){j.u(5);break}return A=v.clone().body.getReader(),M=(C=v.headers.get("Content-Length"))?parseInt(C,10):0,_=function(V){function B(){var H,W,G,ee;return L(function(re){switch(re.g){case 1:return se(re,2),k(re,A.read(),4);case 4:H=re.h,z(re,3);break;case 2:return Y(re),re.return();case 3:if(H.done){re.u(5);break}if(x+=H.value.byteLength,!u){re.u(5);break}return k(re,u(H.value),5);case 5:W=Date.now(),G=x-S,(100<W-T&&G>=c||H.done)&&(ee=H.done?0:M-x,i(W-T,G,ee),S=x,T=W),H.done?V.close():(V.enqueue(H.value),B()),te(re)}})}B()},new g({start:_}),k(j,v.arrayBuffer(),6);case 6:b=j.h;case 5:z(j,3);break;case 2:throw O=Y(j),r.jg?new $(1,1,7001,e,t):r.mh?new $(1,1,1003,e,t):new $(1,1,1002,e,O,t);case 3:return P=LC(v.headers),j.return(DC(P,b,v.status,e,v.url,t))}})}function LC(e){var t={};return e.forEach(function(n,r){t[r.trim()]=n}),t}function RC(){if(d.ReadableStream)try{new ReadableStream({})}catch{return!1}else return!1;if(d.Response){if(!new Response("").body)return!1}else return!1;return!(!d.fetch||"polyfill"in d.fetch||!d.AbortController)}Ae("shaka.net.HttpFetchPlugin",q2),q2.isSupported=RC,q2.parse=c0;var AO=d.fetch,CO=d.AbortController,IO=d.ReadableStream,MO=d.Headers;RC()&&(_o("http",c0,2,!0),_o("https",c0,2,!0),_o("blob",c0,2,!0));function NC(){}function d0(e,t,n,r,i,o){var u=new _O,c=Date.now(),h=0,g=new Promise(function(v,b){u.open(t.method,e,!0),u.responseType="arraybuffer",u.timeout=t.retryParameters.timeout,u.withCredentials=t.allowCrossSiteCredentials,u.onabort=function(){b(new $(1,1,7001,e,n))};var x=!1;u.onreadystatechange=function(){if(u.readyState==2&&!x){var T=UC(u);i(T),x=!0}},u.onload=function(T){var A=UC(u),C=u.response;try{r(Date.now()-c,T.loaded-h,0);var M=DC(A,C,u.status,e,u.responseURL,n);v(M)}catch(_){b(_)}},u.onerror=function(T){b(new $(1,1,1002,e,T,n))},u.ontimeout=function(){b(new $(1,1,1003,e,n))},u.onprogress=function(T){var A=Date.now(),C=o.minBytesForProgressEvents||0,M=T.loaded-h;(100<A-c&&M>=C||T.lengthComputable&&T.loaded==T.total)&&(r(A-c,M,u.readyState==4?0:T.total-T.loaded),h=T.loaded,c=A)};for(var S in t.headers)u.setRequestHeader(S.toLowerCase(),t.headers[S]);u.send(t.body)});return new Cn(g,function(){return u.abort(),Promise.resolve()})}function UC(e){var t=e.getAllResponseHeaders().trim().split(`\r
`);e={},t=w(t);for(var n=t.next();!n.done;n=t.next())n=n.value.split(": "),e[n[0].toLowerCase()]=n.slice(1).join(": ");return e}Ae("shaka.net.HttpXHRPlugin",NC),NC.parse=d0;var _O=d.XMLHttpRequest;_o("http",d0,1,!0),_o("https",d0,1,!0),_o("blob",d0,1,!0);function OC(e,t,n,r){this.g=e,this.i=t,this.groupId=n,this.h=r}function G2(e){return e.N().map(function(t){return"{"+encodeURI(t)+"}"}).join("")+":"+e.Ha+":"+e.ua}function PO(e,t){return yc(e.g.N(),e.g.Ha,e.g.ua,t.streaming.retryParameters)}function jC(){this.h=this.j=this.i=0,this.g=new Map,this.l=0}function FC(e,t){e.i+=t;var n=e.l;return e.l++,e.g.set(n,t),n}jC.prototype.close=function(e,t){if(this.g.has(e)){var n=this.g.get(e);this.g.delete(e),this.j+=n,this.h+=t}};function BC(e){var t=this;this.o=e,this.j=new Map,this.i=new lc(function(){return K2(t).catch(function(){})}),this.h=[],this.m=function(){},this.l=function(){},this.g=new jC}BC.prototype.destroy=function(){return this.i.destroy()};function DO(e,t,n){e.m=t,e.l=n}function K2(e){var t=e.h.map(function(n){return n()});return e.h=[],Promise.all(t)}function LO(e,t,n,r,i,o){Qt(e.i);var u=(e.j.get(t)||Promise.resolve()).then(function(){var c,h,g,v,b,x,S;return L(function(T){if(T.g==1)return k(T,NO(e,n),2);if(c=T.h,e.i.g)throw new $(2,9,7001);if(i)for(v in h=Ge(c),g=new w5(h),g.data)b=Number(v),x=g.data[b],S=g.g[b],e.l(x,S);e.g.close(r,c.byteLength);var A=e.g;return e.m(A.i==0?0:A.j/A.i,e.g.h),T.return(o(c))})});e.j.set(t,u)}function RO(e){return L(function(t){return t.g==1?k(t,Promise.all(e.j.values()),2):t.return(e.g.h)})}function NO(e,t){var n,r,i,o;return L(function(u){return u.g==1?(n=_a,r=e.o.request(n,t),i=function(){return r.abort()},e.h.push(i),k(u,r.promise,2)):(o=u.h,Xr(e.h,i),u.return(o.data))})}function p0(e,t){var n=this;this.i=e,this.h=e.objectStore(t),this.g=new Yt,e.onabort=function(r){r.preventDefault(),n.g.reject()},e.onerror=function(r){r.preventDefault(),n.g.reject()},e.oncomplete=function(){n.g.resolve()}}p0.prototype.abort=function(){var e=this;return L(function(t){if(t.g==1){try{e.i.abort()}catch{}return se(t,2),k(t,e.g,4)}if(t.g!=2)return z(t,0);Y(t),te(t)})};function W2(e,t){return new Promise(function(n,r){var i=e.h.openCursor();i.onerror=r,i.onsuccess=function(){var o;return L(function(u){if(u.g==1)return i.result==null?(n(),u.return()):(o=i.result,k(u,t(o.key,o.value,o),2));o.continue(),te(u)})}})}p0.prototype.store=function(){return this.h},p0.prototype.promise=function(){return this.g};function X2(e){this.h=e,this.g=[]}X2.prototype.destroy=function(){return Promise.all(this.g.map(function(e){return e.abort()}))};function Bu(e,t){return h0(e,t,"readwrite")}function h0(e,t,n){n=e.h.transaction([t],n);var r=new p0(n,t);return e.g.push(r),r.promise().then(function(){Xr(e.g,r)},function(){Xr(e.g,r)}),r}function Vu(e,t,n){this.h=new X2(e),this.i=t,this.g=n}f=Vu.prototype,f.destroy=function(){return this.h.destroy()},f.hasFixedKeySpace=function(){return!0},f.addSegments=function(){return VC(this.i)},f.removeSegments=function(e,t){return zC(this,this.i,e,t)},f.getSegments=function(e){var t=this,n;return L(function(r){return r.g==1?k(r,$C(t,t.i,e),2):(n=r.h,r.return(n.map(function(i){return t.mg(i)})))})},f.addManifests=function(){return VC(this.g)},f.updateManifest=function(){return Promise.reject(new $(2,9,9016,"Cannot modify values in "+this.g))};function UO(e,t,n){e=Bu(e.h,e.g);var r=e.store();return r.get(t).onsuccess=function(){r.put(n,t)},e.promise()}f.updateManifestExpiration=function(e,t){var n=Bu(this.h,this.g),r=n.store();return r.get(e).onsuccess=function(i){(i=i.target.result)&&(i.expiration=t,r.put(i,e))},n.promise()},f.removeManifests=function(e,t){return zC(this,this.g,e,t)},f.getManifests=function(e){var t=this,n;return L(function(r){return r.g==1?k(r,$C(t,t.g,e),2):(n=r.h,r.return(Promise.all(n.map(function(i){return t.$c(i)}))))})},f.getAllManifests=function(){var e=this,t,n;return L(function(r){return r.g==1?(t=h0(e.h,e.g,"readonly"),n=new Map,k(r,W2(t,function(i,o){var u;return L(function(c){if(c.g==1)return k(c,e.$c(o),2);u=c.h,n.set(i,u),te(c)})}),2)):r.g!=3?k(r,t.promise(),3):r.return(n)})},f.mg=function(e){return e},f.$c=function(e){return Promise.resolve(e)};function VC(e){return Promise.reject(new $(2,9,9011,"Cannot add new value to "+e))}f.add=function(e,t){var n=this,r,i,o,u,c,h,g;return L(function(v){if(v.g==1){for(r=Bu(n.h,e),i=r.store(),o=[],u=w(t),c=u.next(),h={};!c.done;h={If:void 0},c=u.next())g=c.value,h.If=i.add(g),h.If.onsuccess=function(b){return function(){o.push(b.If.result)}}(h);return k(v,r.promise(),2)}return v.return(o)})};function zC(e,t,n,r){e=Bu(e.h,t),t=e.store(),n=w(n);for(var i=n.next(),o={};!i.done;o={tf:void 0},i=n.next())o.tf=i.value,t.delete(o.tf).onsuccess=function(u){return function(){return r(u.tf)}}(o);return e.promise()}function $C(e,t,n){var r,i,o,u,c,h,g;return L(function(v){if(v.g==1){for(r=h0(e.h,t,"readonly"),i=r.store(),o={},u=[],c=w(n),h=c.next(),g={};!h.done;g={je:void 0,Rd:void 0},h=c.next())g.Rd=h.value,g.je=i.get(g.Rd),g.je.onsuccess=function(b){return function(){b.je.result==null&&u.push(b.Rd),o[b.Rd]=b.je.result}}(g);return k(v,r.promise(),2)}if(u.length)throw new $(2,9,9012,"Could not find values for "+u);return v.return(n.map(function(b){return o[b]}))})}function wh(e){this.g=new X2(e)}wh.prototype.destroy=function(){return this.g.destroy()},wh.prototype.getAll=function(){var e=this,t,n;return L(function(r){return r.g==1?(t=h0(e.g,"session-ids","readonly"),n=[],k(r,W2(t,function(i,o){n.push(o)}),2)):r.g!=3?k(r,t.promise(),3):r.return(n)})},wh.prototype.add=function(e){var t=Bu(this.g,"session-ids"),n=t.store();e=w(e);for(var r=e.next();!r.done;r=e.next())n.add(r.value);return t.promise()},wh.prototype.remove=function(e){var t=this,n;return L(function(r){return r.g==1?(n=Bu(t.g,"session-ids"),k(r,W2(n,function(i,o,u){e.includes(o.sessionId)&&u.delete()}),2)):k(r,n.promise(),0)})};function zr(){this.g=new Map}zr.prototype.destroy=function(){for(var e=[],t=w(this.g.values()),n=t.next();!n.done;n=t.next())e.push(n.value.destroy());return this.g.clear(),Promise.all(e)},zr.prototype.init=function(){var e=this;xh.forEach(function(i,o){(i=i())&&e.g.set(o,i)});for(var t=[],n=w(this.g.values()),r=n.next();!r.done;r=n.next())t.push(r.value.init());return Promise.all(t)};function HC(e){var t=null;if(e.g.forEach(function(n,r){n.getCells().forEach(function(i,o){i.hasFixedKeySpace()||t||(t={path:{qb:r,Ia:o},Ia:i})})}),t)return t;throw new $(2,9,9013,"Could not find a cell that supports add-operations")}function OO(e,t){e.g.forEach(function(n,r){n.getCells().forEach(function(i,o){t({qb:r,Ia:o},i)})})}function f0(e,t,n){if(e=e.g.get(t),!e)throw new $(2,9,9013,"Could not find mechanism with name "+t);if(t=e.getCells().get(n),!t)throw new $(2,9,9013,"Could not find cell with name "+n);return t}function jO(e,t){e.g.forEach(function(n){t(n.getEmeSessionCell())})}function FO(e){var t=Array.from(e.g.keys());if(!t.length)throw new $(2,9,9e3,"No supported storage mechanisms found");return e.g.get(t[0]).getEmeSessionCell()}function BO(e){var t,n,r;return L(function(i){return i.g==1?(t=Array.from(e.g.values()),n=0<t.length,n||(r=xh,r.forEach(function(o){(o=o())&&t.push(o)})),k(i,Promise.all(t.map(function(o){return o.erase()})),2)):n?i.u(0):k(i,Promise.all(t.map(function(o){return o.destroy()})),0)})}function qC(e,t){xh.set(e,t)}Ae("shaka.offline.StorageMuxer",zr),zr.unregister=function(e){xh.delete(e)},zr.register=qC,zr.prototype.destroy=zr.prototype.destroy;var xh=new Map;function Sh(){Vu.apply(this,arguments)}Se(Sh,Vu),Sh.prototype.updateManifestExpiration=function(e,t){var n=this,r,i,o;return L(function(u){return r=Bu(n.h,n.g),i=r.store(),o=new Yt,i.get(e).onsuccess=function(c){(c=c.target.result)?(c.expiration=t,i.put(c),o.resolve()):o.reject(new $(2,9,9012,"Could not find values for "+e))},k(u,Promise.all([r.promise(),o]),0)})},Sh.prototype.$c=function(e){var t,n,r,i,o,u;return L(function(c){if(c.g==1){for(t=[],n=0;n<e.periods.length;++n)r=n==e.periods.length-1?e.duration:e.periods[n+1].startTime,i=r-e.periods[n].startTime,o=VO(e.periods[n],i),t.push(o);return k(c,SA(t),2)}return u=c.h,c.return({creationTime:0,originalManifestUri:e.originalManifestUri,duration:e.duration,size:e.size,expiration:e.expiration==null?1/0:e.expiration,streams:u,sessionIds:e.sessionIds,drmInfo:e.drmInfo,appMetadata:e.appMetadata,sequenceMode:!1})})};function VO(e,t){$O(e);for(var n=w(e.streams),r=n.next();!r.done;r=n.next());return e.streams.map(function(i){return zO(i,e.startTime,t)})}function zO(e,t,n){var r=e.initSegmentUri?GC(e.initSegmentUri):null,i=t+e.presentationTimeOffset,o=t+n;return{id:e.id,originalId:null,groupId:null,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:void 0,hdr:void 0,colorGamut:void 0,videoLayout:void 0,kind:e.kind,language:e.language,originalLanguage:e.language||null,label:e.label,width:e.width,height:e.height,initSegmentKey:r,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map(function(u){var c=GC(u.uri);return{startTime:t+u.startTime,endTime:t+u.endTime,dataKey:c,initSegmentKey:r,appendWindowStart:t,appendWindowEnd:o,timestampOffset:i,tilesLayout:"",mimeType:null,codecs:null}}),variantIds:e.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0,external:!1,fastSwitching:!1}}Sh.prototype.mg=function(e){return{data:e.data}};function GC(e){var t;if((t=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(e))||(t=/^offline:segment\/([0-9]+)$/.exec(e)))return Number(t[1]);throw new $(2,9,9004,"Could not parse uri "+e)}function $O(e){var t=e.streams.filter(function(c){return c.contentType=="audio"});if(e=e.streams.filter(function(c){return c.contentType=="video"}),!t.every(function(c){return c.variantIds})||!e.every(function(c){return c.variantIds})){for(var n=w(t),r=n.next();!r.done;r=n.next())r.value.variantIds=[];for(n=w(e),r=n.next();!r.done;r=n.next())r.value.variantIds=[];if(n=0,e.length&&!t.length){r=n++;for(var i=w(e),o=i.next();!o.done;o=i.next())o.value.variantIds.push(r)}if(!e.length&&t.length)for(r=n++,i=w(t),o=i.next();!o.done;o=i.next())o.value.variantIds.push(r);if(e.length&&t.length)for(t=w(t),r=t.next();!r.done;r=t.next())for(r=r.value,i=w(e),o=i.next();!o.done;o=i.next()){o=o.value;var u=n++;r.variantIds.push(u),o.variantIds.push(u)}}}function g0(){Vu.apply(this,arguments)}Se(g0,Vu),g0.prototype.$c=function(e){var t,n,r,i,o,u;return L(function(c){if(c.g==1){for(t=[],n=0;n<e.periods.length;++n){r=n==e.periods.length-1?e.duration:e.periods[n+1].startTime,i=r-e.periods[n].startTime;for(var h=e.periods[n],g=[],v=w(h.streams),b=v.next();!b.done;b=v.next())b=b.value,b.variantIds.length!=0&&g.push(HO(b,h.startTime,h.startTime+i));o=g,t.push(o)}return k(c,SA(t),2)}return u=c.h,c.return({appMetadata:e.appMetadata,creationTime:0,drmInfo:e.drmInfo,duration:e.duration,expiration:e.expiration==null?1/0:e.expiration,originalManifestUri:e.originalManifestUri,sessionIds:e.sessionIds,size:e.size,streams:u,sequenceMode:!1})})};function HO(e,t,n){return{id:e.id,originalId:e.originalId,groupId:null,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:e.pixelAspectRatio,hdr:void 0,colorGamut:void 0,videoLayout:void 0,kind:e.kind,language:e.language,originalLanguage:e.language||null,label:e.label,width:e.width,height:e.height,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map(function(r){return{startTime:t+r.startTime,endTime:t+r.endTime,initSegmentKey:e.initSegmentKey,appendWindowStart:t,appendWindowEnd:n,timestampOffset:t-e.presentationTimeOffset,dataKey:r.dataKey,tilesLayout:"",mimeType:null,codecs:null}}),variantIds:e.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0,external:!1,fastSwitching:!1}}function Y2(){Vu.apply(this,arguments)}Se(Y2,Vu),f=Y2.prototype,f.hasFixedKeySpace=function(){return!1},f.addSegments=function(e){return this.add(this.i,e)},f.addManifests=function(e){return this.add(this.g,e)},f.updateManifest=function(e,t){return UO(this,e,t)},f.$c=function(e){return e.expiration==null&&(e.expiration=1/0),Promise.resolve(e)};function KC(){this.m=this.j=this.i=this.h=this.g=this.l=null}f=KC.prototype,f.init=function(){var e=this,t=new Yt,n=!1,r=new mt(function(){n=!0,t.reject(new $(2,9,9017))});r.Z(5);var i=d.indexedDB.open("shaka_offline_db",5);return i.onsuccess=function(){if(!n){var o=i.result;e.l=o;var u=o.objectStoreNames;u=u.contains("manifest")&&u.contains("segment")?new Sh(o,"segment","manifest"):null,e.g=u,u=o.objectStoreNames,u=u.contains("manifest-v2")&&u.contains("segment-v2")?new g0(o,"segment-v2","manifest-v2"):null,e.h=u,u=o.objectStoreNames,u=u.contains("manifest-v3")&&u.contains("segment-v3")?new g0(o,"segment-v3","manifest-v3"):null,e.i=u,u=o.objectStoreNames,u=u.contains("manifest-v5")&&u.contains("segment-v5")?new Y2(o,"segment-v5","manifest-v5"):null,e.j=u,o=o.objectStoreNames.contains("session-ids")?new wh(o):null,e.m=o,r.stop(),t.resolve()}},i.onupgradeneeded=function(){for(var o=i.result,u=w(["segment-v5","manifest-v5","session-ids"]),c=u.next();!c.done;c=u.next())c=c.value,o.objectStoreNames.contains(c)||o.createObjectStore(c,{autoIncrement:!0})},i.onerror=function(o){n||(t.reject(new $(2,9,9001,i.error)),r.stop(),o.preventDefault())},t},f.destroy=function(){var e=this;return L(function(t){switch(t.g){case 1:if(!e.g){t.u(2);break}return k(t,e.g.destroy(),2);case 2:if(!e.h){t.u(4);break}return k(t,e.h.destroy(),4);case 4:if(!e.i){t.u(6);break}return k(t,e.i.destroy(),6);case 6:if(!e.j){t.u(8);break}return k(t,e.j.destroy(),8);case 8:if(!e.m){t.u(10);break}return k(t,e.m.destroy(),10);case 10:e.l&&e.l.close(),te(t)}})},f.getCells=function(){var e=new Map;return this.g&&e.set("v1",this.g),this.h&&e.set("v2",this.h),this.i&&e.set("v3",this.i),this.j&&e.set("v5",this.j),e},f.getEmeSessionCell=function(){return this.m},f.erase=function(){var e=this;return L(function(t){switch(t.g){case 1:if(!e.g){t.u(2);break}return k(t,e.g.destroy(),2);case 2:if(!e.h){t.u(4);break}return k(t,e.h.destroy(),4);case 4:if(!e.i){t.u(6);break}return k(t,e.i.destroy(),6);case 6:if(!e.j){t.u(8);break}return k(t,e.j.destroy(),8);case 8:return e.l&&e.l.close(),k(t,qO(),10);case 10:return e.l=null,e.g=null,e.h=null,e.i=null,e.j=null,k(t,e.init(),0)}})};function qO(){var e=new Yt,t=d.indexedDB.deleteDatabase("shaka_offline_db");return t.onblocked=function(){},t.onsuccess=function(){e.resolve()},t.onerror=function(n){e.reject(new $(2,9,9001,t.error)),n.preventDefault()},e}qC("idb",function(){return Yr()||Ca()||!d.indexedDB?null:new KC});function Za(e,t,n,r){this.g=e,this.i=t,this.h=n,this.l=r,this.j=["offline:",e,"/",t,"/",n,"/",r].join("")}Za.prototype.qb=function(){return this.i},Za.prototype.Ia=function(){return this.h},Za.prototype.key=function(){return this.l},Za.prototype.toString=function(){return this.j};function Z2(e){if(e=/^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(e),e==null)return null;var t=e[1];if(t!="manifest"&&t!="segment")return null;var n=e[2];if(!n)return null;var r=e[3];return r&&t!=null?new Za(t,n,r,Number(e[4])):null}function WC(e,t){this.h=e,this.g=t}function XC(e,t){var n=new Ke(null,0);n.$a(t.duration);var r=t.streams.filter(function(g){return g.type=="audio"}),i=t.streams.filter(function(g){return g.type=="video"});r=GO(e,r,i,n),i=t.streams.filter(function(g){return g.type==bt}).map(function(g){return m0(e,g,n)});var o=t.streams.filter(function(g){return g.type=="image"}).map(function(g){return m0(e,g,n)}),u=t.drmInfo?[t.drmInfo]:[];if(t.drmInfo)for(var c=w(r.values()),h=c.next();!h.done;h=c.next())h=h.value,h.audio&&h.audio.encrypted&&(h.audio.drmInfos=u),h.video&&h.video.encrypted&&(h.video.drmInfos=u);return{presentationTimeline:n,minBufferTime:2,offlineSessionIds:t.sessionIds,variants:Array.from(r.values()),textStreams:i,imageStreams:o,sequenceMode:t.sequenceMode||!1,ignoreManifestTimestampsInSegmentsMode:!1,type:t.type||"UNKNOWN",serviceDescription:null,nextUrl:null,periodCount:1,gapCount:0,isLowLatency:!1,startTime:null}}function GO(e,t,n,r){for(var i=new Set,o=w(t),u=o.next();!u.done;u=o.next()){u=w(u.value.variantIds);for(var c=u.next();!c.done;c=u.next())i.add(c.value)}for(o=w(n),u=o.next();!u.done;u=o.next())for(u=w(u.value.variantIds),c=u.next();!c.done;c=u.next())i.add(c.value);for(o=new Map,i=w(i),u=i.next();!u.done;u=i.next())u=u.value,o.set(u,{id:u,language:"",disabledUntilTime:0,primary:!1,audio:null,video:null,bandwidth:0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});for(t=w(t),i=t.next();!i.done;i=t.next())for(u=i.value,i=m0(e,u,r),u=w(u.variantIds),c=u.next();!c.done;c=u.next())c=o.get(c.value),c.language=i.language,c.primary=c.primary||i.primary,c.audio=i;for(n=w(n),t=n.next();!t.done;t=n.next())for(i=t.value,t=m0(e,i,r),i=w(i.variantIds),u=i.next();!u.done;u=i.next())u=o.get(u.value),u.primary=u.primary||t.primary,u.video=t;return o}function m0(e,t,n){var r=t.segments.map(function(i){return KO(e,i,t)});return n.sd(r),{id:t.id,originalId:t.originalId,groupId:t.groupId,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Nt(r),mimeType:t.mimeType,codecs:t.codecs,width:t.width||void 0,height:t.height||void 0,frameRate:t.frameRate,pixelAspectRatio:t.pixelAspectRatio,hdr:t.hdr,colorGamut:t.colorGamut,videoLayout:t.videoLayout,kind:t.kind,encrypted:t.encrypted,drmInfos:[],keyIds:t.keyIds,language:t.language,originalLanguage:t.originalLanguage||null,label:t.label,type:t.type,primary:t.primary,trickModeVideo:null,emsgSchemeIdUris:null,roles:t.roles,forced:t.forced,channelsCount:t.channelsCount,audioSamplingRate:t.audioSamplingRate,spatialAudio:t.spatialAudio,closedCaptions:t.closedCaptions,tilesLayout:t.tilesLayout,accessibilityPurpose:null,external:t.external,fastSwitching:t.fastSwitching,fullMimeTypes:new Set([Un(t.mimeType,t.codecs)])}}function KO(e,t,n){var r=new Za("segment",e.h,e.g,t.dataKey);return e=new Ye(t.startTime,t.endTime,function(){return[r.toString()]},0,null,t.initSegmentKey!=null?WO(e,t.initSegmentKey):null,t.timestampOffset,t.appendWindowStart,t.appendWindowEnd,[],t.tilesLayout||""),e.mimeType=t.mimeType||n.mimeType||"",e.codecs=t.codecs||n.codecs||"",e}function WO(e,t){var n=new Za("segment",e.h,e.g,t);return new Jr(function(){return[n.toString()]},0,null)}function YC(){this.g=null}f=YC.prototype,f.configure=function(){},f.start=function(e,t){var n=this,r,i,o,u,c,h,g;return L(function(v){switch(v.g){case 1:if(r=Z2(e),n.g=r,r==null||r.g!="manifest")throw new $(2,1,9004,e);return i=new zr,Re(v,2),k(v,i.init(),4);case 4:return k(v,f0(i,r.qb(),r.Ia()),5);case 5:return o=v.h,k(v,o.getManifests([r.key()]),6);case 6:return u=v.h,c=u[0],h=new WC(r.qb(),r.Ia()),g=XC(h,c),t.makeTextStreamsForClosedCaptions(g),v.return(g);case 2:return we(v),k(v,i.destroy(),7);case 7:Q(v,0)}})},f.stop=function(){return Promise.resolve()},f.update=function(){},f.onExpirationUpdated=function(e,t){var n=this,r,i,o,u,c,h,g;return L(function(v){switch(v.g){case 1:return r=n.g,i=new zr,se(v,2,3),k(v,i.init(),5);case 5:return k(v,f0(i,r.qb(),r.Ia()),6);case 6:return o=v.h,k(v,o.getManifests([r.key()]),7);case 7:if(u=v.h,c=u[0],h=c.sessionIds.includes(e),g=c.expiration==null||c.expiration>t,!h||!g){v.u(3);break}return k(v,o.updateManifestExpiration(r.key(),t),3);case 3:return we(v),k(v,i.destroy(),10);case 10:Q(v,0);break;case 2:Y(v),v.u(3)}})},f.onInitialVariantChosen=function(){},f.banLocation=function(){},f.setMediaElement=function(){},ia["application/x-offline-manifest"]=function(){return new YC};function ZC(){}function QC(e){var t=Z2(e);return t&&t.g=="manifest"?(e={uri:e,originalUri:e,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"}},e=sc(e)):e=t&&t.g=="segment"?XO(t.key(),t):Du(new $(2,1,9004,e)),e}function XO(e,t){var n=new zr;return sc(void 0).Aa(function(){return n.init()}).Aa(function(){return f0(n,t.qb(),t.Ia())}).Aa(function(r){return r.getSegments([t.key()])}).Aa(function(r){return{uri:t,data:r[0].data,headers:{}}}).finally(function(){return n.destroy()})}Ae("shaka.offline.OfflineScheme",ZC),ZC.plugin=QC,_o("offline",QC);function JC(e,t,n){var r,i,o,u,c,h;return L(function(g){switch(g.g){case 1:r=[];for(var v=[],b=w(n),x=b.next();!x.done;x=b.next()){x=x.value;for(var S=!1,T=w(v),A=T.next();!A.done;A=T.next())if(A=A.value,ZO(A.info,x)){A.sessionIds.push(x.sessionId),S=!0;break}S||v.push({info:x,sessionIds:[x.sessionId]})}i=w(v),o=i.next();case 2:if(o.done){g.u(4);break}return u=o.value,c=YO(e,t,u),k(g,c,5);case 5:h=g.h,r=r.concat(h),o=i.next(),g.u(2);break;case 4:return g.return(r)}})}function YO(e,t,n){var r,i;return L(function(o){switch(o.g){case 1:return r=new Gg({Nb:t,onError:function(){},ce:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),se(o,2),r.configure(e),k(o,I7(r,n.info.keySystem,n.info.licenseUri,n.info.serverCertificate,n.info.audioCapabilities,n.info.videoCapabilities),4);case 4:z(o,3);break;case 2:return Y(o),k(o,r.destroy(),5);case 5:return o.return([]);case 3:return i=[],k(o,Promise.all(n.sessionIds.map(function(u){return L(function(c){if(c.g==1)return se(c,2),k(c,P7(r,u),4);if(c.g!=2)return i.push(u),z(c,0);Y(c),te(c)})})),6);case 6:return k(o,r.destroy(),7);case 7:return o.return(i)}})}function ZO(e,t){function n(r,i){return r.robustness==i.robustness&&r.contentType==i.contentType}return e.keySystem==t.keySystem&&e.licenseUri==t.licenseUri&&ir(e.audioCapabilities,t.audioCapabilities,n)&&ir(e.videoCapabilities,t.videoCapabilities,n)}function QO(e,t,n){var r=t.presentationTimeline.getDuration();return t=eI(t),{offlineUri:null,originalManifestUri:e,duration:r,size:0,expiration:1/0,tracks:t,appMetadata:n,isIncomplete:!1}}function Q2(e,t){var n=XC(new WC(e.qb(),e.Ia()),t),r=t.appMetadata||{};return n=eI(n),{offlineUri:e.toString(),originalManifestUri:t.originalManifestUri,duration:t.duration,size:t.size,expiration:t.expiration,tracks:n,appMetadata:r,isIncomplete:t.isIncomplete||!1}}function eI(e){var t=[],n=Fg(e.variants);n=w(n);for(var r=n.next();!r.done;r=n.next())t.push(ic(r.value));for(e=w(e.textStreams),n=e.next();!n.done;n=e.next())t.push(jg(n.value));return t}function JO(){this.g={}}function ej(e,t){var n=t.audio,r=t.video;if(n&&!r&&(e.g[n.id]=n.bandwidth||t.bandwidth),!n&&r&&(e.g[r.id]=r.bandwidth||t.bandwidth),n&&r){var i=n.bandwidth||393216,o=r.bandwidth||t.bandwidth-i;0>=o&&(o=t.bandwidth),e.g[n.id]=i,e.g[r.id]=o}}function tj(e,t){e.g[t.id]=t.bandwidth||2048}function tI(e,t){return e=e.g[t],e==null&&(e=0),e}function Jn(e){var t=this;if(e&&e.constructor!=le)throw new $(2,9,9008);this.g=this.h=null,e?(this.h=e.g,this.g=e.Ab()):(this.h=xc(),this.g=new on),this.i=[],this.j=[];var n=!e;this.l=new lc(function(){var r,i,o,u,c;return L(function(h){switch(h.g){case 1:return k(h,Promise.all(t.j.map(function(g){return K2(g)})),2);case 2:for(r=function(){},i=[],o=w(t.i),u=o.next();!u.done;u=o.next())c=u.value,i.push(c.then(r,r));return k(h,Promise.all(i),3);case 3:if(!n){h.u(4);break}return k(h,t.g.destroy(),4);case 4:t.h=null,t.g=null,te(h)}})})}function J2(){if(Aa())e:{for(var e=w(xh.values()),t=e.next();!t.done;t=e.next())if(t=t.value,t=t()){t.destroy(),e=!0;break e}e=!1}else e=!1;return e}f=Jn.prototype,f.destroy=function(){return this.l.destroy()},f.configure=function(e,t){return arguments.length==2&&typeof e=="string"&&(e=lm(e,t)),Cs(this.h,e)},f.getConfiguration=function(){var e=xc();return Cs(e,this.h,xc()),e},f.Ab=function(){return this.g},f.store=function(e,t,n){var r=this,i=this.getConfiguration(),o=new BC(this.g);return this.j.push(o),t=nj(this,e,t||{},function(){var u;return L(function(c){return c.g==1?n?c.u(2):k(c,hm(e,r.g,i.manifest.retryParameters),3):(c.g!=2&&(n=c.h),u=O5(e,n||null),c.return(u()))})},i,o),t=new Cn(t,function(){return K2(o)}),t.finally(function(){Xr(r.j,o)}),gj(this,t)};function nj(e,t,n,r,i,o){var u,c,h,g,v,b,x,S,T,A,C,M,_,O;return L(function(P){switch(P.g){case 1:return v0(),c=u=null,h=new zr,b=v=g=null,se(P,2,3),k(P,r(),5);case 5:return u=P.h,k(P,dj(e,t,u,i),6);case 6:if(x=P.h,pr(e),S=!x.presentationTimeline.U()&&!x.presentationTimeline.sc(),!S)throw new $(2,9,9005,t);return k(P,e.Dc(x,function(j){b=b||j},i),7);case 7:if(c=P.h,pr(e),b)throw b;return k(P,ij(x,c,i),8);case 8:return k(P,h.init(),9);case 9:return pr(e),k(P,HC(h),10);case 10:return g=P.h,pr(e),T=aj(c,x,t,n,i,o),A=T.ui,C=T.Xf,k(P,g.Ia.addManifests([A]),11);case 11:if(M=P.h,pr(e),v=M[0],pr(e),b)throw b;return k(P,rj(e,C,v,A,o,i,g.Ia,x,c),12);case 12:return pr(e),aI(x,A,c,i),k(P,g.Ia.updateManifest(v,A),13);case 13:return pr(e),_=new Za("manifest",g.path.qb,g.path.Ia,v),P.return(Q2(_,A));case 3:return we(P),k(P,h.destroy(),14);case 14:if(!u){P.u(15);break}return k(P,u.stop(),15);case 15:if(!c){P.u(17);break}return k(P,c.destroy(),17);case 17:Q(P,0);break;case 2:if(O=Y(P),v==null){P.u(19);break}return k(P,nI(v),19);case 19:throw b||O}})}function rj(e,t,n,r,i,o,u,c,h){var g,v,b,x,S,T,A,C,M,_;return L(function(O){switch(O.g){case 1:if(g={},v=0,b=function(P,j){var V,B,H,W,G,ee,re;return L(function(ce){if(ce.g==1){for(V=w(P),B=V.next(),H={};!B.done;H={Fc:void 0},B=V.next())H.Fc=B.value,W=PO(H.Fc,o),G=H.Fc.i,ee=H.Fc.h,re=function(ae){return function(oe){var he,ge,Oe;return L(function(Je){if(Je.g==1)return k(Je,u.addSegments([{data:oe}]),2);he=Je.h,pr(e),ge=ae.Fc.g,Oe=G2(ge),g[Oe]=he[0],v+=oe.byteLength,te(Je)})}}(H),LO(i,H.Fc.groupId,W,G,ee,re);return k(ce,RO(i),2)}return j?(pr(e),aI(c,r,h,o),k(ce,u.updateManifest(n,r),0)):ce.u(0)})},x=!1,se(O,2),!ew(c)||!x||iI(c)){O.u(4);break}return k(O,b(t.filter(function(P){return P.h}),!0),5);case 5:return pr(e),t=t.filter(function(P){return!P.h}),S=g,T=v,g={},v=0,k(O,rI(u,n,r,S,T,function(){return pr(e)}),6);case 6:pr(e);case 4:if(x){O.u(7);break}return k(O,b(t,!1),8);case 8:return pr(e),A=g,C=v,g={},v=0,k(O,rI(u,n,r,A,C,function(){return pr(e)}),9);case 9:pr(e);case 7:z(O,0);break;case 2:return M=Y(O),_=Object.values(g),k(O,u.removeSegments(_,function(){}),10);case 10:throw M}})}function nI(e){var t,n,r,i;return L(function(o){switch(o.g){case 1:return t=new zr,k(o,t.init(),2);case 2:return k(o,HC(t),3);case 3:return n=o.h,r=new Za("manifest",n.path.qb,n.path.Ia,e),k(o,t.destroy(),4);case 4:return i=new Jn,k(o,i.remove(r.toString()),0)}})}function rI(e,t,n,r,i,o){var u,c,h,g,v,b,x,S,T,A,C;return L(function(M){switch(M.g){case 1:for(u=!1,se(M,2),c=!0,h=w(n.streams),g=h.next();!g.done;g=h.next())for(v=g.value,b=w(v.segments),x=b.next();!x.done;x=b.next())S=x.value,T=S.pendingSegmentRefId?r[S.pendingSegmentRefId]:null,T!=null&&(S.dataKey=T,S.pendingSegmentRefId=void 0),T=S.pendingInitSegmentRefId?r[S.pendingInitSegmentRefId]:null,T!=null&&(S.initSegmentKey=T,S.pendingInitSegmentRefId=void 0),S.pendingSegmentRefId&&(c=!1),S.pendingInitSegmentRefId&&(c=!1);return n.size+=i,c&&(n.isIncomplete=!1),k(M,e.updateManifest(t,n),4);case 4:u=!0,o(),z(M,0);break;case 2:return A=Y(M),k(M,nI(t),5);case 5:if(u){M.u(6);break}return C=Object.values(r),k(M,e.removeSegments(C,function(){}),6);case 6:throw A}})}function ij(e,t,n){var r,i,o,u,c,h,g,v,b,x,S,T,A,C,M,_,O,P,j,V,B,H,W,G,ee,re,ce,ae,oe;return L(function(he){switch(he.g){case 1:return r={width:1/0,height:1/0},JL(e,n.restrictions,r),k(he,q3(t,e,n.offline.usePersistentLicense,n.drm.preferredKeySystems),2);case 2:for(i=[],o=n.preferredDecodingAttributes,u=n.preferredVideoCodecs,c=n.preferredAudioCodecs,H3(e,u,c,o),h=w(e.variants),g=h.next();!g.done;g=h.next())v=g.value,i.push(ic(v));for(b=w(e.textStreams),x=b.next();!x.done;x=b.next())S=x.value,i.push(jg(S));for(T=w(e.imageStreams),A=T.next();!A.done;A=T.next())C=A.value,i.push(O1(C));return k(he,n.offline.trackSelectionCallback(i),3);case 3:for(M=he.h,_=e.presentationTimeline.getDuration(),O=0,P=w(M),j=P.next();!j.done;j=P.next())V=j.value,B=V.bandwidth*_/8,O+=B;return se(he,4),k(he,n.offline.downloadSizeCallback(O),6);case 6:if(H=he.h,!H)throw new $(2,9,9014);z(he,5);break;case 4:throw W=Y(he),W instanceof $?W:new $(2,9,9015);case 5:for(G=new Set,ee=new Set,re=new Set,ce=w(M),ae=ce.next();!ae.done;ae=ce.next())oe=ae.value,oe.type=="variant"&&G.add(oe.id),oe.type=="text"&&ee.add(oe.id),oe.type=="image"&&re.add(oe.id);e.variants=e.variants.filter(function(ge){return G.has(ge.id)}),e.textStreams=e.textStreams.filter(function(ge){return ee.has(ge.id)}),e.imageStreams=e.imageStreams.filter(function(ge){return re.has(ge.id)}),yj(e),te(he)}})}function aj(e,t,n,r,i,o){var u=QO(n,t,r),c=i.offline.progressCallback;DO(o,function(S,T){u.size=T,c(u,S)},function(S,T){h&&i.offline.usePersistentLicense&&g==T&&Dp(e,"cenc",S)});var h=ew(t)&&!iI(t),g=null;h&&(g=bj.get(e.g.keySystem));for(var v=new JO,b=w(t.textStreams),x=b.next();!x.done;x=b.next())v.g[x.value.id]=52;for(b=w(t.imageStreams),x=b.next();!x.done;x=b.next())tj(v,x.value);for(b=w(t.variants),x=b.next();!x.done;x=b.next())ej(v,x.value);return v=pj(o,v,t,i),o=v.streams,v=v.Xf,b=e.g,x=i.offline.usePersistentLicense,b&&x&&(b.initData=[]),{ui:{creationTime:Date.now(),originalManifestUri:n,duration:t.presentationTimeline.getDuration(),size:0,expiration:e.dd(),streams:o,sessionIds:x?E5(e):[],drmInfo:b,appMetadata:r,isIncomplete:!0,sequenceMode:t.sequenceMode,type:t.type},Xf:v}}function ew(e){return e.variants.some(function(t){var n=t.audio&&t.audio.encrypted;return t.video&&t.video.encrypted||n})}function iI(e){return e.variants.some(function(t){return(t.video?t.video.drmInfos:[]).concat(t.audio?t.audio.drmInfos:[]).some(function(n){return n.initData&&n.initData.length})})}function aI(e,t,n,r){if(t.expiration=n.dd(),n=E5(n),t.sessionIds=r.offline.usePersistentLicense?n:[],ew(e)&&r.offline.usePersistentLicense&&!n.length)throw new $(2,9,9007)}f.remove=function(e){return tw(this,oj(this,e))};function oj(e,t){var n,r,i,o,u,c;return L(function(h){switch(h.g){case 1:if(v0(),n=Z2(t),n==null||n.g!="manifest")throw new $(2,9,9004,t);return r=n,i=new zr,Re(h,2),k(h,i.init(),4);case 4:return k(h,f0(i,r.qb(),r.Ia()),5);case 5:return o=h.h,k(h,o.getManifests([r.key()]),6);case 6:return u=h.h,c=u[0],k(h,Promise.all([sj(e,c,i),uj(o,r,c)]),2);case 2:return we(h),k(h,i.destroy(),8);case 8:Q(h,0)}})}function oI(e,t){for(var n=[],r=w(e.streams),i=r.next();!i.done;i=r.next())i=i.value,t&&i.type=="video"?n.push({contentType:Un(i.mimeType,i.codecs),robustness:e.drmInfo.videoRobustness}):t||i.type!="audio"||n.push({contentType:Un(i.mimeType,i.codecs),robustness:e.drmInfo.audioRobustness});return n}function sj(e,t,n){return L(function(r){return k(r,vj(e.g,e.h.drm,n,t),0)})}function uj(e,t,n){function r(){}var i=mj(n);return Q2(t,n),Promise.all([e.removeSegments(i,r),e.removeManifests([t.key()],r)])}f.Mi=function(){return tw(this,lj(this))};function lj(e){var t,n,r,i,o,u,c,h,g,v;return L(function(b){switch(b.g){case 1:return v0(),t=e.g,n=e.h.drm,r=new zr,i=!1,Re(b,2),k(b,r.init(),4);case 4:o=[],jO(r,function(x){return o.push(x)}),u=w(o),c=u.next();case 5:if(c.done){b.u(2);break}return h=c.value,k(b,h.getAll(),8);case 8:return g=b.h,k(b,JC(n,t,g),9);case 9:return v=b.h,k(b,h.remove(v),10);case 10:v.length!=g.length&&(i=!0),c=u.next(),b.u(5);break;case 2:return we(b),k(b,r.destroy(),11);case 11:Q(b,3);break;case 3:return b.return(!i)}})}f.list=function(){return tw(this,cj())};function cj(){var e,t,n;return L(function(r){switch(r.g){case 1:return v0(),e=[],t=new zr,Re(r,2),k(r,t.init(),4);case 4:return n=Promise.resolve(),OO(t,function(i,o){n=n.then(function(){var u;return L(function(c){if(c.g==1)return k(c,o.getAllManifests(),2);u=c.h,u.forEach(function(h,g){h=Q2(new Za("manifest",i.qb,i.Ia,g),h),e.push(h)}),te(c)})})}),k(r,n,2);case 2:return we(r),k(r,t.destroy(),6);case 6:Q(r,3);break;case 3:return r.return(e)}})}function dj(e,t,n,r){var i,o,u,c,h;return L(function(g){if(g.g==1)return i=null,o=e.g,u={networkingEngine:o,filter:function(){return Promise.resolve()},makeTextStreamsForClosedCaptions:function(){},onTimelineRegionAdded:function(){},onEvent:function(){},onError:function(v){i=v},isLowLatencyMode:function(){return!1},isAutoLowLatencyMode:function(){return!1},enableLowLatencyMode:function(){},updateDuration:function(){},newDrmInfo:function(){},onManifestUpdated:function(){},getBandwidthEstimate:function(){return r.abr.defaultBandwidthEstimate},onMetadata:function(){},disableStream:function(){},addFont:function(){}},n.configure(r.manifest),pr(e),k(g,n.start(t,u),2);if(g.g!=3)return c=g.h,pr(e),h=sI(c),k(g,Promise.all($1(h,function(v){return v.createSegmentIndex()})),3);if(pr(e),i)throw i;return g.return(c)})}f.Dc=function(e,t,n){var r=this,i;return L(function(o){return o.g==1?(i=new Gg({Nb:r.g,onError:t,ce:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),i.configure(n.drm),k(o,C7(i,e.variants,n.offline.usePersistentLicense),2)):o.g!=3?k(o,k5(i),3):o.return(i)})};function pj(e,t,n,r){var i=new Map,o=sI(n),u=new Map;o=w(o);for(var c=o.next();!c.done;c=o.next()){c=c.value;var h=hj(e,t,n,c,r,i);u.set(c.id,h)}for(e=w(n.variants),t=e.next();!t.done;t=e.next())t=t.value,t.audio&&u.get(t.audio.id).variantIds.push(t.id),t.video&&u.get(t.video.id).variantIds.push(t.id);return{streams:Array.from(u.values()),Xf:Array.from(i.values())}}function hj(e,t,n,r,i,o){var u={id:r.id,originalId:r.originalId,groupId:r.groupId,primary:r.primary,type:r.type,mimeType:r.mimeType,codecs:r.codecs,frameRate:r.frameRate,pixelAspectRatio:r.pixelAspectRatio,hdr:r.hdr,colorGamut:r.colorGamut,videoLayout:r.videoLayout,kind:r.kind,language:r.language,originalLanguage:r.originalLanguage,label:r.label,width:r.width||null,height:r.height||null,encrypted:r.encrypted,keyIds:r.keyIds,segments:[],variantIds:[],roles:r.roles,forced:r.forced,channelsCount:r.channelsCount,audioSamplingRate:r.audioSamplingRate,spatialAudio:r.spatialAudio,closedCaptions:r.closedCaptions,tilesLayout:r.tilesLayout,external:r.external,fastSwitching:r.fastSwitching},c=i.offline.numberOfParallelDownloads,h=c===0?r.id:0;return fj(r,n.presentationTimeline.pb(),function(g){var v=G2(g),b=void 0;if(!o.has(v)){var x=g.endTime-g.startTime;x=tI(t,r.id)*x,x=FC(e.g,x),o.set(v,new OC(g,x,h,!1))}g.$&&(b=G2(g.$),o.has(b)||(x=.5*tI(t,r.id),x=FC(e.g,x),o.set(b,new OC(g.$,x,h,!0)))),u.segments.push({pendingInitSegmentRefId:b,initSegmentKey:b?0:null,startTime:g.startTime,endTime:g.endTime,appendWindowStart:g.appendWindowStart,appendWindowEnd:g.appendWindowEnd,timestampOffset:g.timestampOffset,tilesLayout:g.tilesLayout,pendingSegmentRefId:v,dataKey:0,mimeType:g.mimeType,codecs:g.codecs}),c!==0&&(h=(h+1)%c)}),u}function fj(e,t,n){if(t=e.segmentIndex.find(t),t!=null)for(var r=e.segmentIndex.get(t);r;)n(r),r=e.segmentIndex.get(++t)}function pr(e){if(e.l.g)throw new $(2,9,7001)}function v0(){if(!J2())throw new $(2,9,9e3)}function tw(e,t){return L(function(n){return n.g==1?(e.i.push(t),Re(n,2),k(n,t,4)):n.g!=2?n.return(n.h):(we(n),Xr(e.i,t),Q(n,0))})}function gj(e,t){var n=t.promise;return e.i.push(n),t.finally(function(){Xr(e.i,n)})}function mj(e){var t=new Set;e=w(e.streams);for(var n=e.next();!n.done;n=e.next()){n=w(n.value.segments);for(var r=n.next();!r.done;r=n.next())r=r.value,r.initSegmentKey!=null&&t.add(r.initSegmentKey),t.add(r.dataKey)}return Array.from(t)}function vj(e,t,n,r){var i,o,u;return L(function(c){return c.g==1?r.drmInfo?(i=FO(n),o=r.sessionIds.map(function(h){return{sessionId:h,keySystem:r.drmInfo.keySystem,licenseUri:r.drmInfo.licenseServerUri,serverCertificate:r.drmInfo.serverCertificate,audioCapabilities:oI(r,!1),videoCapabilities:oI(r,!0)}}),k(c,JC(t,e,o),2)):c.return():c.g!=3?(u=c.h,k(c,i.remove(u),3)):k(c,i.add(o.filter(function(h){return!u.includes(h.sessionId)})),0)})}function sI(e){for(var t=new Set,n=w(e.variants),r=n.next();!r.done;r=n.next())r=r.value,r.audio&&t.add(r.audio),r.video&&t.add(r.video);for(n=w(e.textStreams),r=n.next();!r.done;r=n.next())t.add(r.value);for(e=w(e.imageStreams),n=e.next();!n.done;n=e.next())t.add(n.value);return t}function yj(e){e.variants.map(function(o){return o.video});var t=new Set(e.variants.map(function(o){return o.audio}));e=e.textStreams;for(var n=w(t),r=n.next();!r.done;r=n.next()){r=w(t);for(var i=r.next();!i.done;i=r.next());}for(t=w(e),n=t.next();!n.done;n=t.next())for(n=w(e),r=n.next();!r.done;r=n.next());}Ae("shaka.offline.Storage",Jn),Jn.deleteAll=function(){var e;return L(function(t){return t.g==1?(e=new zr,Re(t,2),k(t,BO(e),2)):t.g!=5?(we(t),k(t,e.destroy(),5)):Q(t,0)})},Jn.prototype.list=Jn.prototype.list,Jn.prototype.removeEmeSessions=Jn.prototype.Mi,Jn.prototype.remove=Jn.prototype.remove,Jn.prototype.store=Jn.prototype.store,Jn.prototype.getNetworkingEngine=Jn.prototype.Ab,Jn.prototype.getConfiguration=Jn.prototype.getConfiguration,Jn.prototype.configure=Jn.prototype.configure,Jn.prototype.destroy=Jn.prototype.destroy,Jn.support=J2;var bj=new Map().set("org.w3.clearkey","1077efecc0b24d02ace33c1e52e2fb4b").set("com.widevine.alpha","edef8ba979d64acea3c827dcd51d21ed").set("com.microsoft.playready","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.recommendation","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.software","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.hardware","9a04f07998404286ab92e65be0885f95");Wb.offline=J2;function hr(){}function $r(e,t){for(e={priority:t||0,callback:e},t=0;t<Th.length;t++)if(Th[t].priority<e.priority){Th.splice(t,0,e);return}Th.push(e)}Ae("shaka.polyfill",hr),hr.register=$r,hr.installAll=function(){for(var e=w(Th),t=e.next();!t.done;t=e.next()){t=t.value;try{t.callback()}catch(n){ze("Error installing polyfill!",n)}}};var Th=[];function uI(){}function lI(){if(!Object.getOwnPropertyDescriptor(Element.prototype,"ariaHidden"))for(var e=w(["ariaHidden","ariaLabel","ariaPressed","ariaSelected"]),t=e.next();!t.done;t=e.next())wj(t.value)}function wj(e){var t="aria-"+e.toLowerCase().replace(/^aria/,"");Object.defineProperty(Element.prototype,e,{get:function(){return this.getAttribute(t)},set:function(n){n==null||n==null?this.removeAttribute(t):this.setAttribute(t,n)}})}hr.Aria=uI,uI.install=lI,$r(lI);function cI(){}function dI(){ea()||Ut("Sky_STB")||T8()}hr.EncryptionScheme=cI,cI.install=dI,$r(dI,-2);function pI(){}function hI(){if(d.Document){var e=Element.prototype;e.requestFullscreen=e.requestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen||e.webkitRequestFullscreen,e=Document.prototype,e.exitFullscreen=e.exitFullscreen||e.mozCancelFullScreen||e.msExitFullscreen||e.webkitCancelFullScreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",Hc),document.addEventListener("webkitfullscreenerror",Hc),document.addEventListener("mozfullscreenchange",Hc),document.addEventListener("mozfullscreenerror",Hc),document.addEventListener("MSFullscreenChange",Hc),document.addEventListener("MSFullscreenError",Hc)}}function Hc(e){var t=e.type.replace(/^(webkit|moz|MS)/,"").toLowerCase(),n=document.createEvent("Event");n.initEvent(t,e.bubbles,e.cancelable),e.target.dispatchEvent(n)}hr.Fullscreen=pI,pI.install=hI,$r(hI);function y0(){}function fI(){var e=!0;!Yr()||Yr()&&xg()||Yr()&&Ut("Fuchsia")||(e=!1),(Gl()||fp()||ea()||qa()||Ji()||Ut("PC=EOS")||wg()||Ut("WPE"))&&(e=!1),e&&navigator.mediaCapabilities||(navigator.mediaCapabilities||(navigator.mediaCapabilities={}),gI=navigator.mediaCapabilities,navigator.mediaCapabilities.decodingInfo=xj)}function xj(e){var t,n,r,i,o,u,c,h,g,v,b;return L(function(x){switch(x.g){case 1:if(t={supported:!1,powerEfficient:!0,smooth:!0,keySystemAccess:null,configuration:e},n=e.video,r=e.audio,e.type!="media-source"){if(e.type=="file"){if(n&&(i=n.contentType,o=dp(i),!o)||r&&(u=r.contentType,c=dp(u),!c))return x.return(t)}else return x.return(t);x.u(2);break}if(!Aa())return x.return(t);if(!n){x.u(3);break}return k(x,Sj(n),4);case 4:if(h=x.h,!h)return x.return(t);case 3:if(r){var S=r.contentType;if(Yr()&&r.spatialRendering&&(S+="; spatialRendering=true"),g=ct(S),!g)return x.return(t)}case 2:return e.keySystemConfiguration?(v=e.keySystemConfiguration,k(x,Tj(n,r,v),6)):(t.supported=!0,x.return(t));case 6:(b=x.h)&&(t.supported=!0,t.keySystemAccess=b);case 5:return x.return(t)}})}function Sj(e){var t,n;return L(function(r){return r.g==1?Yr()?k(r,kj(e),3):Ji()?(t=e.contentType,e.width&&e.height&&(t+="; width="+e.width,t+="; height="+e.height),e.framerate&&(t+="; framerate="+e.framerate),e.bitrate&&(t+="; bitrate="+e.bitrate),r.return(ct(t))):r.u(2):r.g!=2?(n=r.h,r.return(n)):r.return(ct(e.contentType))})}function Tj(e,t,n){var r,i,o,u,c,h,g,v,b,x,S;return L(function(T){switch(T.g){case 1:if(r=[],i=[],n.audio&&(o={robustness:n.audio.robustness||"",contentType:t.contentType},Ji()&&t.contentType.includes('codecs="ac-3"')&&(o.contentType='audio/mp4; codecs="ec-3"'),n.audio.encryptionScheme&&(o.encryptionScheme=n.audio.encryptionScheme),r.push(o)),n.video&&(u={robustness:n.video.robustness||"",contentType:e.contentType},n.video.encryptionScheme&&(u.encryptionScheme=n.video.encryptionScheme),i.push(u)),c={initDataTypes:[n.initDataType],distinctiveIdentifier:n.distinctiveIdentifier,persistentState:n.persistentState,sessionTypes:n.sessionTypes},r.length&&(c.audioCapabilities=r),i.length&&(c.videoCapabilities=i),h=e?e.contentType:"",g=t?t.contentType:"",v=mi(h)+";"+Ss(h),b=mi(g)+";"+Ss(g),x=n.keySystem,S=null,se(T,2),vg.has(v+"#"+b+"#"+x)){S=vg.get(v+"#"+b+"#"+x)||null,T.u(4);break}return k(T,navigator.requestMediaKeySystemAccess(n.keySystem,[c]),5);case 5:S=T.h,vg.set(v+"#"+b+"#"+x,S);case 4:z(T,3);break;case 2:Y(T);case 3:return T.return(S)}})}function kj(e){var t,n;return L(function(r){return r.g==1?d.cast&&cast.__platform__&&cast.__platform__.canDisplayType?(t=e.contentType,e.width&&e.height&&(t+="; width="+e.width+"; height="+e.height),e.framerate&&(t+="; framerate="+e.framerate),e.transferFunction==="pq"&&(t+="; eotf=smpte2084"),n=!1,t in b0?(n=b0[t],r.u(2)):k(r,cast.__platform__.canDisplayType(t),3)):r.return(ct(e.contentType)):(r.g!=2&&(n=r.h,b0[t]=n),r.return(n))})}hr.MediaCapabilities=y0,y0.install=fI;var gI=null;y0.originalMcap=gI;var b0={};y0.memoizedCanDisplayTypeRequests_=b0,$r(fI,-1);function mI(){}function vI(){var e=Kl();(d.MediaSource||d.ManagedMediaSource)&&(e&&d.MediaSource?10>=e?d.MediaSource=null:12>=e?(w0(),nw()):15>=e&&w0():Ut("DT_STB_BCM")?(w0(),nw()):yg()||hp()||Ut("Tizen 4")?Aj():Ut("WPE")&&(w0(),nw())),(d.MediaSource||d.ManagedMediaSource)&&Ej(),d.MediaSource&&MediaSource.isTypeSupported('video/webm; codecs="vp9"')&&!MediaSource.isTypeSupported('video/webm; codecs="vp09.00.10.08"')&&Cj()}function w0(){var e=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var t=e.apply(this,Ue.apply(0,arguments));return t.abort=function(){},t}}function nw(){var e=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(t,n){return e.call(this,t,n-.001)}}function Ej(){if(d.MediaSource){var e=MediaSource.isTypeSupported.bind(MediaSource);MediaSource.isTypeSupported=function(n){return Ng(n)!="mp2t"&&e(n)}}if(d.ManagedMediaSource){var t=ManagedMediaSource.isTypeSupported.bind(ManagedMediaSource);d.ManagedMediaSource.isTypeSupported=function(n){return Ng(n)!="mp2t"&&t(n)}}}function Aj(){var e=MediaSource.isTypeSupported.bind(MediaSource);if(MediaSource.isTypeSupported=function(n){return Ss(n)!="opus"&&e(n)},d.ManagedMediaSource){var t=ManagedMediaSource.isTypeSupported.bind(ManagedMediaSource);d.ManagedMediaSource.isTypeSupported=function(n){return Ss(n)!="opus"&&t(n)}}}function Cj(){var e=MediaSource.isTypeSupported;qa()||(MediaSource.isTypeSupported=function(t){var n=t.split(/ *; */),r=n.findIndex(function(u){return u.startsWith("codecs=")});if(0>r)return e(t);var i=n[r].replace("codecs=","").replace(/"/g,"").split(/\s*,\s*/),o=i.findIndex(function(u){return u.startsWith("vp09")});return 0<=o&&(i[o]="vp9",n[r]='codecs="'+i.join(",")+'"',t=n.join("; ")),e(t)})}hr.MediaSource=mI,mI.install=vI,$r(vI);function yI(){}function bI(){screen.orientation&&screen.orientation.unlock||(screen.orientation!=null?Ij():d.orientation!=null&&Mj())}function Ij(){screen.orientation.lock===void 0&&(screen.orientation.lock=function(){return Promise.resolve()}),screen.orientation.unlock===void 0&&(screen.orientation.unlock=function(){})}function Mj(){function e(){switch(d.orientation){case-90:t.type="landscape-secondary",t.angle=270;break;case 0:t.type="portrait-primary",t.angle=0;break;case 90:t.type="landscape-primary",t.angle=90;break;case 180:t.type="portrait-secondary",t.angle=180}}var t=new x0;screen.orientation=t,e(),d.addEventListener("orientationchange",function(){e();var n=new Me("change");t.dispatchEvent(n)})}hr.Orientation=yI,yI.install=bI;function x0(){$t.call(this),this.type="",this.angle=0}Se(x0,$t),x0.prototype.lock=function(e){function t(r){return screen.lockOrientation?screen.lockOrientation(r):screen.mozLockOrientation?screen.mozLockOrientation(r):screen.msLockOrientation?screen.msLockOrientation(r):!1}var n=!1;switch(e){case"natural":n=t("default");break;case"any":n=!0,this.unlock();break;default:n=t(e)}return n?Promise.resolve():(e=Error("screen.orientation.lock() is not available on this device"),e.name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,Promise.reject(e))},x0.prototype.unlock=function(){screen.unlockOrientation?screen.unlockOrientation():screen.mozUnlockOrientation?screen.mozUnlockOrientation():screen.msUnlockOrientation&&screen.msUnlockOrientation()},$r(bI);function rw(){}var iw,aw,ow,sw,uw,lw;function _j(e,t){try{var n=new S0(e,t);return Promise.resolve(n)}catch(r){return Promise.reject(r)}}function Pj(e){var t=this.mediaKeys;return t&&t!=e&&wI(t,null),delete this.mediaKeys,(this.mediaKeys=e)?wI(e,this):Promise.resolve()}function Dj(e){if(e=Ge(e.initData),cr(e).getUint32(0,!0)+4!=e.byteLength)throw new RangeError("Malformed FairPlay init data");e=So(e.subarray(4),!0),e=Ia(e);var t=new Event("encrypted");t.initDataType="skd",t.initData=Vt(e),this.dispatchEvent(t)}hr.PatchedMediaKeysApple=rw,rw.uninstall=function(){iw&&(iw=!1,Object.defineProperty(HTMLMediaElement.prototype,"mediaKeys",aw),HTMLMediaElement.prototype.setMediaKeys=ow,d.MediaKeys=sw,d.MediaKeySystemAccess=uw,navigator.requestMediaKeySystemAccess=lw,aw=lw=ow=uw=sw=null,d.shakaMediaKeysPolyfill="")},rw.install=function(e){d.HTMLVideoElement&&d.WebKitMediaKeys&&(e!==void 0&&e&&(iw=!0,aw=Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"mediaKeys"),ow=HTMLMediaElement.prototype.setMediaKeys,sw=d.MediaKeys,uw=d.MediaKeySystemAccess,lw=navigator.requestMediaKeySystemAccess),delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Pj,d.MediaKeys=kh,d.MediaKeySystemAccess=S0,navigator.requestMediaKeySystemAccess=_j,d.shakaMediaKeysPolyfill=Lj)};function S0(e,t){if(this.keySystem=e,e.startsWith("com.apple.fps"))for(e=w(t),t=e.next();!t.done;t=e.next()){var n=t.value;if(n.persistentState=="required")t=null;else{t={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:n.initDataTypes,sessionTypes:["temporary"],label:n.label};var r=!1,i=!1;if(n.audioCapabilities)for(var o=w(n.audioCapabilities),u=o.next();!u.done;u=o.next())u=u.value,u.contentType&&(r=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,u.contentType.split(";")[0])&&(t.audioCapabilities.push(u),i=!0));if(n.videoCapabilities)for(n=w(n.videoCapabilities),o=n.next();!o.done;o=n.next())o=o.value,o.contentType&&(r=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,o.contentType.split(";")[0])&&(t.videoCapabilities.push(o),i=!0));r||(i=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),t=i?t:null}if(t){this.g=t;return}}throw e=Error("Unsupported keySystem"),e.name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,e}S0.prototype.createMediaKeys=function(){var e=new kh(this.keySystem);return Promise.resolve(e)},S0.prototype.getConfiguration=function(){return this.g};function kh(e){this.h=new WebKitMediaKeys(e),this.g=new ke}kh.prototype.createSession=function(e){if(e=e||"temporary",e!="temporary")throw new TypeError("Session type "+e+" is unsupported on this platform.");return new cw(this.h)},kh.prototype.setServerCertificate=function(){return Promise.resolve(!1)};function wI(e,t){if(e.g.Sa(),!t)return Promise.resolve();e.g.D(t,"webkitneedkey",Dj);try{return vc(t,HTMLMediaElement.HAVE_METADATA,e.g,function(){t.webkitSetMediaKeys(e.h)}),Promise.resolve()}catch(n){return Promise.reject(n)}}kh.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")};function cw(e){$t.call(this),this.i=null,this.l=e,this.g=this.h=null,this.j=new ke,this.sessionId="",this.expiration=NaN,this.closed=new Yt,this.keyStatuses=new xI}Se(cw,$t),f=cw.prototype,f.generateRequest=function(e,t){var n=this;this.h=new Yt;try{var r=this.l.createSession("video/mp4",Ge(t));this.i=r,this.sessionId=r.sessionId||"",this.j.D(this.i,"webkitkeymessage",function(i){n.h&&(n.h.resolve(),n.h=null),i=new Map().set("messageType",n.keyStatuses.$b()==null?"license-request":"license-renewal").set("message",Vt(i.message)),i=new Me("message",i),n.dispatchEvent(i)}),this.j.D(r,"webkitkeyadded",function(){n.g&&(T0(n,"usable"),n.g.resolve(),n.g=null)}),this.j.D(r,"webkitkeyerror",function(){var i=Error("EME PatchedMediaKeysApple key error");if(i.errorCode=n.i.error,n.h!=null)n.h.reject(i),n.h=null;else if(n.g!=null)n.g.reject(i),n.g=null;else switch(n.i.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:T0(n,"output-not-allowed");break;default:T0(n,"internal-error")}}),T0(this,"status-pending")}catch(i){this.h.reject(i)}return this.h},f.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},f.update=function(e){this.g=new Yt;try{this.i.update(Ge(e))}catch(t){this.g.reject(t)}return this.g},f.close=function(){try{this.i.close(),this.closed.resolve(),this.j.Sa()}catch(e){this.closed.reject(e)}return this.closed},f.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))};function T0(e,t){var n=e.keyStatuses;n.size=t==null?0:1,n.g=t,t=new Me("keystatuseschange"),e.dispatchEvent(t)}function xI(){this.size=0,this.g=void 0}f=xI.prototype,f.$b=function(){return this.g},f.forEach=function(e){this.g&&e(this.g,mg.value())},f.get=function(e){if(this.has(e))return this.g},f.has=function(e){var t=mg.value();return!!(this.g&&lt(e,t))},f.entries=function(){},f.keys=function(){},f.values=function(){};var Lj="apple";function SI(){}function TI(){d.MediaKeys&&(!MediaKeys.prototype.setServerCertificate||hp()||Ut("Tizen 4")||Ut("Tizen 5.0")||bg())&&(MediaKeys.prototype.setServerCertificate=Rj)}function Rj(){return Promise.resolve(!1)}hr.PatchedMediaKeysCert=SI,SI.install=TI,$r(TI);function kI(){}function EI(){!d.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(navigator.requestMediaKeySystemAccess=Nj,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Uj,d.MediaKeys=k0,d.MediaKeySystemAccess=dw,d.shakaMediaKeysPolyfill=Oj)}function Nj(){return Promise.reject(Error("The key system specified is not supported."))}function Uj(e){return e==null?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))}hr.PatchedMediaKeysNop=kI,kI.install=EI;function k0(){throw new TypeError("Illegal constructor.")}k0.prototype.createSession=function(){},k0.prototype.setServerCertificate=function(){},k0.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")};function dw(){throw this.keySystem="",new TypeError("Illegal constructor.")}dw.prototype.getConfiguration=function(){},dw.prototype.createMediaKeys=function(){};var Oj="nop";$r(EI,-10);function AI(){}function CI(){if(!(!d.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)mw="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;navigator.requestMediaKeySystemAccess=jj,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Fj,d.MediaKeys=Eh,d.MediaKeySystemAccess=E0,d.shakaMediaKeysPolyfill=Bj}}function pw(e){var t=mw;return t?t+e.charAt(0).toUpperCase()+e.slice(1):e}function jj(e,t){try{var n=new E0(e,t);return Promise.resolve(n)}catch(r){return Promise.reject(r)}}function Fj(e){var t=this.mediaKeys;return t&&t!=e&&II(t,null),delete this.mediaKeys,(this.mediaKeys=e)&&II(e,this),Promise.resolve()}hr.PatchedMediaKeysWebkit=AI,AI.install=CI;function E0(e,t){this.g=this.keySystem=e;var n=!1;e=="org.w3.clearkey"&&(this.g="webkit-org.w3.clearkey",n=!1);var r=!1,i=document.getElementsByTagName("video");i=i.length?i[0]:document.createElement("video"),t=w(t);for(var o=t.next();!o.done;o=t.next()){o=o.value;var u={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:o.initDataTypes,sessionTypes:["temporary"],label:o.label},c=!1;if(o.audioCapabilities)for(var h=w(o.audioCapabilities),g=h.next();!g.done;g=h.next())g=g.value,g.contentType&&(c=!0,i.canPlayType(g.contentType.split(";")[0],this.g)&&(u.audioCapabilities.push(g),r=!0));if(o.videoCapabilities)for(h=w(o.videoCapabilities),g=h.next();!g.done;g=h.next())g=g.value,g.contentType&&(c=!0,i.canPlayType(g.contentType,this.g)&&(u.videoCapabilities.push(g),r=!0));if(c||(r=i.canPlayType("video/mp4",this.g)||i.canPlayType("video/webm",this.g)),o.persistentState=="required"&&(n?(u.persistentState="required",u.sessionTypes=["persistent-license"]):r=!1),r){this.h=u;return}}throw n="Unsupported keySystem",(e=="org.w3.clearkey"||e=="com.widevine.alpha")&&(n="None of the requested configurations were supported."),e=Error(n),e.name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,e}E0.prototype.createMediaKeys=function(){var e=new Eh(this.g);return Promise.resolve(e)},E0.prototype.getConfiguration=function(){return this.h};function Eh(e){this.l=e,this.h=null,this.g=new ke,this.i=[],this.j=new Map}function II(e,t){e.h=t,e.g.Sa();var n=mw;t&&(e.g.D(t,n+"needkey",function(r){var i=new CustomEvent("encrypted");i.initDataType="cenc",i.initData=Vt(r.initData),e.h.dispatchEvent(i)}),e.g.D(t,n+"keymessage",function(r){var i=hw(e,r.sessionId);i&&(r=new Map().set("messageType",i.keyStatuses.$b()==null?"licenserequest":"licenserenewal").set("message",r.message),r=new Me("message",r),i.h&&(i.h.resolve(),i.h=null),i.dispatchEvent(r))}),e.g.D(t,n+"keyadded",function(r){(r=hw(e,r.sessionId))&&r.ready()}),e.g.D(t,n+"keyerror",function(r){var i=hw(e,r.sessionId);if(i){var o=Error("EME v0.1b key error"),u=r.errorCode;u.systemCode=r.systemCode,o.errorCode=u,!r.sessionId&&i.h?(r.systemCode==45&&(o.message="Unsupported session type."),i.h.reject(o),i.h=null):r.sessionId&&i.g?(i.g.reject(o),i.g=null):(o=r.systemCode,r.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?A0(i,"output-restricted"):o==1?A0(i,"expired"):A0(i,"internal-error"))}}))}Eh.prototype.createSession=function(e){if(e=e||"temporary",e!="temporary"&&e!="persistent-license")throw new TypeError("Session type "+e+" is unsupported on this platform.");var t=this.h||document.createElement("video");return t.src||(t.src="about:blank"),e=new fw(t,this.l,e),this.i.push(e),e},Eh.prototype.setServerCertificate=function(){return Promise.resolve(!1)},Eh.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")};function hw(e,t){var n=e.j.get(t);return n||((n=e.i.shift())?(n.sessionId=t,e.j.set(t,n),n):null)}function fw(e,t,n){$t.call(this),this.j=e,this.m=!1,this.g=this.h=null,this.i=t,this.l=n,this.sessionId="",this.expiration=NaN,this.closed=new Yt,this.keyStatuses=new _I}Se(fw,$t),f=fw.prototype,f.ready=function(){A0(this,"usable"),this.g&&this.g.resolve(),this.g=null};function MI(e,t,n){if(e.m)return Promise.reject(Error("The session is already initialized."));e.m=!0;try{if(e.l=="persistent-license")if(n)var r=Ge(Ia("LOAD_SESSION|"+n));else{var i=Ia("PERSISTENT|");r=An(i,t)}else r=Ge(t)}catch(u){return Promise.reject(u)}e.h=new Yt;var o=pw("generateKeyRequest");try{e.j[o](e.i,r)}catch(u){if(u.name!="InvalidStateError")return e.h=null,Promise.reject(u);new mt(function(){try{e.j[o](e.i,r)}catch(c){e.h.reject(c),e.h=null}}).Z(.01)}return e.h}function gw(e,t,n){if(e.g)e.g.then(function(){return gw(e,t,n)}).catch(function(){return gw(e,t,n)});else{if(e.g=t,e.i=="webkit-org.w3.clearkey"){var r=hn(n),i=JSON.parse(r);i.keys[0].kty!="oct"&&(e.g.reject(Error("Response is not a valid JSON Web Key Set.")),e.g=null),r=Ri(i.keys[0].k),i=Ri(i.keys[0].kid)}else r=Ge(n),i=null;var o=pw("addKey");try{e.j[o](e.i,r,i,e.sessionId)}catch(u){e.g.reject(u),e.g=null}}}function A0(e,t){var n=e.keyStatuses;n.size=t==null?0:1,n.g=t,t=new Me("keystatuseschange"),e.dispatchEvent(t)}f.generateRequest=function(e,t){return MI(this,t,null)},f.load=function(e){return this.l=="persistent-license"?MI(this,null,e):Promise.reject(Error("Not a persistent session."))},f.update=function(e){var t=new Yt;return gw(this,t,e),t},f.close=function(){if(this.l!="persistent-license"){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var e=pw("cancelKeyRequest");try{this.j[e](this.i,this.sessionId)}catch{}}return this.closed.resolve(),this.closed},f.remove=function(){return this.l!="persistent-license"?Promise.reject(Error("Not a persistent session.")):this.close()};function _I(){this.size=0,this.g=void 0}f=_I.prototype,f.$b=function(){return this.g},f.forEach=function(e){this.g&&e(this.g,mg.value())},f.get=function(e){if(this.has(e))return this.g},f.has=function(e){var t=mg.value();return!!(this.g&&lt(e,t))},f.entries=function(){},f.keys=function(){},f.values=function(){};var mw="",Bj="webkit";$r(CI);function PI(){}function DI(){if(d.HTMLVideoElement){var e=HTMLVideoElement.prototype;e.requestPictureInPicture&&document.exitPictureInPicture||!e.webkitSupportsPresentationMode||(document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,e.requestPictureInPicture=zj,Object.defineProperty(e,"disablePictureInPicture",{get:Hj,set:qj,enumerable:!0,configurable:!0}),document.exitPictureInPicture=$j,document.addEventListener("webkitpresentationmodechanged",Vj,!0))}}function Vj(e){if(e=e.target,e.webkitPresentationMode=="picture-in-picture"){document.pictureInPictureElement=e;var t=new Event("enterpictureinpicture");e.dispatchEvent(t)}else document.pictureInPictureElement==e&&(document.pictureInPictureElement=null),t=new Event("leavepictureinpicture"),e.dispatchEvent(t)}function zj(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function $j(){var e=document.pictureInPictureElement;return e?(e.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}function Hj(){return this.hasAttribute("disablePictureInPicture")?!0:!this.webkitSupportsPresentationMode("picture-in-picture")}function qj(e){e?this.setAttribute("disablePictureInPicture",""):this.removeAttribute("disablePictureInPicture")}hr.PiPWebkit=PI,PI.install=DI,$r(DI);function LI(){}function RI(){d.crypto&&("randomUUID"in d.crypto||(d.crypto.randomUUID=Gj))}function Gj(){var e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.substr(t.lastIndexOf("/")+1)}hr.RandomUUID=LI,LI.install=RI,$r(RI);function NI(){}function UI(){var e=Symbol.prototype;"description"in e||Object.defineProperty(e,"description",{get:Kj})}function Kj(){var e=/\((.*)\)/.exec(this.toString());return e?e[1]:void 0}hr.Symbol=NI,NI.install=UI,$r(UI);function OI(){}function jI(){if(d.HTMLMediaElement){var e=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var t=e.apply(this);return t&&t.catch(function(){}),t}}}hr.VideoPlayPromise=OI,OI.install=jI,$r(jI);function FI(){}function BI(){if(d.HTMLVideoElement){var e=HTMLVideoElement.prototype;!e.getVideoPlaybackQuality&&("webkitDroppedFrameCount"in e||bg())&&(e.getVideoPlaybackQuality=Wj)}}function Wj(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}hr.VideoPlaybackQuality=FI,FI.install=BI,$r(BI);function VI(){}function zI(){if(!d.VTTCue&&d.TextTrackCue){var e=null,t=TextTrackCue.length;if(t==3)e=vw;else if(t==6)e=Xj;else{try{var n=!!vw(1,2,"")}catch{n=!1}n&&(e=vw)}e&&(d.VTTCue=function(r,i,o){return e(r,i,o)})}}function vw(e,t,n){return new d.TextTrackCue(e,t,n)}function Xj(e,t,n){return new d.TextTrackCue(e+"-"+t+"-"+n,e,t,n)}hr.VTTCue=VI,VI.install=zI,$r(zI);function yi(){}yi.prototype.parseInit=function(){},yi.prototype.setSequenceMode=function(){},yi.prototype.setManifestType=function(){},yi.prototype.parseMedia=function(e,t){var n=null,r=[];e=hn(e).split(/\r?\n/),e=w(e);for(var i=e.next();!i.done;i=e.next())if((i=i.value)&&!/^\s+$/.test(i)&&(i=Yj.exec(i))){var o=Zj.exec(i[1]);o=60*parseInt(o[1],10)+parseFloat(o[2].replace(",",".")),i=new en(o,t.segmentEnd?t.segmentEnd:o+2,i[2]),n&&(n.endTime=o,r.push(n)),n=i}return n&&r.push(n),r},Ae("shaka.text.LrcTextParser",yi),yi.prototype.parseMedia=yi.prototype.parseMedia,yi.prototype.setManifestType=yi.prototype.setManifestType,yi.prototype.setSequenceMode=yi.prototype.setSequenceMode,yi.prototype.parseInit=yi.prototype.parseInit;var Yj=/^\[(\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\](.*)/,Zj=/^(\d+):(\d{1,2}(?:[.,]\d{1,3})?)$/;_n["application/x-subtitle-lrc"]=function(){return new yi};function oi(){}oi.prototype.parseInit=function(){},oi.prototype.setSequenceMode=function(){},oi.prototype.setManifestType=function(){},oi.prototype.parseMedia=function(e,t,n,r){var i=hn(e);if(e=[],i=="")return e;var o=Yl(i,"tt",!0);if(!o)throw new $(2,2,2005,"Failed to parse TTML.");if(i=na(o,"body")[0],!i)return[];var u=Wa(o,Ah,"frameRate"),c=Wa(o,Ah,"subFrameRate"),h=Wa(o,Ah,"frameRateMultiplier"),g=Wa(o,Ah,"tickRate"),v=Wa(o,Ah,"cellResolution"),b=o.attributes["xml:space"]||"default",x=Wa(o,M0,"extent");if(b!="default"&&b!="preserve")throw new $(2,2,2005,"Invalid xml:space value: "+b);b=b=="default",u=new nF(u,c,h,g),v=tF(v),c=na(o,"metadata")[0],c=(c?c.children:[]).filter(function(A){return A!=`
`}),h=na(o,"style"),o=na(o,"region"),g=[];for(var S=w(o),T=S.next();!T.done;T=S.next())(T=Qj(T.value,h,x))&&g.push(T);if(zt(i,"p").length)throw new $(2,2,2001,"<p> can only be inside <div> in TTML");for(x=w(zt(i,"div")),S=x.next();!S.done;S=x.next())if(zt(S.value,"span").length)throw new $(2,2,2001,"<span> can only be inside <p> in TTML");return(t=$I(i,t,u,c,h,o,g,b,v,null,!1,n,r))&&(t.backgroundColor||(t.backgroundColor="transparent"),e.push(t)),e};function $I(e,t,n,r,i,o,u,c,h,g,v,b,x){var S=g;if(Tg(e)){if(!v)return null;var T={tagName:"span",children:[Mn(e)],attributes:{},parent:null}}else T=e;for(var A=null,C=w(JI),M=C.next();!M.done&&!(A=I0(T,"backgroundImage",r,"#",M.value)[0]);M=C.next());C=null,M=Wa(T,JI,"backgroundImage");var _=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/;if(M&&_.test(M)){if(C=parseInt(M.split(":").pop(),10)-1,C>=x.length)return null;C=x[C]}else b&&M&&!M.startsWith("#")&&(_=new En(b),M=new En(M),(M=_.resolve(M).toString())&&(C=M));if((e.tagName=="p"||A||C)&&(v=!0),e=v,M=(T.attributes["xml:space"]||(c?"default":"preserve"))=="default",_=T.children.every(Tg),c=[],!_)for(var O=w(T.children),P=O.next();!P.done;P=O.next())(P=$I(P.value,t,n,r,i,o,u,M,h,T,v,b,x))&&c.push(P);if(r=g!=null,b=Mn(T),b=T.children.length&&b&&/\S/.test(b),O=T.attributes.begin||T.attributes.end||T.attributes.dur,!(O||b||T.tagName=="br"||c.length!=0||r&&!M))return null;for(x=GI(T,n),b=x.start,x=x.end;S&&S.tagName&&S.tagName!="tt";)x=eF(S,n,b,x),b=x.start,x=x.end,S=S.parent;if(b==null&&(b=0),b+=t.periodStart,x=x==null?1/0:x+t.periodStart,b=Math.max(b,t.segmentStart),x=Math.min(x,t.segmentEnd),!O&&0<c.length)for(b=1/0,x=0,t=w(c),n=t.next();!n.done;n=t.next())n=n.value,b=Math.min(b,n.startTime),x=Math.max(x,n.endTime);if(T.tagName=="br")return i=new en(b,x,""),i.lineBreak=!0,i;if(t="",_&&(t=jr(Mn(T)||""),M&&(t=t.replace(/\s+/g," "))),t=new en(b,x,t),t.nestedCues=c,v||(t.isContainer=!0),h&&(t.cellResolution=h),h=I0(T,"region",o,"")[0],T.attributes.region&&h&&h.attributes["xml:id"]){var j=h.attributes["xml:id"];t.region=u.filter(function(V){return V.id==j})[0]}return u=h,g&&r&&!T.attributes.region&&!T.attributes.style&&(u=I0(g,"region",o,"")[0]),Jj(t,T,u,A,C,i,e,c.length==0),t}function Qj(e,t,n){var r=new Qi,i=e.attributes["xml:id"];if(!i)return null;r.id=i,i=null,n&&(i=Sw.exec(n)||Tw.exec(n)),n=i?Number(i[1]):null,i=i?Number(i[2]):null;var o,u=C0(e,t,"extent");if(u){var c=(o=Sw.exec(u))||Tw.exec(u);c!=null&&(r.width=Number(c[1]),r.height=Number(c[2]),o||(n!=null&&(r.width=100*r.width/n),i!=null&&(r.height=100*r.height/i)),r.widthUnits=o||n!=null?Xn:0,r.heightUnits=o||i!=null?Xn:0)}return(e=C0(e,t,"origin"))&&(c=(o=Sw.exec(e))||Tw.exec(e),c!=null&&(r.viewportAnchorX=Number(c[1]),r.viewportAnchorY=Number(c[2]),o?u||(r.width=100-r.viewportAnchorX,r.widthUnits=Xn,r.height=100-r.viewportAnchorY,r.heightUnits=Xn):(i!=null&&(r.viewportAnchorY=100*r.viewportAnchorY/i),n!=null&&(r.viewportAnchorX=100*r.viewportAnchorX/n)),r.viewportAnchorUnits=o||n!=null?Xn:0)),r}function yw(e){var t=e.match(/rgba\(([^)]+)\)/);return t&&(t=t[1].split(","),t.length==4)?(t[3]=String(Number(t[3])/255),"rgba("+t.join(",")+")"):e}function Jj(e,t,n,r,i,o,u,c){if(u=u||c,fr(t,n,o,"direction",u)=="rtl"&&(e.direction="rtl"),c=fr(t,n,o,"writingMode",u),c=="tb"||c=="tblr"?e.writingMode="vertical-lr":c=="tbrl"?e.writingMode="vertical-rl":c=="rltb"||c=="rl"?e.direction="rtl":c&&(e.direction=xp),(c=fr(t,n,o,"textAlign",!0))?(e.positionAlign=aF[c],e.lineAlign=iF[c],e.textAlign=k1[c.toUpperCase()]):e.textAlign=Ya,(c=fr(t,n,o,"displayAlign",!0))&&(e.displayAlign=C3[c.toUpperCase()]),(c=fr(t,n,o,"color",u))&&(e.color=yw(c)),(c=fr(t,n,o,"backgroundColor",u))&&(e.backgroundColor=yw(c)),(c=fr(t,n,o,"border",u))&&(e.border=c),c=fr(t,n,o,"fontFamily",u))switch(c){case"monospaceSerif":e.fontFamily="Courier New,Liberation Mono,Courier,monospace";break;case"proportionalSansSerif":e.fontFamily="Arial,Helvetica,Liberation Sans,sans-serif";break;case"sansSerif":e.fontFamily="sans-serif";break;case"monospaceSansSerif":e.fontFamily="Consolas,monospace";break;case"proportionalSerif":e.fontFamily="serif";break;default:e.fontFamily=c.split(",").filter(function(h){return h!="default"}).join(",")}switch((c=fr(t,n,o,"fontWeight",u))&&c=="bold"&&(e.fontWeight=Zl),c=fr(t,n,o,"wrapOption",u),e.wrapLine=!(c&&c=="noWrap"),(c=fr(t,n,o,"lineHeight",u))&&c.match(qc)&&(e.lineHeight=c),(c=fr(t,n,o,"fontSize",u))&&(c.match(qc)||c.match(rF))&&(e.fontSize=c),(c=fr(t,n,o,"fontStyle",u))&&(e.fontStyle=P3[c.toUpperCase()]),r?(i=r.attributes.imageType||r.attributes.imagetype,c=r.attributes.encoding,r=Mn(r).trim(),i=="PNG"&&c=="Base64"&&r&&(e.backgroundImage="data:image/png;base64,"+r)):i&&(e.backgroundImage=i),(r=fr(t,n,o,"textOutline",u))&&(r=r.split(" "),r[0].match(qc)?e.textStrokeColor=e.color:(e.textStrokeColor=yw(r[0]),r.shift()),r[0]&&r[0].match(qc)?e.textStrokeWidth=r[0]:e.textStrokeColor=""),(r=fr(t,n,o,"letterSpacing",u))&&r.match(qc)&&(e.letterSpacing=r),(r=fr(t,n,o,"linePadding",u))&&r.match(qc)&&(e.linePadding=r),(r=fr(t,n,o,"opacity",u))&&(e.opacity=parseFloat(r)),(r=C0(n,o,"textDecoration"))&&HI(e,r),(r=bw(t,o,"textDecoration"))&&HI(e,r),(r=fr(t,n,o,"textCombine",u))&&(e.textCombineUpright=r),fr(t,n,o,"ruby",u)){case"container":e.rubyTag="ruby";break;case"text":e.rubyTag="rt"}}function HI(e,t){t=w(t.split(" "));for(var n=t.next();!n.done;n=t.next())switch(n.value){case"underline":e.textDecoration.includes(Ao)||e.textDecoration.push(Ao);break;case"noUnderline":e.textDecoration.includes(Ao)&&Xr(e.textDecoration,Ao);break;case"lineThrough":e.textDecoration.includes("lineThrough")||e.textDecoration.push("lineThrough");break;case"noLineThrough":e.textDecoration.includes("lineThrough")&&Xr(e.textDecoration,"lineThrough");break;case"overline":e.textDecoration.includes("overline")||e.textDecoration.push("overline");break;case"noOverline":e.textDecoration.includes("overline")&&Xr(e.textDecoration,"overline")}}function fr(e,t,n,r,i){return i=i===void 0?!0:i,(e=bw(e,n,r))?e:i?C0(t,n,r):null}function C0(e,t,n){if(!e)return null;var r=Wa(e,M0,n);return r||qI(e,t,n)}function bw(e,t,n){var r=Wa(e,M0,n);return r||qI(e,t,n)}function qI(e,t,n){e=I0(e,"style",t,"");for(var r=null,i=0;i<e.length;i++){var o=ko(e[i],"urn:ebu:tt:style",n);o||(o=Wa(e[i],M0,n)),o||(o=bw(e[i],t,n)),o&&(r=o)}return r}function I0(e,t,n,r,i){var o=[];if(!e||1>n.length)return o;var u=e;for(e=null;!e&&!(e=i?ko(u,i,t):u.attributes[t])&&(u=u.parent,u););if(t=e){for(t=w(t.split(" ")),i=t.next();!i.done;i=t.next())for(i=i.value,e=w(n),u=e.next();!u.done;u=e.next())if(u=u.value,r+u.attributes["xml:id"]==i){o.push(u);break}}return o}function eF(e,t,n,r){return e=GI(e,t),n==null?n=e.start:e.start!=null&&(n+=e.start),r==null?r=e.end:e.start!=null&&(r+=e.start),{start:n,end:r}}function GI(e,t){var n=ww(e.attributes.begin,t),r=ww(e.attributes.end,t);return e=ww(e.attributes.dur,t),r==null&&e!=null&&(r=n+e),{start:n,end:r}}function ww(e,t){var n=null;if(KI.test(e)){e=KI.exec(e),n=Number(e[1]);var r=Number(e[2]),i=Number(e[3]),o=Number(e[4]);o+=(Number(e[5])||0)/t.h,i+=o/t.frameRate,n=i+60*r+3600*n}else if(WI.test(e))n=xw(WI,e);else if(XI.test(e))n=xw(XI,e);else if(YI.test(e))e=YI.exec(e),n=Number(e[1])/t.frameRate;else if(ZI.test(e))e=ZI.exec(e),n=Number(e[1])/t.g;else if(QI.test(e))n=xw(QI,e);else if(e)throw new $(2,2,2001,"Could not parse cue time range in TTML");return n}function xw(e,t){return e=e.exec(t),e==null||e[0]==""?null:(Number(e[4])||0)/1e3+(Number(e[3])||0)+60*(Number(e[2])||0)+3600*(Number(e[1])||0)}function tF(e){return e&&(e=/^(\d+) (\d+)$/.exec(e))?{kc:parseInt(e[1],10),rows:parseInt(e[2],10)}:null}Ae("shaka.text.TtmlTextParser",oi),oi.prototype.parseMedia=oi.prototype.parseMedia,oi.prototype.setManifestType=oi.prototype.setManifestType,oi.prototype.setSequenceMode=oi.prototype.setSequenceMode,oi.prototype.parseInit=oi.prototype.parseInit;function nF(e,t,n,r){this.frameRate=Number(e)||30,this.h=Number(t)||1,this.g=Number(r),this.g==0&&(this.g=e?this.frameRate*this.h:1),n&&(e=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=Number(e[1])/Number(e[2]))}var Sw=/^(\d{1,2}(?:\.\d+)?|100(?:\.0+)?)% (\d{1,2}(?:\.\d+)?|100(?:\.0+)?)%$/,rF=/^(\d{1,4}(?:\.\d+)?|100)%$/,qc=/^(\d+px|\d+em|\d*\.?\d+c)$/,Tw=/^(\d+)px (\d+)px$/,KI=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,WI=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,XI=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d+)$/,YI=/^(\d*(?:\.\d*)?)f$/,ZI=/^(\d*(?:\.\d*)?)t$/,QI=RegExp("^(?:(\\d*(?:\\.\\d*)?)h)?(?:(\\d*(?:\\.\\d*)?)m)?(?:(\\d*(?:\\.\\d*)?)s)?(?:(\\d*(?:\\.\\d*)?)ms)?$"),iF={left:Eu,center:"center",right:"end",start:Eu,end:"end"},aF={left:"line-left",center:"center",right:"line-right"},Ah=["http://www.w3.org/ns/ttml#parameter","http://www.w3.org/2006/10/ttaf1#parameter"],M0=["http://www.w3.org/ns/ttml#styling","http://www.w3.org/2006/10/ttaf1#styling"],JI=["http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt","http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"];_n["application/ttml+xml"]=function(){return new oi};function Fn(){this.g=new oi}Fn.prototype.parseInit=function(e){var t=!1;if(new nn().box("moov",vt).box("trak",vt).box("mdia",vt).box("minf",vt).box("stbl",vt).S("stsd",Es).box("stpp",function(n){t=!0,n.parser.stop()}).parse(e),!t)throw new $(2,2,2007)},Fn.prototype.setSequenceMode=function(){},Fn.prototype.setManifestType=function(){},Fn.prototype.parseMedia=function(e,t,n){var r=this,i=!1,o=[],u=[];if(new nn().box("moof",vt).box("traf",vt).S("subs",function(c){u=[];for(var h=c.reader,g=h.P(),v=0;v<g;v++){h.P();for(var b=h.ma(),x=0;x<b;x++)c.version==1?u.push(h.P()):u.push(h.ma()),h.T(),h.T(),h.P()}}).box("mdat",cc(function(c){if(i=!0,u.length){for(var h=Ge(c,0,u[0]),g=[],v=u[0],b=1;b<u.length;b++){var x=Ge(c,v,u[b]);x=P1(x),g.push("data:image/png;base64,"+x),v+=u[b]}o=o.concat(r.g.parseMedia(h,t,n,g))}else o=o.concat(r.g.parseMedia(c,t,n,[]))})).parse(e,!1),!i)throw new $(2,2,2007);return o},Ae("shaka.text.Mp4TtmlParser",Fn),Fn.prototype.parseMedia=Fn.prototype.parseMedia,Fn.prototype.setManifestType=Fn.prototype.setManifestType,Fn.prototype.setSequenceMode=Fn.prototype.setSequenceMode,Fn.prototype.parseInit=Fn.prototype.parseInit,_n['application/mp4; codecs="stpp"']=function(){return new Fn},_n['application/mp4; codecs="stpp.ttml"']=function(){return new Fn},_n['application/mp4; codecs="stpp.ttml.im1i"']=function(){return new Fn},_n['application/mp4; codecs="stpp.ttml.im1t"']=function(){return new Fn},_n['application/mp4; codecs="stpp.ttml.im2i"']=function(){return new Fn},_n['application/mp4; codecs="stpp.ttml.im2t"']=function(){return new Fn},_n['application/mp4; codecs="stpp.ttml.etd1"']=function(){return new Fn},_n['application/mp4; codecs="stpp.ttml.etd1|im1t"']=function(){return new Fn},_n['application/mp4; codecs="stpp.ttml.im1t|etd1"']=function(){return new Fn},_n['application/mp4; codecs="stpp.TTML.im1t"']=function(){return new Fn};function Pr(){this.h=!1,this.g="UNKNOWN"}Pr.prototype.parseInit=function(){},Pr.prototype.setSequenceMode=function(e){this.h=e},Pr.prototype.setManifestType=function(e){this.g=e},Pr.prototype.parseMedia=function(e,t){e=hn(e),e=e.replace(/\r\n|\r(?=[^\n]|$)/gm,`
`);var n=e.split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(n[0]))throw new $(2,2,2e3);if(e=t.vttOffset,n[0].includes("X-TIMESTAMP-MAP")&&this.g=="HLS")if(this.h){var r=n[0];if(e=r.match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),r=r.match(/MPEGTS:(\d+)/m),!e||!r)throw new $(2,2,2e3);if(e=vp(e[1]),e==null)throw new $(2,2,2e3);r=Number(r[1]);for(var i=t.segmentStart-t.periodStart;95443.7176888889<=i;)i-=95443.7176888889,r+=8589934592;e=t.periodStart+r/9e4-e}else e=t.segmentStart;for(t=[],r=w(n[0].split(`
`)),i=r.next();!i.done;i=r.next())if(i=i.value,/^Region:/.test(i)){i=new Wl(i);var o=new Qi;Su(i),Xl(i);for(var u=Su(i);u;){var c=o,h=u;(u=/^id=(.*)$/.exec(h))?c.id=u[1]:(u=/^width=(\d{1,2}|100)%$/.exec(h))?c.width=Number(u[1]):(u=/^lines=(\d+)$/.exec(h))?(c.height=Number(u[1]),c.heightUnits=2):(u=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(h))?(c.regionAnchorX=Number(u[1]),c.regionAnchorY=Number(u[2])):(u=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(h))?(c.viewportAnchorX=Number(u[1]),c.viewportAnchorY=Number(u[2])):/^scroll=up$/.exec(h)&&(c.scroll="up"),Xl(i),u=Su(i)}t.push(o)}for(r=new Map,E3(r),i=[],n=w(n.slice(1)),o=n.next();!o.done;o=n.next()){if(o=o.value.split(`
`),(o.length!=1||o[0])&&!/^NOTE($|[ \t])/.test(o[0])&&o[0]=="STYLE"){for(c=[],u=-1,h=1;h<o.length;h++)o[h].includes("::cue")&&(c.push([]),u=c.length-1),u!=-1&&(c[u].push(o[h]),o[h].includes("}")&&(u=-1));for(c=w(c),u=c.next();!u.done;u=c.next()){var g=u.value;u="global",(h=g[0].match(/\((.*)\)/))&&(u=h.pop()),h=g.slice(1,-1),g[0].includes("}")&&(g=/\{(.*?)\}/.exec(g[0]))&&(h=g[1].split(";")),(g=r.get(u))||(g=new en(0,0,""));for(var v=!1,b=0;b<h.length;b++){var x=/^\s*([^:]+):\s*(.*)/.exec(h[b]);if(x){var S=x[2].trim().replace(";","");switch(x[1].trim()){case"background-color":case"background":v=!0,g.backgroundColor=S;break;case"color":v=!0,g.color=S;break;case"font-family":v=!0,g.fontFamily=S;break;case"font-size":v=!0,g.fontSize=S;break;case"font-weight":(700<=parseInt(S,10)||S=="bold")&&(v=!0,g.fontWeight=Zl);break;case"font-style":switch(S){case"normal":v=!0,g.fontStyle=A1;break;case"italic":v=!0,g.fontStyle=Ql;break;case"oblique":v=!0,g.fontStyle="oblique"}break;case"opacity":v=!0,g.opacity=parseFloat(S);break;case"text-combine-upright":v=!0,g.textCombineUpright=S;break;case"text-shadow":v=!0,g.textShadow=S;break;case"white-space":v=!0,g.wrapLine=S!="noWrap"}}}v&&r.set(u,g)}}if(g=o,v=e,g.length==1&&!g[0]||/^NOTE($|[ \t])/.test(g[0])||g[0]=="STYLE"||g[0]=="REGION")o=null;else if(o=null,g[0].includes("-->")||(o=g[0],g.splice(0,1)),c=new Wl(g[0]),u=mp(c),b=xu(c,/[ \t]+--\x3e[ \t]+/g),h=mp(c),u==null||b==null||h==null)ze("Failed to parse VTT time code. Cue skipped:",o,g),o=null;else{for(u+=v,h+=v,v=g.slice(1).join(`
`).trim(),r.has("global")?(g=r.get("global").clone(),g.startTime=u,g.endTime=h,g.payload=v):g=new en(u,h,v),Xl(c),u=Su(c);u;)e8(g,u,t),Xl(c),u=Su(c);_g(g,r),o!=null&&(g.id=o),o=g}o&&i.push(o)}return i};function e8(e,t,n){var r;(r=/^align:(start|middle|center|end|left|right)$/.exec(t))?(t=r[1],t=="middle"?e.textAlign=Ya:e.textAlign=k1[t.toUpperCase()]):(r=/^vertical:(lr|rl)$/.exec(t))?e.writingMode=r[1]=="lr"?"vertical-lr":"vertical-rl":(r=/^size:([\d.]+)%$/.exec(t))?e.size=Number(r[1]):(r=/^position:([\d.]+)%(?:,(line-left|line-right|middle|center|start|end|auto))?$/.exec(t))?(e.position=Number(r[1]),r[2]&&(t=r[2],e.positionAlign=t=="line-left"||t=="start"?"line-left":t=="line-right"||t=="end"?"line-right":t=="center"||t=="middle"?"center":Pg)):(r=/^region:(.*)$/.exec(t))?(t=oF(n,r[1]))&&(e.region=t):(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(t))?(e.lineInterpretation=1,e.line=Number(n[1]),n[2]&&(e.lineAlign=E1[n[2].toUpperCase()])):(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(t))&&(e.lineInterpretation=Sp,e.line=Number(n[1]),n[2]&&(e.lineAlign=E1[n[2].toUpperCase()]))}function oF(e,t){return e=e.filter(function(n){return n.id==t}),e.length?e[0]:null}Ae("shaka.text.VttTextParser",Pr),Pr.prototype.parseMedia=Pr.prototype.parseMedia,Pr.prototype.setManifestType=Pr.prototype.setManifestType,Pr.prototype.setSequenceMode=Pr.prototype.setSequenceMode,Pr.prototype.parseInit=Pr.prototype.parseInit,_n["text/vtt"]=function(){return new Pr},_n['text/vtt; codecs="vtt"']=function(){return new Pr},_n['text/vtt; codecs="wvtt"']=function(){return new Pr};function bi(){this.g=null}bi.prototype.parseInit=function(e){var t=this,n=!1;if(new nn().box("moov",vt).box("trak",vt).box("mdia",vt).S("mdhd",function(r){r=Wg(r.reader,r.version),t.g=r.timescale}).box("minf",vt).box("stbl",vt).S("stsd",Es).box("wvtt",function(){n=!0}).parse(e),!this.g)throw new $(2,2,2008);if(!n)throw new $(2,2,2008)},bi.prototype.setSequenceMode=function(){},bi.prototype.setManifestType=function(){},bi.prototype.parseMedia=function(e,t){if(!e.length)return[];if(!this.g)throw new $(2,2,2008);var n=0,r=[],i,o=[],u=!1,c=!1,h=!1,g=null;if(new nn().box("moof",vt).box("traf",vt).S("tfdt",function(O){u=!0,n=Kg(O.reader,O.version).baseMediaDecodeTime}).S("tfhd",function(O){g=H5(O.reader,O.flags).bd}).S("trun",function(O){c=!0,r=q5(O.reader,O.version,O.flags).Vg}).box("mdat",cc(function(O){h=!0,i=O})).parse(e,!1),!h&&!u&&!c)throw new $(2,2,2008);e=n;for(var v=new tn(i,0),b=w(r),x=b.next();!x.done;x=b.next()){x=x.value;var S=x.Lf||g,T=x.le?n+x.le:e;e=T+(S||0);var A=0;do{var C=v.P();A+=C;var M=v.P(),_=null;Hg(M)=="vttc"?8<C&&(_=v.ub(C-8)):v.skip(C-8),S&&_&&(C=sF(_,t.periodStart+T/this.g,t.periodStart+e/this.g),o.push(C))}while(x.sampleSize&&A<x.sampleSize)}return o.filter(ks)};function sF(e,t,n){var r,i,o;return new nn().box("payl",cc(function(u){r=hn(u)})).box("iden",cc(function(u){i=hn(u)})).box("sttg",cc(function(u){o=hn(u)})).parse(e),r?uF(r,i,o,t,n):null}function uF(e,t,n,r,i){if(e=new en(r,i,e),_g(e),t&&(e.id=t),n)for(t=new Wl(n),n=Su(t);n;)e8(e,n,[]),Xl(t),n=Su(t);return e}Ae("shaka.text.Mp4VttParser",bi),bi.prototype.parseMedia=bi.prototype.parseMedia,bi.prototype.setManifestType=bi.prototype.setManifestType,bi.prototype.setSequenceMode=bi.prototype.setSequenceMode,bi.prototype.parseInit=bi.prototype.parseInit,_n['application/mp4; codecs="wvtt"']=function(){return new bi};function wi(){}wi.prototype.parseInit=function(){},wi.prototype.setSequenceMode=function(){},wi.prototype.setManifestType=function(){},wi.prototype.parseMedia=function(e){var t=hn(e).replace(/\r+/g,"");if(t=t.trim(),e=[],t=="")return e;t=w(t.split(`

`));for(var n=t.next();!n.done;n=t.next()){n=n.value.split(`
`);var r=new Wl(n[0]),i=mp(r),o=xu(r,/,/g);if(r=mp(r),i==null||o==null||r==null)throw new $(2,2,2001,"Could not parse cue time range in SubViewer");e.push(new en(i,r,n.slice(1).join(`
`).trim()))}return e},Ae("shaka.text.SbvTextParser",wi),wi.prototype.parseMedia=wi.prototype.parseMedia,wi.prototype.setManifestType=wi.prototype.setManifestType,wi.prototype.setSequenceMode=wi.prototype.setSequenceMode,wi.prototype.parseInit=wi.prototype.parseInit,_n["text/x-subviewer"]=function(){return new wi};function si(){this.g=new Pr}si.prototype.parseInit=function(){},si.prototype.setSequenceMode=function(){},si.prototype.setManifestType=function(){},si.prototype.parseMedia=function(e,t,n){return e=hn(e),e=t8(e),e=Ge(Ia(e)),this.g.parseMedia(e,t,n,[])};function t8(e){var t=`WEBVTT

`;if(e=="")return t;e=e.replace(/\r+/g,""),e=e.trim(),e=w(e.split(`

`));for(var n=e.next();!n.done;n=e.next())n=n.value.split(/\n/),n[0].match(/\d+/)&&n.shift(),n[0]=n[0].replace(/,/g,"."),t+=n.join(`
`).replace(/{b}/g,"<b>").replace(/{\/b}/g,"</b>").replace(/{i}/g,"<i>").replace(/{\/i}/g,"</i>").replace(/{u}/g,"<u>").replace(/{\/u}/g,"</u>")+`

`;return t}Ae("shaka.text.SrtTextParser",si),si.srt2webvtt=t8,si.prototype.parseMedia=si.prototype.parseMedia,si.prototype.setManifestType=si.prototype.setManifestType,si.prototype.setSequenceMode=si.prototype.setSequenceMode,si.prototype.parseInit=si.prototype.parseInit,_n["text/srt"]=function(){return new si};function xi(){}xi.prototype.parseInit=function(){},xi.prototype.setSequenceMode=function(){},xi.prototype.setManifestType=function(){},xi.prototype.parseMedia=function(e){var t="",n="",r=null,i=null;for(i=hn(e).split(/\r?\n\s*\r?\n/),e=w(i),i=e.next();!i.done;i=e.next()){var o=i.value;i=o,(o=cF.exec(o))&&(r=o[1],i=o[2]),r=="V4 Styles"||r=="V4+ Styles"?(t=i,t=n?t+(`
`+i):i):r=="Events"&&(n=n?n+(`
`+i):i)}for(r=[],i=null,t=w(t.split(/\r?\n/)),e=t.next();!e.done;e=t.next())if(e=e.value,!/^\s*;/.test(e)&&(o=i8.exec(e))){if(e=o[1].trim(),o=o[2].trim(),e=="Format")i=o.split(_0);else if(e=="Style"){e=o.split(_0),o={};for(var u=0;u<i.length&&u<e.length;u++)o[i[u]]=e[u];r.push(o)}}for(i=[],t=null,n=w(n.split(/\r?\n/)),o=n.next(),e={};!o.done;e={ih:void 0},o=n.next())if(o=o.value,!/^\s*;/.test(o)&&(u=i8.exec(o))){if(o=u[1].trim(),u=u[2].trim(),o=="Format")t=u.split(_0);else if(o=="Dialogue"){u=u.split(_0),o={};for(var c=0;c<t.length&&c<u.length;c++)o[t[c]]=u[c];c=r8(o.Start);var h=r8(o.End);u=new en(c,h,u.slice(t.length-1).join(",").replace(/\\N/g,`
`).replace(/\{[^}]+\}/g,"")),e.ih=o.Style,(e=r.find(function(g){return function(v){return v.Name==g.ih}}(e)))&&lF(u,e),i.push(u)}}return i};function lF(e,t){var n=t.Fontname;if(n&&(e.fontFamily=n),(n=t.Fontsize)&&(e.fontSize=n+"px"),(n=t.PrimaryColour)&&(n=n8(n))&&(e.color=n),(n=t.BackColour)&&(n=n8(n))&&(e.backgroundColor=n),t.Bold&&(e.fontWeight=Zl),t.Italic&&(e.fontStyle=Ql),t.Underline&&e.textDecoration.push(Ao),(n=t.Spacing)&&(e.letterSpacing=n+"px"),n=t.Alignment)switch(parseInt(n,10)){case 1:e.displayAlign=wp,e.textAlign="start";break;case 2:e.displayAlign=wp,e.textAlign=Ya;break;case 3:e.displayAlign=wp,e.textAlign="end";break;case 5:e.displayAlign="before",e.textAlign="start";break;case 6:e.displayAlign="before",e.textAlign=Ya;break;case 7:e.displayAlign="before",e.textAlign="end";break;case 9:e.displayAlign="center",e.textAlign="start";break;case 10:e.displayAlign="center",e.textAlign=Ya;break;case 11:e.displayAlign="center",e.textAlign="end"}(t=t.AlphaLevel)&&(e.opacity=parseFloat(t))}function n8(e){return e=parseInt(e.replace("&H",""),16),0<=e?"rgba("+(e&255)+","+(e>>8&255)+","+(e>>16&255)+","+(e>>24&255^255)/255+")":null}function r8(e){return e=dF.exec(e),3600*(e[1]?parseInt(e[1].replace(":",""),10):0)+60*parseInt(e[2],10)+parseFloat(e[3])}Ae("shaka.text.SsaTextParser",xi),xi.prototype.parseMedia=xi.prototype.parseMedia,xi.prototype.setManifestType=xi.prototype.setManifestType,xi.prototype.setSequenceMode=xi.prototype.setSequenceMode,xi.prototype.parseInit=xi.prototype.parseInit;var cF=/^\s*\[([^\]]+)\]\r?\n([\s\S]*)/,i8=/^\s*([^:]+):\s*(.*)/,_0=/\s*,\s*/,dF=/^(\d+:)?(\d{1,2}):(\d{1,2}(?:[.]\d{1,3})?)?$/;_n["text/x-ssa"]=function(){return new xi};function a8(e,t){var n=e[t+1]&1?7:9;return t+n<=e.length&&(e=((e[t+3]&3)<<11|e[t+4]<<3|(e[t+5]&224)>>>5)-n,0<e)?{Od:n,da:e}:null}function o8(e,t){var n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],r=(e[t+2]&60)>>>2;if(r>n.length-1)return null;var i=((e[t+2]&192)>>>6)+1,o=(e[t+2]&1)<<2;return o|=(e[t+3]&192)>>>6,{sampleRate:n[r],channelCount:o,codec:"mp4a.40."+i}}function s8(e,t){if(t+1<e.length&&e[t]===255&&(e[t+1]&246)===240){var n=e[t+1]&1?7:9;if(t+n>=e.length)return!1;var r=(e[t+3]&3)<<11|e[t+4]<<3|(e[t+5]&224)>>>5;return r<=n?!1:(t+=r,t===e.length||t+1<e.length&&e[t]===255&&(e[t+1]&246)===240)}return!1}function pF(e,t){switch(e){case"mp4a.40.2":if(t===1)return new Uint8Array([0,200,0,128,35,128]);if(t===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(t===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(t===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(t===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(t===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(t===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(t===2||t===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}function Si(e){this.i=e,this.h=0,this.g=new Map}f=Si.prototype,f.destroy=function(){this.g.clear()},f.isSupported=function(e){return e.toLowerCase().split(";")[0]=="audio/aac"?ct(this.convertCodecs("audio",e)):!1},f.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="audio/aac"?'audio/mp4; codecs="'+(vi(t)||"mp4a.40.2")+'"':t},f.getOriginalMimeType=function(){return this.i},f.transmux=function(e,t,n,r){for(var i=Ge(e),o=pc(i),u=o.length;u<i.length&&!s8(i,u);u++);if(e=1e3*n.endTime,o=Ru(o),o.length&&n&&(o=o.find(function(v){return v.description==="com.apple.streaming.transportStreamTimestamp"}))&&(e=o.data),o=o8(i,u),!o)return Promise.reject(new $(2,3,3018,n?n.N()[0]:null));t.audioSamplingRate=o.sampleRate,t.channelsCount=o.channelCount;for(var c=[];u<i.length;){var h=a8(i,u);if(!h)return Promise.reject(new $(2,3,3018,n?n.N()[0]:null));var g=h.Od+h.da;u+g<=i.length&&c.push({data:i.subarray(u+h.Od,u+g),size:h.da,duration:1024,fb:0,flags:{jb:0,Ya:0,Xa:0,Va:0,Wa:2,kb:0}}),u+=g}return i=o.sampleRate,e=Math.floor(e*i/1e3),r={id:t.id,type:"audio",codecs:o.codec,encrypted:t.encrypted&&0<t.drmInfos.length,timescale:i,duration:r,bb:[],pa:new Uint8Array([]),ya:new Uint8Array([]),Ba:0,Ca:0,data:{vb:this.h,baseMediaDecodeTime:e,Za:c},stream:t},r=new Vc([r]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=zc(r),this.g.set(n,t)),n=bh(r),this.h++,t=An(t,n),Promise.resolve(t)},Ae("shaka.transmuxer.AacTransmuxer",Si),Si.prototype.transmux=Si.prototype.transmux,Si.prototype.getOriginalMimeType=Si.prototype.getOriginalMimeType,Si.prototype.convertCodecs=Si.prototype.convertCodecs,Si.prototype.isSupported=Si.prototype.isSupported,Si.prototype.destroy=Si.prototype.destroy,Co("audio/aac",function(){return new Si("audio/aac")},xs);function u8(e,t){if(t+8>e.length||e[t]!==11||e[t+1]!==119)return null;var n=e[t+4]>>6;if(3<=n)return null;var r=e[t+4]&63,i=2*[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][3*r+n];if(t+i>e.length)return null;var o=e[t+6]>>5,u=0;o===2?u+=2:(o&1&&o!==1&&(u+=2),o&4&&(u+=2)),u=(e[t+6]<<8|e[t+7])>>12-u&1;var c=e[t+5]&7;return e=new Uint8Array([n<<6|e[t+5]>>3<<1|c>>2,(c&3)<<6|o<<3|u<<2|r>>4,r<<4&224]),{sampleRate:[48e3,44100,32e3][n],channelCount:[2,1,2,3,3,4,4,5][o]+u,pa:e,da:i}}function hF(e,t){if(e[t]===11&&e[t+1]===119){var n=0,r=5;t+=r;for(var i,o;0<r;){o=e[t];var u=Math.min(r,8),c=8-u;i=4278190080>>>24+c<<c,i=(o&i)>>c,n=n?n<<u|i:i,t+=1,r-=u}if(16>n)return!0}return!1}function Bi(e){this.i=e,this.h=0,this.g=new Map}f=Bi.prototype,f.destroy=function(){this.g.clear()},f.isSupported=function(e){return e.toLowerCase().split(";")[0]=="audio/ac3"?ct(this.convertCodecs("audio",e)):!1},f.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="audio/ac3"?'audio/mp4; codecs="ac-3"':t},f.getOriginalMimeType=function(){return this.i},f.transmux=function(e,t,n,r){e=Ge(e);for(var i=pc(e),o=i.length;o<e.length&&!hF(e,o);o++);var u=1e3*n.endTime;i=Ru(i),i.length&&n&&(i=i.find(function(v){return v.description==="com.apple.streaming.transportStreamTimestamp"}))&&(u=i.data),i=0;for(var c=new Uint8Array([]),h=[];o<e.length;){var g=u8(e,o);if(!g)return Promise.reject(new $(2,3,3018,n?n.N()[0]:null));t.audioSamplingRate=g.sampleRate,t.channelsCount=g.channelCount,i=g.sampleRate,c=g.pa,h.push({data:e.subarray(o,o+g.da),size:g.da,duration:1536,fb:0,flags:{jb:0,Ya:0,Xa:0,Va:0,Wa:2,kb:0}}),o+=g.da}return e=Math.floor(u*i/1e3),r={id:t.id,type:"audio",codecs:"ac-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:i,duration:r,bb:[],pa:c,ya:new Uint8Array([]),Ba:0,Ca:0,data:{vb:this.h,baseMediaDecodeTime:e,Za:h},stream:t},r=new Vc([r]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=zc(r),this.g.set(n,t)),n=bh(r),this.h++,t=An(t,n),Promise.resolve(t)},Ae("shaka.transmuxer.Ac3Transmuxer",Bi),Bi.prototype.transmux=Bi.prototype.transmux,Bi.prototype.getOriginalMimeType=Bi.prototype.getOriginalMimeType,Bi.prototype.convertCodecs=Bi.prototype.convertCodecs,Bi.prototype.isSupported=Bi.prototype.isSupported,Bi.prototype.destroy=Bi.prototype.destroy,Co("audio/ac3",function(){return new Bi("audio/ac3")},xs);function l8(e,t){if(t+8>e.length||(e[t]<<8|e[t+1]<<0)!==2935)return null;var n=new Lo(e.subarray(t+2));ti(n,2),ti(n,3);var r=wt(n,11)+1<<1,i=wt(n,2);if(i==3){i=wt(n,2),i=[24e3,22060,16e3][i];var o=3}else i=[48e3,44100,32e3][i],o=wt(n,2);var u=wt(n,3),c=wt(n,1);return n=wt(n,5),t+r>e.byteLength?null:(e=Math.floor(r*i/(16*[1,2,3,6][o])),e=new Uint8Array([(e&8160)>>5,(e&31)<<3,i<<6|n<<1|0,0|u<<1|c<<0,0]),{sampleRate:i,channelCount:[2,1,2,3,3,4,4,5][u]+c,pa:e,da:r})}function Vi(e){this.i=e,this.h=0,this.g=new Map}f=Vi.prototype,f.destroy=function(){this.g.clear()},f.isSupported=function(e){return e.toLowerCase().split(";")[0]=="audio/ec3"?ct(this.convertCodecs("audio",e)):!1},f.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="audio/ec3"?'audio/mp4; codecs="ec-3"':t},f.getOriginalMimeType=function(){return this.i},f.transmux=function(e,t,n,r){e=Ge(e);for(var i=pc(e),o=i.length;o<e.length&&(e[o]<<8|e[o+1]<<0)!==2935;o++);var u=1e3*n.endTime;i=Ru(i),i.length&&n&&(i=i.find(function(v){return v.description==="com.apple.streaming.transportStreamTimestamp"}))&&(u=i.data),i=0;for(var c=new Uint8Array([]),h=[];o<e.length;){var g=l8(e,o);if(!g)return Promise.reject(new $(2,3,3018,n?n.N()[0]:null));t.audioSamplingRate=g.sampleRate,t.channelsCount=g.channelCount,i=g.sampleRate,c=g.pa,h.push({data:e.subarray(o,o+g.da),size:g.da,duration:1536,fb:0,flags:{jb:0,Ya:0,Xa:0,Va:0,Wa:2,kb:0}}),o+=g.da}return e=Math.floor(u*i/1e3),r={id:t.id,type:"audio",codecs:"ec-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:i,duration:r,bb:[],pa:c,ya:new Uint8Array([]),Ba:0,Ca:0,data:{vb:this.h,baseMediaDecodeTime:e,Za:h},stream:t},r=new Vc([r]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=zc(r),this.g.set(n,t)),n=bh(r),this.h++,t=An(t,n),Promise.resolve(t)},Ae("shaka.transmuxer.Ec3Transmuxer",Vi),Vi.prototype.transmux=Vi.prototype.transmux,Vi.prototype.getOriginalMimeType=Vi.prototype.getOriginalMimeType,Vi.prototype.convertCodecs=Vi.prototype.convertCodecs,Vi.prototype.isSupported=Vi.prototype.isSupported,Vi.prototype.destroy=Vi.prototype.destroy,Co("audio/ec3",function(){return new Vi("audio/ec3")},xs);function fF(e){if(!e.length)return null;var t=e.find(function(A){return A.type==7});if(e=e.find(function(A){return A.type==8}),!t||!e)return null;var n=new Lo(t.data),r=Ot(n);if(Ot(n),Ot(n),Fr(n),mF.includes(r)&&(r=Pe(n),r===3&&ti(n,1),Fr(n),Fr(n),ti(n,1),He(n))){r=r!==3?8:12;for(var i=0;i<r;i++)He(n)&&(6>i?Xg(n,16):Xg(n,64))}if(Fr(n),r=Pe(n),r===0)Pe(n);else if(r===1)for(ti(n,1),Fr(n),Fr(n),r=Pe(n),i=0;i<r;i++)Fr(n);Fr(n),ti(n,1);var o=Pe(n),u=Pe(n),c=wt(n,1);c===0&&ti(n,1),ti(n,1);var h=0,g=0,v=0,b=0;if(He(n)&&(h=Pe(n),g=Pe(n),v=Pe(n),b=Pe(n)),i=r=1,He(n)&&He(n)){var x=Ot(n),S=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],T=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];0<x&&16>=x?(r=S[x-1],i=T[x-1]):x===255&&(r=wt(n,16),i=wt(n,16))}return n=(2-c)*(u+1)*16-2*v-2*b,o=16*(o+1)-2*h-2*g,h=[],t=t.fullData,h.push(t.byteLength>>>8&255),h.push(t.byteLength&255),h=h.concat.apply(h,F(t)),t=[],e=e.fullData,t.push(e.byteLength>>>8&255),t.push(e.byteLength&255),t=t.concat.apply(t,F(e)),e=new Uint8Array([1,h[3],h[4],h[5],255,225].concat(h,[1],t)),{height:n,width:o,ya:e,Ba:r,Ca:i}}function gF(e){var t=!1,n=[],r=e.find(function(h){return h.type==7}),i=!1;e=w(e);for(var o=e.next();!o.done;o=e.next()){o=o.value;var u=!1;switch(o.type){case 1:u=i=!0;var c=o.data;r&&4<c.length&&(c=Q7(new Lo(c)),c===2||c===4||c===7||c===9)&&(t=!0);break;case 5:t=u=i=!0;break;case 6:u=!0;break;case 7:u=!0;break;case 8:u=!0;break;case 9:i=u=!0;break;case 12:u=!0;break;default:u=!1}i&&u&&(u=o.fullData.byteLength,c=new Uint8Array(4),c[0]=u>>24&255,c[1]=u>>16&255,c[2]=u>>8&255,c[3]=u&255,n.push(c),n.push(o.fullData))}return n.length?{data:An.apply(Ir,F(n)),kd:t}:null}var mF=[100,110,122,244,44,83,86,118,128,138,139,134];function vF(e){if(!e.length)return null;var t=e.find(function(u){return u.type==32}),n=e.find(function(u){return u.type==33}),r=e.find(function(u){return u.type==34});if(!t||!n||!r)return null;var i=yF(t.fullData);e=bF(n.fullData);var o=wF(r.fullData);return t=xF(t.fullData,n.fullData,r.fullData,{zf:i.zf,Wf:i.Wf,df:e.df,ef:e.ef,Ye:e.Ye,cf:e.cf,Ze:e.Ze,$e:e.$e,af:e.af,bf:e.bf,Se:e.Se,Te:e.Te,Ue:e.Ue,Ve:e.Ve,We:e.We,Xe:e.Xe,Le:e.Le,Yd:e.Yd,Je:e.Je,Ie:e.Ie,He:e.He,Cf:o.Cf}),{height:e.height,width:e.width,ya:t,Ba:e.Si,Ca:e.Ri}}function yF(e){var t=new Lo(e,!0);return Ot(t),Ot(t),wt(t,4),wt(t,2),wt(t,6),e=wt(t,3),t=He(t),{zf:e+1,Wf:t}}function bF(e){e=new Lo(e,!0),Ot(e),Ot(e);var t=0,n=0,r=0,i=0;wt(e,4);var o=wt(e,3);He(e);for(var u=wt(e,2),c=wt(e,1),h=wt(e,5),g=Ot(e),v=Ot(e),b=Ot(e),x=Ot(e),S=Ot(e),T=Ot(e),A=Ot(e),C=Ot(e),M=Ot(e),_=Ot(e),O=Ot(e),P=[],j=[],V=0;V<o;V++)P.push(He(e)),j.push(He(e));if(0<o)for(V=o;8>V;V++)wt(e,2);for(V=0;V<o;V++)P[V]&&wt(e,88),j[V]&&Ot(e);Pe(e),P=Pe(e),P==3&&wt(e,1),j=Pe(e),V=Pe(e),He(e)&&(t+=Pe(e),n+=Pe(e),r+=Pe(e),i+=Pe(e));var B=Pe(e),H=Pe(e),W=Pe(e);if(He(e))for(var G=0;G<=o;G++)Pe(e),Pe(e),Pe(e);else Pe(e),Pe(e),Pe(e);if(Pe(e),Pe(e),Pe(e),Pe(e),Pe(e),Pe(e),He(e)&&He(e))for(G=0;4>G;G++)for(var ee=0;ee<(G===3?2:6);ee++)if(He(e)){var re=Math.min(64,1<<4+(G<<1));1<G&&hc(e);for(var ce=0;ce<re;ce++)hc(e)}else Pe(e);for(He(e),He(e),He(e)&&(Ot(e),Pe(e),Pe(e),He(e)),G=Pe(e),re=ee=0;re<G;re++)if(ce=!1,re!==0&&(ce=He(e)),ce){re===G&&Pe(e),He(e),Pe(e);for(var ae=ce=0;ae<=ee;ae++){var oe=He(e),he=!1;oe||(he=He(e)),(oe||he)&&ce++}ee=ce}else{for(ae=Pe(e),ce=Pe(e),ee=ae+ce,oe=0;oe<ae;oe++)Pe(e),He(e);for(ae=0;ae<ce;ae++)Pe(e),He(e)}if(He(e))for(G=Pe(e),ee=0;ee<G;ee++){for(re=0;re<W+4;re++)wt(e,1);wt(e,1)}if(G=W=1,ee=0,He(e),He(e),He(e)){if(He(e)&&(re=Ot(e),ce=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],ae=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1],0<re&&16>=re?(W=ce[re-1],G=ae[re-1]):re===255&&(W=wt(e,16),G=wt(e,16))),He(e)&&He(e),He(e)&&(wt(e,3),He(e),He(e)&&(Ot(e),Ot(e),Ot(e))),He(e)&&(Pe(e),Pe(e)),He(e),He(e),He(e),(re=He(e))&&(Pe(e),Pe(e),Pe(e),Pe(e)),He(e)&&(wt(e,32),wt(e,32),He(e)&&Pe(e),He(e)))for(ae=!1,re=He(e),ce=He(e),(re||ce)&&((ae=He(e))&&(Ot(e),wt(e,5),He(e),wt(e,5)),wt(e,4),wt(e,4),ae&&wt(e,4),wt(e,5),wt(e,5),wt(e,5)),oe=0;oe<=o;oe++){var ge=!0;he=1,He(e)||(ge=He(e));var Oe=!1;if(ge?Pe(e):Oe=He(e),Oe||(he=Pe(e)+1),re){for(ge=0;ge<he;ge++)Pe(e),Pe(e),ae&&(Pe(e),Pe(e));He(e)}if(ce){for(ge=0;ge<he;ge++)Pe(e),Pe(e),ae&&(Pe(e),Pe(e));He(e)}}He(e)&&(He(e),He(e),He(e),ee=Pe(e),Pe(e),Pe(e),Pe(e),Pe(e))}return{Ye:O,df:u,ef:c,cf:h,Ze:g,$e:v,af:b,bf:x,Se:S,Te:T,Ue:A,Ve:C,We:M,Xe:_,Yd:ee,Le:0,Je:P,Ie:B,He:H,width:j-(t+n)*(P===1||P===2?2:1),height:V-(r+i)*(P===1?2:1),Si:W,Ri:G}}function wF(e){var t=new Lo(e,!0);Ot(t),Ot(t),Pe(t),Pe(t),He(t),He(t),wt(t,3),He(t),He(t),Pe(t),Pe(t),hc(t),He(t),He(t),He(t)&&Pe(t),hc(t),hc(t),He(t),He(t),He(t),He(t),e=He(t),t=He(t);var n=1;return t&&e?n=0:t?n=3:e&&(n=2),{Cf:n}}function xF(e,t,n,r){var i=new Uint8Array(23+(5+e.byteLength)+(5+t.byteLength)+(5+n.byteLength));return i[0]=1,i[1]=(r.df&3)<<6|(r.ef?1:0)<<5|r.cf&31,i[2]=r.Ze,i[3]=r.$e,i[4]=r.af,i[5]=r.bf,i[6]=r.Se,i[7]=r.Te,i[8]=r.Ue,i[9]=r.Ve,i[10]=r.We,i[11]=r.Xe,i[12]=r.Ye,i[13]=240|(r.Yd&3840)>>8,i[14]=r.Yd&255,i[15]=252|r.Cf&3,i[16]=252|r.Je&3,i[17]=248|r.Ie&7,i[18]=248|r.He&7,i[19]=0,i[20]=0,i[21]=(r.Le&3)<<6|(r.zf&7)<<3|(r.Wf?1:0)<<2|3,i[22]=3,i[23]=160,i[24]=0,i[25]=1,i[26]=(e.byteLength&65280)>>8,i[27]=(e.byteLength&255)>>0,i.set(e,28),i[23+(5+e.byteLength)]=161,i[e.byteLength+29]=0,i[e.byteLength+30]=1,i[e.byteLength+31]=(t.byteLength&65280)>>8,i[e.byteLength+32]=(t.byteLength&255)>>0,i.set(t,e.byteLength+33),i[23+(e.byteLength+10+t.byteLength)]=162,i[e.byteLength+10+t.byteLength+24]=0,i[e.byteLength+10+t.byteLength+25]=1,i[e.byteLength+10+t.byteLength+26]=(n.byteLength&65280)>>8,i[e.byteLength+10+t.byteLength+27]=(n.byteLength&255)>>0,i.set(n,e.byteLength+10+t.byteLength+28),i}function P0(e,t){var n=e[t+1]>>3&3,r=e[t+1]>>1&3,i=e[t+2]>>4&15,o=e[t+2]>>2&3;if(n!==1&&i!==0&&i!==15&&o!==3){var u=e[t+3]>>6;i=1e3*SF[14*(n===3?3-r:r===3?3:4)+i-1],o=TF[3*(n===3?0:n===2?1:2)+o],n=kF[n][r];var c=EF[r],h=Math.floor(n*i/o+(e[t+2]>>1&1))*c,g=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);return(g=g?parseInt(g[1],10):0)&&87>=g&&r===2&&224e3<=i&&u===0&&(e[t+3]|=128),{sampleRate:o,channelCount:u===3?1:2,da:h,Qi:8*n*c}}return null}function c8(e,t){return e[t]===255&&(e[t+1]&224)===224&&(e[t+1]&6)!==0}function d8(e,t){if(t+1<e.length&&c8(e,t)){var n=P0(e,t),r=4;return n&&n.da&&(r=n.da),t+=r,t===e.length||t+1<e.length&&c8(e,t)}return!1}var SF=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],TF=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],kF=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],EF=[0,1,1,4];function zi(e){this.i=e,this.h=0,this.g=new Map}f=zi.prototype,f.destroy=function(){this.g.clear()},f.isSupported=function(e){return e.toLowerCase().split(";")[0]=="audio/mpeg"?ct(this.convertCodecs("audio",e)):!1},f.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="audio/mpeg"?'audio/mp4; codecs="mp3"':t},f.getOriginalMimeType=function(){return this.i},f.transmux=function(e,t,n,r){for(var i=Ge(e),o=pc(i).length;o<i.length&&!d8(i,o);o++);var u;for(e=[];o<i.length;){var c=P0(i,o);if(!c)return Promise.reject(new $(2,3,3018,n?n.N()[0]:null));u||(u=c),o+c.da<=i.length&&e.push({data:i.subarray(o,o+c.da),size:c.da,duration:1152,fb:0,flags:{jb:0,Ya:0,Xa:0,Va:0,Wa:2,kb:0}}),o+=c.da}return u?(i=9e4*u.Qi/u.sampleRate*this.h,r={id:t.id,type:"audio",codecs:"mp3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:u.sampleRate,duration:r,bb:[],pa:new Uint8Array([]),ya:new Uint8Array([]),Ba:0,Ca:0,data:{vb:this.h,baseMediaDecodeTime:i,Za:e},stream:t},r=new Vc([r]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=zc(r),this.g.set(n,t)),n=bh(r),this.h++,t=An(t,n),Promise.resolve(t)):Promise.reject(new $(2,3,3018,n?n.N()[0]:null))},Ae("shaka.transmuxer.Mp3Transmuxer",zi),zi.prototype.transmux=zi.prototype.transmux,zi.prototype.getOriginalMimeType=zi.prototype.getOriginalMimeType,zi.prototype.convertCodecs=zi.prototype.convertCodecs,zi.prototype.isSupported=zi.prototype.isSupported,zi.prototype.destroy=zi.prototype.destroy,Co("audio/mpeg",function(){return new zi("audio/mpeg")},xs);function $i(e){this.h=e,this.g=null}f=$i.prototype,f.destroy=function(){},f.isSupported=function(e){if(e.toLowerCase().split(";")[0]!="video/mp2t")return!1;var t=vi(e).split(","),n=Zr("audio",t);return t=Zr("video",t),!n||t||Tr(n)!="mp3"?!1:ct(this.convertCodecs("audio",e))},f.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="video/mp2t"?"audio/mpeg":t},f.getOriginalMimeType=function(){return this.h},f.transmux=function(e,t,n,r,i){if(this.g?this.g.clearData():this.g=new sn,e=Ge(e),e=this.g.parse(e),e.cd().audio!="mp3"||i!="audio")return Promise.reject(new $(2,3,3018,n?n.N()[0]:null));for(n=new Uint8Array([]),i=w(e.Wb()),e=i.next();!e.done;e=i.next())if(e=e.value.data)for(t=0;t<e.length;)(r=P0(e,t))?(t+r.da<=e.length&&(n=An(n,e.subarray(t,t+r.da))),t+=r.da):t++;return Promise.resolve(n)},Ae("shaka.transmuxer.MpegTsTransmuxer",$i),$i.prototype.transmux=$i.prototype.transmux,$i.prototype.getOriginalMimeType=$i.prototype.getOriginalMimeType,$i.prototype.convertCodecs=$i.prototype.convertCodecs,$i.prototype.isSupported=$i.prototype.isSupported,$i.prototype.destroy=$i.prototype.destroy,Co("video/mp2t",function(){return new $i("video/mp2t")},I1);/*
 @license
 MSS Transmuxer
 Copyright 2015 Dash Industry Forum
 SPDX-License-Identifier: BSD-3-Clause
*/function Ti(e){this.h=e,(this.g=I2.get("ISOBoxer")())&&AF(this)}function AF(e){function t(){this._procFullBox(),this.flags&1&&(this._procField("AlgorithmID","uint",24),this._procField("IV_size","uint",8),this._procFieldArray("KID",16,"uint",8)),this._procField("sample_count","uint",32),this._procEntries("entry",this.sample_count,function(n){this._procEntryField(n,"InitializationVector","data",8),this.flags&2&&(this._procEntryField(n,"NumberOfEntries","uint",16),this._procSubEntries(n,"clearAndCryptedData",n.NumberOfEntries,function(r){this._procEntryField(r,"BytesOfClearData","uint",16),this._procEntryField(r,"BytesOfEncryptedData","uint",32)}))})}e.g.addBoxProcessor("saio",function(){this._procFullBox(),this.flags&1&&(this._procField("aux_info_type","uint",32),this._procField("aux_info_type_parameter","uint",32)),this._procField("entry_count","uint",32),this._procFieldArray("offset",this.entry_count,"uint",this.version===1?64:32)}),e.g.addBoxProcessor("saiz",function(){this._procFullBox(),this.flags&1&&(this._procField("aux_info_type","uint",32),this._procField("aux_info_type_parameter","uint",32)),this._procField("default_sample_info_size","uint",8),this._procField("sample_count","uint",32),this.default_sample_info_size===0&&this._procFieldArray("sample_info_size",this.sample_count,"uint",8)}),e.g.addBoxProcessor("senc",t),e.g.addBoxProcessor("uuid",function(){for(var n=!0,r=0;16>r;r++)this.usertype[r]!==CF[r]&&(n=!1);n&&(this._parsing&&(this.type="sepiff"),t.call(this))})}f=Ti.prototype,f.destroy=function(){},f.isSupported=function(e,t){var n=e.startsWith("mss/");return!this.g||!n?!1:t?ct(this.convertCodecs(t,e)):(t=this.convertCodecs("audio",e),e=this.convertCodecs("video",e),ct(t)||ct(e))},f.convertCodecs=function(e,t){return t.replace("mss/","")},f.getOriginalMimeType=function(){return this.h},f.transmux=function(e,t,n){if(!n)return Promise.resolve(Ge(e));if(!t.mssPrivateData)return Promise.reject(new $(2,3,3020,n?n.N()[0]:null));try{var r,i=this.g.parseBuffer(e),o=i.fetch("tfhd");o.track_ID=t.id+1;var u=i.fetch("tfdt"),c=i.fetch("traf");u===null&&(u=this.g.createFullBox("tfdt",c,o),u.version=1,u.flags=0,u.baseMediaDecodeTime=Math.floor(n.startTime*t.mssPrivateData.timescale));var h=i.fetch("trun"),g=i.fetch("tfxd");g&&g._parent.boxes.splice(g._parent.boxes.indexOf(g),1);var v=i.fetch("tfrf");v&&v._parent.boxes.splice(v._parent.boxes.indexOf(v),1);var b=i.fetch("sepiff");if(b!==null){b.type="senc",b.usertype=void 0;var x=i.fetch("saio");if(x===null){x=this.g.createFullBox("saio",c),x.version=0,x.flags=0,x.entry_count=1,x.offset=[0];var S=this.g.createFullBox("saiz",c);if(S.version=0,S.flags=0,S.sample_count=b.sample_count,S.default_sample_info_size=0,S.sample_info_size=[],b.flags&2)for(r=0;r<b.sample_count;r+=1)S.sample_info_size[r]=10+6*b.entry[r].NumberOfEntries;else S.default_sample_info_size=8}}o.flags&=16777214,o.flags|=131072,h.flags|=1;var T=i.fetch("moof");h.data_offset=T.getLength()+8;var A=i.fetch("saio");A!==null&&(A.offset[0]=p8(T,"traf")+p8(c,"senc")+16);var C=Ge(i.write());return Promise.resolve(C)}catch(M){return M instanceof $?Promise.reject(M):Promise.reject(new $(2,3,3022,n?n.N()[0]:null))}};function p8(e,t){for(var n=8,r=0;r<e.boxes.length&&e.boxes[r].type!==t;r++)n+=e.boxes[r].size;return n}Ae("shaka.transmuxer.MssTransmuxer",Ti),Ti.prototype.transmux=Ti.prototype.transmux,Ti.prototype.getOriginalMimeType=Ti.prototype.getOriginalMimeType,Ti.prototype.convertCodecs=Ti.prototype.convertCodecs,Ti.prototype.isSupported=Ti.prototype.isSupported,Ti.prototype.destroy=Ti.prototype.destroy;var CF=new Uint8Array([162,57,79,82,90,155,79,20,162,68,108,66,124,100,141,244]);Co("mss/audio/mp4",function(){return new Ti("mss/audio/mp4")},xs),Co("mss/video/mp4",function(){return new Ti("mss/video/mp4")},xs);function Hi(e){this.l=e,this.g=0,this.i=new Map,this.h=this.j=null}f=Hi.prototype,f.destroy=function(){this.i.clear(),this.h&&this.h.destroy()},f.isSupported=function(e,t){if(e.toLowerCase().split(";")[0]!="video/mp2t")return!1;var n=e;t&&(n=this.convertCodecs(t,e));var r=vi(n).split(",");return n=Zr("audio",r),r=Zr("video",r),n&&(n=Tr(n),!IF.includes(n))||r&&(n=Tr(r),!MF.includes(n))?!1:t?ct(this.convertCodecs(t,e)):(t=this.convertCodecs("audio",e),e=this.convertCodecs("video",e),ct(t)||ct(e))},f.convertCodecs=function(e,t){return t.toLowerCase().split(";")[0]=="video/mp2t"?(t=vi(t).replace("mp4a.40.34","mp3").split(",").map(function(n){return rc(n,"audio/mp4")}).map(Cp).join(","),e=="audio"?'audio/mp4; codecs="'+t+'"':'video/mp4; codecs="'+t+'"'):t},f.getOriginalMimeType=function(){return this.l},f.transmux=function(e,t,n,r,i){var o=Ge(e);if(i=="audio"&&!jp(o)){for(var u=pc(o),c=u.length;c<o.length;c++)if(d8(o,c))return Promise.reject(new $(2,3,3018,n?n.N()[0]:null));for(c=u.length;c<o.length;c++)if(s8(o,c))return this.h||(this.h=new Si("audio/aac")),this.h.transmux(e,t,n,r,i);return Promise.reject(new $(2,3,3018,n?n.N()[0]:null))}this.j?this.j.clearData():this.j=new sn;var h=this.j.parse(o),g=[],v=h.cd();try{var b=null;if(i=="video"){switch(v.video){case"avc":var x=[],S=null,T=[],A=h.qc();if(!A.length)throw new $(2,3,3023,n?n.N()[0]:null);for(var C=0;C<A.length;C++){var M=A[C],_=M.nalus;T.push.apply(T,F(_));var O=gF(_);if(O){S==null&&(S=M.dts);var P=void 0;P=C+1<A.length?(A[C+1].dts||0)-(M.dts||0):1<A.length?(M.dts||0)-(A[C-1].dts||0):9e4*(n.endTime-n.startTime),x.push({data:O.data,size:O.data.byteLength,duration:P,fb:Math.round((M.pts||0)-(M.dts||0)),flags:{jb:0,Ya:0,Xa:0,Va:0,Wa:O.kd?2:1,kb:O.kd?0:1}})}}var j=fF(T);if(!j||S==null)throw new $(2,3,3018,n?n.N()[0]:null);t.height=j.height,t.width=j.width,b={id:t.id,type:"video",codecs:"avc1",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:9e4,duration:r,bb:[],pa:new Uint8Array([]),ya:j.ya,Ba:j.Ba,Ca:j.Ca,data:{vb:this.g,baseMediaDecodeTime:S,Za:x},stream:t};break;case"hvc":var V=[],B=null,H=[],W=h.qc();if(!W.length)throw new $(2,3,3023,n?n.N()[0]:null);for(var G=0;G<W.length;G++){var ee=W[G],re=ee.nalus;H.push.apply(H,F(re));for(var ce=!1,ae=[],oe=!1,he=w(re),ge=he.next();!ge.done;ge=he.next()){var Oe=ge.value;switch(Oe.type){case 1:case 0:var Je=oe=!0;break;case 19:case 20:case 21:ce=Je=oe=!0;break;case 32:Je=!0;break;case 33:Je=!0;break;case 34:Je=!0;break;case 35:oe=Je=!0;break;case 39:case 40:Je=!0;break;default:Je=!1}if(oe&&Je){var Ne=Oe.fullData.byteLength,st=new Uint8Array(4);st[0]=Ne>>24&255,st[1]=Ne>>16&255,st[2]=Ne>>8&255,st[3]=Ne&255,ae.push(st),ae.push(Oe.fullData)}}var Jt=ae.length?{data:An.apply(Ir,F(ae)),kd:ce}:null;if(Jt){B==null&&ee.dts!=null&&(B=ee.dts);var Zt=void 0;Zt=G+1<W.length?(W[G+1].dts||0)-(ee.dts||0):1<W.length?(ee.dts||0)-(W[G-1].dts||0):9e4*(n.endTime-n.startTime),V.push({data:Jt.data,size:Jt.data.byteLength,duration:Zt,fb:Math.round((ee.pts||0)-(ee.dts||0)),flags:{jb:0,Ya:0,Xa:0,Va:0,Wa:Jt.kd?2:1,kb:Jt.kd?0:1}})}}var wn=vF(H);if(!wn||B==null)throw new $(2,3,3018,n?n.N()[0]:null);t.height=wn.height,t.width=wn.width,b={id:t.id,type:"video",codecs:"hvc1",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:9e4,duration:r,bb:[],pa:new Uint8Array([]),ya:wn.ya,Ba:wn.Ba,Ca:wn.Ca,data:{vb:this.g,baseMediaDecodeTime:B,Za:V},stream:t}}b&&(g.push(b),b=null)}if(i=="audio"){switch(v.audio){case"aac":for(var jt=[],Bt,cn=null,ua=w(h.Wb()),Bn=ua.next();!Bn.done;Bn=ua.next()){var ki=Bn.value,qi=ki.data;if(qi){var Vn=0;if(Bt=o8(qi,Vn),!Bt)throw new $(2,3,3018,n?n.N()[0]:null);for(t.audioSamplingRate=Bt.sampleRate,t.channelsCount=Bt.channelCount,cn==null&&ki.pts!==null&&(cn=ki.pts);Vn<qi.length;){var la=a8(qi,Vn);if(la){var Gc=la.Od+la.da;Vn+Gc<=qi.length&&jt.push({data:qi.subarray(Vn+la.Od,Vn+Gc),size:la.da,duration:1024,fb:0,flags:{jb:0,Ya:0,Xa:0,Va:0,Wa:2,kb:0}}),Vn+=Gc}else Vn++}}}if(!Bt||cn==null){if(!h.qc().length)throw new $(2,3,3018,n?n.N()[0]:null);cn=9e4*n.startTime;var $o=Zr("audio",t.codecs.split(","));if(!$o||!t.channelsCount||!t.audioSamplingRate)throw new $(2,3,3018,n?n.N()[0]:null);Bt={sampleRate:t.audioSamplingRate,channelCount:t.channelsCount,codec:$o};var Kc=pF($o,t.channelsCount);if(!Kc)throw new $(2,3,3018,n?n.N()[0]:null);for(var L0=cn+9e4*(n.endTime-n.startTime),Mh=cn;Mh<L0;)jt.push({data:Kc,size:Kc.byteLength,duration:1024,fb:0,flags:{jb:0,Ya:0,Xa:0,Va:0,Wa:2,kb:0}}),Mh+=1024/Bt.sampleRate*9e4}var ca=Bt.sampleRate,RF=cn/9e4*ca;b={id:t.id,type:"audio",codecs:Bt.codec,encrypted:t.encrypted&&0<t.drmInfos.length,timescale:ca,duration:r,bb:[],pa:new Uint8Array([]),ya:new Uint8Array([]),Ba:0,Ca:0,data:{vb:this.g,baseMediaDecodeTime:RF,Za:jt},stream:t};break;case"ac3":for(var k8=[],R0=0,Aw=new Uint8Array([]),N0=null,E8=w(h.Wb()),Cw=E8.next();!Cw.done;Cw=E8.next()){var Iw=Cw.value,Mw=Iw.data;N0==null&&Iw.pts!==null&&(N0=Iw.pts);for(var Wc=0;Wc<Mw.length;){var Ls=u8(Mw,Wc);Ls?(t.audioSamplingRate=Ls.sampleRate,t.channelsCount=Ls.channelCount,R0=Ls.sampleRate,Aw=Ls.pa,k8.push({data:Mw.subarray(Wc,Wc+Ls.da),size:Ls.da,duration:1536,fb:0,flags:{jb:0,Ya:0,Xa:0,Va:0,Wa:2,kb:0}}),Wc+=Ls.da):Wc++}}if(R0==0||Aw.byteLength==0||N0==null)throw new $(2,3,3018,n?n.N()[0]:null);var NF=N0/9e4*R0;b={id:t.id,type:"audio",codecs:"ac-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:R0,duration:r,bb:[],pa:Aw,ya:new Uint8Array([]),Ba:0,Ca:0,data:{vb:this.g,baseMediaDecodeTime:NF,Za:k8},stream:t};break;case"ec3":for(var A8=[],U0=0,_w=new Uint8Array([]),O0=null,C8=w(h.Wb()),Pw=C8.next();!Pw.done;Pw=C8.next()){var Dw=Pw.value,Lw=Dw.data;O0==null&&Dw.pts!==null&&(O0=Dw.pts);for(var Xc=0;Xc<Lw.length;){var Rs=l8(Lw,Xc);Rs?(t.audioSamplingRate=Rs.sampleRate,t.channelsCount=Rs.channelCount,U0=Rs.sampleRate,_w=Rs.pa,A8.push({data:Lw.subarray(Xc,Xc+Rs.da),size:Rs.da,duration:1536,fb:0,flags:{jb:0,Ya:0,Xa:0,Va:0,Wa:2,kb:0}}),Xc+=Rs.da):Xc++}}if(U0==0||_w.byteLength==0||O0==null)throw new $(2,3,3018,n?n.N()[0]:null);var UF=O0/9e4*U0;b={id:t.id,type:"audio",codecs:"ec-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:U0,duration:r,bb:[],pa:_w,ya:new Uint8Array([]),Ba:0,Ca:0,data:{vb:this.g,baseMediaDecodeTime:UF,Za:A8},stream:t};break;case"mp3":for(var I8=[],j0,F0=null,M8=w(h.Wb()),Rw=M8.next();!Rw.done;Rw=M8.next()){var Nw=Rw.value,_h=Nw.data;if(_h){F0==null&&Nw.pts!==null&&(F0=Nw.pts);for(var zu=0;zu<_h.length;){var Yc=P0(_h,zu);Yc?(j0||(j0=Yc),zu+Yc.da<=_h.length&&I8.push({data:_h.subarray(zu,zu+Yc.da),size:Yc.da,duration:1152,fb:0,flags:{jb:0,Ya:0,Xa:0,Va:0,Wa:2,kb:0}}),zu+=Yc.da):zu++}}}if(!j0||F0==null)throw new $(2,3,3018,n?n.N()[0]:null);var _8=j0.sampleRate,OF=F0/9e4*_8;b={id:t.id,type:"audio",codecs:"mp3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:_8,duration:r,bb:[],pa:new Uint8Array([]),ya:new Uint8Array([]),Ba:0,Ca:0,data:{vb:this.g,baseMediaDecodeTime:OF,Za:I8},stream:t};break;case"opus":var P8=[],B0=null,Qa=h.F;if(!Qa)throw new $(2,3,3018,n?n.N()[0]:null);var Dr=[];switch(Qa.Ch){case 1:case 2:Dr=[0];break;case 0:Dr=[255,1,1,0,1];break;case 128:Dr=[255,2,0,0,1];break;case 3:Dr=[1,2,1,0,2,1];break;case 4:Dr=[1,2,2,0,1,2,3];break;case 5:Dr=[1,3,2,0,4,1,2,3];break;case 6:Dr=[1,4,2,0,4,1,2,3,5];break;case 7:Dr=[1,4,2,0,4,1,2,3,5,6];break;case 8:Dr=[1,5,3,0,6,1,2,3,4,5,7];break;case 130:Dr=[1,1,2,0,1];break;case 131:Dr=[1,1,3,0,1,2];break;case 132:Dr=[1,1,4,0,1,2,3];break;case 133:Dr=[1,1,5,0,1,2,3,4];break;case 134:Dr=[1,1,6,0,1,2,3,4,5];break;case 135:Dr=[1,1,7,0,1,2,3,4,5,6];break;case 136:Dr=[1,1,8,0,1,2,3,4,5,6,7]}for(var D8=new Uint8Array([0,Qa.channelCount,0,0,Qa.sampleRate>>>24&255,Qa.sampleRate>>>17&255,Qa.sampleRate>>>8&255,Qa.sampleRate>>>0&255,0,0].concat(F(Dr))),L8=Qa.sampleRate,R8=w(h.Wb()),Uw=R8.next();!Uw.done;Uw=R8.next()){var Ow=Uw.value,Zc=Ow.data;B0==null&&Ow.pts!==null&&(B0=Ow.pts);for(var Ph=0;Ph<Zc.length;){for(var jF=(Zc[Ph+1]&16)!==0,FF=(Zc[Ph+1]&8)!==0,Ho=Ph+2,V0=0;Zc[Ho]===255;)V0+=255,Ho+=1;V0+=Zc[Ho],Ho+=1,Ho+=jF?2:0,Ho+=FF?2:0;var N8=Zc.slice(Ho,Ho+V0);P8.push({data:N8,size:N8.byteLength,duration:960,fb:0,flags:{jb:0,Ya:0,Xa:0,Va:0,Wa:2,kb:0}}),Ph=Ho+V0}}if(D8.byteLength==0||B0==null)throw new $(2,3,3018,n?n.N()[0]:null);t.audioSamplingRate=Qa.sampleRate,t.channelsCount=Qa.channelCount;var BF=B0/9e4*L8;b={id:t.id,type:"audio",codecs:"opus",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:L8,duration:r,bb:[],pa:D8,ya:new Uint8Array([]),Ba:0,Ca:0,data:{vb:this.g,baseMediaDecodeTime:BF,Za:P8},stream:t}}b&&(g.push(b),b=null)}}catch(Bw){return Bw&&Bw.code==3023?Promise.resolve(new Uint8Array([])):Promise.reject(Bw)}if(!g.length)return Promise.reject(new $(2,3,3018,n?n.N()[0]:null));var U8=new Vc(g),jw=t.id+"_"+n.i;if(this.i.has(jw))var Fw=this.i.get(jw);else Fw=zc(U8),this.i.set(jw,Fw);var VF=bh(U8);this.g++;var zF=An(Fw,VF);return Promise.resolve(zF)},Ae("shaka.transmuxer.TsTransmuxer",Hi),Hi.prototype.transmux=Hi.prototype.transmux,Hi.prototype.getOriginalMimeType=Hi.prototype.getOriginalMimeType,Hi.prototype.convertCodecs=Hi.prototype.convertCodecs,Hi.prototype.isSupported=Hi.prototype.isSupported,Hi.prototype.destroy=Hi.prototype.destroy;var IF=["aac","ac-3","ec-3","mp3","opus"],MF=["avc","hevc"];Co("video/mp2t",function(){return new Hi("video/mp2t")},M1);/*
 @license
 EME Encryption Scheme Polyfill
 Copyright 2019 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/function h8(){}var Ch;function f8(){Ch||navigator.emeEncryptionSchemePolyfilled?console.debug("EmeEncryptionSchemePolyfill: Already installed."):navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration?(Ch=navigator.requestMediaKeySystemAccess,console.debug("EmeEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.requestMediaKeySystemAccess=_F,navigator.emeEncryptionSchemePolyfilled=!0):console.debug("EmeEncryptionSchemePolyfill: EME not found")}function _F(e,t){var n=this,r;return L(function(i){return i.g==1?(console.assert(n==navigator,'bad "this" for requestMediaKeySystemAccess'),k(i,Ch.call(n,e,t),2)):(r=i.h,S8(r)?(console.debug("EmeEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.requestMediaKeySystemAccess=Ch,i.return(r)):(console.debug("EmeEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.requestMediaKeySystemAccess=g8,i.return(g8.call(n,e,t))))})}function g8(e,t){var n=this,r,i,o,u,c,h,g,v,b,x,S,T;return L(function(A){if(A.g==1){for(console.assert(n==navigator,'bad "this" for requestMediaKeySystemAccess'),r=x8(e),i=[],o=w(t),u=o.next();!u.done;u=o.next())c=u.value,h=m8(c.videoCapabilities,r),g=m8(c.audioCapabilities,r),c.videoCapabilities&&c.videoCapabilities.length&&!h.length||c.audioCapabilities&&c.audioCapabilities.length&&!g.length||(v=Object.assign({},c),v.videoCapabilities=h,v.audioCapabilities=g,i.push(v));if(!i.length)throw b=Error("Unsupported keySystem or supportedConfigurations."),b.name="NotSupportedError",b.code=DOMException.NOT_SUPPORTED_ERR,b;return k(A,Ch.call(n,e,i),2)}return x=A.h,T=S=null,i[0]&&(i[0].videoCapabilities&&(S=i[0].videoCapabilities[0].encryptionScheme),i[0].audioCapabilities&&(T=i[0].audioCapabilities[0].encryptionScheme)),A.return(new D0(x,S,T))})}function m8(e,t){return e&&e.filter(function(n){return kw(n.encryptionScheme,t)})}Ae("EmeEncryptionSchemePolyfill",h8),h8.install=f8;function v8(){}var Ih;function y8(){Ih||navigator.mediaCapabilitiesEncryptionSchemePolyfilled?console.debug("McEncryptionSchemePolyfill: Already installed."):navigator.mediaCapabilities?(Ih=navigator.mediaCapabilities.decodingInfo,console.debug("McEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=PF,navigator.mediaCapabilitiesEncryptionSchemePolyfilled=!0):console.debug("McEncryptionSchemePolyfill: MediaCapabilities not found")}function PF(e){var t=this,n,r;return L(function(i){switch(i.g){case 1:return console.assert(t==navigator.mediaCapabilities,'bad "this" for decodingInfo'),k(i,Ih.call(t,e),2);case 2:if(n=i.h,!e.keySystemConfiguration)return i.return(n);if((r=n.keySystemAccess)&&S8(r))return console.debug("McEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.mediaCapabilities.decodingInfo=Ih,i.return(n);if(console.debug("McEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=b8,r){i.u(3);break}return k(i,w8(e),4);case 4:return n.keySystemAccess=i.h,i.return(n);case 3:return i.return(b8.call(t,e))}})}function b8(e){var t=this,n,r,i,o,u,c,h;return L(function(g){switch(g.g){case 1:return console.assert(t==navigator.mediaCapabilities,'bad "this" for decodingInfo'),r=n=null,!e.keySystemConfiguration||(i=e.keySystemConfiguration,o=i.keySystem,r=i.audio&&i.audio.encryptionScheme,n=i.video&&i.video.encryptionScheme,u=x8(o),c={powerEfficient:!1,smooth:!1,supported:!1,keySystemAccess:null,configuration:e},kw(r,u)&&kw(n,u))?k(g,Ih.call(t,e),2):g.return(c);case 2:if(h=g.h,h.keySystemAccess){h.keySystemAccess=new D0(h.keySystemAccess,n,r),g.u(3);break}if(!e.keySystemConfiguration){g.u(3);break}return k(g,w8(e),5);case 5:h.keySystemAccess=g.h;case 3:return g.return(h)}})}function w8(e){var t,n;return L(function(r){if(r.g==1){var i=e.keySystemConfiguration,o=[],u=[];return i.audio&&o.push({robustness:i.audio.robustness||"",contentType:e.audio.contentType,encryptionScheme:i.audio.encryptionScheme}),i.video&&u.push({robustness:i.video.robustness||"",contentType:e.video.contentType,encryptionScheme:i.video.encryptionScheme}),i={initDataTypes:i.initDataType?[i.initDataType]:[],distinctiveIdentifier:i.distinctiveIdentifier,persistentState:i.persistentState,sessionTypes:i.sessionTypes},o.length&&(i.audioCapabilities=o),u.length&&(i.videoCapabilities=u),t=i,k(r,navigator.requestMediaKeySystemAccess(e.keySystemConfiguration.keySystem,[t]),2)}return n=r.h,r.return(n)})}Ae("McEncryptionSchemePolyfill",v8),v8.install=y8;function D0(e,t,n){this.g=e,this.i=t||null,this.h=n||null,this.keySystem=e.keySystem}D0.prototype.getConfiguration=function(){var e=this.g.getConfiguration();if(e.videoCapabilities)for(var t=w(e.videoCapabilities),n=t.next();!n.done;n=t.next())n.value.encryptionScheme=this.i;if(e.audioCapabilities)for(t=w(e.audioCapabilities),n=t.next();!n.done;n=t.next())n.value.encryptionScheme=this.h;return e},D0.prototype.createMediaKeys=function(){return this.g.createMediaKeys()};function x8(e){return e.startsWith("com.widevine")||e.startsWith("com.microsoft")||e.startsWith("com.chromecast")||e.startsWith("com.adobe")||e.startsWith("org.w3")?"cenc":e.startsWith("com.apple")?"cbcs":(console.warn("EmeEncryptionSchemePolyfill: Unknown key system:",e,"Please contribute!"),null)}function S8(e){e=e.getConfiguration();var t=e.audioCapabilities&&e.audioCapabilities[0];return!!((e=e.videoCapabilities&&e.videoCapabilities[0]||t)&&e.encryptionScheme!==void 0)}function kw(e,t){return!!(!e||e==t||(e=="cbcs"||e=="cbcs-1-9")&&(LF||DF))}function Ew(){}function T8(){f8(),y8()}Ae("EncryptionSchemePolyfills",Ew),Ew.install=T8;var DF=navigator.userAgent.includes("CrKey"),LF=100<=parseInt(navigator.userAgent.split("Firefox/").pop(),10);typeof y<"u"&&y.exports&&(y.exports=Ew)}).call(l,s,s,void 0);for(var p in l.shaka)a[p]=l.shaka[p]})()})(oM);const vn=F8(oM);/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ww="lit-localize-status";/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const gB=a=>typeof a!="string"&&"strTag"in a,sM=(a,s,l)=>{let p=a[0];for(let d=1;d<a.length;d++)p+=s[l?l[d-1]:d-1],p+=a[d];return p};/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const uM=a=>gB(a)?sM(a.strings,a.values):a;let me=uM,lM=!1;function mB(a){if(lM)throw new Error("lit-localize can only be configured once");me=a,lM=!0}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class vB{constructor(s){this.__litLocalizeEventHandler=l=>{l.detail.status==="ready"&&this.host.requestUpdate()},this.host=s}hostConnected(){window.addEventListener(Ww,this.__litLocalizeEventHandler)}hostDisconnected(){window.removeEventListener(Ww,this.__litLocalizeEventHandler)}}const yB=a=>a.addController(new vB(a)),bB=yB;/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Xw=()=>(a,s)=>(a.addInitializer(bB),a);/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class cM{constructor(){this.settled=!1,this.promise=new Promise((s,l)=>{this._resolve=s,this._reject=l})}resolve(s){this.settled=!0,this._resolve(s)}reject(s){this.settled=!0,this._reject(s)}}/**
 * @license
 * Copyright 2014 Travis Webb
 * SPDX-License-Identifier: MIT
 */const qo=[];for(let a=0;a<256;a++)qo[a]=(a>>4&15).toString(16)+(a&15).toString(16);function wB(a){let s=0,l=8997,p=0,d=33826,m=0,y=40164,f=0,E=52210;for(let I=0;I<a.length;I++)l^=a.charCodeAt(I),s=l*435,p=d*435,m=y*435,f=E*435,m+=l<<8,f+=d<<8,p+=s>>>16,l=s&65535,m+=p>>>16,d=p&65535,E=f+(m>>>16)&65535,y=m&65535;return qo[E>>8]+qo[E&255]+qo[y>>8]+qo[y&255]+qo[d>>8]+qo[d&255]+qo[l>>8]+qo[l&255]}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const xB="",SB="h",TB="s";function kB(a,s){return(s?SB:TB)+wB(typeof a=="string"?a:a.join(xB))}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const dM=new WeakMap,pM=new Map;function EB(a,s,l){if(a){const p=l?.id??AB(s),d=a[p];if(d){if(typeof d=="string")return d;if("strTag"in d)return sM(d.strings,s.values,d.values);{let m=dM.get(d);return m===void 0&&(m=d.values,dM.set(d,m)),{...d,values:m.map(y=>s.values[y])}}}}return uM(s)}function AB(a){const s=typeof a=="string"?a:a.strings;let l=pM.get(s);return l===void 0&&(l=kB(s,typeof a!="string"&&!("strTag"in a)),pM.set(s,l)),l}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Yw(a){window.dispatchEvent(new CustomEvent(Ww,{detail:a}))}let W0="",Zw,hM,X0,Qw,fM,Gu=new cM;Gu.resolve();let Y0=0;const CB=a=>(mB((s,l)=>EB(fM,s,l)),W0=hM=a.sourceLocale,X0=new Set(a.targetLocales),X0.add(a.sourceLocale),Qw=a.loadLocale,{getLocale:IB,setLocale:MB}),IB=()=>W0,MB=a=>{if(a===(Zw??W0))return Gu.promise;if(!X0||!Qw)throw new Error("Internal error");if(!X0.has(a))throw new Error("Invalid locale code");Y0++;const s=Y0;return Zw=a,Gu.settled&&(Gu=new cM),Yw({status:"loading",loadingLocale:a}),(a===hM?Promise.resolve({templates:void 0}):Qw(a)).then(l=>{Y0===s&&(W0=a,Zw=void 0,fM=l.templates,Yw({status:"ready",readyLocale:a}),Gu.resolve())},l=>{Y0===s&&(Yw({status:"error",errorLocale:a,errorMessage:l.toString()}),Gu.reject(l))}),Gu.promise},mr=Symbol("playerState");var _B=Object.defineProperty,PB=Object.getOwnPropertyDescriptor,gM=(a,s,l,p)=>{for(var d=p>1?void 0:p?PB(s,l):s,m=a.length-1,y;m>=0;m--)(y=a[m])&&(d=(p?y(s,l,d):y(d))||d);return p&&d&&_B(s,l,d),d};let Z0=class extends yn{render(){return ft`<div
      class="ump-visually-hidden"
      aria-live="assertive"
      data-testid="aria-announcer"
    >
      ${this.playerState.ended?me("Ended"):this.playerState.paused?me("Paused"):me("Playing")}
    </div>`}};Z0.styles=xn`
.ump-visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0,0,0,0) !important;white-space:nowrap !important;border:0 !important;z-index:-100}
  `,gM([gr({context:mr,subscribe:!0})],Z0.prototype,"playerState",2),Z0=gM([zn("ump-aria-announcer")],Z0);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const mM={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},vM=a=>(...s)=>({_$litDirective$:a,values:s});class yM{constructor(s){}get _$AU(){return this._$AM._$AU}_$AT(s,l,p){this.t=s,this._$AM=l,this.i=p}_$AS(s,l){return this.update(s,l)}update(s,l){return this.render(...l)}}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const it=vM(class extends yM{constructor(a){var s;if(super(a),a.type!==mM.ATTRIBUTE||a.name!=="class"||((s=a.strings)==null?void 0:s.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(a){return" "+Object.keys(a).filter(s=>a[s]).join(" ")+" "}update(a,[s]){var l,p;if(this.st===void 0){this.st=new Set,a.strings!==void 0&&(this.nt=new Set(a.strings.join(" ").split(/\s/).filter(m=>m!=="")));for(const m in s)s[m]&&!((l=this.nt)!=null&&l.has(m))&&this.st.add(m);return this.render(s)}const d=a.element.classList;for(const m of this.st)m in s||(d.remove(m),this.st.delete(m));for(const m in s){const y=!!s[m];y===this.st.has(m)||(p=this.nt)!=null&&p.has(m)||(y?(d.add(m),this.st.add(m)):(d.remove(m),this.st.delete(m)))}return Us}});function bM(a,s,l){return a<s?s:a>l?l:a}function wM(a){const s=Math.round(bM(a,0,1)*255).toString(16).toUpperCase();return s.length===1?"0"+s:s}var DB=Object.defineProperty,LB=Object.getOwnPropertyDescriptor,Jw=(a,s,l,p)=>{for(var d=p>1?void 0:p?LB(s,l):s,m=a.length-1,y;m>=0;m--)(y=a[m])&&(d=(p?y(s,l,d):y(d))||d);return p&&d&&DB(s,l,d),d};const RB=2.5;let Uh=class extends yn{render(){return ft`
      <div
        class=${it({"ump-caption-display-container":!0,"ump-caption-display-container-hidden":!this.playerState.captionSettings.enabled})}
      ></div>
    `}updated(){const{fontScale:a,textColor:s,textOpacity:l,backgroundColor:p,backgroundOpacity:d,fontFamily:m,textShadow:y}=this.playerState.captionSettings;this.style.setProperty("--ump-caption-display-font-size",`${a*RB}cqw`),this.style.setProperty("--ump-caption-display-color",`${s}${wM(l)}`),this.style.setProperty("--ump-caption-display-background",`${p}${wM(d)}`),this.style.setProperty("--ump-caption-display-font-family",m),this.style.setProperty("--ump-caption-display-text-shadow",y),this.dispatchEvent(new Event("captionsettingupdated"))}};Uh.styles=xn`
.ump-caption-display-container{display:inline-block;position:absolute;width:95%;bottom:90px;left:50%;transform:translateX(-50%)}.ump-caption-display-container span:not(:has(span)){font-size:var(--ump-caption-display-font-size);color:var(--ump-caption-display-color);background-color:var(--ump-caption-display-background) !important;font-family:var(--ump-caption-display-font-family),sans-serif;text-shadow:var(--ump-caption-display-text-shadow);max-width:100%}.ump-caption-display-container-hidden{display:none}*{opacity:1 !important}.ump-caption-display-container *{position:relative !important}
  `,Jw([gr({context:mr,subscribe:!0})],Uh.prototype,"playerState",2),Jw([On(".ump-caption-display-container")],Uh.prototype,"captionContainer",2),Uh=Jw([zn("ump-caption-display")],Uh);const xM=["facebook","twitter","linkedin","mail","copy"],ex={sources:[],ccFiles:[],downloadableFiles:[],adobeCms:null,ageGate:!1,aspectRatio:"16:9",autoplay:!1,checkpoints:[],debug:!1,dir:null,disableKeyboardEvents:!1,hideControls:null,hidePosterImage:!1,language:"en",layout:"fluid",loop:!1,maskLevel:0,muted:!1,partnerName:"",percentage:50,playButtonSize:"medium",playButtonTheme:"dark",playbackRates:[.5,.75,1,1.25,1.5,2],playFullScreen:!1,plugins:{},poster:"",qualityBehavior:"auto",reporting:!0,share:!0,shareOptions:[...xM],showDownloadMenu:!0,showFocusIndicator:"default",showImageOnError:!1,showQualityMenu:!0,startTime:0,title:"",unlocalizedTitle:""},Oh={videoId:-1,label:me("Auto")},jh={captionId:-1,language:me("option for turning off caption"),label:me("Off")},Os={enabled:!1,fontScale:1,textColor:"#FFFFFF",textOpacity:1,backgroundColor:"#000000",backgroundOpacity:1,fontFamily:"sans-serif",textShadow:"rgb(255, 255, 255) 0px 0px 0px"},SM={audioTracks:[],bigPlayButtonClicked:!1,buffered:[],captionSettings:Os,captionTracks:[],controlsState:"controlbar",currentTime:0,dir:"ltr",disableKeyboardEvents:!1,downloadableTranscriptFiles:[],downloadableVideoFiles:[],duration:0,ended:!1,fullscreen:!1,loading:!1,maskLevel:0,muted:!1,paused:!0,playbackRate:1,playbackRates:[],playButtonSize:"medium",playButtonTheme:"dark",qualityBehavior:"auto",selectedVideoQualityId:Oh.videoId,shareDialogOpened:!1,shareOptions:[],showDownloadMenu:!0,showFocusIndicator:"default",showQualityMenu:!0,showVolumeSlider:!0,videoQualities:[],visible:!0,volume:1},Q0=["HQ","HD","SD","LO"],TM=["application/dash+xml","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml","video/mp4"],kM={DASH:"application/dash+xml",MP4:"video/mp4",HLS:"application/vnd.apple.mpegurl",MSS:"application/vnd.ms-sstr+xml"},NB={VTT:"text/vtt",TTML:"application/ttml+xml"},Gi="@back",UB=3e3,OB=me("We're sorry, but something went wrong."),tx="dau-",jB="universal-media-player",EM="ump";class Et extends CustomEvent{constructor(s,l){super(s,{bubbles:!0,composed:!0,cancelable:!0,detail:l})}}const FB='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10a7 7 0 0 1 14 0v1h-3.5a.5.5 0 0 0-.5.5v6c0 .28.22.5.5.5H16a2 2 0 0 0 2-2v-6a8 8 0 1 0-16 0v6c0 1.1.9 2 2 2h2.5a.5.5 0 0 0 .5-.5v-6a.5.5 0 0 0-.5-.5H3v-1Z"/></svg>',BB='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10a7 7 0 0 1 14 0v1h-3.5a.5.5 0 0 0-.5.5v6c0 .28.22.5.5.5H16a2 2 0 0 0 2-2v-6a8 8 0 1 0-16 0v6c0 1.1.9 2 2 2h2.5a.5.5 0 0 0 .5-.5v-6a.5.5 0 0 0-.5-.5H3v-1Zm0 2h3v5H4a1 1 0 0 1-1-1v-4Zm14 0v4a1 1 0 0 1-1 1h-2v-5h3Z"/></svg>';/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class nx extends yM{constructor(s){if(super(s),this.it=ar,s.type!==mM.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(s){if(s===ar||s==null)return this._t=void 0,this.it=s;if(s===Us)return s;if(typeof s!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(s===this.it)return this._t;this.it=s;const l=[s];return l.raw=l,this._t={_$litType$:this.constructor.resultType,strings:l,values:[]}}}nx.directiveName="unsafeHTML",nx.resultType=1;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class rx extends nx{}rx.directiveName="unsafeSVG",rx.resultType=2;const rn=vM(rx),VB='<svg fill="currentColor" viewBox="0 0 1316 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M288 567.990857h97.718857l-0.585143-151.442286z m586.276571-56.576c0-63.414857-36.571429-110.299429-112.566857-110.299428h-30.866285v221.696h29.696c71.424 0 113.700571-52.004571 113.700571-111.433143z m-327.972571-215.405714l0.585143 432.018286a19.126857 19.126857 0 0 1-18.870857 19.419428h-123.428572a19.163429 19.163429 0 0 1-18.870857-19.419428v-35.437715H219.428571l-31.414857 46.299429a19.748571 19.748571 0 0 1-16.018285 8.557714H19.419429c-16.018286 0-25.161143-17.700571-15.433143-30.281143L321.682286 284.598857a18.212571 18.212571 0 0 1 15.433143-8.009143h189.696c10.861714 0 19.419429 8.557714 19.419428 19.419429z m472.539429 215.405714c0 150.272-109.714286 235.995429-257.133715 235.995429h-154.294857a19.236571 19.236571 0 0 1-19.419428-19.419429V295.972571c0-10.861714 8.557714-19.419429 19.419428-19.419428h153.161143c148.553143 0 258.304 84.553143 258.304 234.861714z m89.161142 0.585143s2.304 148.553143-84.553142 235.995429h-29.147429c77.714286-92.562286 79.433143-236.580571 79.433143-236.580572s1.133714-113.152-77.129143-234.276571h24.576C1105.737143 373.723429 1108.041143 512 1108.041143 512z m105.142858 0s2.304 148.553143-85.138286 235.995429h-29.147429c77.714286-92.562286 79.433143-236.580571 79.433143-236.580572s1.133714-113.152-76.580571-234.276571h24.576C1210.843429 373.723429 1213.147429 512 1213.147429 512zM1316.571429 512s2.304 148.553143-84.553143 235.995429h-29.147429c77.129143-92.562286 78.848-236.580571 78.848-236.580572s1.133714-113.152-76.580571-234.276571h24.576C1314.267429 373.723429 1316.571429 512 1316.571429 512z" fill="" /></svg>';function dt(a){return{"focus-always":a.showFocusIndicator==="always","focus-default":a.showFocusIndicator==="default"}}function zB(a){return s=>(a.setValue({...a.value,showFocusIndicator:s.options.showFocusIndicator}),()=>{})}const Ja=xn`
.btn{display:inline-flex;align-items:center;justify-content:center;gap:var(--spacing-s-nudge);margin:0;padding:var(--spacing-s-nudge) var(--spacing-m);border-radius:var(--border-radius-medium);color:var(--color-neutral-foreground-1);font-weight:var(--font-weight-semibold);font-family:var(--font-family-default);line-height:var(--line-height-base-300);transition-duration:var(--duration-faster);transition-property:background,color;transition-timing-function:var(--curve-easy-ease);cursor:pointer;-webkit-user-select:none;user-select:none;border:solid var(--stroke-width-thick) var(--color-transparent-stroke);background-color:var(--color-neutral-background-1)}.btn:hover{background-color:var(--color-neutral-background-1-hover);color:var(--color-neutral-foreground-1-hover)}.btn.focus-always:focus,.btn.focus-default:focus-visible{outline:var(--stroke-width-thick) solid var(--color-stroke-focus-2)}.btn svg{fill:currentcolor}.btn-xs{padding:var(--spacing-xs)}.btn-s{padding:var(--spacing-s)}.btn-xl{padding:var(--spacing-xl)}.btn-xxl{padding:var(--spacing-xxl)}.btn-xxl svg{width:var(--size-10);height:var(--size-10)}.btn-outline{background-color:transparent;border-color:var(--color-neutral-stroke-1)}.btn-outline:hover{background-color:transparent}.btn-outline.focus-always:focus,.btn-outline.focus-default:focus-visible{border-color:transparent}.btn-subtle{background-color:var(--color-subtle-background);color:var(--color-neutral-foreground-2);border-color:transparent}.btn-subtle:hover{background-color:var(--color-subtle-background-hover);color:var(--color-neutral-foreground-2-hover);border-color:transparent}.btn-subtle:active{background-color:var(--color-subtle-background-pressed);color:var(--color-neutral-foreground-2-pressed)}.btn-icon-only{padding:var(--spacing-s-nudge)}.btn-brand{background-color:var(--color-brand-background);color:var(--color-brand-foreground)}.btn-brand:hover{background-color:var(--color-brand-background-hover);color:var(--color-brand-foreground)}.btn-brand:active{background-color:var(--color-brand-background-pressed);color:var(--color-brand-foreground)}.btn-circle{border-radius:var(--border-radius-circular)}@media (forced-colors:active){.btn{color:ButtonText;background-color:ButtonFace;border-color:ButtonText}.btn:hover{background-color:Highlight;border-color:Highlight;color:HighlightText}.btn-brand{forced-color-adjust:none}.btn.focus-always:focus,.btn.focus-default:focus-visible{outline-color:Highlight}.btn-outline{background-color:ButtonFace;border-color:ButtonText}.btn-subtle{background-color:ButtonFace;color:ButtonText}}
`,J0=xn`
hr{width:var(--size-full);height:var(--size-px);padding:0;margin:var(--spacing-s) 0;border:none;background-color:var(--color-neutral-stroke-alpha)}@media (forced-colors:active){hr{background-color:ButtonBorder}}
`,td=xn`
.tooltip[data-tooltip]{position:relative;--tooltip-gap:var(--spacing-s);--tooltip-top:auto;--tooltip-left:50%;--tooltip-right:auto;--tooltip-bottom:100%;--tooltip-translate-x:-50%;--tooltip-translate-y:calc(0px - var(--tooltip-gap));--tooltip-width:auto}.tooltip[data-tooltip]::before{pointer-events:none;display:none;width:var(--tooltip-width);z-index:100;background-color:var(--color-grey-10-alpha-90);color:var(--color-neutral-foreground-1);content:attr(data-tooltip);padding:var(--spacing-xs) var(--spacing-s);border-radius:var(--border-radius-medium);font-weight:var(--font-weight-regular);font-size:var(--font-size-base-200);line-height:var(--line-height-base-200);font-family:var(--font-family-default);position:absolute;inset:var(--tooltip-top) var(--tooltip-right) var(--tooltip-bottom) var(--tooltip-left);transform:translate(var(--tooltip-translate-x),var(--tooltip-translate-y))}.tooltip[data-tooltip].tooltip-top::before{--tooltip-top:auto;--tooltip-bottom:100%;transform:translate(0,calc(0px - var(--tooltip-gap)))}.tooltip[data-tooltip].tooltip-top.tooltip-right::before{--tooltip-left:auto;--tooltip-right:0}.tooltip[data-tooltip].tooltip-top.tooltip-left::before{--tooltip-left:0;--tooltip-right:auto}.tooltip[data-tooltip].tooltip-disable-when-aria-expanded[aria-expanded='true']::before{display:none}.tooltip[data-tooltip]:hover::before,.tooltip[data-tooltip]:focus-visible::before,.tooltip[data-tooltip].tooltip-visible::before{display:block}@media (forced-colors:active){.tooltip[data-tooltip]::before{background-color:var(--color-grey-10)}.tooltip[data-tooltip]:hover::before,.tooltip[data-tooltip]:focus-visible::before,.tooltip[data-tooltip].tooltip-visible::before{color:ButtonText}}
`;var $B=Object.defineProperty,HB=Object.getOwnPropertyDescriptor,ix=(a,s,l,p)=>{for(var d=p>1?void 0:p?HB(s,l):s,m=a.length-1,y;m>=0;m--)(y=a[m])&&(d=(p?y(s,l,d):y(d))||d);return p&&d&&$B(s,l,d),d};let Fh=class extends yn{render(){var a;const s=this.playerState.audioTracks;return s.length<2?null:ft`
      <ump-popup
        popupAriaLabel="${me("Audio")}"
        @ump-popup-changed=${()=>this.requestUpdate()}
      >
        <button
          type="button"
          slot="trigger"
          class=${it({btn:!0,"btn-subtle":!0,"btn-icon-only":!0,...dt(this.playerState),tooltip:!0,"tooltip-disable-when-aria-expanded":!0})}
          data-tooltip="${me("Audio")}"
          aria-label="${me("Audio Menu")}"
          data-testid="audio-menu-button"
        >
          ${(a=this.popup)!=null&&a.opened?rn(FB):rn(BB)}
        </button>

        <ump-menu data-focusgroup>
          <ump-menu-label>${me("Audio Track")}</ump-menu-label>

          <hr aria-hidden="true" />

          <ump-submenu>
            ${s.map(l=>ft`
                <ump-menu-item
                  class=${it({...dt(this.playerState)})}
                  type="radio"
                  .checked=${this.playerState.selectedAudioTrackId===l.audioId}
                  @click=${this.onAudioTrackSelected(l)}
                >
                  <div
                    class="audio-track-menu-item-content"
                    aria-label=${AM(l)?`${l.label} ${me("Audio Description")}`:l.label}
                  >
                    ${l.label}
                    ${AM(l)?rn(VB):null}
                  </div>
                </ump-menu-item>
              `)}
          </ump-submenu>
        </ump-menu>
      </ump-popup>
    `}onAudioTrackSelected(a){return()=>{this.dispatchEvent(new Et("audio-track-clicked",a))}}get opened(){var a;return(a=this.popup)==null?void 0:a.opened}};Fh.styles=[Ja,J0,td,xn`
.btn.tooltip{--tooltip-gap:var(--spacing-xxxl)}ump-popup{--ump-popup-spacing:var(--spacing-xxxl)}ump-menu{width:var(--size-64);display:block}.audio-track-menu-item-content{display:flex;align-items:flex-end;width:100%;gap:var(--spacing-xs)}.audio-track-menu-item-content svg{width:var(--size-6);height:var(--size-6);margin-bottom:calc(0px - var(--spacing-xs))}
    `],ix([On("ump-popup")],Fh.prototype,"popup",2),ix([gr({context:mr,subscribe:!0})],Fh.prototype,"playerState",2),Fh=ix([zn("ump-audio-menu")],Fh);function AM(a){return a.role==="public.accessibility.describes-video"}const qB='<svg width="28" height="28" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg"><path d="M23.5 14A9.5 9.5 0 0 0 7.07 7.5h2.68a.75.75 0 0 1 0 1.5h-4A.75.75 0 0 1 5 8.25v-4a.75.75 0 0 1 1.5 0v1.7a11 11 0 1 1-3.42 6.7.75.75 0 1 1 1.49.2A9.5 9.5 0 1 0 23.5 14Z"/></svg>',GB='<svg width="28" height="28" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg"><path d="M6.75 3A2.75 2.75 0 0 0 4 5.75v16.5A2.75 2.75 0 0 0 6.75 25h3a2.75 2.75 0 0 0 2.75-2.75V5.75A2.75 2.75 0 0 0 9.75 3h-3Zm11.5 0a2.75 2.75 0 0 0-2.75 2.75v16.5A2.75 2.75 0 0 0 18.25 25h3A2.75 2.75 0 0 0 24 22.25V5.75A2.75 2.75 0 0 0 21.25 3h-3Z"/></svg>',KB='<svg width="28" height="28" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg"><path d="M10.14 3.38A2.75 2.75 0 0 0 6 5.76v16.48c0 2.13 2.3 3.45 4.14 2.38l14.7-8.6a2.35 2.35 0 0 0 0-4.05l-14.7-8.59Z"/></svg>';var WB=Object.defineProperty,XB=Object.getOwnPropertyDescriptor,CM=(a,s,l,p)=>{for(var d=p>1?void 0:p?XB(s,l):s,m=a.length-1,y;m>=0;m--)(y=a[m])&&(d=(p?y(s,l,d):y(d))||d);return p&&d&&WB(s,l,d),d};let Bh=class extends yn{render(){return ft`<button
      type="button"
      class=${it({btn:!0,"btn-xl":this.playerState.playButtonSize==="medium","btn-xxl":this.playerState.playButtonSize==="large","btn-circle":!0,"big-play-button":!0,"big-play-button-light":this.playerState.playButtonTheme==="light","big-play-button-dark":this.playerState.playButtonTheme==="dark",...dt(this.playerState),tooltip:!0})}
      aria-label="${this.playerState.ended?me("Replay"):this.playerState.paused?me("Play"):me("Pause")}"
      data-tooltip="${this.playerState.ended?me("Replay"):this.playerState.paused?me("Play"):me("Pause")}"
      data-testid="big-play-button"
      @click=${this.onBigPlayButtonClick}
      @keydown=${this.onBigPlayButtonKeyDown}
    >
      ${this.playerState.ended?rn(qB):this.playerState.paused?rn(KB):rn(GB)}
    </button>`}onBigPlayButtonClick(){this.dispatchEvent(new Et("big-play-button-triggered"))}onBigPlayButtonKeyDown(a){this.playerState.disableKeyboardEvents||(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),a.stopPropagation(),this.dispatchEvent(new Et("big-play-button-triggered")))}};Bh.shadowRootOptions={...yn.shadowRootOptions,delegatesFocus:!0},Bh.styles=[Ja,td,xn`
.big-play-button{transition-property:background,color,outline}.big-play-button.tooltip{--tooltip-gap:var(--spacing-m)}.big-play-button-light{background-color:var(--color-white-alpha-90);outline:var(--stroke-width-thickest) solid var(--color-white-alpha-20)}.big-play-button-light:hover{background-color:var(--color-white-alpha-20);outline:var(--stroke-width-thickest) solid var(--color-white-alpha-90)}.big-play-button-light svg{fill:var(--color-brand-40)}.big-play-button-dark{background-color:var(--color-black-alpha-60);outline:var(--stroke-width-thickest) solid var(--color-black-alpha-20)}.big-play-button-dark:hover{background-color:var(--color-black-alpha-60);outline:var(--stroke-width-thickest) solid var(--color-white-alpha-90)}.big-play-button-dark svg{fill:var(--color-neutral-foreground-1)}@media (forced-colors:active){.big-play-button-dark{background-color:ButtonText;outline:var(--stroke-width-thickest) solid Highlight}.big-play-button-dark:hover{background-color:Highlight;outline:var(--stroke-width-thickest) solid ButtonText}.big-play-button-dark svg{fill:ButtonFace}.big-play-button-light{background-color:Highlight;outline:var(--stroke-width-thickest) solid ButtonText}.big-play-button-light:hover{background-color:ButtonText;outline:var(--stroke-width-thickest) solid Highlight}.big-play-button-light svg{fill:ButtonFace}}
    `],CM([gr({context:mr,subscribe:!0})],Bh.prototype,"playerState",2),Bh=CM([Xw(),zn("ump-big-play-button")],Bh);const ax='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.35 15.85a.5.5 0 0 1-.7 0L6.16 10.4a.55.55 0 0 1 0-.78l5.49-5.46a.5.5 0 1 1 .7.7L7.2 10l5.16 5.15c.2.2.2.5 0 .7Z"/></svg>',ox='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7.65 4.15c.2-.2.5-.2.7 0l5.49 5.46c.21.22.21.57 0 .78l-5.49 5.46a.5.5 0 0 1-.7-.7L12.8 10 7.65 4.85a.5.5 0 0 1 0-.7Z"/></svg>',YB='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 4a3 3 0 0 0-3 3v6a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3H5Zm1.4 3.24c.82-.41 1.8-.24 2.45.4a.5.5 0 0 1-.7.71 1.12 1.12 0 0 0-1.3-.22C6.44 8.34 6 8.9 6 10s.44 1.66.85 1.87c.43.21.95.13 1.3-.22a.5.5 0 1 1 .7.7c-.65.65-1.63.82-2.45.41C5.56 12.34 5 11.39 5 10c0-1.39.56-2.34 1.4-2.76Zm7.95.4a.5.5 0 0 1-.7.71 1.12 1.12 0 0 0-1.3-.22c-.41.21-.85.76-.85 1.87s.44 1.66.85 1.87c.43.21.95.13 1.3-.22a.5.5 0 0 1 .7.7c-.65.65-1.63.82-2.45.41-.84-.42-1.4-1.37-1.4-2.76 0-1.39.56-2.34 1.4-2.76.82-.41 1.8-.24 2.45.4Z"/></svg>',ZB='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.4 7.24c.82-.41 1.8-.24 2.45.4a.5.5 0 0 1-.7.71 1.12 1.12 0 0 0-1.3-.22C6.44 8.34 6 8.9 6 10s.44 1.66.85 1.87c.43.21.95.13 1.3-.22a.5.5 0 0 1 .7.7c-.65.65-1.63.82-2.45.41C5.56 12.34 5 11.39 5 10c0-1.39.56-2.34 1.4-2.76Zm7.95.4a2.12 2.12 0 0 0-2.45-.4c-.84.42-1.4 1.37-1.4 2.76 0 1.39.56 2.34 1.4 2.76.82.41 1.8.24 2.45-.4a.5.5 0 0 0-.7-.71c-.35.35-.87.43-1.3.22-.41-.21-.85-.76-.85-1.87s.44-1.66.85-1.87c.43-.21.95-.13 1.3.22a.5.5 0 0 0 .7-.7ZM2 7a3 3 0 0 1 3-3h10a3 3 0 0 1 3 3v6a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V7Zm3-2a2 2 0 0 0-2 2v6c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H5Z"/></svg>',QB=[.5,.75,1,1.25,1.5,1.75,2,3,4],ev=[{label:me("White"),hexCode:"#FFFFFF"},{label:me("Yellow"),hexCode:"#FFFF00"},{label:me("Black"),hexCode:"#000000"},{label:me("Green"),hexCode:"#008000"},{label:me("Blue"),hexCode:"#0000FF"},{label:me("Magenta"),hexCode:"#FF00FF"},{label:me("Cyan"),hexCode:"#00FFFF"}],IM=[{label:me("Proportional Sans Serif"),family:"sans-serif"},{label:me("Monospace Sans Serif"),family:'"Andale Mono", "Lucida Console", monospace'},{label:me("Proportional Serif"),family:"serif"},{label:me("Monospace Serif"),family:'"Courier New", monospace'},{label:me("Casual"),family:'"Comic Sans MS", Impact, fantasy'},{label:me("Cursive"),family:'"Monotype Corsiva", cursive'},{label:me("Small Capitals"),family:'"Andale Mono", "Lucida Console", monospace, sans-serif'}],JB=[0,.25,.5,.75,1],da="rgb(34, 34, 34)",MM="rgb(204, 204, 204)",_M=[{label:me("None"),textShadow:"rgb(255, 255, 255) 0px 0px 0px"},{label:me("Drop Shadow"),textShadow:`${da} 2px 2px 3px, ${da} 2px 2px 4px, ${da} 2px 2px 5px`},{label:me("Depressed"),textShadow:`${MM} 1px 1px 0px, ${MM} 0px 1px 0px, ${da} -1px -1px 0px, ${da} 0px -1px 0px`},{label:me("Uniform"),textShadow:`${da} 0px 0px 4px, ${da} 0px 0px 4px, ${da} 0px 0px 4px, ${da} 0px 0px 4px`},{label:me("Raised"),textShadow:`${da} 1px 1px 0px, ${da} 2px 2px 0px, ${da} 3px 3px 0px`}];var eV=Object.defineProperty,tV=Object.getOwnPropertyDescriptor,sx=(a,s,l,p)=>{for(var d=p>1?void 0:p?tV(s,l):s,m=a.length-1,y;m>=0;m--)(y=a[m])&&(d=(p?y(s,l,d):y(d))||d);return p&&d&&eV(s,l,d),d};let Vh=class extends yn{constructor(){super(...arguments),this.buildColorMenu=(a,s,l,p,d)=>{const m=this.playerState.disableKeyboardEvents;function y(f){const[E]=f.currentTarget.querySelectorAll("button");E?.focus()}return ft`
      <ump-menu-item
        class=${it({"cc-style-menu-item":!0,...dt(this.playerState)})}
        role="menuitem"
        .focusable="${!m}"
        @focus=${y}
        @click=${f=>f.stopPropagation()}
      >
        <div>
          <div><b>${me("Color")}</b></div>
          <div>
            ${me(ev.find(f=>f.hexCode===s).label)}
          </div>
        </div>

        <div slot="suffix" class=${it({"color-suffix":!0})}>
          ${ev.map(f=>ft`
              <button
                type="button"
                class=${it({btn:!0,"btn-circle":!0,"btn-color":!0,...dt(this.playerState)})}
                style="background-color: ${f.hexCode};"
                aria-label="${me(f.label)}"
                data-testid="${a}-${f.label}"
                @click=${p(f.hexCode)}
                @keydown=${E=>this.onColorOptionsKeyDown(E)}
              ></button>
            `)}
        </div>
      </ump-menu-item>

      <ump-menu-item
        class=${it({"cc-style-menu-item":!0,...dt(this.playerState)})}
        role="menuitem"
        .focusable="${!m}"
        @focus=${y}
        @click=${f=>f.stopPropagation()}
      >
        <div>
          <div><b>${me("Opacity")}</b></div>
          <div>${`${l*100}%`}</div>
        </div>

        <div slot="suffix" class=${it({"opacity-suffix":!0})}>
          ${JB.map(f=>ft`
              <button
                type="button"
                class=${it({btn:!0,"btn-subtle":!0,"btn-xs":!0,...dt(this.playerState)})}
                data-testid="${a}-${f*100}"
                @click=${d(f)}
                @keydown=${E=>this.onColorOptionsKeyDown(E)}
              >
                ${`${f*100}%`}
              </button>
            `)}
        </div>
      </ump-menu-item>
    `}}render(){var a;const{captionTracks:s,selectedCaptionTrackId:l,captionSettings:p}=this.playerState;if(s.length<=1)return null;const d=this.playerState.disableKeyboardEvents?0:-1;return ft`
      <ump-popup
        popupAriaLabel="${me("Captions")}"
        @ump-popup-changed=${()=>this.requestUpdate()}
      >
        <button
          type="button"
          slot="trigger"
          class=${it({btn:!0,"btn-subtle":!0,"btn-icon-only":!0,...dt(this.playerState),tooltip:!0,"tooltip-disable-when-aria-expanded":!0})}
          data-tooltip="${me("Captions")}"
          aria-label="${me("Captions Menu")}"
          data-testid="captions-menu-button"
        >
          ${(a=this.popup)!=null&&a.opened?rn(YB):rn(ZB)}
        </button>

        <ump-menu data-focusgroup>
          <!-- DEFAULT MENU -->
          <ump-submenu>
            <div class="menu-scrollable" data-scrollable>
              <ump-menu-label> ${me("Captions")} </ump-menu-label>

              <hr aria-hidden="true" />

              ${s.map(m=>ft`
                  <ump-menu-item
                    class=${it({...dt(this.playerState)})}
                    type="radio"
                    .checked="${m.captionId===l}"
                    @click=${this.onCaptionClicked(m)}
                  >
                    ${m.captionId!==jh.captionId?m.label:jh.label}
                  </ump-menu-item>
                `)}
            </div>
            <div class="menu-footer">
              <ump-menu-footer>
                <button
                  type="button"
                  class=${it({btn:!0,"btn-outline":!0,...dt(this.playerState)})}
                  role="menuitem"
                  submenu="captions-settings"
                  slot="suffix"
                  tabindex="${d}"
                  @focusin=${this.onFooterButtonFocusIn}
                  @focusout=${this.onFooterButtonFocusOut}
                  aria-roledescription="button"
                  aria-label="${me("Caption Settings")}"
                  data-testid="captions-settings-button"
                >
                  ${me("Caption Settings")}
                  ${this.playerState.dir==="ltr"?rn(ox):rn(ax)}
                </button>
              </ump-menu-footer>
            </div>
          </ump-submenu>

          <!-- SETTINGS MENU -->
          <ump-submenu id="captions-settings">
            <ump-menu-item
              class=${it({...dt(this.playerState)})}
              submenu="${Gi}"
            >
              ${me("Caption Settings")}
            </ump-menu-item>

            <hr aria-hidden="true" />

            <ump-menu-item
              class=${it({...dt(this.playerState)})}
              submenu="captions-font-size"
            >
              ${me("Font Size")}
              <div slot="suffix">${`${p.fontScale*100}%`}</div>
            </ump-menu-item>

            <ump-menu-item
              class=${it({...dt(this.playerState)})}
              submenu="captions-text-color"
            >
              ${me("Text Color")}
              <div slot="suffix">
                ${me(ev.find(m=>m.hexCode===p.textColor).label)},
                ${p.textOpacity===1?me("Opaque"):`${p.textOpacity*100}%`}
              </div>
            </ump-menu-item>

            <ump-menu-item
              class=${it({...dt(this.playerState)})}
              submenu="captions-background-color"
            >
              ${me("Background Color")}
              <div slot="suffix">
                ${me(ev.find(m=>m.hexCode===p.backgroundColor).label)},
                ${p.backgroundOpacity===1?me("Opaque"):`${p.backgroundOpacity*100}%`}
              </div>
            </ump-menu-item>

            <ump-menu-item
              class=${it({...dt(this.playerState)})}
              submenu="captions-font-family"
            >
              ${me("Font Family")}
              <div slot="suffix">
                ${me(IM.find(m=>m.family===p.fontFamily).label)}
              </div>
            </ump-menu-item>

            <ump-menu-item
              class=${it({...dt(this.playerState)})}
              submenu="captions-text-edge-style"
            >
              ${me("Text Edge Style")}
              <div slot="suffix">
                ${me(_M.find(m=>m.textShadow===p.textShadow).label)}
              </div>
            </ump-menu-item>
          </ump-submenu>

          <!-- FONT SIZE MENU -->
          <ump-submenu id="captions-font-size">
            <div class="menu-scrollable" data-scrollable>
              <ump-menu-item
                class=${it({...dt(this.playerState)})}
                submenu="${Gi}"
              >
                ${me("Font Size")}
              </ump-menu-item>

              <hr aria-hidden="true" />

              ${QB.map(m=>ft`
                  <ump-menu-item
                    class=${it({...dt(this.playerState)})}
                    type="radio"
                    .checked=${p.fontScale===m}
                    @click=${this.onFontSizeClicked(m)}
                  >
                    ${`${m*100}%`}
                  </ump-menu-item>
                `)}
            </div>
            <div class="menu-footer">
              <ump-menu-footer>
                <button
                  type="button"
                  class=${it({btn:!0,"btn-outline":!0,...dt(this.playerState)})}
                  slot="suffix"
                  role="menuitem"
                  aria-roledescription="button"
                  aria-label="${me("Reset")}"
                  tabindex="${d}"
                  @focusin=${this.onFooterButtonFocusIn}
                  @focusout=${this.onFooterButtonFocusOut}
                  data-testid="reset-font-size"
                  @click=${this.onFontSizeClicked(Os.fontScale)}
                >
                  ${me("Reset")}
                </button>
              </ump-menu-footer>
            </div>
          </ump-submenu>

          <!-- TEXT COLOR MENU -->
          <ump-submenu id="captions-text-color">
            <div class="menu-scrollable" data-scrollable>
              <ump-menu-item
                class=${it({...dt(this.playerState)})}
                submenu="${Gi}"
              >
                ${me("Text Color")}
              </ump-menu-item>

              <hr aria-hidden="true" />

              ${this.buildColorMenu("text-color",p.textColor,p.textOpacity,this.onTextColorClicked.bind(this),this.onTextOpacityClicked.bind(this))}
            </div>
            <div class="menu-footer">
              <ump-menu-footer>
                <button
                  type="button"
                  class=${it({btn:!0,"btn-outline":!0,...dt(this.playerState)})}
                  slot="suffix"
                  role="menuitem"
                  aria-roledescription="button"
                  aria-label="${me("Reset")}"
                  tabindex="${d}"
                  @focusin=${this.onFooterButtonFocusIn}
                  @focusout=${this.onFooterButtonFocusOut}
                  data-testid="reset-text-color"
                  @click=${()=>{this.onTextColorClicked(Os.textColor)(),this.onTextOpacityClicked(Os.textOpacity)()}}
                >
                  ${me("Reset")}
                </button>
              </ump-menu-footer>
            </div>
          </ump-submenu>

          <!-- BACKGROUND COLOR MENU -->
          <ump-submenu id="captions-background-color">
            <div class="menu-scrollable" data-scrollable>
              <ump-menu-item
                class=${it({...dt(this.playerState)})}
                submenu="${Gi}"
              >
                ${me("Background Color")}
              </ump-menu-item>

              <hr aria-hidden="true" />

              ${this.buildColorMenu("background-color",p.backgroundColor,p.backgroundOpacity,this.onBackgroundColorClicked.bind(this),this.onBackgroundOpacityClicked.bind(this))}
            </div>
            <div class="menu-footer">
              <ump-menu-footer>
                <button
                  type="button"
                  class=${it({btn:!0,"btn-outline":!0,...dt(this.playerState)})}
                  slot="suffix"
                  role="menuitem"
                  aria-roledescription="button"
                  aria-label="${me("Reset")}"
                  tabindex="${d}"
                  @focusin=${this.onFooterButtonFocusIn}
                  @focusout=${this.onFooterButtonFocusOut}
                  data-testid="reset-background-color"
                  @click=${()=>{this.onBackgroundColorClicked(Os.backgroundColor)(),this.onBackgroundOpacityClicked(Os.backgroundOpacity)()}}
                >
                  ${me("Reset")}
                </button>
              </ump-menu-footer>
            </div>
          </ump-submenu>

          <!-- FONT FAMILY MENU -->
          <ump-submenu id="captions-font-family">
            <div class="menu-scrollable" data-scrollable>
              <ump-menu-item
                class=${it({...dt(this.playerState)})}
                submenu="${Gi}"
              >
                ${me("Font Family")}
              </ump-menu-item>

              <hr aria-hidden="true" />

              ${IM.map(m=>ft`
                  <ump-menu-item
                    class=${it({...dt(this.playerState)})}
                    type="radio"
                    .checked=${m.family===p.fontFamily}
                    @click=${this.onFontFamilyClicked(m.family)}
                  >
                    ${me(m.label)}
                  </ump-menu-item>
                `)}
            </div>
            <div class="menu-footer">
              <ump-menu-footer>
                <button
                  type="button"
                  class=${it({btn:!0,"btn-outline":!0,...dt(this.playerState)})}
                  slot="suffix"
                  role="menuitem"
                  aria-roledescription="button"
                  aria-label="${me("Reset")}"
                  tabindex="${d}"
                  @focusin=${this.onFooterButtonFocusIn}
                  @focusout=${this.onFooterButtonFocusOut}
                  data-testid="reset-font-family"
                  @click=${this.onFontFamilyClicked(Os.fontFamily)}
                >
                  ${me("Reset")}
                </button>
              </ump-menu-footer>
            </div>
          </ump-submenu>

          <!-- TEXT EDGE STYLE MENU -->
          <ump-submenu id="captions-text-edge-style">
            <div class="menu-scrollable" data-scrollable>
              <ump-menu-item
                class=${it({...dt(this.playerState)})}
                submenu="${Gi}"
              >
                ${me("Text Edge Style")}
              </ump-menu-item>

              <hr aria-hidden="true" />

              ${_M.map(m=>ft`
                  <ump-menu-item
                    class=${it({...dt(this.playerState)})}
                    type="radio"
                    .checked=${p.textShadow===m.textShadow}
                    @click=${this.onTextEdgeStyleClicked(m.textShadow)}
                  >
                    ${me(m.label)}
                  </ump-menu-item>
                `)}
            </div>
            <div class="menu-footer">
              <ump-menu-footer>
                <button
                  type="button"
                  class=${it({btn:!0,"btn-outline":!0,...dt(this.playerState)})}
                  slot="suffix"
                  role="menuitem"
                  aria-roledescription="button"
                  aria-label="${me("Reset")}"
                  tabindex="${d}"
                  @focusin=${this.onFooterButtonFocusIn}
                  @focusout=${this.onFooterButtonFocusOut}
                  data-testid="reset-text-edge-style"
                  @click=${this.onTextEdgeStyleClicked(Os.textShadow)}
                >
                  ${me("Reset")}
                </button>
              </ump-menu-footer>
            </div>
          </ump-submenu>
        </ump-menu>
      </ump-popup>
    `}onFooterButtonFocusIn(a){this.playerState.disableKeyboardEvents||(a.target.tabIndex=0)}onFooterButtonFocusOut(a){this.playerState.disableKeyboardEvents||(a.target.tabIndex=-1)}onCaptionClicked(a){return()=>{this.dispatchEvent(new Et("caption-track-clicked",a)),this.dispatchEvent(new Et("closedcaptionschanged"))}}captionSettingChanged(a){this.dispatchEvent(a),this.dispatchEvent(new Et("closedcaptionsettingschanged"))}onFontSizeClicked(a){return()=>this.captionSettingChanged(new Et("caption-font-size-clicked",a))}onTextColorClicked(a){return()=>this.captionSettingChanged(new Et("caption-text-color-clicked",a))}onTextOpacityClicked(a){return()=>this.captionSettingChanged(new Et("caption-text-opacity-clicked",a))}onBackgroundColorClicked(a){return()=>this.captionSettingChanged(new Et("caption-background-color-clicked",a))}onBackgroundOpacityClicked(a){return()=>this.captionSettingChanged(new Et("caption-background-opacity-clicked",a))}onFontFamilyClicked(a){return()=>this.captionSettingChanged(new Et("caption-font-family-clicked",a))}onTextEdgeStyleClicked(a){return()=>this.captionSettingChanged(new Et("caption-text-edge-style-clicked",a))}onColorOptionsKeyDown(a){if(this.playerState.disableKeyboardEvents)return;const s=a.currentTarget,l=Array.from(s.parentElement.querySelectorAll("button")),p=l.indexOf(s);switch(a.key){case" ":case"Enter":a.preventDefault(),a.stopPropagation(),s.click();break;case"ArrowRight":{const d=(p+1)%l.length;l[d].focus();break}case"ArrowLeft":{const d=(p-1+l.length)%l.length;l[d].focus();break}}}get opened(){var a;return(a=this.popup)==null?void 0:a.opened}};Vh.styles=[Ja,J0,td,xn`
.btn.tooltip{--tooltip-gap:var(--spacing-xxxl)}ump-popup{--ump-popup-spacing:var(--spacing-xxxl)}ump-menu{width:var(--size-80);display:block}@container universalmediaplayer (max-width:450px){ump-menu{width:calc(var(--size-80) - 3cqw)}}.menu-title-spacer{width:var(--size-6);height:var(--size-6)}@container universalmediaplayer (min-width:0){.menu-scrollable{scrollbar-base-color:green;overflow:hidden auto;max-height:calc(100cqh - var(--ump-lower-controls-height) - 4rem);flex-direction:column;padding:var(--spacing-xs)}}.menu-footer{width:100%;border-top:1px solid var(--color-neutral-stroke-alpha)}.menu-footer div:focus,.menu-footer div:focus-visible{outline:var(--stroke-width-thick) solid var(--color-stroke-focus-2)}.menu-footer div svg{fill:currentcolor}.color-suffix{display:flex;align-items:center;justify-content:space-between;gap:var(--spacing-m);padding:var(--spacing-s) var(--spacing-m)}.opacity-suffix{display:flex;gap:var(--spacing-xs)}.opacity-suffix .btn{font-weight:var(--font-weight-normal)}.cc-style-menu-item{display:flex;align-items:center;justify-content:space-between;padding:var(--spacing-s) 0}.btn-color{width:var(--size-5);height:var(--size-5);padding:0;border:solid var(--stroke-width-thin) var(--color-neutral-stroke-1)}.text-color-list{display:flex;gap:var(--spacing-s)}@media (forced-colors:active){.btn-color{outline:var(--stroke-width-thick) solid;outline-offset:var(--spacing-xxs)}.btn-color:hover{outline-color:Highlight}.menu-footer{border-top-color:ButtonBorder}}
    `],sx([On("ump-popup")],Vh.prototype,"popup",2),sx([gr({context:mr,subscribe:!0})],Vh.prototype,"playerState",2),Vh=sx([zn("ump-caption-menu")],Vh);const nV='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M16 10A6 6 0 0 0 5.53 6H7.5a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5v-3a.5.5 0 0 1 1 0v1.6a7 7 0 1 1-1.98 4.36.5.5 0 0 1 1 .08L4 10a6 6 0 0 0 12 0Z"/></svg>',rV='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.25C3 4.01 4 3 5.25 3h1.87a.75.75 0 1 1 0 1.5H5.25a.75.75 0 0 0-.75.75v1.87a.75.75 0 1 1-1.5 0V5.25Zm9.13-1.5c0-.41.34-.75.75-.75h1.87C15.99 3 17 4 17 5.25v1.87a.75.75 0 0 1-1.5 0V5.25a.75.75 0 0 0-.75-.75h-1.87a.75.75 0 0 1-.75-.75Zm-8.38 8.38c.41 0 .75.34.75.75v1.87c0 .41.34.75.75.75h1.87a.75.75 0 0 1 0 1.5H5.25C4.01 17 3 16 3 14.75v-1.87c0-.41.34-.75.75-.75Zm12.5 0c.41 0 .75.34.75.75v1.87c0 1.24-1 2.25-2.25 2.25h-1.87a.75.75 0 0 1 0-1.5h1.87c.41 0 .75-.34.75-.75v-1.87c0-.41.34-.75.75-.75Z"/></svg>',iV='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15 5.5a.5.5 0 0 1-.5-.5V2.75a.75.75 0 0 0-1.5 0V5c0 1.1.9 2 2 2h2.25a.75.75 0 0 0 0-1.5H15ZM5.5 15a.5.5 0 0 0-.5-.5H2.75a.75.75 0 0 1 0-1.5H5a2 2 0 0 1 2 2v2.25a.75.75 0 0 1-1.5 0V15Zm9 0c0-.28.22-.5.5-.5h2.25a.75.75 0 0 0 0-1.5H15a2 2 0 0 0-2 2v2.25a.75.75 0 0 0 1.5 0V15Zm-9-10a.5.5 0 0 1-.5.5H2.75a.75.75 0 0 0 0 1.5H5a2 2 0 0 0 2-2V2.75a.75.75 0 0 0-1.5 0V5Z"/></svg>',aV='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 2a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h2a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H5ZM4 4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4Zm9-2a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h2a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-2Zm-1 2a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V4Z"/></svg>',oV='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17.22 8.69a1.5 1.5 0 0 1 0 2.62l-10 5.5A1.5 1.5 0 0 1 5 15.5v-11A1.5 1.5 0 0 1 7.22 3.2l10 5.5Zm-.48 1.75a.5.5 0 0 0 0-.88l-10-5.5A.5.5 0 0 0 6 4.5v11c0 .38.4.62.74.44l10-5.5Z"/></svg>',sV='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12 3a1 1 0 0 0-1.68-.73l-3.88 3.6A.5.5 0 0 1 6.1 6H3.5C2.67 6 2 6.67 2 7.5v5c0 .83.67 1.5 1.5 1.5h2.6a.5.5 0 0 1 .34.13l3.88 3.6a1 1 0 0 0 1.68-.74V3.01ZM7.12 6.6 11 3v14l-3.88-3.6A1.5 1.5 0 0 0 6.1 13H3.5a.5.5 0 0 1-.5-.5v-5c0-.28.22-.5.5-.5h2.6c.38 0 .75-.14 1.02-.4Zm8.14-1.97a.5.5 0 0 1 .7.04 8 8 0 0 1 0 10.66.5.5 0 0 1-.74-.66 7 7 0 0 0 0-9.34.5.5 0 0 1 .04-.7Zm-1.18 8.3a.5.5 0 0 1-.18-.68 4.5 4.5 0 0 0 0-4.5.5.5 0 1 1 .86-.5 5.5 5.5 0 0 1 0 5.5.5.5 0 0 1-.68.18Z"/></svg>',uV='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.85 2.15a.5.5 0 1 0-.7.7L5.29 6H3.5C2.68 6 2 6.67 2 7.5v5c0 .83.68 1.5 1.5 1.5H6.1a.5.5 0 0 1 .34.13l3.88 3.6a1 1 0 0 0 1.68-.74V12.7l5.15 5.15a.5.5 0 0 0 .7-.7l-2.56-2.57L2.85 2.15ZM11 11.7V17l-3.88-3.6A1.5 1.5 0 0 0 6.1 13H3.5a.5.5 0 0 1-.5-.5v-5c0-.28.22-.5.5-.5h2.6l.18-.01L11 11.7ZM11 3v5.88l1 1V3a1 1 0 0 0-1.68-.74L7.24 5.12l.71.71L11 3.01Zm3.06 8.94.74.74a5.5 5.5 0 0 0-.04-5.43.5.5 0 1 0-.86.5 4.5 4.5 0 0 1 .16 4.19Zm1.84 1.84.72.72a8 8 0 0 0-.66-9.83.5.5 0 1 0-.74.66 7 7 0 0 1 .68 8.45Z"/></svg>',lV=(a,s,l)=>{const p=a[s];return p?typeof p=="function"?p():Promise.resolve(p):new Promise((d,m)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(m.bind(null,new Error("Unknown variable dynamic import: "+s+(s.split("/").length!==l?". Note that variables only represent file names one level deep.":""))))})},cV="en-us",dV=["af-za","am-et","ar-sa","as-in","be-by","bg-bg","bn-in","ca-es","cs-cz","cy-gb","da-dk","de-at","de-ch","de-de","el-gr","en-au","en-ca","en-gb","en-hk","en-ie","en-in","en-my","en-nz","en-ph","en-sg","en-za","es-ar","es-cl","es-co","es-es","es-mx","et-ee","eu-es","fa-ir","fi-fi","fr-be","fr-ca","fr-ch","fr-fr","fr-ma","ga-ie","gd-gb","gl-es","gu-in","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","is-is","it-it","ja-jp","ka-ge","kk-kz","kn-in","ko-kr","ky-kg","lb-lu","lo-la","lt-lt","lv-lv","mi-nz","mk-mk","ml-in","mr-in","ms-bn","ms-my","mt-mt","nb-no","ne-np","nl-be","nl-nl","nn-no","or-in","pa-in","pl-pl","ps-af","pt-br","pt-pt","ro-ro","ru-ru","si-lk","sk-sk","sl-si","sq-al","sv-se","sw-ke","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tr-tr","tt-ru","ug-cn","uk-ua","ur-in","ur-pk","uz-uz","vi-vn","wo-sn","xh-za","yo-ng","zh-cn","zh-hk","zh-tw","zu-za"],pV=["af-za","am-et","ar-sa","as-in","be-by","bg-bg","bn-in","ca-es","cs-cz","cy-gb","da-dk","de-at","de-ch","de-de","el-gr","en-au","en-ca","en-gb","en-hk","en-ie","en-in","en-my","en-nz","en-ph","en-sg","en-us","en-za","es-ar","es-cl","es-co","es-es","es-mx","et-ee","eu-es","fa-ir","fi-fi","fr-be","fr-ca","fr-ch","fr-fr","fr-ma","ga-ie","gd-gb","gl-es","gu-in","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","is-is","it-it","ja-jp","ka-ge","kk-kz","kn-in","ko-kr","ky-kg","lb-lu","lo-la","lt-lt","lv-lv","mi-nz","mk-mk","ml-in","mr-in","ms-bn","ms-my","mt-mt","nb-no","ne-np","nl-be","nl-nl","nn-no","or-in","pa-in","pl-pl","ps-af","pt-br","pt-pt","ro-ro","ru-ru","si-lk","sk-sk","sl-si","sq-al","sv-se","sw-ke","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tr-tr","tt-ru","ug-cn","uk-ua","ur-in","ur-pk","uz-uz","vi-vn","wo-sn","xh-za","yo-ng","zh-cn","zh-hk","zh-tw","zu-za"],PM={s0289cd9e4bcf84c5:"Volume Level",s061cc20e3432dead:"Pause",s0622a6e6cb77254b:"Transcript",s080d032fc1b87b3f:"Audio Description",s08b06007b5567108:"of",s08e6bd98452e6bb9:"Audio",s1b4a36fce2456660:"Font Family",s1fa5be5a4f5d0f04:"Casual",s23537b5c9e7af982:"Captions",s24221a89168e9d21:"Font Size",s255857544a9d5ec0:"Reset",s25a858f0257e2879:"Captions Menu",s2df075aface0dab8:"Share",s2f5d5d2d1f92de26:"Download Video",s302cbb19bf9a174a:"Off",s308604b3ae13fbb5:"Playing",s344ea8f4939cdc98:"Colour",s3687049d1af562c4:"Copy",s36b979e4de5152b3:"Link Copied",s37a9e8aec5713460:"More",s3ca1bdfa8785f808:"Proportional Sans Serif",s41faaf3b4e182cc6:"Age verification is required to access this content.",s49f06dca0feeb2f3:"Uniform",s4b023aafbd8d5ac8:"Share this video on",s4b10acae683d2978:"Fullscreen",s500caa88d20458d3:"You may not access this content",s5267658ceae3230f:"Share this video",s5c5db15dfc3a5376:"Playback rate",s5e3cb80d43a34044:"Black",s5e8250fb85d64c23:"Close",s669b18c6d2d9c95b:"None",s66d852e3c020e79e:"Opaque",s6a3bf589eaf72169:"Monospace Serif",s6baf78886c99db89:"Yellow",s6f59e9b81c5a47e0:"Drop Shadow",s711d047dea682c1a:"Audio Track",s7d148a08796094d2:"Playback Error",s81a19821f3e4a3d2:"Replay",s827bc70ebcb7bbc6:"Monospace Sans Serif",s85186a61e0d55bac:"Video",s889413eb7198ea01:"option for turning off caption",s8e408592fd4ae43a:"Text Edge Style",s8e985aeeca6a8166:"White",s8eafb22ebdc7e668:"Magenta",s9559a51a63cbb5fd:"Small Capitals",s95bc8722b2708f8b:"Paused",s973b83fb67a5865d:"Download Transcript",s9b3c2f9cc32d565a:"Cyan",s9c356016f81585f6:"Background Colour",s9d8b8aa2b404c2c8:"Settings",s9fbd543f2179c1ec:"Audio Menu",sa000eaf7092088c3:"Progress Bar",sa6f2645578b2d2bc:"Year",sa9011e79e3ca2d18:"Depressed",saf9b398ab363c174:"Please enter your date of birth",sb3d4f79d9d8b71e5:"Submit",sb47daaf9e1c4a905:"Month",sb9f16a5f9c29f41e:"We're sorry, but something went wrong.",sba64d8954d027206:"Opacity",sc07837c309cc699b:"Unmute",scd105819b5a10243:"Play",sce836928a17d96ed:"Text Colour",scf00d78fd5953f1c:"Green",sd1246235faaa3191:"An age restriction has been implemented due to mature themes or legal requirements intended to protect younger audiences.",sd3386a2ef42e80b9:"Download",sd8d4b1b613d28990:"Cursive",sdb02f53e62c1da05:"Raised",sdb73788b3c975f16:"Auto",se0955919920ee87d:"Day",se0f67eae944f8f94:"Mute",se73c59cc10f48c12:"Social",secf3d3a7c1693e2d:"Blue",sed31876562d94652:"Caption Settings",sf113fa256db9617b:"Ended",sf675f879b1c892c6:"Quality",sfc24a457269b13d4:"Volume Slider",sfcb817633bf70e1b:"Proportional Serif"},hV=Object.freeze(Object.defineProperty({__proto__:null,templates:PM},Symbol.toStringTag,{value:"Module"})),DM={s0289cd9e4bcf84c5:"Nivel de volumen",s061cc20e3432dead:"Pausar",s0622a6e6cb77254b:"Transcripci\xF3n",s080d032fc1b87b3f:"Descripci\xF3n de audio",s08b06007b5567108:"de",s08e6bd98452e6bb9:"Audio",s1b4a36fce2456660:"Familia de fuentes",s1fa5be5a4f5d0f04:"Informal",s23537b5c9e7af982:"Subt\xEDtulos",s24221a89168e9d21:"Tama\xF1o de fuente",s255857544a9d5ec0:"Restablecer",s25a858f0257e2879:"Men\xFA Subt\xEDtulos",s2df075aface0dab8:"Compartir",s2f5d5d2d1f92de26:"Descargar v\xEDdeo",s302cbb19bf9a174a:"Desactivado",s308604b3ae13fbb5:"Reproduciendo",s344ea8f4939cdc98:"Color",s3687049d1af562c4:"Copiar",s36b979e4de5152b3:"V\xEDnculo copiado",s37a9e8aec5713460:"M\xE1s",s3ca1bdfa8785f808:"Sans Serif proporcional",s41faaf3b4e182cc6:"Es necesario realizar una comprobaci\xF3n de la edad para acceder a este contenido.",s49f06dca0feeb2f3:"Uniforme",s4b023aafbd8d5ac8:"Comparte este v\xEDdeo por",s4b10acae683d2978:"Pantalla completa",s500caa88d20458d3:"No puedes acceder a este contenido",s5267658ceae3230f:"Compartir este v\xEDdeo",s5c5db15dfc3a5376:"Velocidad de reproducci\xF3n",s5e3cb80d43a34044:"Negro",s5e8250fb85d64c23:"Cerrar",s669b18c6d2d9c95b:"Ninguna",s66d852e3c020e79e:"Opaco",s6a3bf589eaf72169:"Serif monoespaciada",s6baf78886c99db89:"Amarillo",s6f59e9b81c5a47e0:"Sombra paralela",s711d047dea682c1a:"Pista de audio",s7d148a08796094d2:"Error de reproducci\xF3n",s81a19821f3e4a3d2:"Reproducir",s827bc70ebcb7bbc6:"Sans Serif monoespaciada",s85186a61e0d55bac:"V\xEDdeo",s889413eb7198ea01:"opci\xF3n para desactivar los subt\xEDtulos",s8e408592fd4ae43a:"Estilo de borde del texto",s8e985aeeca6a8166:"Blanco",s8eafb22ebdc7e668:"Magenta",s9559a51a63cbb5fd:"Versalitas",s95bc8722b2708f8b:"En pausa",s973b83fb67a5865d:"Descargar transcripci\xF3n",s9b3c2f9cc32d565a:"Cian",s9c356016f81585f6:"Color de fondo",s9d8b8aa2b404c2c8:"Configuraci\xF3n",s9fbd543f2179c1ec:"Men\xFA Audio",sa000eaf7092088c3:"Barra de progreso",sa6f2645578b2d2bc:"A\xF1o",sa9011e79e3ca2d18:"Presionado",saf9b398ab363c174:"Escribe tu fecha de nacimiento",sb3d4f79d9d8b71e5:"Enviar",sb47daaf9e1c4a905:"Mes",sb9f16a5f9c29f41e:"Lo sentimos, se ha producido un error.",sba64d8954d027206:"Opacidad",sc07837c309cc699b:"Reactivar audio",scd105819b5a10243:"Reproducir",sce836928a17d96ed:"Color del texto",scf00d78fd5953f1c:"Verde",sd1246235faaa3191:"Se ha aplicado una restricci\xF3n de edad debido a temas para adultos o requisitos legales destinada a proteger a las audiencias m\xE1s j\xF3venes.",sd3386a2ef42e80b9:"Descargar",sd8d4b1b613d28990:"Cursiva",sdb02f53e62c1da05:"Elevado",sdb73788b3c975f16:"Autom\xE1tico",se0955919920ee87d:"D\xEDa",se0f67eae944f8f94:"Silenciar",se73c59cc10f48c12:"Redes sociales",secf3d3a7c1693e2d:"Azul",sed31876562d94652:"Configuraci\xF3n de las leyendas",sf113fa256db9617b:"Finalizado",sf675f879b1c892c6:"Calidad",sfc24a457269b13d4:"Control deslizante de volumen",sfcb817633bf70e1b:"Serif proporcional"},fV=Object.freeze(Object.defineProperty({__proto__:null,templates:DM},Symbol.toStringTag,{value:"Module"})),LM={s0289cd9e4bcf84c5:"Nivel de volumen",s061cc20e3432dead:"Pausar",s0622a6e6cb77254b:"Transcripci\xF3n",s080d032fc1b87b3f:"Descripci\xF3n de audio",s08b06007b5567108:"de",s08e6bd98452e6bb9:"Audio",s1b4a36fce2456660:"Familia de fuentes",s1fa5be5a4f5d0f04:"Casual",s23537b5c9e7af982:"Subt\xEDtulos",s24221a89168e9d21:"Tama\xF1o de la fuente",s255857544a9d5ec0:"Restablecer",s25a858f0257e2879:"Men\xFA de subt\xEDtulos",s2df075aface0dab8:"Compartir",s2f5d5d2d1f92de26:"Descargar video",s302cbb19bf9a174a:"Desactivado",s308604b3ae13fbb5:"Reproduciendo",s344ea8f4939cdc98:"Color",s3687049d1af562c4:"Copiar",s36b979e4de5152b3:"V\xEDnculo copiado",s37a9e8aec5713460:"M\xE1s",s3ca1bdfa8785f808:"Sin serifa, proporcional",s41faaf3b4e182cc6:"Se requiere una verificaci\xF3n de edad para acceder a este contenido.",s49f06dca0feeb2f3:"Uniforme",s4b023aafbd8d5ac8:"Comparte este video en",s4b10acae683d2978:"Pantalla completa",s500caa88d20458d3:"No puedes acceder a este contenido",s5267658ceae3230f:"Compartir este video",s5c5db15dfc3a5376:"Velocidad de reproducci\xF3n",s5e3cb80d43a34044:"Negro",s5e8250fb85d64c23:"Cerrar",s669b18c6d2d9c95b:"Ninguno",s66d852e3c020e79e:"Opaco",s6a3bf589eaf72169:"Serif monoespaciada",s6baf78886c99db89:"Amarillo",s6f59e9b81c5a47e0:"Sombra paralela",s711d047dea682c1a:"Pista de audio",s7d148a08796094d2:"Error de reproducci\xF3n",s81a19821f3e4a3d2:"Repetir",s827bc70ebcb7bbc6:"Sin serifa, monoespaciada",s85186a61e0d55bac:"Video",s889413eb7198ea01:"opci\xF3n para desactivar subt\xEDtulos",s8e408592fd4ae43a:"Estilo del borde del texto",s8e985aeeca6a8166:"Blanco",s8eafb22ebdc7e668:"Magenta",s9559a51a63cbb5fd:"Versalitas",s95bc8722b2708f8b:"En pausa",s973b83fb67a5865d:"Descargar transcripci\xF3n",s9b3c2f9cc32d565a:"Cian",s9c356016f81585f6:"Color de fondo",s9d8b8aa2b404c2c8:"Configuraci\xF3n",s9fbd543f2179c1ec:"Men\xFA de audio",sa000eaf7092088c3:"Barra de progreso",sa6f2645578b2d2bc:"A\xF1o",sa9011e79e3ca2d18:"En relieve negativo",saf9b398ab363c174:"Introduce tu fecha de nacimiento",sb3d4f79d9d8b71e5:"Enviar",sb47daaf9e1c4a905:"Mes",sb9f16a5f9c29f41e:"Lo sentimos, pero algo sali\xF3 mal.",sba64d8954d027206:"Opacidad",sc07837c309cc699b:"Reactivar audio",scd105819b5a10243:"Reproducir",sce836928a17d96ed:"Color del texto",scf00d78fd5953f1c:"Verde",sd1246235faaa3191:"Se implement\xF3 una restricci\xF3n de edad debido a temas para adultos o requisitos legales destinados a proteger a los p\xFAblicos m\xE1s j\xF3venes.",sd3386a2ef42e80b9:"Descargar",sd8d4b1b613d28990:"Cursiva",sdb02f53e62c1da05:"Elevado",sdb73788b3c975f16:"Autom\xE1tico",se0955919920ee87d:"D\xEDa",se0f67eae944f8f94:"Silenciar",se73c59cc10f48c12:"Redes sociales",secf3d3a7c1693e2d:"Azul",sed31876562d94652:"Configuraci\xF3n de subt\xEDtulos",sf113fa256db9617b:"Termin\xF3",sf675f879b1c892c6:"Calidad",sfc24a457269b13d4:"Control deslizante de volumen",sfcb817633bf70e1b:"Con serifa, proporcional"},gV=Object.freeze(Object.defineProperty({__proto__:null,templates:LM},Symbol.toStringTag,{value:"Module"})),RM={s0289cd9e4bcf84c5:"Volume sonore",s061cc20e3432dead:"Pause",s0622a6e6cb77254b:"Transcription",s080d032fc1b87b3f:"Descriptions audio",s08b06007b5567108:"de",s08e6bd98452e6bb9:"Audio",s1b4a36fce2456660:"Famille de police",s1fa5be5a4f5d0f04:"Informel",s23537b5c9e7af982:"Sous-titres",s24221a89168e9d21:"Taille de police",s255857544a9d5ec0:"R\xE9initialiser",s25a858f0257e2879:"Menu des sous-titres",s2df075aface0dab8:"Partager",s2f5d5d2d1f92de26:"T\xE9l\xE9charger la vid\xE9o",s302cbb19bf9a174a:"D\xE9sactiv\xE9",s308604b3ae13fbb5:"Lecture",s344ea8f4939cdc98:"Couleur",s3687049d1af562c4:"Copier",s36b979e4de5152b3:"Lien copi\xE9",s37a9e8aec5713460:"Plus",s3ca1bdfa8785f808:"Sans Serif proportionnelle",s41faaf3b4e182cc6:"L\u2019\xE2ge doit \xEAtre v\xE9rifi\xE9 pour acc\xE9der \xE0 ce contenu.",s49f06dca0feeb2f3:"Uniforme",s4b023aafbd8d5ac8:"Partager cette vid\xE9o sur",s4b10acae683d2978:"Plein \xE9cran",s500caa88d20458d3:"Vous n\u2019\xEAtes pas autoris\xE9 \xE0 acc\xE9der \xE0 ce contenu",s5267658ceae3230f:"Partager cette vid\xE9o",s5c5db15dfc3a5376:"Vitesse de lecture",s5e3cb80d43a34044:"Noir",s5e8250fb85d64c23:"Fermer",s669b18c6d2d9c95b:"Aucune",s66d852e3c020e79e:"Opaque",s6a3bf589eaf72169:"Serif non proportionnelle",s6baf78886c99db89:"Jaune",s6f59e9b81c5a47e0:"Ombre port\xE9e",s711d047dea682c1a:"Piste audio",s7d148a08796094d2:"Erreur de lecture",s81a19821f3e4a3d2:"Relecture",s827bc70ebcb7bbc6:"Sans Serif non proportionnelle",s85186a61e0d55bac:"Vid\xE9o",s889413eb7198ea01:"option pour d\xE9sactiver les sous-titres",s8e408592fd4ae43a:"Style du bord du texte",s8e985aeeca6a8166:"Blanc",s8eafb22ebdc7e668:"Magenta",s9559a51a63cbb5fd:"Petites capitales",s95bc8722b2708f8b:"En pause",s973b83fb67a5865d:"T\xE9l\xE9charger la transcription",s9b3c2f9cc32d565a:"Cyan",s9c356016f81585f6:"Couleur de l\u2019arri\xE8re-plan",s9d8b8aa2b404c2c8:"Param\xE8tres",s9fbd543f2179c1ec:"Menu Audio",sa000eaf7092088c3:"Barre de progression",sa6f2645578b2d2bc:"Ann\xE9e",sa9011e79e3ca2d18:"Enfonc\xE9",saf9b398ab363c174:"Saisissez votre date de naissance",sb3d4f79d9d8b71e5:"Envoyer",sb47daaf9e1c4a905:"Mois",sb9f16a5f9c29f41e:"Nous sommes d\xE9sol\xE9s, mais une erreur s\u2019est produite.",sba64d8954d027206:"Opacit\xE9",sc07837c309cc699b:"Activer le son",scd105819b5a10243:"Lecture",sce836928a17d96ed:"Couleur du texte",scf00d78fd5953f1c:"Vert",sd1246235faaa3191:"Une restriction d\u2019\xE2ge est appliqu\xE9e en raison de th\xE8mes r\xE9serv\xE9s aux adultes ou d\u2019exigences juridiques destin\xE9es \xE0 prot\xE9ger les jeunes publics.",sd3386a2ef42e80b9:"T\xE9l\xE9charger",sd8d4b1b613d28990:"Cursive",sdb02f53e62c1da05:"D\xE9clench\xE9",sdb73788b3c975f16:"Automatique",se0955919920ee87d:"Jour",se0f67eae944f8f94:"Couper le son",se73c59cc10f48c12:"R\xE9seaux sociaux",secf3d3a7c1693e2d:"Bleu",sed31876562d94652:"Param\xE8tres des sous-titres",sf113fa256db9617b:"Termin\xE9(e)s",sf675f879b1c892c6:"Qualit\xE9",sfc24a457269b13d4:"Curseur de volume",sfcb817633bf70e1b:"Serif proportionnelle"},mV=Object.freeze(Object.defineProperty({__proto__:null,templates:RM},Symbol.toStringTag,{value:"Module"})),NM={s0289cd9e4bcf84c5:"Livello volume",s061cc20e3432dead:"Sospendi",s0622a6e6cb77254b:"Trascrizione",s080d032fc1b87b3f:"Descrizione audio",s08b06007b5567108:"di",s08e6bd98452e6bb9:"Audio",s1b4a36fce2456660:"Famiglia di caratteri",s1fa5be5a4f5d0f04:"Informale",s23537b5c9e7af982:"Sottotitoli",s24221a89168e9d21:"Dimensioni carattere",s255857544a9d5ec0:"Reimposta",s25a858f0257e2879:"Menu Sottotitoli",s2df075aface0dab8:"Condividi",s2f5d5d2d1f92de26:"Scarica video",s302cbb19bf9a174a:"Disattiva",s308604b3ae13fbb5:"In riproduzione",s344ea8f4939cdc98:"Colore",s3687049d1af562c4:"Copia",s36b979e4de5152b3:"Collegamento copiato",s37a9e8aec5713460:"Altro",s3ca1bdfa8785f808:"Proportional Sans Serif",s41faaf3b4e182cc6:"Verifica et\xE0 richiesta per accedere a questo contenuto.",s49f06dca0feeb2f3:"Uniforme",s4b023aafbd8d5ac8:"Condividi questo video",s4b10acae683d2978:"Schermo intero",s500caa88d20458d3:"Non puoi accedere a questo contenuto",s5267658ceae3230f:"Condividi questo video",s5c5db15dfc3a5376:"Frequenza di riproduzione",s5e3cb80d43a34044:"Nero",s5e8250fb85d64c23:"Chiudi",s669b18c6d2d9c95b:"Nessuno",s66d852e3c020e79e:"Opaco",s6a3bf589eaf72169:"Monospace Serif",s6baf78886c99db89:"Giallo",s6f59e9b81c5a47e0:"Ombreggiatura",s711d047dea682c1a:"Traccia audio",s7d148a08796094d2:"Errore di riproduzione",s81a19821f3e4a3d2:"Riproduci",s827bc70ebcb7bbc6:"Monospace Sans Serif",s85186a61e0d55bac:"Video",s889413eb7198ea01:"opzione per disattivare i sottotitoli",s8e408592fd4ae43a:"Stile bordo testo",s8e985aeeca6a8166:"Bianco",s8eafb22ebdc7e668:"Magenta",s9559a51a63cbb5fd:"Maiuscoletto",s95bc8722b2708f8b:"In pausa",s973b83fb67a5865d:"Scarica trascrizione",s9b3c2f9cc32d565a:"Ciano",s9c356016f81585f6:"Colore di sfondo",s9d8b8aa2b404c2c8:"Impostazioni",s9fbd543f2179c1ec:"Menu Audio",sa000eaf7092088c3:"Indicatore di stato",sa6f2645578b2d2bc:"Anno",sa9011e79e3ca2d18:"Incassato",saf9b398ab363c174:"Immetti la tua data di nascita",sb3d4f79d9d8b71e5:"Invia",sb47daaf9e1c4a905:"Mese",sb9f16a5f9c29f41e:"Siamo spiacenti. Si \xE8 verificato un problema.",sba64d8954d027206:"Opacit\xE0",sc07837c309cc699b:"Attiva audio",scd105819b5a10243:"Riproduci",sce836928a17d96ed:"Colore testo",scf00d78fd5953f1c:"Verde",sd1246235faaa3191:"\xC8 stata applicata una restrizione di et\xE0 dovuta ai temi per soli adulti o ai requisiti legali volti a proteggere il pubblico pi\xF9 giovane.",sd3386a2ef42e80b9:"Scarica",sd8d4b1b613d28990:"Corsivo",sdb02f53e62c1da05:"In rilievo",sdb73788b3c975f16:"Auto",se0955919920ee87d:"Giorno",se0f67eae944f8f94:"Disattiva audio",se73c59cc10f48c12:"Social",secf3d3a7c1693e2d:"Blu",sed31876562d94652:"Impostazioni sottotitolo",sf113fa256db9617b:"Completato",sf675f879b1c892c6:"Qualit\xE0",sfc24a457269b13d4:"Dispositivo di scorrimento volume",sfcb817633bf70e1b:"Proportional Serif"},vV=Object.freeze(Object.defineProperty({__proto__:null,templates:NM},Symbol.toStringTag,{value:"Module"})),UM={s0289cd9e4bcf84c5:"N\xEDvel de volume",s061cc20e3432dead:"Pausar",s0622a6e6cb77254b:"Transcri\xE7\xE3o",s080d032fc1b87b3f:"Descri\xE7\xE3o de \xE1udio",s08b06007b5567108:"de",s08e6bd98452e6bb9:"\xC1udio",s1b4a36fce2456660:"Fam\xEDlia de fontes",s1fa5be5a4f5d0f04:"Casual",s23537b5c9e7af982:"Legendas",s24221a89168e9d21:"Tamanho da fonte",s255857544a9d5ec0:"Redefinir",s25a858f0257e2879:"Menu Legendas",s2df075aface0dab8:"Compartilhar",s2f5d5d2d1f92de26:"Baixar o v\xEDdeo",s302cbb19bf9a174a:"Desligado",s308604b3ae13fbb5:"Reproduzindo",s344ea8f4939cdc98:"Cor",s3687049d1af562c4:"Copiar",s36b979e4de5152b3:"Link copiado",s37a9e8aec5713460:"Mais",s3ca1bdfa8785f808:"Sans Serif Proporcional",s41faaf3b4e182cc6:"A verifica\xE7\xE3o de idade \xE9 necess\xE1ria para acessar este conte\xFAdo.",s49f06dca0feeb2f3:"Uniforme",s4b023aafbd8d5ac8:"Compartilhar este v\xEDdeo no",s4b10acae683d2978:"Tela inteira",s500caa88d20458d3:"Voc\xEA n\xE3o pode acessar este conte\xFAdo",s5267658ceae3230f:"Compartilhar este v\xEDdeo",s5c5db15dfc3a5376:"Taxa de reprodu\xE7\xE3o",s5e3cb80d43a34044:"Preto",s5e8250fb85d64c23:"Fechar",s669b18c6d2d9c95b:"Nenhum",s66d852e3c020e79e:"Opaco",s6a3bf589eaf72169:"Serifa monoespa\xE7ada",s6baf78886c99db89:"Amarelo",s6f59e9b81c5a47e0:"Sombra",s711d047dea682c1a:"Faixa de \xE1udio",s7d148a08796094d2:"Erro de reprodu\xE7\xE3o",s81a19821f3e4a3d2:"Repetir",s827bc70ebcb7bbc6:"Sans Serif Monoespa\xE7ado",s85186a61e0d55bac:"V\xEDdeo",s889413eb7198ea01:"op\xE7\xE3o para desativar a legenda",s8e408592fd4ae43a:"Estilo de borda de texto",s8e985aeeca6a8166:"Branco",s8eafb22ebdc7e668:"Magenta",s9559a51a63cbb5fd:"Letras min\xFAsculas",s95bc8722b2708f8b:"Pausado",s973b83fb67a5865d:"Baixar a transcri\xE7\xE3o",s9b3c2f9cc32d565a:"Ciano",s9c356016f81585f6:"Cor de fundo",s9d8b8aa2b404c2c8:"Configura\xE7\xF5es",s9fbd543f2179c1ec:"Menu \xC1udio",sa000eaf7092088c3:"Barra de progresso",sa6f2645578b2d2bc:"Ano",sa9011e79e3ca2d18:"Para baixo",saf9b398ab363c174:"Digite sua data de nascimento",sb3d4f79d9d8b71e5:"Enviar",sb47daaf9e1c4a905:"M\xEAs",sb9f16a5f9c29f41e:"Lamentamos, mas algo deu errado.",sba64d8954d027206:"Opacidade",sc07837c309cc699b:"Desativar mudo",scd105819b5a10243:"Jogar",sce836928a17d96ed:"Cor do texto",scf00d78fd5953f1c:"Verde",sd1246235faaa3191:"Uma restri\xE7\xE3o de idade foi implementada devido a temas adultos ou requisitos legais destinados a proteger o p\xFAblico mais jovem.",sd3386a2ef42e80b9:"Baixar",sd8d4b1b613d28990:"Cursiva",sdb02f53e62c1da05:"Para cima",sdb73788b3c975f16:"Autom\xE1tico",se0955919920ee87d:"Dia",se0f67eae944f8f94:"Ativar mudo",se73c59cc10f48c12:"Redes sociais",secf3d3a7c1693e2d:"Azul",sed31876562d94652:"Configura\xE7\xF5es de legenda",sf113fa256db9617b:"Finalizado",sf675f879b1c892c6:"Qualidade",sfc24a457269b13d4:"Controle deslizante de volume",sfcb817633bf70e1b:"Serifa proporcional"},yV=Object.freeze(Object.defineProperty({__proto__:null,templates:UM},Symbol.toStringTag,{value:"Module"})),OM={en:"en-us",es:"es-es",de:"de-de",fi:"fi-fi",fr:"fr-fr",hi:"hi-in",hu:"hu-hu",is:"is-is",it:"it-it",ja:"ja-jp",kk:"kk-kz",ko:"ko-kr",lt:"lt-lt",lv:"lv-lv",mk:"mk-mk",mt:"mt-mt",nb:"nb-no",nn:"nn-no",pl:"pl-pl",pt:"pt-pt",ro:"ro-ro",ru:"ru-ru",sk:"sk-sk",sl:"sl-si",sq:"sq-al",sv:"sv-se",ta:"ta-in",te:"te-in",th:"th-th",tr:"tr-tr",uk:"uk-ua",ur:"ur-pk",uz:"uz-uz",vi:"vi-vn",zh:"zh-cn"};function ux(a){try{return new Intl.DisplayNames([a],{type:"language",fallback:"none"}).of(a)}catch{return}}const tv=a=>{const s=new Map,l=a.map(p=>{const[d,m]=p.split("-");let y=ux(d),f=null;if(!y)y=p;else if(m){const D=ux(p);D&&D!==y&&(f=D)}else{const D=OM[d.toLowerCase()];if(D){const U=ux(D);U&&U!==y&&(f=U)}}let E=s.get(y);E||(E=[],s.set(y,E));const I={code:p,fallbackName:f,selectedName:y};return E.push(I),I});for(const[p,d]of s)if(d.length>1&&new Set(d.map(m=>m.fallbackName)).size>1)for(const m of d)m.selectedName=m.fallbackName||p;return Object.fromEntries(l.map(p=>[p.code,p.selectedName]))},nv=a=>{if(a)return a=a.toLowerCase(),pV.includes(a)?a:OM[a.split("-")[0]]},bV=new Set(["??-??-????????","???-????-??","??-????-??","???-????","??-????","???-??","??-??","???","??"]),wV=Array.from(bV).map(a=>`(?:${a.replace(/\?/g,"[a-zA-Z]")})`).join("|");function xV(){const a=new RegExp(`^https?://[^/]+/(${wV})/[^/]+.*`),s=window.location.href.match(a);return s&&nv(s[1])||null}const lx=new Map,jM={"es-es":{templates:DM},"pt-br":{templates:UM},"en-gb":{templates:PM},"fr-fr":{templates:RM},"es-mx":{templates:LM},"it-it":{templates:NM}};let FM=a=>lV(Object.assign({"../generated/locales/af-za.ts":()=>import("./chunks/af-za-m2u4zmw7.mjs"),"../generated/locales/am-et.ts":()=>import("./chunks/am-et-ed1ok3wq.mjs"),"../generated/locales/ar-sa.ts":()=>import("./chunks/ar-sa-rz5mnhw9.mjs"),"../generated/locales/as-in.ts":()=>import("./chunks/as-in-kpgsdy6q.mjs"),"../generated/locales/be-by.ts":()=>import("./chunks/be-by-dm6r21ch.mjs"),"../generated/locales/bg-bg.ts":()=>import("./chunks/bg-bg-lteoihf5.mjs"),"../generated/locales/bn-in.ts":()=>import("./chunks/bn-in-mw5tbkbt.mjs"),"../generated/locales/ca-es.ts":()=>import("./chunks/ca-es-cs4gj83u.mjs"),"../generated/locales/cs-cz.ts":()=>import("./chunks/cs-cz-heecmf4q.mjs"),"../generated/locales/cy-gb.ts":()=>import("./chunks/cy-gb-n986okt4.mjs"),"../generated/locales/da-dk.ts":()=>import("./chunks/da-dk-efzmzb5u.mjs"),"../generated/locales/de-at.ts":()=>import("./chunks/de-at-q8szulgf.mjs"),"../generated/locales/de-ch.ts":()=>import("./chunks/de-ch-o9ho0mfu.mjs"),"../generated/locales/de-de.ts":()=>import("./chunks/de-de-k8hj97po.mjs"),"../generated/locales/el-gr.ts":()=>import("./chunks/el-gr-ngbcrumg.mjs"),"../generated/locales/en-au.ts":()=>import("./chunks/en-au-ewc7vlwf.mjs"),"../generated/locales/en-ca.ts":()=>import("./chunks/en-ca-hdtdn563.mjs"),"../generated/locales/en-gb.ts":()=>Promise.resolve().then(()=>hV),"../generated/locales/en-hk.ts":()=>import("./chunks/en-hk-e2w71m3q.mjs"),"../generated/locales/en-ie.ts":()=>import("./chunks/en-ie-ewc7vlwf.mjs"),"../generated/locales/en-in.ts":()=>import("./chunks/en-in-e2w71m3q.mjs"),"../generated/locales/en-my.ts":()=>import("./chunks/en-my-e2w71m3q.mjs"),"../generated/locales/en-nz.ts":()=>import("./chunks/en-nz-e2w71m3q.mjs"),"../generated/locales/en-ph.ts":()=>import("./chunks/en-ph-e2w71m3q.mjs"),"../generated/locales/en-sg.ts":()=>import("./chunks/en-sg-e2w71m3q.mjs"),"../generated/locales/en-za.ts":()=>import("./chunks/en-za-ewc7vlwf.mjs"),"../generated/locales/es-ar.ts":()=>import("./chunks/es-ar-kqumqg78.mjs"),"../generated/locales/es-cl.ts":()=>import("./chunks/es-cl-kqumqg78.mjs"),"../generated/locales/es-co.ts":()=>import("./chunks/es-co-kqumqg78.mjs"),"../generated/locales/es-es.ts":()=>Promise.resolve().then(()=>fV),"../generated/locales/es-mx.ts":()=>Promise.resolve().then(()=>gV),"../generated/locales/et-ee.ts":()=>import("./chunks/et-ee-e2esw1tm.mjs"),"../generated/locales/eu-es.ts":()=>import("./chunks/eu-es-nc34d67s.mjs"),"../generated/locales/fa-ir.ts":()=>import("./chunks/fa-ir-cwuw51ez.mjs"),"../generated/locales/fi-fi.ts":()=>import("./chunks/fi-fi-4mn3dnbw.mjs"),"../generated/locales/fr-be.ts":()=>import("./chunks/fr-be-k19hvzy3.mjs"),"../generated/locales/fr-ca.ts":()=>import("./chunks/fr-ca-io80tlq2.mjs"),"../generated/locales/fr-ch.ts":()=>import("./chunks/fr-ch-d45gdof7.mjs"),"../generated/locales/fr-fr.ts":()=>Promise.resolve().then(()=>mV),"../generated/locales/fr-ma.ts":()=>import("./chunks/fr-ma-jjec83gp.mjs"),"../generated/locales/ga-ie.ts":()=>import("./chunks/ga-ie-lsignae2.mjs"),"../generated/locales/gd-gb.ts":()=>import("./chunks/gd-gb-h9n5kebq.mjs"),"../generated/locales/gl-es.ts":()=>import("./chunks/gl-es-hmr9iq7f.mjs"),"../generated/locales/gu-in.ts":()=>import("./chunks/gu-in-ksir8zvf.mjs"),"../generated/locales/he-il.ts":()=>import("./chunks/he-il-nipeqfxs.mjs"),"../generated/locales/hi-in.ts":()=>import("./chunks/hi-in-dlxsxose.mjs"),"../generated/locales/hr-hr.ts":()=>import("./chunks/hr-hr-k3hf8v3x.mjs"),"../generated/locales/hu-hu.ts":()=>import("./chunks/hu-hu-c22gh5wb.mjs"),"../generated/locales/hy-am.ts":()=>import("./chunks/hy-am-l46fenqw.mjs"),"../generated/locales/id-id.ts":()=>import("./chunks/id-id-lcgm08ft.mjs"),"../generated/locales/is-is.ts":()=>import("./chunks/is-is-csvw5pn1.mjs"),"../generated/locales/it-it.ts":()=>Promise.resolve().then(()=>vV),"../generated/locales/ja-jp.ts":()=>import("./chunks/ja-jp-mx6i2fji.mjs"),"../generated/locales/ka-ge.ts":()=>import("./chunks/ka-ge-m08mnkpr.mjs"),"../generated/locales/kk-kz.ts":()=>import("./chunks/kk-kz-buu30h8l.mjs"),"../generated/locales/kn-in.ts":()=>import("./chunks/kn-in-3ae2u5rw.mjs"),"../generated/locales/ko-kr.ts":()=>import("./chunks/ko-kr-ffn4a66g.mjs"),"../generated/locales/ky-kg.ts":()=>import("./chunks/ky-kg-myal6wd1.mjs"),"../generated/locales/lb-lu.ts":()=>import("./chunks/lb-lu-et0klbuq.mjs"),"../generated/locales/lo-la.ts":()=>import("./chunks/lo-la-bk902jf8.mjs"),"../generated/locales/lt-lt.ts":()=>import("./chunks/lt-lt-molyk855.mjs"),"../generated/locales/lv-lv.ts":()=>import("./chunks/lv-lv-ecw0sblt.mjs"),"../generated/locales/mi-nz.ts":()=>import("./chunks/mi-nz-np7ou2tb.mjs"),"../generated/locales/mk-mk.ts":()=>import("./chunks/mk-mk-o7v3652x.mjs"),"../generated/locales/ml-in.ts":()=>import("./chunks/ml-in-nmc4j35s.mjs"),"../generated/locales/mr-in.ts":()=>import("./chunks/mr-in-j75s8g4s.mjs"),"../generated/locales/ms-bn.ts":()=>import("./chunks/ms-bn-xxqxbiph.mjs"),"../generated/locales/ms-my.ts":()=>import("./chunks/ms-my-nrtj1gsh.mjs"),"../generated/locales/mt-mt.ts":()=>import("./chunks/mt-mt-haa8hwj5.mjs"),"../generated/locales/nb-no.ts":()=>import("./chunks/nb-no-jszuhetr.mjs"),"../generated/locales/ne-np.ts":()=>import("./chunks/ne-np-j6l0vezl.mjs"),"../generated/locales/nl-be.ts":()=>import("./chunks/nl-be-jgs5rvfr.mjs"),"../generated/locales/nl-nl.ts":()=>import("./chunks/nl-nl-h2iwtqm5.mjs"),"../generated/locales/nn-no.ts":()=>import("./chunks/nn-no-d3uih568.mjs"),"../generated/locales/or-in.ts":()=>import("./chunks/or-in-mup6ty4g.mjs"),"../generated/locales/pa-in.ts":()=>import("./chunks/pa-in-jv5z0suh.mjs"),"../generated/locales/pl-pl.ts":()=>import("./chunks/pl-pl-4y8v1jsc.mjs"),"../generated/locales/ps-af.ts":()=>import("./chunks/ps-af-nnsi7poz.mjs"),"../generated/locales/pt-br.ts":()=>Promise.resolve().then(()=>yV),"../generated/locales/pt-pt.ts":()=>import("./chunks/pt-pt-ok2f2ba2.mjs"),"../generated/locales/ro-ro.ts":()=>import("./chunks/ro-ro-jufusazf.mjs"),"../generated/locales/ru-ru.ts":()=>import("./chunks/ru-ru-hpf6570u.mjs"),"../generated/locales/si-lk.ts":()=>import("./chunks/si-lk-nesfgzb7.mjs"),"../generated/locales/sk-sk.ts":()=>import("./chunks/sk-sk-ode4zz9h.mjs"),"../generated/locales/sl-si.ts":()=>import("./chunks/sl-si-jd27cqwx.mjs"),"../generated/locales/sq-al.ts":()=>import("./chunks/sq-al-61hvrkzt.mjs"),"../generated/locales/sv-se.ts":()=>import("./chunks/sv-se-fqtm1cl7.mjs"),"../generated/locales/sw-ke.ts":()=>import("./chunks/sw-ke-e13zzdwm.mjs"),"../generated/locales/ta-in.ts":()=>import("./chunks/ta-in-l54p9q2t.mjs"),"../generated/locales/te-in.ts":()=>import("./chunks/te-in-gwaygnex.mjs"),"../generated/locales/tg-tj.ts":()=>import("./chunks/tg-tj-jgvy5o3l.mjs"),"../generated/locales/th-th.ts":()=>import("./chunks/th-th-czzx1rl1.mjs"),"../generated/locales/ti-et.ts":()=>import("./chunks/ti-et-mac2c1ws.mjs"),"../generated/locales/tk-tm.ts":()=>import("./chunks/tk-tm-cuyl6dg9.mjs"),"../generated/locales/tr-tr.ts":()=>import("./chunks/tr-tr-hmwvc2kx.mjs"),"../generated/locales/tt-ru.ts":()=>import("./chunks/tt-ru-f3tjts9a.mjs"),"../generated/locales/ug-cn.ts":()=>import("./chunks/ug-cn-bjjp5j88.mjs"),"../generated/locales/uk-ua.ts":()=>import("./chunks/uk-ua-ov87txig.mjs"),"../generated/locales/ur-in.ts":()=>import("./chunks/ur-in-bn99yiee.mjs"),"../generated/locales/ur-pk.ts":()=>import("./chunks/ur-pk-bn99yiee.mjs"),"../generated/locales/uz-uz.ts":()=>import("./chunks/uz-uz-h2b84msh.mjs"),"../generated/locales/vi-vn.ts":()=>import("./chunks/vi-vn-f3aaw0cy.mjs"),"../generated/locales/wo-sn.ts":()=>import("./chunks/wo-sn-gyb2l1zm.mjs"),"../generated/locales/xh-za.ts":()=>import("./chunks/xh-za-kvzua0rf.mjs"),"../generated/locales/yo-ng.ts":()=>import("./chunks/yo-ng-ensm3rpk.mjs"),"../generated/locales/zh-cn.ts":()=>import("./chunks/zh-cn-hv8w0tr3.mjs"),"../generated/locales/zh-hk.ts":()=>import("./chunks/zh-hk-hna3jc8h.mjs"),"../generated/locales/zh-tw.ts":()=>import("./chunks/zh-tw-np0fltpq.mjs"),"../generated/locales/zu-za.ts":()=>import("./chunks/zu-za-ezvjh1nw.mjs")}),`../generated/locales/${a}.ts`,4);function SV(a){let s=lx.get(a);return s||(jM[a]?s=Promise.resolve(jM[a]):s=FM(a),lx.set(a,s)),s}const{getLocale:TV,setLocale:kV}=CB({sourceLocale:cV,targetLocales:dV,loadLocale:SV}),EV=a=>{const s=nv(a),l=nv(document.documentElement.lang),p=xV(),d=nv(ex.language)||ex.language;return s||l||p||d};function AV(a,s){lx.set(a,Promise.resolve(s))}function CV(a){FM=a}function cx(a){const s=Math.floor(a/3600),l=Math.floor(a%3600/60),p=Math.floor(a%60),d=s>0?`${s}:`:"",m=`${l.toString().padStart(s>0?2:1,"0")}:`,y=p.toString().padStart(2,"0");return`${d}${m}${y}`}const BM=new Map;function IV(a){let s=BM.get(a);return s||(s={hour:new Intl.NumberFormat(a,{style:"unit",unit:"hour",unitDisplay:"long"}),minute:new Intl.NumberFormat(a,{style:"unit",unit:"minute",unitDisplay:"long"}),second:new Intl.NumberFormat(a,{style:"unit",unit:"second",unitDisplay:"long"})},BM.set(a,s)),s}function VM(a,s){const l=IV(s);if(Math.floor(a)===0)return l.second.format(0);const p=Math.floor(a/3600),d=Math.floor(a%3600/60),m=Math.floor(a%60),y=[];return p>0&&y.push(l.hour.format(p)),d>0&&y.push(l.minute.format(d)),m>0&&y.push(l.second.format(m)),y.join(", ")}const MV='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7.03 13.9 3.56 10a.75.75 0 0 0-1.12 1l4 4.5c.29.32.79.34 1.09.03l10.5-10.5a.75.75 0 0 0-1.06-1.06l-9.94 9.94Z"/></svg>',_V='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m4.09 4.22.06-.07a.5.5 0 0 1 .63-.06l.07.06L10 9.29l5.15-5.14a.5.5 0 0 1 .63-.06l.07.06c.18.17.2.44.06.63l-.06.07L10.71 10l5.14 5.15c.18.17.2.44.06.63l-.06.07a.5.5 0 0 1-.63.06l-.07-.06L10 10.71l-5.15 5.14a.5.5 0 0 1-.63.06l-.07-.06a.5.5 0 0 1-.06-.63l.06-.07L9.29 10 4.15 4.85a.5.5 0 0 1-.06-.63l.06-.07-.06.07Z"/></svg>',PV='<svg width="28" height="28" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg"><path d="m18.27 3.21 7.5 7.25a.75.75 0 0 1 0 1.08l-7.5 7.25a.73.73 0 0 1-.81.15.75.75 0 0 1-.46-.69v-3.74c-6.7.27-9.52 4.02-9.64 4.18a.77.77 0 0 1-.84.27.75.75 0 0 1-.52-.71c0-8.02 6.59-10.48 11-10.73V3.75a.75.75 0 0 1 1.27-.54Zm.23 10.54v2.71L24.17 11 18.5 5.52v2.73a.76.76 0 0 1-.75.75c-.97 0-8.85.22-10.09 7.28A15.58 15.58 0 0 1 17.75 13a.76.76 0 0 1 .75.75Zm4.22 5.47a.76.76 0 0 1 .53-.22.76.76 0 0 1 .75.75v.5A4.75 4.75 0 0 1 19.25 25H7.75A4.75 4.75 0 0 1 3 20.25V8.75A4.75 4.75 0 0 1 7.75 4h4.5a.75.75 0 1 1 0 1.5h-4.5A3.26 3.26 0 0 0 4.5 8.75v11.5a3.26 3.26 0 0 0 3.25 3.25h11.5a3.26 3.26 0 0 0 3.25-3.25v-.5c0-.2.08-.39.22-.53Z"/></svg>',rv=xn`
.dialog{background-color:var(--color-brand-30);color:var(--color-neutral-foreground-1);border-radius:var(--border-radius-x-large);border:solid var(--stroke-width-thin) var(--color-white-alpha-30);box-shadow:var(--shadow-8)}
`;var DV=Object.defineProperty,LV=Object.getOwnPropertyDescriptor,dx=(a,s,l,p)=>{for(var d=p>1?void 0:p?LV(s,l):s,m=a.length-1,y;m>=0;m--)(y=a[m])&&(d=(p?y(s,l,d):y(d))||d);return p&&d&&DV(s,l,d),d};let zh=class extends yn{render(){const{shareOptions:a}=this.playerState,s=a.find(p=>p.id==="copy"),l=a.filter(p=>p.id!=="copy");return ft`
      <dialog
        data-focusgroup
        @click=${this.onDialogClick}
        @keydown=${this.onKeyDown}
        @close=${this.onClose}
      >
        <div class="dialog-backdrop"></div>
        <div class="dialog">
          <div class="share-icon">${rn(PV)}</div>

          <button
            type="button"
            class=${it({btn:!0,"btn-sm":!0,"btn-subtle":!0,"btn-icon-only":!0,"btn-close":!0,...dt(this.playerState)})}
            @click=${this.onClose}
            aria-label=${me("Close")}
            data-id="close-button"
            data-testid="share-dialog-close-button"
          >
            ${rn(_V)}
          </button>

          <div class="dialog-content">
            <h2>${me("Share this video")}</h2>

            ${s?ft`
                  <label>
                    <span class="section-title">Link</span>
                    <div class="input">
                      <input
                        type="text"
                        readonly
                        value="${s.url}"
                        title="${s.url}"
                      />

                      <button
                        type="button"
                        class=${it({btn:!0,"btn-outline":!0,"btn-copy":!0,...dt(this.playerState)})}
                        @click=${this.onCopyButtonClicked(s.url)}
                        data-testid="copy-share-url-button"
                        aria-label="${me("Copy")}"
                      >
                        ${me("Copy")}
                      </button>
                    </div>
                  </label>
                `:null}

            <div>
              <span class="section-title">${me("Social")}</span>
              <div class="share-dialog-icons">
                ${l.map(p=>ft`
                    <a
                      href=${p.url}
                      class=${it({btn:!0,"btn-subtle":!0,"btn-icon-only":!0,"btn-social":!0,...dt(this.playerState)})}
                      target="_blank"
                      aria-label="${me("Share this video on")} ${p.id}"
                      data-testid="share-social-${p.id}"
                    >
                      ${rn(p.icon)}
                    </a>
                  `)}
              </div>
            </div>
          </div>
        </div>
      </dialog>
    `}disconnectedCallback(){super.disconnectedCallback(),this.copyTimeoutId&&clearTimeout(this.copyTimeoutId)}firstUpdated(a){super.firstUpdated(a)}show(){this.dialog.show()}get opened(){return this.dialog.open}onCopyButtonClicked(a){return async s=>{try{const l=s.target;await navigator.clipboard.writeText(a),l.ariaLabel=me("Link Copied"),l.innerHTML=MV,this.copyTimeoutId&&clearTimeout(this.copyTimeoutId),this.copyTimeoutId=setTimeout(()=>{l.ariaLabel=me("Copy"),l.innerText=me("Copy")},3e3)}catch(l){console.log("error copying text",l)}}}onDialogClick(a){a.target===this.dialog&&this.onClose()}onKeyDown(a){this.playerState.disableKeyboardEvents||a.key==="Escape"&&this.onClose()}onClose(){this.dialog.close(),this.dispatchEvent(new Et("share-dialog-closed"))}};zh.styles=[rv,Ja,xn`
      dialog {
        border: none;
        display: none;
        position: absolute;
        inset: 0;
        align-items: center;
        justify-content: center;
        width: 100%;
        height: 100%;
        background-color: transparent;
        max-width: 100%;
        max-height: 100%;
        box-sizing: border-box;
        text-align: left;
      }

      dialog[open] {
        display: flex;
      }

      .dialog {
        padding: var(--spacing-xxl) var(--spacing-xxxl);
        display: flex;
        gap: var(--spacing-xxl);
        z-index: 10;
        margin: var(--spacing-xxl);
        position: relative;
        font-family: var(--controls-font-family);
        color: var(--color-neutral-foreground-1);
      }

      .dialog-backdrop {
        position: absolute;
        inset: 0;
        background-color: var(--color-black-alpha-50);
        pointer-events: none;
      }

      .share-icon {
        stroke: currentcolor;
        fill: currentcolor;
      }

      .btn-close {
        position: absolute;
        right: var(--spacing-xl);
        top: var(--spacing-xl);

        &:hover {
          background-color: transparent;
        }
      }

      .dialog-content {
        display: flex;
        flex-direction: column;
        gap: var(--spacing-xxl);
        margin-right: var(--spacing-xxxl);
      }

      h2 {
        margin-top: 0;
        margin-bottom: var(--spacing-s);
        flex-grow: 1;
      }

      .section-title {
        display: block;
        margin-bottom: var(--spacing-m);
        font-weight: var(--font-weight-semibold);
      }

      .input {
        display: flex;
        align-items: center;
        border-radius: var(--border-radius-medium);
        border: solid var(--stroke-width-thin) var(--color-neutral-stroke-1);
        padding: var(--spacing-s) var(--spacing-m);
        border-color: var(--color-grey-86);
        gap: var(--spacing-m);

        input {
          background-color: transparent;
          border: none;
          outline: none;
          margin: 0;
          padding: 0;
          font-family: var(--controls-font-family);
          font-size: var(--font-size-base-400);
          flex-grow: 1;
          white-space: nowrap;
          text-overflow: ellipsis;
          opacity: 0.8;
          color: var(--color-neutral-foreground-1);
        }

        .btn-copy {
          color: var(--color-white-alpha-70);
          font-weight: var(--font-weight-normal);
          flex-shrink: 0;
          flex-basis: 0;
          border-color: var(--color-brand-150);
          border-width: var(--stroke-width-thick);
          border-radius: var(--border-radius-x-large);
          padding: var(--spacing-xxs) var(--spacing-s);
        }
      }

      .share-dialog-icons {
        display: flex;
        align-items: center;
        gap: var(--spacing-m);
      }

      .btn-social {
        background-color: var(--color-brand-140);

        svg {
          width: var(--size-6);
          height: var(--size-6);
          fill: var(--color-brand-40);
        }
      }

      .btn-social:hover {
        background-color: var(--color-brand-150);
      }

      .btn-social:active {
        background-color: var(--color-brand-130);
      }

      @media (forced-colors: active) {
        .btn-close:hover {
            background-color: Highlight;
            color: HighlightText;
          }
        }

        .btn-copy:hover { 
          border-color: Highlight;
          color: HighlightText;
          forced-color-adjust: none;
        }

        .btn-social {
          svg {
            fill: ButtonText;
          }
        }

        .btn-social:hover {
          background-color: Highlight;
          border-color: Highlight;

          svg {
            fill: HighlightText;
          }
        }
      }
    `],dx([On("dialog")],zh.prototype,"dialog",2),dx([gr({context:mr,subscribe:!0})],zh.prototype,"playerState",2),zh=dx([zn("ump-share-dialog")],zh);var RV=Object.defineProperty,NV=Object.getOwnPropertyDescriptor,js=(a,s,l,p)=>{for(var d=p>1?void 0:p?NV(s,l):s,m=a.length-1,y;m>=0;m--)(y=a[m])&&(d=(p?y(s,l,d):y(d))||d);return p&&d&&RV(s,l,d),d};let eo=class extends yn{constructor(){super(...arguments),this.onSeekbarPointerDown=()=>{this.dispatchEvent(new Et("seekbar-pointer-down"))},this.onSeekbarPointerMove=a=>{const s=a.target,l=bM(a.offsetX/s.clientWidth,0,1);s.dataset.tooltip=cx(this.playerState.duration*l),s.style.setProperty("--tooltip-pointer-x",`${a.offsetX}px`)},this.onSeekbarPointerUp=()=>{this.dispatchEvent(new Et("seekbar-pointer-up"))}}render(){const a=TV();return ft`<div
        class="lower-controls-area"
        @focusin=${this.onFocusIn}
        ?inert=${this.playerState.shareDialogOpened}
      >
        <ump-slider
          class="seekbar slider tooltip"
          dir="ltr"
          @pointerdown=${this.onSeekbarPointerDown}
          @pointermove=${this.onSeekbarPointerMove}
          @pointerup=${this.onSeekbarPointerUp}
          @input=${this.onSeekbarSliderChanged}
          sliderarialabel="${me("Progress Bar")}"
          sliderAriaValueText="${VM(this.playerState.currentTime,a)} ${me("of")} ${VM(this.playerState.duration,a)}"
          value=${this.playerState.currentTime}
          min="0"
          max=${this.playerState.duration}
          focusStep=${1}
          data-testid="seekbar-slider"
          .ranges=${this.playerState.buffered}
        ></ump-slider>

        <div class="buttons">
          <button
            type="button"
            class=${it({btn:!0,"btn-subtle":!0,"btn-icon-only":!0,...dt(this.playerState),tooltip:!0,"tooltip-top":!0,"tooltip-left":this.playerState.dir==="ltr","tooltip-right":this.playerState.dir==="rtl"})}
            data-tooltip="${this.playerState.ended?me("Replay"):this.playerState.paused?me("Play"):me("Pause")}"
            aria-label="${this.playerState.ended?me("Replay"):this.playerState.paused?me("Play"):me("Pause")}"
            id="play-button"
            data-testid="play-button"
            @click=${this.onPlayClicked}
          >
            ${this.playerState.ended?rn(nV):this.playerState.paused?rn(oV):rn(aV)}
          </button>

          <div
            data-identifier="volume-container"
            class="volume-container"
            @focusin=${this.onVolumeContainerFocusIn}
            @focusout=${this.onVolumeContainerFocusOut}
            @pointerleave=${this.onVolumeContainerPointerLeave}
          >
            <button
              type="button"
              class=${it({btn:!0,"btn-subtle":!0,"btn-icon-only":!0,...dt(this.playerState),tooltip:!0})}
              aria-label=${this.playerState.muted?me("Unmute"):me("Mute")}
              data-testid="volume-button"
              @click=${this.onVolumeClicked}
            >
              ${this.playerState.muted?rn(uV):rn(sV)}
            </button>

            ${this.playerState.showVolumeSlider?ft`
                  <div class="volume-menu">
                    <div class="volume-menu-slider-container">
                      <ump-slider
                        class="volume-slider"
                        style="--ump-slide-percentage: ${this.playerState.volume*100}%;"
                        orientation="vertical"
                        sliderarialabel="${me("Volume Level")}"
                        aria-label=${me("Volume Slider")}
                        min="0"
                        max="1"
                        focusStep=${.01}
                        sliderAriaValueText="${(this.playerState.volume*100).toFixed()+"%"}"
                        value=${this.playerState.volume}
                        @click=${this.onVolumeSliderClicked}
                        @input=${this.onVolumeSliderChanged}
                        @pointerup=${this.onVolumeSliderPointerUp}
                      ></ump-slider>
                      <div
                        data-tooltip=${(this.playerState.volume*100).toFixed()+"%"}
                        style="--ump-slide-percentage: ${this.playerState.volume*100}%;"
                        class="volume-tooltip tooltip tooltip-visible"
                      ></div>
                    </div>
                    <div class="volume-menu-spacer"></div>
                  </div>
                `:null}
          </div>

          <div
            class=${it({time:!0,"time-right":this.playerState.dir==="rtl"})}
            data-testid="time"
          >
            ${cx(this.playerState.currentTime)} /
            ${cx(this.playerState.duration)}
          </div>

          <ump-more-menu
            @share-clicked=${this.onShareClicked}
            id="more-menu"
          ></ump-more-menu>

          <ump-audio-menu></ump-audio-menu>

          <ump-caption-menu></ump-caption-menu>

          <ump-settings-menu></ump-settings-menu>

          <button
            type="button"
            class=${it({btn:!0,"btn-subtle":!0,"btn-icon-only":!0,...dt(this.playerState),tooltip:!0,"tooltip-top":!0,"tooltip-left":this.playerState.dir==="rtl","tooltip-right":this.playerState.dir==="ltr"})}
            data-tooltip=${me("Fullscreen")}
            aria-label=${me("Fullscreen")}
            data-testid="fullscreen-button"
            @click=${this.onFullScreenClicked}
          >
            ${this.playerState.fullscreen?rn(iV):rn(rV)}
          </button>
        </div>
      </div>

      <ump-share-dialog></ump-share-dialog>`}get hasOpenControl(){return[this.audioMenu,this.captionMenu,this.settingsMenu,this.moreMenu,this.shareDialog].some(a=>a.opened)}onShareClicked(){this.shareDialog.show(),this.dispatchEvent(new Et("share-button-clicked"))}onVolumeClicked(){this.dispatchEvent(new Et("volume-button-clicked"))}onPlayClicked(){this.dispatchEvent(new Et("play-button-clicked"))}onVolumeSliderChanged(a){const s=a.target;this.dispatchEvent(new Et("volume-updated",s.value))}onVolumeSliderPointerUp(a){const s=a.target;this.dispatchEvent(new Et("volume-drag-released",s.value))}onVolumeContainerFocusIn(){this.volumeContainer.classList.add("focused")}onVolumeContainerFocusOut(){this.volumeContainer.classList.remove("focused")}onVolumeContainerPointerLeave(){this.volumeContainer.classList.remove("focused")}onVolumeSliderClicked(a){a.stopPropagation()}onSeekbarSliderChanged(a){const s=a.target;this.dispatchEvent(new Et("seekbar-updated",s.value))}onFullScreenClicked(){this.dispatchEvent(new Et("fullscreen-button-clicked"))}onFocusIn(){this.dispatchEvent(new Et("control-bar-focus-change"))}};eo.styles=[Ja,td,xn`
:host{--ump-lower-controls-height:var(--size-28)}*{box-sizing:border-box;margin:0;padding:0}.controls{position:absolute;inset:0;opacity:1;visibility:visible}.controls.hidden{opacity:0;transition:opacity 1s ease-out;cursor:none}.lower-controls-area{position:absolute;bottom:0;width:100%;background:var(--color-black-alpha-70);background:linear-gradient(0deg,var(--color-black-alpha-80) 0%,var(--color-black-alpha-80) 40%,transparent 100%);height:var(--ump-lower-controls-height);display:flex;flex-direction:column;justify-content:flex-end;padding:var(--spacing-s) var(--spacing-m)}.buttons{display:flex;align-items:center;gap:var(--spacing-xs);width:100%;z-index:10}.buttons .btn.tooltip{--tooltip-gap:var(--spacing-xxxl)}.time{color:var(--color-neutral-foreground-2);flex-grow:1;-webkit-user-select:none;user-select:none;text-align:left}.time-right{text-align:right}.volume-menu{box-sizing:border-box;position:absolute;left:50%;bottom:100%;transform:translateX(-50%);z-index:100;opacity:0;transition:opacity var(--duration-faster) var(--curve-easy-ease);pointer-events:none;width:100%}.volume-container{position:relative}.volume-container:hover .volume-menu,.volume-container:focus .volume-menu,.volume-container:focus-visible .volume-menu,.volume-container.focused .volume-menu{display:block;opacity:1;pointer-events:auto}.seekbar{width:100%;height:var(--size-5)}.seekbar.slider.tooltip{--tooltip-gap:var(--spacing-s);--tooltip-width:var(--size-6);--tooltip-pointer-x:0px;--tooltip-left:clamp(calc(var(--tooltip-width) / 2),var(--tooltip-pointer-x),calc(100% - var(--tooltip-width) / 2));text-align:center}.volume-menu-slider-container{z-index:100;background-color:var(--color-grey-10-alpha-90);border-radius:var(--border-radius-large);height:var(--size-28);display:flex;justify-content:center;padding:var(--spacing-s) 0;position:relative}.volume-slider{width:var(--size-6);outline:border 1px orange}.volume-tooltip{position:absolute !important;width:100%;inset:0;margin-top:var(--size-5);margin-bottom:var(--size-5)}.volume-tooltip::before{--tooltip-top:auto;--tooltip-left:100%;--tooltip-right:auto;--tooltip-translate-x:10%;--tooltip-translate-y:50%;--tooltip-bottom:var(--ump-slide-percentage);--tooltip-width:var(--size-7);margin-left:var(--spacing-xs);text-align:center}.volume-menu-spacer{height:var(--size-8);width:100%}@media (forced-colors:active){.time{color:ButtonText}}
    `],js([On("ump-more-menu")],eo.prototype,"moreMenu",2),js([On("ump-audio-menu")],eo.prototype,"audioMenu",2),js([On("ump-caption-menu")],eo.prototype,"captionMenu",2),js([On("ump-settings-menu")],eo.prototype,"settingsMenu",2),js([On("ump-share-dialog")],eo.prototype,"shareDialog",2),js([On(".volume-container")],eo.prototype,"volumeContainer",2),js([gr({context:mr,subscribe:!0})],eo.prototype,"playerState",2),eo=js([Xw(),zn("ump-control-bar")],eo);const zM="menu",UV='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.37 10.17a.5.5 0 0 0-.74.66l4 4.5c.19.22.52.23.72.02l10.5-10.5a.5.5 0 0 0-.7-.7L7.02 14.27l-3.65-4.1Z"/></svg>';var OV=Object.defineProperty,jV=Object.getOwnPropertyDescriptor,Fs=(a,s,l,p)=>{for(var d=p>1?void 0:p?jV(s,l):s,m=a.length-1,y;m>=0;m--)(y=a[m])&&(d=(p?y(s,l,d):y(d))||d);return p&&d&&OV(s,l,d),d};let pa=class extends yn{constructor(){super(...arguments),this.type="normal",this.checked=!1,this.submenu=null,this.focusable=!0,this.isFocused=!1,this.onFocusIn=()=>{this.isFocused=!0},this.onFocusOut=()=>{this.isFocused=!1}}get tabindex(){var a;return this.focusable&&((a=this.playerState)!=null&&a.disableKeyboardEvents||this.isFocused)?0:-1}render(){return ft`
      <div
        class=${it({"menu-item":!0,"menu-item-checked":this.checked,"menu-item-radio":this.type==="radio","menu-item-has-submenu":!!this.submenu&&!this.isBackButton(),"menu-item-back-button":this.isBackButton()})}
      >
        <div class="menu-item-check-mark" aria-hidden="true">
          ${rn(UV)}
        </div>

        <div class="menu-item-chevron-left" aria-hidden="true">
          ${this.playerState.dir==="ltr"?rn(ax):rn(ox)}
        </div>

        <slot name="prefix"></slot>

        <slot></slot>

        <slot name="suffix"></slot>

        <div class="menu-item-chevron" aria-hidden="true">
          ${this.playerState.dir==="ltr"?rn(ox):rn(ax)}
        </div>
      </div>
    `}connectedCallback(){super.connectedCallback(),this.addEventListener("focusin",this.onFocusIn),this.addEventListener("focusout",this.onFocusOut)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("focusin",this.onFocusIn),this.removeEventListener("focusout",this.onFocusOut)}isBackButton(){return this.submenu===Gi}updated(a){(a.has("type")||a.has("checked"))&&this.updateAriaAttributes(),a.has("isFocused")&&this.requestUpdate("tabindex")}updateAriaAttributes(){this.setAttribute("role",this.type==="radio"?"menuitemradio":"menuitem"),this.type==="radio"?this.setAttribute("aria-checked",this.checked?"true":"false"):this.removeAttribute("aria-checked")}static isMenuItem(a){return a instanceof HTMLElement&&a.tagName.toLowerCase()==="ump-menu-item"}};pa.styles=[xn`
.menu-item{display:flex;align-items:center;justify-content:flex-start;gap:var(--spacing-s);margin:0;box-sizing:border-box;padding:var(--spacing-s) var(--spacing-xs);border-radius:var(--border-radius-medium);color:var(--color-neutral-foreground-1);font-weight:var(--font-weight-regular);line-height:var(--line-height-base-300);transition-duration:var(--duration-faster);transition-property:background,color;transition-timing-function:var(--curve-easy-ease);cursor:pointer;-webkit-user-select:none;user-select:none;background-color:transparent}.menu-item-check-mark{stroke:currentcolor;justify-content:center;align-items:center;display:none;visibility:hidden}.menu-item-radio .menu-item-check-mark{display:flex}.menu-item-checked .menu-item-check-mark{visibility:visible}.menu-item-chevron{stroke:currentcolor;visibility:hidden;display:flex;justify-content:center;align-items:center}.menu-item-has-submenu .menu-item-chevron{visibility:visible}.menu-item-chevron-left{display:none;justify-content:center;align-items:center;stroke:currentcolor}.menu-item-back-button .menu-item-chevron-left{display:flex}slot:not([name]){display:flex;align-items:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;gap:var(--spacing-s);flex-grow:1}slot[name='prefix']{flex:0 0 auto;display:flex;align-items:center;stroke:currentcolor}slot[name='prefix']::slotted(*){display:contents}slot[name='suffix']{flex:0 0 auto;display:flex;align-items:center;stroke:currentcolor}:host(:hover) .menu-item{background-color:var(--color-white-alpha-10);color:var(--color-neutral-foreground-2-hover)}:host(:active) .menu-item{background-color:var(--color-white-alpha-5);color:var(--color-neutral-foreground-2-pressed)}:host(.focus-always:focus) .menu-item,:host(.focus-default:focus-visible) .menu-item{outline:var(--stroke-width-thick) solid var(--color-stroke-focus-2);border:none}:host(.cc-style-menu-item:hover) .menu-item,:host(.cc-style-menu-item:active) .menu-item{background-color:initial}@media (forced-colors:active){.menu-item{forced-color-adjust:none;color:ButtonText}:host(:hover) .menu-item{background-color:Highlight;color:HighlightText}:host(.focus-default:focus-visible) .menu-item,:host(.cc-style-menu-item:active) .menu-item{outline:var(--stroke-width-thick) solid Highlight}:host(.cc-style-menu-item:hover) .menu-item,:host(.cc-style-menu-item:active) .menu-item{color:ButtonText}}
    `],Fs([er({attribute:!0})],pa.prototype,"type",2),Fs([er({attribute:!0,type:Boolean,reflect:!0})],pa.prototype,"checked",2),Fs([er({attribute:!0,type:String})],pa.prototype,"submenu",2),Fs([gr({context:mr,subscribe:!0})],pa.prototype,"playerState",2),Fs([er({type:Boolean})],pa.prototype,"focusable",2),Fs([er({type:Number,reflect:!0})],pa.prototype,"tabindex",1),Fs([er({type:Boolean})],pa.prototype,"isFocused",2),pa=Fs([zn("ump-menu-item")],pa);var FV=Object.defineProperty,BV=Object.getOwnPropertyDescriptor,$M=(a,s,l,p)=>{for(var d=p>1?void 0:p?BV(s,l):s,m=a.length-1,y;m>=0;m--)(y=a[m])&&(d=(p?y(s,l,d):y(d))||d);return p&&d&&FV(s,l,d),d};let iv=class extends yn{render(){return this.isActive()?ft`<slot></slot>`:null}getMenuItems(){return Array.from(this.querySelectorAll('[role="menuitemradio"],[role="menuitem"]'))}isActive(){return!this.menuContext.history.length&&!this.id?!0:this.menuContext.history[this.menuContext.history.length-1]===this.id}};$M([gr({context:zM,subscribe:!0}),K0()],iv.prototype,"menuContext",2),iv=$M([zn("ump-submenu")],iv);var VV=Object.defineProperty,zV=Object.getOwnPropertyDescriptor,$h=(a,s,l,p)=>{for(var d=p>1?void 0:p?zV(s,l):s,m=a.length-1,y;m>=0;m--)(y=a[m])&&(d=(p?y(s,l,d):y(d))||d);return p&&d&&VV(s,l,d),d};let Bs=class extends yn{constructor(){super(...arguments),this.role="menu",this.menuContext={history:[]}}render(){return ft`<slot
      @click=${this.onClick}
      @keydown=${this.onKeyDown}
      data-scrollable
    ></slot>`}async onClick(a){const s=Bs.findSubmenuId(a.composedPath());s&&(a.stopPropagation(),s===Gi?this.pop():this.push(s),await this.updateComplete,this.focusFirstItem())}onKeyDown(a){if(!this.playerState.disableKeyboardEvents){if(a.key===" "||a.key==="Enter"){const s=this.getActiveItem();s&&(a.preventDefault(),a.stopPropagation(),s.click())}else if(a.key==="ArrowDown"||a.key==="ArrowUp"||a.key==="Home"||a.key==="End"){a.preventDefault(),a.stopPropagation();const s=this.getMenuItems();let l=s.findIndex(p=>p.tabIndex===0);a.key==="ArrowDown"?l+=1:a.key==="ArrowUp"?l-=1:a.key==="Home"?l=0:a.key==="End"&&(l=s.length-1),l>=s.length&&(l=0),l<0&&(l=s.length-1),this.setActiveIndex(l)}}}focusFirstItem(){this.setActiveIndex(0)}focusLastItem(){this.setActiveIndex(this.getMenuItems().length-1)}setActiveIndex(a){var s;(s=this.getMenuItems()[a])==null||s.focus()}getMenuItems(){const a=this.defaultSlot.assignedElements({flatten:!0}).filter(l=>pa.isMenuItem(l));if(a.length)return a;const s=this.defaultSlot.assignedElements({flatten:!0}).find(l=>l instanceof iv&&l.isActive());return s?.getMenuItems()??[]}getActiveItem(){return this.getMenuItems().find(a=>a.tabIndex===0)}pop(){this.menuContext={...this.menuContext,history:this.menuContext.history.slice(0,-1)}}push(a){this.menuContext={...this.menuContext,history:[...this.menuContext.history,a]}}clearHistory(){this.menuContext={...this.menuContext,history:[]}}static findSubmenuId(a){for(const s of a)if(s instanceof HTMLElement){const l=s.getAttribute("submenu");if(l)return l}}};Bs.styles=[xn`
:host{border-radius:var(--border-radius-x-large);overflow:hidden}slot{display:flex;flex-direction:column;overflow:hidden auto;border:none;padding:var(--spacing-s);background-color:var(--color-grey-10-alpha-90);box-shadow:var(--shadow-4)}@container universalmediaplayer (min-width:0){slot{max-height:calc(100cqh - var(--ump-lower-controls-height))}}@media (forced-colors:active){slot{background-color:var(--color-grey-10)}}
    `],$h([gr({context:mr,subscribe:!0})],Bs.prototype,"playerState",2),$h([er({reflect:!0})],Bs.prototype,"role",2),$h([On("slot")],Bs.prototype,"defaultSlot",2),$h([qF({context:zM}),K0()],Bs.prototype,"menuContext",2),Bs=$h([zn("ump-menu")],Bs);var $V=Object.defineProperty,HV=Object.getOwnPropertyDescriptor,qV=(a,s,l,p)=>{for(var d=p>1?void 0:p?HV(s,l):s,m=a.length-1,y;m>=0;m--)(y=a[m])&&(d=(p?y(s,l,d):y(d))||d);return p&&d&&$V(s,l,d),d};let px=class extends yn{render(){return ft` <slot class="footer-button" name="suffix"></slot> `}};px.styles=xn`
:host{display:flex;justify-content:flex-end;padding:var(--spacing-s);gap:var(--spacing-s)}:host(:focus),:host(:focus-visible){outline:none}.footer-button{display:inline-flex;border-radius:var(--border-radius-medium)}.footer-button:hover{background-color:var(--color-neutral-background-1-hover);border-color:transparent;color:var(--color-neutral-foreground-1-hover)}:host(:focus) .footer-button,:host(:focus-visible) .footer-button{outline:var(--stroke-width-thick) solid var(--color-stroke-focus-2);outline-offset:calc(var(--stroke-width-thick) * -1);border:none}@media (forced-colors:active){.footer-button{forced-color-adjust:none}}
  `,px=qV([zn("ump-menu-footer")],px);var GV=Object.defineProperty,KV=Object.getOwnPropertyDescriptor,WV=(a,s,l,p)=>{for(var d=p>1?void 0:p?KV(s,l):s,m=a.length-1,y;m>=0;m--)(y=a[m])&&(d=(p?y(s,l,d):y(d))||d);return p&&d&&GV(s,l,d),d};let hx=class extends yn{render(){return ft`
      <slot class="prefix-slot" name="prefix"></slot>
      <slot class="default-slot"></slot>
      <slot class="suffix-slot" name="suffix"></slot>
    `}};hx.styles=xn`
:host{display:flex;padding:var(--spacing-s);gap:var(--spacing-s)}.default-slot{flex-grow:1;display:flex;align-items:center;justify-content:flex-start;margin:0;box-sizing:border-box;border-radius:var(--border-radius-medium);color:var(--color-neutral-foreground-1);font-weight:var(--font-weight-semibold);line-height:var(--line-height-base-300);-webkit-user-select:none;user-select:none;background-color:transparent}@media (forced-colors:active){.default-slot{color:ButtonText}}
  `,hx=WV([zn("ump-menu-label")],hx);const XV='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.5 17a.5.5 0 0 1 .09 1H4.5a.5.5 0 0 1-.09-1H15.5ZM10 2a.5.5 0 0 1 .5.41V14.3l3.64-3.65a.5.5 0 0 1 .64-.06l.07.06c.17.17.2.44.06.63l-.06.07-4.5 4.5a.5.5 0 0 1-.25.14L10 16a.5.5 0 0 1-.4-.2l-4.46-4.45a.5.5 0 0 1 .64-.76l.07.06 3.65 3.64V2.5c0-.27.22-.5.5-.5Z"/></svg>',YV='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.25 10a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0Zm5 0a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0ZM15 11.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z"/></svg>',ZV='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.35 2.15a.5.5 0 0 0-.7 0l-4.5 4.5a.5.5 0 1 0 .7.7L9.5 3.71v8.79a.5.5 0 0 0 1 0V3.7l3.65 3.65a.5.5 0 0 0 .7-.7l-4.5-4.5ZM4 9.5a.5.5 0 0 0-1 0V14a3 3 0 0 0 3 3h8a3 3 0 0 0 3-3V9.5a.5.5 0 0 0-1 0V14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9.5Z"/></svg>';var QV=Object.defineProperty,JV=Object.getOwnPropertyDescriptor,fx=(a,s,l,p)=>{for(var d=p>1?void 0:p?JV(s,l):s,m=a.length-1,y;m>=0;m--)(y=a[m])&&(d=(p?y(s,l,d):y(d))||d);return p&&d&&QV(s,l,d),d};let Hh=class extends yn{render(){const{downloadableVideoFiles:a,downloadableTranscriptFiles:s,shareOptions:l}=this.playerState,p=s.length===0&&a.length===0;return p&&l.length===0?null:ft`
      <ump-popup popupAriaLabel="${me("More")}">
        <button
          type="button"
          slot="trigger"
          class=${it({btn:!0,"btn-subtle":!0,"btn-icon-only":!0,...dt(this.playerState),tooltip:!0,"tooltip-disable-when-aria-expanded":!0})}
          data-tooltip="${me("More")}"
          aria-label="${me("More")}"
          data-id="more-menu-button"
          data-testid="more-menu-button"
        >
          ${rn(YV)}
        </button>

        <ump-menu data-focusgroup>
          <!-- DEFAULT MENU -->
          <ump-submenu>
            ${!p&&this.playerState.showDownloadMenu?ft`
                  <ump-menu-item
                    class=${it({...dt(this.playerState)})}
                    submenu="download"
                    data-testid="download-menu-item"
                  >
                    <span slot="prefix">${rn(XV)}</span>
                    ${me("Download")}
                  </ump-menu-item>
                `:null}
            ${l.length>0?ft`
                  <ump-menu-item
                    class=${it({...dt(this.playerState)})}
                    @click=${this.onShareClicked}
                    data-testid="share-menu-item"
                  >
                    <span slot="prefix">${rn(ZV)}</span>
                    ${me("Share")}
                  </ump-menu-item>
                `:null}
          </ump-submenu>

          <ump-submenu id="download">
            <ump-menu-item
              class=${it({...dt(this.playerState)})}
              submenu="${Gi}"
              >${me("Download")}</ump-menu-item
            >

            <hr aria-hidden="true" />

            ${a.length>0?ft`<ump-menu-item
                  class=${it({...dt(this.playerState)})}
                  submenu="download-video"
                >
                  ${me("Video")}
                </ump-menu-item>`:null}
            ${s.length>0?ft`<ump-menu-item
                  class=${it({...dt(this.playerState)})}
                  submenu="download-transcript"
                >
                  ${me("Transcript")}
                </ump-menu-item>`:null}
          </ump-submenu>

          <ump-submenu id="download-video">
            <ump-menu-item
              class=${it({...dt(this.playerState)})}
              submenu="${Gi}"
              >${me("Download Video")}</ump-menu-item
            >

            <hr aria-hidden="true" />

            ${a.map(d=>ft` <ump-menu-item
                  class=${it({...dt(this.playerState)})}
                  @click=${this.onDownloadClicked(d)}
                >
                  ${d.locale}
                </ump-menu-item>`)}
          </ump-submenu>

          <ump-submenu id="download-transcript">
            <ump-menu-item
              class=${it({...dt(this.playerState)})}
              submenu="${Gi}"
              >${me("Download Transcript")}</ump-menu-item
            >

            <hr aria-hidden="true" />

            ${s.map(d=>ft`<ump-menu-item
                  class=${it({...dt(this.playerState)})}
                  @click=${this.onDownloadClicked(d)}
                  >${d.locale}</ump-menu-item
                >`)}
          </ump-submenu>
        </ump-menu>
      </ump-popup>
    `}onShareClicked(){this.dispatchEvent(new Et("share-clicked"))}onDownloadClicked(a){return()=>{this.dispatchEvent(new Et("download-file-clicked",a))}}get opened(){var a;return(a=this.popup)==null?void 0:a.opened}};Hh.styles=[Ja,J0,td,xn`
.btn.tooltip{--tooltip-gap:var(--spacing-xxxl)}ump-popup{--ump-popup-spacing:var(--spacing-xxxl)}ump-menu{width:var(--size-64);display:block}
    `],fx([On("ump-popup")],Hh.prototype,"popup",2),fx([gr({context:mr,subscribe:!0})],Hh.prototype,"playerState",2),Hh=fx([zn("ump-more-menu")],Hh);var ez=Object.defineProperty,tz=Object.getOwnPropertyDescriptor,Ku=(a,s,l,p)=>{for(var d=p>1?void 0:p?tz(s,l):s,m=a.length-1,y;m>=0;m--)(y=a[m])&&(d=(p?y(s,l,d):y(d))||d);return p&&d&&ez(s,l,d),d};let Go=class extends yn{constructor(){super(...arguments),this._opened=!1,this.popupAriaLabel="",this.documentMouseDown=a=>{a.composedPath().includes(this)||this.close()},this.documentKeyDown=a=>{!a.composedPath().includes(this)&&(a.key===" "||a.key==="Enter")&&this.close()}}render(){return ft`
      <div class="popup-container" @click=${this.onClick}>
        <slot
          name="trigger"
          @click=${this.onClicked}
          @keydown=${this.onKeyDown}
          @slotchange=${this.onSlotChanged}
        ></slot>

        <dialog
          class=${it({"ump-rtl":this.playerState.dir==="rtl"})}
          .open=${this._opened}
          aria-hidden="${this._opened?"false":"true"}"
          aria-label="${this.popupAriaLabel}"
          @keydown=${this.dialogKeyDown}
          @close=${this.close}
        >
          <slot class="popup-panel"></slot>
        </dialog>
      </div>
    `}show(){this._opened=!0,this.updateAccessibleTrigger(),document.addEventListener("mousedown",this.documentMouseDown),document.addEventListener("keydown",this.documentKeyDown),this.dispatchEvent(new Et("ump-popup-changed"))}close(){var a;this.dialog.close(),this._opened=!1,this.updateAccessibleTrigger(),document.removeEventListener("mousedown",this.documentMouseDown),document.removeEventListener("keydown",this.documentKeyDown),this.dispatchEvent(new Et("ump-popup-changed")),(a=this.getMenu())==null||a.clearHistory()}get opened(){return this._opened}updateAccessibleTrigger(){const a=this.getTriggerElement();a.setAttribute("aria-haspopup","true"),a.setAttribute("aria-expanded",this._opened?"true":"false")}focusTrigger(){this.getTriggerElement().focus()}getTriggerElement(){return this.trigger.assignedElements({flatten:!0})[0]}getMenu(){return this.popupPanel.assignedElements({flatten:!0}).find(a=>a.tagName.toLowerCase()==="ump-menu")}onClick(a){a.composedPath().find(s=>pa.isMenuItem(s))&&this.close()}onClicked(){this._opened?this.close():this.show()}onSlotChanged(){this.updateAccessibleTrigger()}async onKeyDown(a){if(!this.playerState.disableKeyboardEvents)if(a.key==="ArrowDown"||a.key==="ArrowUp"||a.key==="Home"||a.key==="End"){a.preventDefault(),this._opened||(this.show(),await this.updateComplete);const s=this.getMenu();if(!s)return;a.key==="ArrowUp"||a.key==="End"?s.focusLastItem():s.focusFirstItem()}else a.key==="Escape"&&(this.focusTrigger(),this.close())}dialogKeyDown(a){this.playerState.disableKeyboardEvents||(a.key==="Escape"||a.key==="Tab")&&this._opened&&(a.preventDefault(),this.close(),this.focusTrigger())}};Go.styles=xn`
:host{--ump-popup-spacing:var(--spacing-s)}.popup-container{position:relative}dialog{display:none;padding:0;border:none;outline:none;background-color:transparent;position:absolute;left:100%;bottom:100%;transform:translateX(-100%);margin-bottom:var(--ump-popup-spacing)}dialog.ump-rtl{transform:translateX(calc(100% - var(--spacing-xxxxl)))}dialog[open]{display:block}@container universalmediaplayer (max-width:450px){.popup-container{position:unset}dialog{bottom:15cqh;left:98cqw}}
  `,Ku([On("dialog")],Go.prototype,"dialog",2),Ku([gr({context:mr,subscribe:!0})],Go.prototype,"playerState",2),Ku([K0()],Go.prototype,"_opened",2),Ku([er({type:String})],Go.prototype,"popupAriaLabel",2),Ku([On('slot[name="trigger"]')],Go.prototype,"trigger",2),Ku([On(".popup-panel")],Go.prototype,"popupPanel",2),Go=Ku([zn("ump-popup")],Go);const nz='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2c-.53 0-1.06.05-1.56.15a.5.5 0 0 0 .2.98 7.04 7.04 0 0 1 2.73 0 .5.5 0 0 0 .2-.98C11.05 2.05 10.52 2 10 2Zm4.45 1.35a.5.5 0 0 0-.56.83 7.04 7.04 0 0 1 1.93 1.93.5.5 0 1 0 .83-.56 8.04 8.04 0 0 0-2.2-2.2Zm-8.34.83a.5.5 0 1 0-.56-.83 8.04 8.04 0 0 0-2.2 2.2.5.5 0 1 0 .83.56A7.04 7.04 0 0 1 6.1 4.18ZM3.13 8.63a.5.5 0 0 0-.98-.2 8.04 8.04 0 0 0 0 3.13.5.5 0 0 0 .98-.2 7.04 7.04 0 0 1 0-2.73Zm14.72-.2a.5.5 0 1 0-.98.2 7.04 7.04 0 0 1 0 2.74.5.5 0 1 0 .98.2 8.03 8.03 0 0 0 0-3.13ZM4.18 13.9a.5.5 0 1 0-.83.56 8.04 8.04 0 0 0 2.2 2.2.5.5 0 1 0 .56-.83 7.04 7.04 0 0 1-1.93-1.93Zm12.47.56a.5.5 0 0 0-.83-.56 7.04 7.04 0 0 1-1.93 1.93.5.5 0 1 0 .56.83 8.04 8.04 0 0 0 2.2-2.2Zm-8.02 2.42a.5.5 0 1 0-.2.98 8.03 8.03 0 0 0 3.13 0 .5.5 0 0 0-.2-.98 7.04 7.04 0 0 1-2.73 0ZM8 7.83c0-.57.63-.94 1.13-.65l4.12 2.39a.5.5 0 0 1 0 .86l-4.12 2.39A.75.75 0 0 1 8 12.17V7.83Z"/></svg>',rz='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.5 3H6a3 3 0 0 0-3 3v.5a.5.5 0 0 0 1 0V6c0-1.1.9-2 2-2h2.5a.5.5 0 0 0 0-1ZM5.8 15.99A2 2 0 0 1 4 14v-3c0-1.1.9-2 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H6l-.2-.01ZM3 14a3 3 0 0 0 3 3h3a3 3 0 0 0 3-3v-3a3 3 0 0 0-3-3H6a3 3 0 0 0-3 3v3Zm10.5 3a.5.5 0 0 1 0-1h.5a2 2 0 0 0 2-2v-2.5a.5.5 0 0 1 1 0V14a3 3 0 0 1-3 3h-.5ZM17 8.5a.5.5 0 0 1-1 0V6a2 2 0 0 0-2-2h-2.5a.5.5 0 0 1 0-1H14a3 3 0 0 1 3 3v2.5Z"/></svg>',iz='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.91 7.38A8.5 8.5 0 0 1 3.7 4.3a.5.5 0 0 1 .54-.13l1.92.68a1 1 0 0 0 1.32-.76l.36-2a.5.5 0 0 1 .4-.4 8.53 8.53 0 0 1 3.55 0c.2.04.35.2.38.4l.37 2a1 1 0 0 0 1.32.76l1.92-.68a.5.5 0 0 1 .54.13 8.5 8.5 0 0 1 1.78 3.08c.06.2 0 .4-.15.54l-1.56 1.32a1 1 0 0 0 0 1.52l1.56 1.32a.5.5 0 0 1 .15.54 8.5 8.5 0 0 1-1.78 3.08.5.5 0 0 1-.54.13l-1.92-.68a1 1 0 0 0-1.32.76l-.37 2a.5.5 0 0 1-.38.4 8.53 8.53 0 0 1-3.56 0 .5.5 0 0 1-.39-.4l-.36-2a1 1 0 0 0-1.32-.76l-1.92.68a.5.5 0 0 1-.54-.13 8.5 8.5 0 0 1-1.78-3.08.5.5 0 0 1 .15-.54l1.56-1.32a1 1 0 0 0 0-1.52L2.06 7.92a.5.5 0 0 1-.15-.54ZM8 10a2 2 0 1 0 4 0 2 2 0 0 0-4 0Z"/></svg>',az='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.91 7.38A8.5 8.5 0 0 1 3.7 4.3a.5.5 0 0 1 .54-.13l1.92.68a1 1 0 0 0 1.32-.76l.36-2a.5.5 0 0 1 .4-.4 8.53 8.53 0 0 1 3.55 0c.2.04.35.2.38.4l.37 2a1 1 0 0 0 1.32.76l1.92-.68a.5.5 0 0 1 .54.13 8.5 8.5 0 0 1 1.78 3.08c.06.2 0 .4-.15.54l-1.56 1.32a1 1 0 0 0 0 1.52l1.56 1.32a.5.5 0 0 1 .15.54 8.5 8.5 0 0 1-1.78 3.08.5.5 0 0 1-.54.13l-1.92-.68a1 1 0 0 0-1.32.76l-.37 2a.5.5 0 0 1-.38.4 8.53 8.53 0 0 1-3.56 0 .5.5 0 0 1-.39-.4l-.36-2a1 1 0 0 0-1.32-.76l-1.92.68a.5.5 0 0 1-.54-.13 8.5 8.5 0 0 1-1.78-3.08.5.5 0 0 1 .15-.54l1.56-1.32a1 1 0 0 0 0-1.52L2.06 7.92a.5.5 0 0 1-.15-.54Zm1.06 0 1.3 1.1a2 2 0 0 1 0 3.04l-1.3 1.1c.3.79.72 1.51 1.25 2.16l1.6-.58a2 2 0 0 1 2.63 1.53l.3 1.67a7.56 7.56 0 0 0 2.5 0l.3-1.67a2 2 0 0 1 2.64-1.53l1.6.58a7.5 7.5 0 0 0 1.24-2.16l-1.3-1.1a2 2 0 0 1 0-3.04l1.3-1.1a7.5 7.5 0 0 0-1.25-2.16l-1.6.58a2 2 0 0 1-2.63-1.53l-.3-1.67a7.55 7.55 0 0 0-2.5 0l-.3 1.67A2 2 0 0 1 5.81 5.8l-1.6-.58a7.5 7.5 0 0 0-1.24 2.16ZM7.5 10a2.5 2.5 0 1 1 5 0 2.5 2.5 0 0 1-5 0Zm1 0a1.5 1.5 0 1 0 3 0 1.5 1.5 0 0 0-3 0Z"/></svg>';var oz=Object.defineProperty,sz=Object.getOwnPropertyDescriptor,gx=(a,s,l,p)=>{for(var d=p>1?void 0:p?sz(s,l):s,m=a.length-1,y;m>=0;m--)(y=a[m])&&(d=(p?y(s,l,d):y(d))||d);return p&&d&&oz(s,l,d),d};let qh=class extends yn{render(){var a,s;let l,p;for(const m of this.playerState.videoQualities)m.videoId===this.playerState.activeVideoQualityId&&(l=m),m.videoId===this.playerState.selectedVideoQualityId&&(p=m);const d=(a=this.playerState.playbackRates.find(m=>m.value===this.playerState.playbackRate))==null?void 0:a.label;return this.playerState.playbackRates.length<2&&this.playerState.videoQualities.length<2?null:ft`
      <ump-popup
        popupAriaLabel="${me("Settings")}"
        @ump-popup-changed=${()=>this.requestUpdate()}
      >
        <button
          type="button"
          slot="trigger"
          class=${it({btn:!0,"btn-subtle":!0,"btn-icon-only":!0,...dt(this.playerState),tooltip:!0,"tooltip-disable-when-aria-expanded":!0})}
          data-tooltip="${me("Settings")}"
          aria-label="${me("Settings")}"
          data-testid="settings-menu-button"
        >
          ${(s=this.popup)!=null&&s.opened?rn(iz):rn(az)}
        </button>

        <ump-menu data-focusgroup>
          <!-- DEFAULT MENU -->
          <ump-submenu>
            ${this.playerState.playbackRates.length>=2?ft`
                  <ump-menu-item
                    class=${it({...dt(this.playerState)})}
                    submenu="playbackRate"
                  >
                    <span slot="prefix">${rn(nz)}</span>
                    ${me("Playback rate")}

                    <span slot="suffix">${d}</span>
                  </ump-menu-item>
                `:null}
            ${this.playerState.showQualityMenu&&this.playerState.videoQualities.length>=2?ft`
                  <ump-menu-item
                    class=${it({...dt(this.playerState)})}
                    submenu="quality"
                  >
                    <span slot="prefix">${rn(rz)}</span>
                    ${me("Quality")}
                    <span slot="suffix"
                      ><span class="quality-label"
                        >${p?.label}</span
                      >
                      ${l&&p?.videoId===Oh.videoId?ft`<span>${l.label}</span>`:null}
                    </span>
                  </ump-menu-item>
                `:null}
          </ump-submenu>

          <!-- PLAYBACK RATE SUBMENU -->
          <ump-submenu id="playbackRate">
            <ump-menu-item
              class=${it({...dt(this.playerState)})}
              submenu="${Gi}"
              >${me("Playback rate")}</ump-menu-item
            >

            <hr aria-hidden="true" />

            ${this.playerState.playbackRates.map(m=>ft`
                <ump-menu-item
                  class=${it({...dt(this.playerState)})}
                  type="radio"
                  @click=${this.playbackRateClicked(m.value)}
                  .checked=${m.value===this.playerState.playbackRate}
                >
                  ${m.label}
                </ump-menu-item>
              `)}
          </ump-submenu>

          <!-- QUALITY SUBMENU -->
          <ump-submenu id="quality">
            <ump-menu-item
              class=${it({...dt(this.playerState)})}
              submenu="${Gi}"
              >${me("Quality")}</ump-menu-item
            >

            <hr aria-hidden="true" />

            ${this.playerState.videoQualities.map(m=>ft`
                <ump-menu-item
                  class=${it({...dt(this.playerState)})}
                  type="radio"
                  .checked=${m.videoId===this.playerState.selectedVideoQualityId}
                  @click=${this.onQualitySelected(m)}
                >
                  ${m.label}
                </ump-menu-item>
              `)}
          </ump-submenu>
        </ump-menu>
      </ump-popup>
    `}onQualitySelected(a){return()=>{this.dispatchEvent(new Et("video-quality-clicked",a)),this.dispatchEvent(new Et("videoqualitychanged"))}}playbackRateClicked(a){return()=>{this.dispatchEvent(new Et("playback-rate-clicked",a))}}get opened(){var a;return(a=this.popup)==null?void 0:a.opened}};qh.styles=[Ja,J0,td,xn`
.btn.tooltip{--tooltip-gap:var(--spacing-xxxl)}ump-popup{--ump-popup-spacing:var(--spacing-xxxl)}ump-menu{width:var(--size-64);display:block}.quality-label{font-weight:var(--font-weight-semibold)}
    `],gx([On("ump-popup")],qh.prototype,"popup",2),gx([gr({context:mr,subscribe:!0})],qh.prototype,"playerState",2),qh=gx([zn("ump-settings-menu")],qh);function mx(a,s,l){return(l-a)/(s-a)}var uz=Object.defineProperty,lz=Object.getOwnPropertyDescriptor,ha=(a,s,l,p)=>{for(var d=p>1?void 0:p?lz(s,l):s,m=a.length-1,y;m>=0;m--)(y=a[m])&&(d=(p?y(s,l,d):y(d))||d);return p&&d&&uz(s,l,d),d};let Ei=class extends yn{constructor(){super(...arguments),this.min=0,this.max=1,this.value=0,this.step=.005,this.focusStep=1,this.orientation="horizontal",this.sliderarialabel="",this.sliderAriaValueText="",this.ranges=[],this.onInputChange=a=>{this.value=Number(a.target.value)},this.onInputFocusIn=a=>{const s=a.target;s.matches(":focus-visible")&&(s.step=this.focusStep.toString())},this.onInputFocusOut=a=>{const s=a.target;s.step=this.step.toString()}}render(){return ft`
      <!-- Track -->
      <div aria-hidden="true" aria-busy="false" value="0" class="track"></div>

      <!-- Ranges -->
      ${this.ranges.map(a=>ft`
          <div
            data-testid="ump-slider-range"
            class="range"
            style="width: ${mx(this.min,this.max,a.end-a.start)*100}%; left: ${mx(this.min,this.max,a.start)*100}%"
          ></div>
        `)}

      <!-- Progress -->
      <div aria-hidden="true" aria-busy="false" class="progress"></div>

      <!-- Thumb -->
      <div class="thumb"></div>

      <!-- HTML Input Range -->
      <input
        class=${it({...dt(this.playerState),input:!0})}
        data-testid="ump-slider"
        type="range"
        min="${this.min}"
        max="${this.max}"
        step="${this.step}"
        aria-label="${this.sliderarialabel}"
        aria-live="polite"
        aria-orientation="${this.orientation}"
        aria-valuetext="${this.sliderAriaValueText}"
        @input=${this.onInputChange}
        @focusin=${this.onInputFocusIn}
        @focusout=${this.onInputFocusOut}
      />
    `}updated(a){a.has("value")&&(this.inputElement.value=this.value.toString()),(a.has("value")||a.has("min")||a.has("max"))&&this.updateSliderThumb()}updateSliderThumb(){const a=mx(this.min,this.max,this.value);this.style.setProperty("--ump-slide-percentage",`${a*100}%`)}};Ei.styles=[xn`
:host{--ump-slider-track-thickness:var(--size-1);--ump-slider-track-color:var(--color-white-alpha-40);--ump-slider-thumb-inline-size:var(--size-5);--ump-slider-thumb-block-size:var(--size-3);--ump-half-slider-thumb-inline-size:calc(var(--ump-slider-thumb-inline-size) / 2);--ump-half-slider-thumb-block-size:calc(var(--ump-slider-thumb-block-size) / 2);--ump-slider-thumb-color:var(--color-neutral-foreground-1);--ump-slider-progress-color:var(--color-neutral-foreground-1);--ump-slider-range-color:var(--color-white-alpha-30);--ump-slide-percentage:0%;--ump-slider-padding:var(--spacing-xs);position:relative;display:block;writing-mode:horizontal-tb;z-index:10}:host(:hover){--ump-slider-thumb-transform:scale(1);--ump-slider-track-thickness:var(--size-1-5)}:host([orientation='vertical']){writing-mode:vertical-lr;direction:rtl;-webkit-appearance:none;appearance:none}*{box-sizing:border-box;margin:0;padding:0}.input{-webkit-appearance:none;appearance:none;background:transparent;display:block;cursor:pointer;border-radius:var(--border-radius-medium);color:var(--color-neutral-foreground-1);padding-block:var(--ump-slider-padding);position:absolute;inset:0}.input::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;block-size:var(--ump-slider-thumb-block-size);inline-size:var(--ump-slider-thumb-inline-size);border-radius:var(--border-radius-circular);background-color:transparent}.input::-moz-range-thumb{appearance:none;background-color:transparent;border:none;block-size:var(--ump-slider-thumb-block-size);inline-size:var(--ump-slider-thumb-inline-size)}.input.focus-always:focus,.input.focus-default:focus-visible{outline:var(--stroke-width-thick) solid var(--color-stroke-focus-2)}.thumb{pointer-events:none;position:absolute;inset:0;display:grid;align-items:center;margin-inline:var(--ump-half-slider-thumb-inline-size) var(--ump-half-slider-thumb-inline-size)}.thumb::after{position:absolute;z-index:50;inline-size:var(--ump-slider-thumb-inline-size);block-size:var(--ump-slider-thumb-block-size);margin-inline-start:calc(var(--ump-slide-percentage) - var(--ump-half-slider-thumb-inline-size));margin-block-start:self-block;background-color:var(--ump-slider-thumb-color);border-radius:var(--border-radius-circular);transform:var(--ump-slider-thumb-transform);display:block;transition:transform var(--duration-faster) var(--curve-easy-ease);transform-origin:center;content:''}.track{z-index:10;position:absolute;inset:0;overflow:hidden;pointer-events:none;display:flex;align-items:center}.track::before{content:'';background-color:var(--ump-slider-track-color);inline-size:100%;block-size:var(--ump-slider-track-thickness);position:absolute;border-radius:var(--border-radius-circular);transition:block-size var(--duration-faster) var(--curve-easy-ease)}.range{position:absolute;background-color:var(--ump-slider-range-color);height:var(--ump-slider-track-thickness);width:0;pointer-events:none;z-index:20;top:50%;transform:translateY(-50%);border-radius:var(--border-radius-circular);transition:height var(--duration-faster) var(--curve-easy-ease)}.progress{position:absolute;z-index:40;inset:0;display:flex;align-items:center;margin-inline:var(--ump-half-slider-thumb-inline-size);pointer-events:none}.progress::before{content:'';position:absolute;display:block;block-size:var(--ump-slider-track-thickness);inline-size:var(--ump-slide-percentage);background:var(--ump-slider-progress-color);transition:block-size var(--duration-faster) var(--curve-easy-ease)}.progress::after{content:'';position:absolute;display:block;block-size:var(--ump-slider-track-thickness);inline-size:var(--ump-half-slider-thumb-inline-size);margin-inline-start:calc(-1 * var(--ump-half-slider-thumb-inline-size));border-start-start-radius:var(--border-radius-circular);border-end-start-radius:var(--border-radius-circular);background:var(--ump-slider-progress-color);transition:block-size var(--duration-faster) var(--curve-easy-ease)}@media (forced-colors:active){:host{--ump-slider-track-color:ButtonText;--ump-slider-progress-color:Highlight}.thumb::after{background:Highlight}}
    `],ha([er({type:Number,attribute:!0})],Ei.prototype,"min",2),ha([er({type:Number,attribute:!0})],Ei.prototype,"max",2),ha([er({type:Number,attribute:!0,reflect:!0})],Ei.prototype,"value",2),ha([er({type:Number,attribute:!0})],Ei.prototype,"step",2),ha([er({type:Number,attribute:!0})],Ei.prototype,"focusStep",2),ha([er({type:String,attribute:!0})],Ei.prototype,"orientation",2),ha([er({type:String,attribute:!0})],Ei.prototype,"sliderarialabel",2),ha([er({type:String,attribute:!0})],Ei.prototype,"sliderAriaValueText",2),ha([er({type:Array})],Ei.prototype,"ranges",2),ha([On("input")],Ei.prototype,"inputElement",2),ha([gr({context:mr,subscribe:!0})],Ei.prototype,"playerState",2),Ei=ha([zn("ump-slider")],Ei);var cz=Object.defineProperty,dz=Object.getOwnPropertyDescriptor,nd=(a,s,l,p)=>{for(var d=p>1?void 0:p?dz(s,l):s,m=a.length-1,y;m>=0;m--)(y=a[m])&&(d=(p?y(s,l,d):y(d))||d);return p&&d&&cz(s,l,d),d};let Ko=class extends yn{constructor(){super(...arguments),this.userActive=!0}render(){var a;return ft`<div
      class="controls-wrapper"
      data-testid="controls-wrapper"
      tabindex=${!this.playerState.disableKeyboardEvents&&this.playerState.controlsState!=="bigplaybutton"?"0":""}
      @keydown=${this.onControlsWrapperKeyDown}
    >
      <div
        class=${it({controls:!0,loading:this.playerState.loading,hidden:this.userActive===!1&&this.playerState.paused===!1&&(this.playerState.controlsState==="bigplaybutton"||((a=this.controlBar)==null?void 0:a.hasOpenControl)===!1)})}
        data-testid="controls"
        @pointermove=${this.onUserInteraction}
        @control-bar-focus-change=${this.onUserInteraction}
        @input=${this.onUserInteraction}
        @keydown=${this.onUserInteraction}
        @mousedown=${this.onControlsMouseDown}
        @touchstart=${this.onControlsTouchStart}
      >
        <div
          class=${it({overlay:!0,mask20:this.playerState.maskLevel===20,mask40:this.playerState.maskLevel===40,mask60:this.playerState.maskLevel===60,mask80:this.playerState.maskLevel===80,mask100:this.playerState.maskLevel===100})}
          data-testid="mask-level-overlay"
        ></div>
        ${this.renderControls()}
      </div>
    </div>`}renderControls(){if(this.playerState.controlsState==="bigplaybutton")return ft`<ump-big-play-button></ump-big-play-button>`;if(this.playerState.controlsState==="controlbar")return ft`<ump-control-bar></ump-control-bar>`}onUserInteraction(){this.userActive=!0,this.userInteractionTimeout&&clearTimeout(this.userInteractionTimeout),this.userInteractionTimeout=setTimeout(()=>{this.userActive=!1},UB)}onControlsMouseDown(a){a.target===this.controlsContainer&&a.button===0&&this.dispatchEvent(new Et("controls-triggered")),this.onUserInteraction()}onControlsTouchStart(a){a.target===this.controlsContainer&&(a.preventDefault(),a.stopPropagation(),this.userActive&&this.dispatchEvent(new Et("controls-triggered")),this.onUserInteraction())}onControlsWrapperKeyDown(a){this.playerState.disableKeyboardEvents||a.target!==this.controlsWrapper||(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),this.dispatchEvent(new Et("controls-triggered")))}disconnectedCallback(){super.disconnectedCallback(),this.userInteractionTimeout&&clearTimeout(this.userInteractionTimeout)}};Ko.shadowRootOptions={...yn.shadowRootOptions,delegatesFocus:!0},Ko.styles=xn`
.controls-wrapper{position:absolute;inset:0}.controls-wrapper:focus-visible{outline:none;box-shadow:inset 0 0 0 var(--stroke-width-thick) var(--color-stroke-focus-2);border-radius:var(--border-radius,0)}.controls{position:absolute;inset:0;opacity:1;visibility:visible}.controls.hidden{opacity:0;transition:opacity 1s ease-out;cursor:none}.overlay{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:-1}.overlay.mask20{background:var(--color-black-alpha-20)}.overlay.mask40{background:var(--color-black-alpha-40)}.overlay.mask60{background:var(--color-black-alpha-60)}.overlay.mask80{background:var(--color-black-alpha-80)}.overlay.mask100{background:var(--color-black)}ump-big-play-button{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.controls.loading ump-big-play-button{opacity:0}
  `,nd([On(".controls-wrapper")],Ko.prototype,"controlsWrapper",2),nd([On(".controls")],Ko.prototype,"controlsContainer",2),nd([On("ump-control-bar")],Ko.prototype,"controlBar",2),nd([gr({context:mr,subscribe:!0})],Ko.prototype,"playerState",2),nd([K0()],Ko.prototype,"userActive",2),Ko=nd([Xw(),zn("ump-controls")],Ko);function pz(a,s,l,p){return a.addEventListener(s,l,p),()=>a.removeEventListener(s,l)}function Gh(a){const s=[];return{addEventListener(l,p,d){const m=pz(a,l,p,d);s.push(m)},removeAllListeners(){s.forEach(l=>l())}}}function hz(a,s){return l=>{const p=Gh(a);p.addEventListener("big-play-button-triggered",I),p.addEventListener("play-button-clicked",D),p.addEventListener("volume-button-clicked",U),p.addEventListener("fullscreen-button-clicked",w),p.addEventListener("seekbar-updated",f),p.addEventListener("volume-updated",N),p.addEventListener("volume-drag-released",R),p.addEventListener("audio-track-clicked",F),p.addEventListener("video-quality-clicked",q),p.addEventListener("caption-track-clicked",ve),p.addEventListener("playback-rate-clicked",te),p.addEventListener("controls-triggered",Z),p.addEventListener("seekbar-pointer-down",y),p.addEventListener("seekbar-pointer-up",E),p.addEventListener("caption-font-size-clicked",pe),p.addEventListener("caption-text-color-clicked",Ee),p.addEventListener("caption-text-opacity-clicked",Se),p.addEventListener("caption-background-color-clicked",J),p.addEventListener("caption-background-opacity-clicked",_e),p.addEventListener("caption-font-family-clicked",xe),p.addEventListener("caption-text-edge-style-clicked",k),l.options.hideControls==null&&l.addEventListener("play",()=>{d("controlbar")},{once:!0}),l.options.autoplay||d("bigplaybutton"),l.options.hideControls==="controlbar"&&d("bigplaybutton"),l.options.hideControls==="all"&&d("none"),s.setValue({...s.value,playButtonSize:l.options.playButtonSize,playButtonTheme:l.options.playButtonTheme}),s.setValue({...s.value,maskLevel:l.options.maskLevel}),l.options.maskLevel!==0&&l.addEventListener("play",()=>{s.setValue({...s.value,maskLevel:0})},{once:!0});function d(se){s.setValue({...s.value,controlsState:se})}let m=!1;function y(){m=l.paused,l.pause()}function f(se){l.currentTime=se.detail}function E(){m||l.play()}function I(){var se,Re;if(s.setValue({...s.value,bigPlayButtonClicked:!0}),ne(),l.options.hideControls!=="all"&&l.options.hideControls!=="controlbar"){const z=a.renderRoot.querySelector("video");z&&z.setAttribute("tabindex","-1")}if(!s.value.disableKeyboardEvents&&l.options.hideControls!=="all"&&l.options.hideControls!=="controlbar"){const z=(Re=(se=a.renderRoot.querySelector("ump-controls"))==null?void 0:se.renderRoot)==null?void 0:Re.querySelector(".controls-wrapper");z&&(z.tabIndex=0,z.focus())}}function D(){ne()}function U(){l.muted=!l.muted}function N(se){l.volume=se.detail}function R(se){l.saveLastSelectedVolume(se.detail)}function w(){l.fullscreen?l.exitFullscreen():l.requestFullscreen(a)}function F(se){l.audioTrack=se.detail}function q(se){l.selectVideoQuality(se.detail)}function Z(){ne()}function ne(){l.ended?(l.dispatchEvent(new vn.util.FakeEvent("replay")),l.play()):l.paused?(l.currentTime===0&&l.dispatchEvent(new vn.util.FakeEvent("umpplay")),l.currentTime!==0&&l.dispatchEvent(new vn.util.FakeEvent("resume")),l.play()):(l.dispatchEvent(new vn.util.FakeEvent("umppause")),l.pause())}function ve(se){s.setValue({...s.value,captionSettings:{...s.value.captionSettings,enabled:se.detail.captionId!==-1}}),l.captionTrack=se.detail}function pe(se){s.setValue({...s.value,captionSettings:{...s.value.captionSettings,fontScale:se.detail}})}function Ee(se){s.setValue({...s.value,captionSettings:{...s.value.captionSettings,textColor:se.detail}})}function Se(se){s.setValue({...s.value,captionSettings:{...s.value.captionSettings,textOpacity:se.detail}})}function J(se){s.setValue({...s.value,captionSettings:{...s.value.captionSettings,backgroundColor:se.detail}})}function _e(se){s.setValue({...s.value,captionSettings:{...s.value.captionSettings,backgroundOpacity:se.detail}})}function xe(se){s.setValue({...s.value,captionSettings:{...s.value.captionSettings,fontFamily:se.detail}})}function k(se){s.setValue({...s.value,captionSettings:{...s.value.captionSettings,textShadow:se.detail}})}function te(se){l.playbackRate=se.detail}return()=>{p.removeAllListeners()}}}const fz=import.meta.url;/*! https://github.com/nevware21/ts-utils v0.11.4 */function Wo(a,s){return a||s}function Ai(a,s){return a[s]}var Ki=void 0,vr=null,vx="",av="function",Kh="object",Xo="prototype",yx="__proto__",Wu="undefined",ov="constructor",bx="Symbol",gz="_polyfill",rd="length",sv="name",Lr="call",uv="toString",Ra=Wo(Object),wx=Ai(Ra,Xo),HM=Wo(String),Xu=Ai(HM,Xo),mz=Wo(Math),qM=Wo(Array),lv=Ai(qM,Xo),Yo=Ai(lv,"slice");function Er(a,s){try{return{v:a.apply(this,s)}}catch(l){return{e:l}}}function vz(a,s){var l=Er(a);return l.e?s:l.v}var xx;function cv(a){return function(s){return typeof s===a}}function GM(a){var s="[object "+a+"]";return function(l){return!!(l&&yz(l)===s)}}function yz(a){return wx[uv].call(a)}function $n(a){return typeof a===Wu||a===Wu}function bz(a){return!Sx(a)}function Ce(a){return a===vr||$n(a)}function wz(a){return a===vr||!Sx(a)}function Sx(a){return!!a||a!==Ki}function xz(a){return!xx&&(xx=["string","number","boolean",Wu,"symbol","bigint"]),a!==Kh&&xx.indexOf(a)!==-1}var Tt=cv("string"),_t=cv(av);function Ci(a){return!a&&Ce(a)?!1:!!a&&typeof a===Kh}var qt=Ai(qM,"isArray"),Sz=GM("Date"),Wh=cv("number"),KM=cv("boolean"),Tx=GM("Error");function Zo(a){return!!(a&&a.then&&_t(a.then))}function dv(a){return!(!a||vz(function(){return!(a&&0+a)},!a))}var kx=Ai(Ra,"getOwnPropertyDescriptor");function fa(a,s){return!!a&&wx.hasOwnProperty[Lr](a,s)}var Vs=Wo(Ai(Ra,"hasOwn"),Tz);function Tz(a,s){return fa(a,s)||!!kx(a,s)}function Kt(a,s,l){if(a&&Ci(a)){for(var p in a)if(Vs(a,p)&&s[Lr](a,p,a[p])===-1)break}}var pv={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function kz(a){var s={};if(s[pv.c]=!0,s[pv.e]=!0,a.l){s.get=function(){return a.l.v};var l=kx(a.l,"v");l&&l.set&&(s.set=function(p){a.l.v=p})}return Kt(a,function(p,d){s[pv[p]]=bz(d)?s[pv[p]]:d}),s}var Qo=Ai(Ra,"defineProperty");function dn(a,s,l){return Qo(a,s,kz(l))}function WM(a,s,l,p,d){var m={};return Kt(a,function(y,f){hv(m,y,s?f:y,d),hv(m,f,y,d)}),p?p(m):m}function hv(a,s,l,p){Qo(a,s,{value:l,enumerable:!0,writable:!!p})}var Ii=Wo(HM),Ez="[object Error]";function Ze(a,s){var l=vx,p=wx[uv][Lr](a);p===Ez&&(a={stack:Ii(a.stack),message:Ii(a.message),name:Ii(a.name)});try{l=JSON.stringify(a,vr,s?typeof s=="number"?s:4:Ki),l=(l?l.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):vr)||Ii(a)}catch(d){l=" - "+Ze(d,s)}return p+": "+l}function Wi(a){throw new Error(a)}function Na(a){throw new TypeError(a)}var XM=Ai(Ra,"freeze");function Az(a){return a}function Cz(a){return a[yx]||vr}var Ex=Ai(Ra,"assign"),Jo=Ai(Ra,"keys");function id(a){return XM&&Kt(a,function(s,l){(qt(l)||Ci(l))&&id(l)}),es(a)}var es=Wo(XM,Az),Ax=Wo(Ai(Ra,"getPrototypeOf"),Cz);function Iz(a){return WM(a,1,0,es)}function Mz(a){return WM(a,0,0,es)}function _z(a){var s={};return Kt(a,function(l,p){hv(s,l,p[1]),hv(s,p[0],p[1])}),es(s)}function Pz(a){return _z(a)}var YM=Mz({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),ZM="__tsUtils$gblCfg",Cx;function QM(){var a;return typeof globalThis!==Wu&&(a=globalThis),!a&&typeof self!==Wu&&(a=self),!a&&typeof window!==Wu&&(a=window),!a&&typeof global!==Wu&&(a=global),a}function JM(){if(!Cx){var a=Er(QM).v||{};Cx=a[ZM]=a[ZM]||{}}return Cx}var Yu=fv;function fv(a,s,l){var p=s?s[a]:vr;return function(d){var m=(d?d[a]:vr)||p;if(m||l){var y=arguments;return(m||l).apply(d,m?Yo[Lr](y,1):y)}Na('"'+Ii(a)+'" not defined for '+Ze(d))}}function Dz(a){return function(s){return s[a]}}var Lz=Ai(mz,"max"),e_=Yu("slice",Xu),to=Yu("substring",Xu),zs=fv("substr",Xu,Rz);function Rz(a,s,l){return Ce(a)&&Na("Invalid "+Ze(a)),l<0?vx:(s=s||0,s<0&&(s=Lz(s+a[rd],0)),$n(l)?e_(a,s):e_(a,s,s+l))}function Ix(a,s){return to(a,0,s)}var t_="_urid",Mx;function Nz(){if(!Mx){var a=JM();Mx=a.gblSym=a.gblSym||{k:{},s:{}}}return Mx}var gv;function _x(a){var s={description:Ii(a),toString:function(){return bx+"("+a+")"}};return s[gz]=!0,s}function Uz(a){var s=Nz();if(!Vs(s.k,a)){var l=_x(a),p=Jo(s.s).length;l[t_]=function(){return p+"_"+l[uv]()},s.k[a]=l,s.s[l[t_]()]=Ii(a)}return s.k[a]}function Oz(a){!gv&&(gv={});var s,l=YM[a];return l&&(s=gv[l]=gv[l]||_x(bx+"."+l)),s}var or;function $s(){or=JM()}function jz(a){var s={};return!or&&$s(),s.b=or.lzy,Qo(s,"v",{configurable:!0,get:function(){var l=a();return or.lzy||Qo(s,"v",{value:l}),s.b=or.lzy,l}}),s}function ga(a){return Qo({toJSON:function(){return a}},"v",{value:a})}var n_="window",Xh;function ad(a,s){var l;return function(){return!or&&$s(),(!l||or.lzy)&&(l=ga(Er(a,s).v)),l.v}}function ma(a){return!or&&$s(),(!Xh||a===!1||or.lzy)&&(Xh=ga(Er(QM).v||vr)),Xh.v}function Hn(a,s){var l;if(!Xh||s===!1?l=ma(s):l=Xh.v,l&&l[a])return l[a];if(a===n_)try{return window}catch{}return vr}function r_(){return!!Rr()}var Rr=ad(Hn,["document"]);function mv(){return!!Xi()}var Xi=ad(Hn,[n_]);function Fz(){return!!no()}var no=ad(Hn,["navigator"]);function Bz(){return!!i_()}var i_=ad(Hn,["history"]),Vz=ad(function(){return!!Er(function(){return process&&(process.versions||{}).node}).v}),a_=ad(function(){return!!Er(function(){return self&&self instanceof WorkerGlobalScope}).v}),od,Px;function vv(){return od=ga(Er(Hn,[bx]).v),od}function zz(a){var s=(or.lzy?0:od)||vv();return s.v?s.v[a]:Ki}function $z(){return!!Hz()}function Hz(){return!or&&$s(),((or.lzy?0:od)||vv()).v}function Dx(a,s){var l=YM[a];!or&&$s();var p=(or.lzy?0:od)||vv();return p.v?p.v[l||a]:Oz(a)}function Yh(a,s){!or&&$s();var l=(or.lzy?0:od)||vv();return l.v?l.v(a):_x(a)}function Lx(a){return!or&&$s(),Px=(or.lzy?0:Px)||ga(Er(zz,["for"]).v),(Px.v||Uz)(a)}function Rx(a){return!!a&&_t(a.next)}function o_(a){return!wz(a)&&_t(a[Dx(3)])}var yv;function Nx(a,s,l){if(a&&(Rx(a)||(!yv&&(yv=ga(Dx(3))),a=a[yv.v]?a[yv.v]():vr),Rx(a))){var p=Ki,d=Ki;try{for(var m=0;!(d=a.next()).done&&s[Lr](l||a,d.value,m,a)!==-1;)m++}catch(y){p={e:y},a.throw&&(d=vr,a.throw(p))}finally{try{d&&!d.done&&a.return&&a.return(d)}finally{if(p)throw p.e}}}}function sd(a,s,l){return a.apply(s,l)}function ud(a,s){return!$n(s)&&a&&(qt(s)?sd(a.push,a,s):Rx(s)||o_(s)?Nx(s,function(l){a.push(l)}):a.push(s)),a}function Xe(a,s,l){if(a)for(var p=a[rd]>>>0,d=0;d<p&&!(d in a&&s[Lr](a,a[d],d,a)===-1);d++);}var Hr=Yu("indexOf",lv),Zh=Yu("map",lv);function bv(a,s,l){return((a?a.slice:vr)||Yo).apply(a,Yo[Lr](arguments,1))}var qz=Yu("reduce",lv),Hs=Wo(Ai(Ra,"create"),Gz);function Gz(a){if(!a)return{};var s=typeof a;s!==Kh&&s!==av&&Na("Prototype must be an Object or function: "+Ze(a));function l(){}return l[Xo]=a,new l}var Ux;function s_(a,s){var l=Ra.setPrototypeOf||function(p,d){var m;!Ux&&(Ux=ga((m={},m[yx]=[],m instanceof Array))),Ux.v?p[yx]=d:Kt(d,function(y,f){return p[y]=f})};return l(a,s)}function Kz(a,s,l){Er(dn,[s,sv,{v:a,c:!0,e:!1}]),s=s_(s,l);function p(){this[ov]=s,Er(dn,[this,sv,{v:a,c:!0,e:!1}])}return s[Xo]=l===vr?Hs(l):(p[Xo]=l[Xo],new p),s}function u_(a,s){s&&(a[sv]=s)}function l_(a,s,l){var p=Error,d=p[Xo][sv],m=Error.captureStackTrace;return Kz(a,function(){var y=this,f=arguments;try{Er(u_,[p,a]);var E=sd(p,y,Yo[Lr](f))||y;if(E!==y){var I=Ax(y);I!==Ax(E)&&s_(E,I)}return m&&m(E,y[ov]),s&&s(E,f),E}finally{Er(u_,[p,d])}},p)}var Ox;function Wz(a){throw Ox||(Ox=l_("UnsupportedError")),new Ox(a)}function ro(){return(Date.now||Xz)()}function Xz(){return new Date().getTime()}function Yz(a){return function(s){return Ce(s)&&Na("strTrim called ["+Ze(s)+"]"),s&&s.replace&&(s=s.replace(a,vx)),s}}var Zz=Yz(/^\s+|(?=\s)\s+$/g),sr=fv("trim",Xu,Zz),jx,Fx,Bx;function ui(a){if(!a||typeof a!==Kh)return!1;Bx||(Bx=mv()?Xi():!0);var s=!1;if(a!==Bx){Fx||(jx=Function[Xo][uv],Fx=jx[Lr](Ra));try{var l=Ax(a);s=!l,s||(fa(l,ov)&&(l=l[ov]),s=!!(l&&typeof l===av&&jx[Lr](l)===Fx))}catch{}}return s}function Qz(a){return a.value&&p_(a),!0}var c_=[n$,p_,i$,r$];function Jz(a,s,l,p){var d;return Xe(a,function(m){if(m.k===s)return d=m,-1}),d||(d={k:s,v:s},a.push(d),p(d)),d.v}function Vx(a,s,l,p){var d=l.handler,m=l.path?p?l.path.concat(p):l.path:[],y={handler:l.handler,src:l.src,path:m},f=typeof s,E=!1,I=s===vr;I||(s&&f===Kh?E=ui(s):I=xz(f));var D={type:f,isPrim:I,isPlain:E,value:s,result:s,path:m,origin:l.src,copy:function(U,N){return Vx(a,U,N?y:l,N)},copyTo:function(U,N){return d_(a,U,N,y)}};return D.isPrim?d&&d[Lr](l,D)?D.result:s:Jz(a,s,m,function(U){dn(D,"result",{g:function(){return U.v},s:function(w){U.v=w}});for(var N=0,R=d;!(R||(N<c_.length?c_[N++]:Qz))[Lr](l,D);)R=vr})}function d_(a,s,l,p){if(!Ce(l))for(var d in l)s[d]=Vx(a,l[d],p,d);return s}function e$(a,s,l){var p={handler:l,src:s,path:[]};return d_([],a,s,p)}function t$(a,s){var l={handler:s,src:a};return Vx([],a,l)}function n$(a){var s=a.value;if(qt(s)){var l=a.result=[];return l.length=s.length,a.copyTo(l,s),!0}return!1}function r$(a){var s=a.value;return Sz(s)?(a.result=new Date(s.getTime()),!0):!1}function i$(a){return a.type===av}function p_(a){var s=a.value;if(s&&a.isPlain){var l=a.result={};return a.copyTo(l,s),!0}return!1}function h_(a,s){return Xe(s,function(l){e$(a,l)}),a}function f_(a,s,l,p,d,m,y){return h_(t$(a)||{},Yo[Lr](arguments))}function a$(a,s,l,p,d,m,y){return h_(a||{},Yo[Lr](arguments))}var o$=Dz(rd),zx;function ts(){return!or&&$s(),(!zx||or.lzy)&&(zx=ga(Er(Hn,["performance"]).v)),zx.v}var g_=Yu("split",Xu);function m_(a,s,l){if(a&&s){var p=g_(s,"."),d=p.pop();Xe(p,function(m){Ce(a[m])&&(a[m]={}),a=a[m]}),a[d]=l}}var v_=fv("endsWith",Xu,s$);function s$(a,s,l){Tt(a)||Na("'"+Ze(a)+"' is not a string");var p=Tt(s)?s:Ii(s),d=!$n(l)&&l<a[rd]?l:a[rd];return to(a,d-p[rd],d)===p}var Mi=Yu("indexOf",Xu),$x="ref",Hx="unref",qx="hasRef",u$="enabled";function l$(a,s,l){var p=!0,d=a?s(vr):vr,m;function y(){return p=!1,d&&d[Hx]&&d[Hx](),m}function f(){d&&l(d),d=vr}function E(){return d=s(d),p||y(),m}function I(D){!D&&d&&f(),D&&!d&&E()}return m={cancel:f,refresh:E},m[qx]=function(){return d&&d[qx]?d[qx]():p},m[$x]=function(){return p=!0,d&&d[$x]&&d[$x](),m},m[Hx]=y,m=Qo(m,u$,{get:function(){return!!d},set:I}),{h:m,dn:function(){d=vr}}}function y_(a,s,l){var p=qt(s),d=p?s.length:0,m=(d>0?s[0]:p?Ki:s)||setTimeout,y=(d>1?s[1]:Ki)||clearTimeout,f=l[0];l[0]=function(){E.dn(),sd(f,Ki,Yo[Lr](arguments))};var E=l$(a,function(I){if(I){if(I.refresh)return I.refresh(),I;sd(y,Ki,[I])}return sd(m,Ki,l)},function(I){sd(y,Ki,[I])});return E.h}function va(a,s){return y_(!0,Ki,Yo[Lr](arguments))}function c$(a,s){return y_(!1,Ki,Yo[Lr](arguments))}var wv,xv="constructor",ns="prototype",Sv="function",Tv="_dynInstFuncs",Gx="_isDynProxy",ld="_dynClass",d$="_dynCls$",Kx="_dynInstChk",Qh=Kx,b_="_dfOpts",w_="_unknown_",Wx="__proto__",kv="_dyn"+Wx,x_="__dynProto$Gbl",Xx="_dynInstProto",Ev="useBaseInst",Yx="setInstFuncs",Zx=Object,Jh=Zx.getPrototypeOf,S_=Zx.getOwnPropertyNames,T_=ma(),Qx=T_[x_]||(T_[x_]={o:(wv={},wv[Yx]=!0,wv[Ev]=!0,wv),n:1e3});function Av(a){return a&&(a===Zx[ns]||a===Array[ns])}function Jx(a){return Av(a)||a===Function[ns]}function Zu(a){var s;if(a){if(Jh)return Jh(a);var l=a[Wx]||a[ns]||(a[xv]?a[xv][ns]:null);s=a[kv]||l,fa(a,kv)||(delete a[Xx],s=a[kv]=a[Xx]||a[kv],a[Xx]=l)}return s}function Cv(a,s){var l=[];if(S_)l=S_(a);else for(var p in a)typeof p=="string"&&fa(a,p)&&l.push(p);if(l&&l.length>0)for(var d=0;d<l.length;d++)s(l[d])}function eS(a,s,l){return s!==xv&&typeof a[s]===Sv&&(l||fa(a,s))&&s!==Wx&&s!==ns}function Iv(a){Na("DynamicProto: "+a)}function p$(a){var s=Hs(null);return Cv(a,function(l){!s[l]&&eS(a,l,!1)&&(s[l]=a[l])}),s}function tS(a,s){for(var l=a.length-1;l>=0;l--)if(a[l]===s)return!0;return!1}function h$(a,s,l,p){function d(E,I,D){var U=I[D];if(U[Gx]&&p){var N=E[Tv]||{};N[Qh]!==!1&&(U=(N[I[ld]]||{})[D]||U)}return function(){return U.apply(E,arguments)}}var m=Hs(null);Cv(l,function(E){m[E]=d(s,l,E)});for(var y=Zu(a),f=[];y&&!Jx(y)&&!tS(f,y);)Cv(y,function(E){!m[E]&&eS(y,E,!Jh)&&(m[E]=d(s,y,E))}),f.push(y),y=Zu(y);return m}function f$(a,s,l,p){var d=null;if(a&&fa(l,ld)){var m=a[Tv]||Hs(null);if(d=(m[l[ld]]||Hs(null))[s],d||Iv("Missing ["+s+"] "+Sv),!d[Kx]&&m[Qh]!==!1){for(var y=!fa(a,s),f=Zu(a),E=[];y&&f&&!Jx(f)&&!tS(E,f);){var I=f[s];if(I){y=I===p;break}E.push(f),f=Zu(f)}try{y&&(a[s]=d),d[Kx]=1}catch{m[Qh]=!1}}}return d}function g$(a,s,l){var p=s[a];return p===l&&(p=Zu(s)[a]),typeof p!==Sv&&Iv("["+a+"] is not a "+Sv),p}function m$(a,s,l,p,d){function m(E,I){var D=function(){var U=f$(this,I,E,D)||g$(I,E,D);return U.apply(this,arguments)};return D[Gx]=1,D}if(!Av(a)){var y=l[Tv]=l[Tv]||Hs(null);if(!Av(y)){var f=y[s]=y[s]||Hs(null);y[Qh]!==!1&&(y[Qh]=!!d),Av(f)||Cv(l,function(E){eS(l,E,!1)&&l[E]!==p[E]&&(f[E]=l[E],delete l[E],(!fa(a,E)||a[E]&&!a[E][Gx])&&(a[E]=m(a,E)))})}}}function v$(a,s){if(Jh){for(var l=[],p=Zu(s);p&&!Jx(p)&&!tS(l,p);){if(p===a)return!0;l.push(p),p=Zu(p)}return!1}return!0}function nS(a,s){return fa(a,ns)?a.name||s||w_:((a||{})[xv]||{}).name||s||w_}function Pn(a,s,l,p){fa(a,ns)||Iv("theClass is an invalid class definition.");var d=a[ns];v$(d,s)||Iv("["+nS(a)+"] not in hierarchy of ["+nS(s)+"]");var m=null;fa(d,ld)?m=d[ld]:(m=d$+nS(a,"_")+"$"+Qx.n,Qx.n++,d[ld]=m);var y=Pn[b_],f=!!y[Ev];f&&p&&p[Ev]!==void 0&&(f=!!p[Ev]);var E=p$(s),I=h$(d,s,E,f);l(s,I);var D=!!Jh&&!!y[Yx];D&&p&&(D=!!p[Yx]),m$(d,m,s,E,D!==!1)}Pn[b_]=Qx.o;var k_="function",E_="object",rS="undefined",io="prototype",iS=Object,y$=iS[io];(ma()||{}).Symbol,(ma()||{}).Reflect;var A_="hasOwnProperty",b$=function(a){for(var s,l=1,p=arguments.length;l<p;l++){s=arguments[l];for(var d in s)y$[A_].call(s,d)&&(a[d]=s[d])}return a},li=Ex||b$,aS=function(a,s){return aS=iS.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,p){l.__proto__=p}||function(l,p){for(var d in p)p[A_](d)&&(l[d]=p[d])},aS(a,s)};function rs(a,s){typeof s!==k_&&s!==null&&Na("Class extends value "+String(s)+" is not a constructor or null"),aS(a,s);function l(){this.constructor=a}a[io]=s===null?Hs(s):(l[io]=s[io],new l)}function C_(a,s){for(var l=0,p=s.length,d=a.length;l<p;l++,d++)a[d]=s[l];return a}var I_=Iz,w$=Pz,qs=I_({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2}),cd="toLowerCase",Mv="blkVal",It="length",_v="rdOnly",Pv="notify",Dv="warnToConsole",ef="throwInternal",dd="setDf",Gs="watch",tr="logger",Qu="apply",pn="push",pd="splice",M_="hdlr",hd="cancel",tf="initialize",Ks="identifier",Lv="removeNotificationListener",Rv="addNotificationListener",ao="isInitialized",__="instrumentationKey",oS="INACTIVE",nf="value",Nv="getNotifyMgr",rf="getPlugin",is="name",af="iKey",fd="time",ci="processNext",P_="getProcessTelContext",D_="pollInternalLogs",gd="enabled",L_="stopPollingInternalLogs",Ws="unload",Uv="onComplete",Ov="version",R_="loggingLevelConsole",Ju="createNew",as="teardown",jv="messageId",el="message",md="isAsync",os="diagLog",Fv="_doTeardown",of="update",oo="getNext",sf="setNextPlugin",N_="protocol",sS="userAgent",vd="split",uS="nodeType",tl="replace",U_="logInternalMessage",ss="type",lS="handler",uf="status",O_="getResponseHeader",j_="getAllResponseHeaders",cS="isChildEvt",yd="data",bd="getCtx",so="setCtx",dS="complete",F_="itemsReceived",lf="urlString",B_="sendPOST",pS="headers",wd="timeout",V_="setRequestHeader",hS="traceId",fS="spanId",gS="traceFlags",mS="getAttribute",vS;function x$(a,s){vS||(vS=l_("AggregationError",function(p,d){d[It]>1&&(p.errors=d[1])}));var l=a;throw Xe(s,function(p,d){l+=`
`.concat(d," > ").concat(Ze(p))}),new vS(l,s||[])}/*!
 * NevWare21 Solutions LLC - ts-async, 0.5.2
 * https://github.com/nevware21/ts-async
 * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.
 * Licensed under the MIT license.
 */var Bv="Promise",yS="rejected";function us(a,s){return z_(a,function(l){return s?s({status:"fulfilled",rejected:!1,value:l}):l},function(l){return s?s({status:yS,rejected:!0,reason:l}):l})}function z_(a,s,l,p){var d=a;try{if(Zo(a))(s||l)&&(d=a.then(s,l));else try{s&&(d=s(a))}catch(m){if(l)d=l(m);else throw m}}finally{}return d}var $_=["pending","resolving","resolved",yS],H_="dispatchEvent",Vv;function S$(a){var s;return a&&a.createEvent&&(s=a.createEvent("Event")),!!s&&s.initEvent}function T$(a,s,l,p){var d=Rr();!Vv&&(Vv=ga(!!Er(S$,[d]).v));var m=Vv.v?d.createEvent("Event"):p?new Event(s):{};if(l&&l(m),Vv.v&&m.initEvent(s,!1,!0),m&&a[H_])a[H_](m);else{var y=a["on"+s];if(y)y(m);else{var f=Hn("console");f&&(f.error||f.log)(s,Ze(m))}}}var q_="unhandledRejection",k$=q_.toLowerCase(),G_=[],E$=0,A$=10,bS;function K_(a){return _t(a)?a.toString():Ze(a)}function W_(a,s,l){var p=bv(arguments,3),d=0,m=!1,y,f=[],E=E$++,I=!1,D=null,U;function N(pe,Ee){try{G_.push(E),I=!0,D&&D.cancel(),D=null;var Se=a(function(J,_e){f.push(function(){try{var xe=d===2?pe:Ee,k=$n(xe)?y:_t(xe)?xe(y):xe;Zo(k)?k.then(J,_e):xe?J(k):d===3?_e(k):J(k)}catch(te){_e(te)}}),m&&q()},p);return Se}finally{G_.pop()}}function R(pe){return N(void 0,pe)}function w(pe){var Ee=pe,Se=pe;return _t(pe)&&(Ee=function(J){return pe&&pe(),J},Se=function(J){throw pe&&pe(),J}),N(Ee,Se)}function F(){return $_[d]}function q(){if(f.length>0){var pe=f.slice();f=[],I=!0,D&&D.cancel(),D=null,s(pe)}}function Z(pe,Ee){return function(Se){if(d===Ee){if(pe===2&&Zo(Se)){d=1,Se.then(Z(2,1),Z(3,1));return}d=pe,m=!0,y=Se,q(),!I&&pe===3&&!D&&(D=va(ne,A$))}}}function ne(){if(!I)if(I=!0,Vz())process.emit(q_,y,U);else{var pe=Xi()||ma();!bS&&(bS=ga(Er(Hn,[Bv+"RejectionEvent"]).v)),T$(pe,k$,function(Ee){return dn(Ee,"promise",{g:function(){return U}}),Ee.reason=y,Ee},!!bS.v)}}U={then:N,catch:R,finally:w},Qo(U,"state",{get:F}),$z()&&(U[Dx(11)]="IPromise");function ve(){return"IPromise "+F()+(m?" - "+K_(y):"")}return U.toString=ve,function(){_t(l)||Na(Bv+": executor is not a function - "+K_(l));var pe=Z(3,0);try{l.call(U,Z(2,0),pe)}catch(Ee){pe(Ee)}}(),U}function C$(a){return function(s){var l=bv(arguments,1);return a(function(p,d){try{var m=[],y=1;Nx(s,function(f,E){f&&(y++,z_(f,function(I){m[E]=I,--y===0&&p(m)},d))}),y--,y===0&&p(m)}catch(f){d(f)}},l)}}function I$(a){return ga(function(s){var l=bv(arguments,1);return a(function(p,d){var m=[],y=1;function f(E,I){y++,us(E,function(D){D.rejected?m[I]={status:yS,reason:D.reason}:m[I]={status:"fulfilled",value:D.value},--y===0&&p(m)})}try{qt(s)?Xe(s,f):o_(s)?Nx(s,f):Na("Input is not an iterable"),y--,y===0&&p(m)}catch(E){d(E)}},l)})}function X_(a){Xe(a,function(s){try{s()}catch{}})}function M$(a){var s=Wh(a)?a:0;return function(l){va(function(){X_(l)},s)}}function Y_(a,s){return W_(Y_,M$(s),a,s)}var wS;function _$(a,s){!wS&&(wS=ga(Er(Hn,[Bv]).v||null));var l=wS.v;if(!l)return Y_(a);_t(a)||Na(Bv+": executor is not a function - "+Ze(a));var p=0;function d(){return $_[p]}var m=new l(function(y,f){function E(D){p=2,y(D)}function I(D){p=3,f(D)}a(E,I)});return Qo(m,"state",{get:d}),m}var xS;function cf(a){return W_(cf,X_,a)}function P$(a,s){return!xS&&(xS=I$(cf)),xS.v(a,s)}var SS;function Xs(a,s){return!SS&&(SS=ga(_$)),SS.v.call(this,a,s)}var D$=C$(Xs),uo=void 0,an="",nl="channels",yr="core",TS="createPerfMgr",kS="disabled",xd="extensionConfig",Sd="extensions",lo="processTelemetry",zv="priority",$v="eventsSent",df="eventsDiscarded",Hv="eventsSendRequest",rl="perfEvent",ES="offlineEventsStored",AS="offlineBatchSent",CS="offlineBatchDrop",qv="getPerfMgr",IS="domain",MS="path",L$="Not dynamic - ",R$="getPrototypeOf",N$=/-([a-z])/g,U$=/([^\w\d_$])/g,O$=/^(\d+[\w\d_$])/,j$=Object[R$];function il(a){return!Ce(a)}function Gv(a){var s=a;return s&&Tt(s)&&(s=s[tl](N$,function(l,p){return p.toUpperCase()}),s=s[tl](U$,"_"),s=s[tl](O$,function(l,p){return"_"+p})),s}function qr(a,s){return a&&s?Mi(a,s)!==-1:!1}function Td(a){return a&&a.toISOString()||""}function fn(a){return Tx(a)?a[is]:an}function In(a,s,l,p,d){var m=l;return a&&(m=a[s],m!==l&&(!d||d(m))&&(!p||p(l))&&(m=l,a[s]=m)),m}function di(a,s,l){var p;return a?(p=a[s],!p&&Ce(p)&&(p=$n(l)?{}:l,a[s]=p)):p=$n(l)?{}:l,p}function Z_(a,s){var l=null,p=null;return _t(a)?l=a:p=a,function(){var d=arguments;if(l&&(p=l()),p)return p[s][Qu](p,d)}}function F$(a,s,l){if(a&&s&&Ci(a)&&Ci(s)){var p=function(m){if(Tt(m)){var y=s[m];_t(y)?(!l||l(m,!0,s,a))&&(a[m]=Z_(s,m)):(!l||l(m,!1,s,a))&&(Vs(a,m)&&delete a[m],dn(a,m,{g:function(){return s[m]},s:function(f){s[m]=f}}))}};for(var d in s)p(d)}return a}function Kv(a,s,l,p,d){a&&s&&l&&(a[s]=Z_(l,p))}function pf(a,s,l,p){return a&&s&&Ci(a)&&qt(l)&&Xe(l,function(d){Tt(d)&&Kv(a,d,s,d)}),a}function B$(a){return function(){function s(){var l=this;a&&Kt(a,function(p,d){l[p]=d})}return s}()}function Q_(a){return a&&Ex&&(a=iS(Ex({},a))),a}function J_(a,s,l,p,d,m){var y=arguments,f=y[0]||{},E=y[It],I=!1,D=1;for(E>0&&KM(f)&&(I=f,f=y[D]||{},D++),Ci(f)||(f={});D<E;D++){var U=y[D],N=qt(U),R=Ci(U);for(var w in U){var F=N&&w in U||R&&Vs(U,w);if(F){var q=U[w],Z=void 0;if(I&&q&&((Z=qt(q))||ui(q))){var ne=f[w];Z?qt(ne)||(ne=[]):ui(ne)||(ne={}),q=J_(I,ne,q)}q!==void 0&&(f[w]=q)}}}return f}function _S(a,s){var l=!1,p=s&&s.featureOptIn&&s.featureOptIn[a];if(a&&p){var d=p.mode;l=d==3||d==1}return l}function Wv(a){try{return a.responseText}catch{}return null}function e6(a,s){return a?"XDomainRequest,Response:"+Wv(a)||"":s}function Xv(a,s){return a?"XMLHttpRequest,Status:"+a[uf]+",Response:"+Wv(a)||a.response||"":s}function t6(a,s){return s&&(Wh(s)?a=[s].concat(a):qt(s)&&(a=s.concat(a))),a}var V$="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",n6="withCredentials",z$="timeout";function $$(a,s,l,p,d,m){d===void 0&&(d=!1);function y(E,I,D){try{E[I]=D}catch{}}var f=new XMLHttpRequest;return y(f,V$,p),l&&y(f,n6,l),f.open(a,s,!d),l&&y(f,n6,l),!d&&m&&y(f,z$,m),f}function H$(a){var s={};if(Tt(a)){var l=sr(a)[vd](/[\r\n]+/);Xe(l,function(p){if(p){var d=p.indexOf(": ");if(d!==-1){var m=sr(p.substring(0,d))[cd](),y=sr(p.substring(d+1));s[m]=y}else s[sr(p)]=1}})}return s}function PS(a,s,l){if(!a[l]&&s&&s[O_]){var p=s[O_](l);p&&(a[l]=sr(p))}return a}var q$="kill-duration",G$="kill-duration-seconds",K$="time-delta-millis";function DS(a,s){var l={};return a[j_]?l=H$(a[j_]()):s&&(l=PS(l,a,K$),l=PS(l,a,q$),l=PS(l,a,G$)),l}var W$="documentMode",X$="location",Y$="console",r6="JSON",Z$="crypto",Q$="msCrypto",J$="ReactNative",LS="msie",RS="trident/",i6="XMLHttpRequest",NS=null,US=null,eH=!1,kd=null,OS=null;function a6(a,s){var l=!1;if(a){try{if(l=s in a,!l){var p=a[io];p&&(l=s in p)}}catch{}if(!l)try{var d=new a;l=!$n(d[s])}catch{}}return l}function co(a){if(a&&eH){var s=Hn("__mockLocation");if(s)return s}return typeof location===E_&&location?location:Hn(X$)}function tH(){return typeof console!==rS?console:Hn(Y$)}function hf(){return!!(typeof JSON===E_&&JSON||Hn(r6)!==null)}function Ua(){return hf()?JSON||Hn(r6):null}function nH(){return Hn(Z$)}function rH(){return Hn(Q$)}function iH(){var a=no();return a&&a.product?a.product===J$:!1}function jS(){var a=no();if(a&&(a[sS]!==US||NS===null)){US=a[sS];var s=(US||an)[cd]();NS=qr(s,LS)||qr(s,RS)}return NS}function o6(a){if(a===void 0&&(a=null),!a){var s=no()||{};a=s?(s.userAgent||an)[cd]():an}var l=(a||an)[cd]();if(qr(l,LS)){var p=Rr()||{};return Math.max(parseInt(l[vd](LS)[1]),p[W$]||0)}else if(qr(l,RS)){var d=parseInt(l[vd](RS)[1]);if(d)return d+4}return null}function ff(a){return(OS===null||a===!1)&&(OS=Fz()&&!!no().sendBeacon),OS}function FS(a){var s=!1;try{s=!!Hn("fetch");var l=Hn("Request");s&&a&&l&&(s=a6(l,"keepalive"))}catch{}return s}function aH(){return kd===null&&(kd=typeof XDomainRequest!==rS,kd&&Yv()&&(kd=kd&&!a6(Hn(i6),"withCredentials"))),kd}function Yv(){var a=!1;try{var s=Hn(i6);a=!!s}catch{}return a}function oH(a,s){return a&&a.dispatchEvent&&s?(a.dispatchEvent(s),!0):!1}function sH(a,s){var l=null,p={detail:s||null};if(_t(CustomEvent))l=new CustomEvent(a,p);else{var d=Rr();d&&d.createEvent&&(l=d.createEvent("CustomEvent"),l.initCustomEvent(a,!0,!0,p))}return l}function uH(a,s,l){var p=ma();if(p&&p.CustomEvent)try{var d={cfg:s||null,customDetails:l||null};return oH(p,sH(a,d))}catch{}return!1}var s6=4294967296,Ys=4294967295,u6=123456789,l6=987654321,c6=!1,gf=u6,mf=l6;function lH(a){a<0&&(a>>>=0),gf=u6+a&Ys,mf=l6-a&Ys,c6=!0}function cH(){try{var a=ro()&2147483647;lH((Math.random()*s6^a)+a)}catch{}}function dH(a){return Math.floor(vf()/Ys*(a+1))>>>0}function vf(a){var s=0,l=nH()||rH();return l&&l.getRandomValues&&(s=l.getRandomValues(new Uint32Array(1))[0]&Ys),s===0&&jS()&&(c6||cH(),s=pH()&Ys),s===0&&(s=Math.floor(s6*Math.random()|0)),s>>>=0,s}function pH(a){mf=36969*(mf&65535)+(mf>>16)&Ys,gf=18e3*(gf&65535)+(gf>>16)&Ys;var s=(mf<<16)+(gf&65535)>>>0&Ys|0;return s>>>=0,s}function BS(a){a===void 0&&(a=22);for(var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=vf()>>>0,p=0,d=an;d[It]<a;)p++,d+=s.charAt(l&63),l>>>=6,p===5&&(l=(vf()<<2&4294967295|l&3)>>>0,p=0);return d}var d6="3.3.3",hH="."+BS(6),fH=0;function p6(a){return a[uS]===1||a[uS]===9||!+a[uS]}function gH(a,s){var l=s[a.id];if(!l){l={};try{p6(s)&&dn(s,a.id,{e:!1,v:l})}catch{}}return l}function ya(a,s){return s===void 0&&(s=!1),Gv(a+fH+++(s?"."+d6:an)+hH)}function h6(a){var s={id:ya("_aiData-"+(a||an)+"."+d6),accept:function(l){return p6(l)},get:function(l,p,d,m){var y=l[s.id];return y?y[Gv(p)]:(m&&(y=gH(s,l),y[Gv(p)]=d),d)},kill:function(l,p){if(l&&l[p])try{delete l[p]}catch{}}};return s}function Zv(a){return a&&Ci(a)&&(a.isVal||a.fb||Vs(a,"v")||Vs(a,"mrg")||Vs(a,"ref")||a.set)}function f6(a,s,l){var p,d=l.dfVal||Sx;if(s&&l.fb){var m=l.fb;qt(m)||(m=[m]);for(var y=0;y<m[It];y++){var f=m[y],E=s[f];if(d(E)?p=E:a&&(E=a.cfg[f],d(E)&&(p=E),a.set(a.cfg,Ii(f),E)),d(p))break}}return!d(p)&&d(l.v)&&(p=l.v),p}function VS(a,s,l){var p=l;if(l&&Zv(l)&&(p=f6(a,s,l)),p){Zv(p)&&(p=VS(a,s,p));var d;qt(p)?(d=[],d[It]=p[It]):ui(p)&&(d={}),d&&(Kt(p,function(m,y){y&&Zv(y)&&(y=VS(a,s,y)),d[m]=y}),p=d)}return p}function zS(a,s,l,p){var d,m,y,f=p,E,I,D,U;Zv(f)?(d=f.isVal,m=f.set,D=f[_v],U=f[Mv],E=f.mrg,I=f.ref,!I&&$n(I)&&(I=!!E),y=f6(a,s,f)):y=p,U&&a[Mv](s,l);var N,R=!0,w=s[l];(w||!Ce(w))&&(N=w,R=!1,d&&N!==y&&!d(N)&&(N=y,R=!0),m&&(N=m(N,y,s),R=N===y)),R?y?N=VS(a,s,y):N=y:(ui(N)||qt(y))&&E&&y&&(ui(y)||qt(y))&&Kt(y,function(F,q){zS(a,N,F,q)}),a.set(s,l,N),I&&a.ref(s,l),D&&a[_v](s,l)}var Zs=Lx("[[ai_dynCfg_1]]"),g6=Lx("[[ai_blkDynCfg_1]]"),mH=Lx("[[ai_frcDynCfg_1]]");function m6(a){if(a){var s;if(qt(a)?(s=[],s[It]=a[It]):ui(a)&&(s={}),s)return Kt(a,function(l,p){s[l]=m6(p)}),s}return a}function vH(a){if(a){var s=a[Zs]||a;if(s.cfg&&(s.cfg===a||s.cfg[Zs]===s))return s}return null}function yH(a){if(a&&(ui(a)||qt(a)))try{a[g6]=!0}catch{}return a}function $S(a,s,l){var p=!1;return l&&!a[s.blkVal]&&(p=l[mH],!p&&!l[g6]&&(p=ui(l)||qt(l))),p}function v6(a){Na("InvalidAccess:"+a)}var bH=["push","pop","shift","unshift","splice"],yf=function(a,s,l,p){a&&a[ef](3,108,"".concat(l," [").concat(s,"] failed - ")+Ze(p))};function wH(a,s,l){qt(s)&&Xe(bH,function(p){var d=s[p];s[p]=function(){for(var m=[],y=0;y<arguments.length;y++)m[y]=arguments[y];var f=d[Qu](this,m);return ey(a,s,l,"Patching"),f}})}function Qv(a,s){var l=kx(a,s);return l&&l.get}function xH(a,s,l,p){var d={n:l,h:[],trk:function(I){I&&I.fn&&(Hr(d.h,I)===-1&&d.h[pn](I),a.trk(I,d))},clr:function(I){var D=Hr(d.h,I);D!==-1&&d.h[pd](D,1)}},m=!0,y=!1;function f(){m&&(y=y||$S(f,a,p),p&&!p[Zs]&&y&&(p=ey(a,p,l,"Converting")),m=!1);var I=a.act;return I&&d.trk(I),p}f[a.prop]={chng:function(){a.add(d)}};function E(I){if(p!==I){f[a.ro]&&!a.upd&&v6("["+l+"] is read-only:"+Ze(s)),m&&(y=y||$S(f,a,p),m=!1);var D=y&&f[a.rf];if(y)if(D){Kt(p,function(N){p[N]=I?I[N]:uo});try{Kt(I,function(N,R){Jv(a,p,N,R)}),I=p}catch(N){yf((a.hdlr||{})[tr],l,"Assigning",N),y=!1}}else p&&p[Zs]&&Kt(p,function(N){var R=Qv(p,N);if(R){var w=R[a.prop];w&&w.chng()}});if(I!==p){var U=I&&$S(f,a,I);!D&&U&&(I=ey(a,I,l,"Converting")),p=I,y=U}a.add(d)}}dn(s,d.n,{g:f,s:E})}function Jv(a,s,l,p){if(s){var d=Qv(s,l),m=d&&!!d[a.prop];m?s[l]=p:xH(a,s,l,p)}return s}function HS(a,s,l,p){if(s){var d=Qv(s,l),m=d&&!!d[a.prop],y=p&&p[0],f=p&&p[1],E=p&&p[2];if(!m){if(E)try{yH(s)}catch(I){yf((a.hdlr||{})[tr],l,"Blocking",I)}try{Jv(a,s,l,s[l]),d=Qv(s,l)}catch(I){yf((a.hdlr||{})[tr],l,"State",I)}}y&&(d[a.rf]=y),f&&(d[a.ro]=f),E&&(d[a.blkVal]=!0)}return s}function ey(a,s,l,p){try{Kt(s,function(d,m){Jv(a,s,d,m)}),s[Zs]||(Qo(s,Zs,{get:function(){return a[M_]}}),wH(a,s,l))}catch(d){yf((a.hdlr||{})[tr],l,p,d)}return s}var bf="[[ai_",wf="]]";function SH(a){var s,l=Yh(bf+"get"+a.uid+wf),p=Yh(bf+"ro"+a.uid+wf),d=Yh(bf+"rf"+a.uid+wf),m=Yh(bf+"blkVal"+a.uid+wf),y=Yh(bf+"dtl"+a.uid+wf),f=null,E=null,I;function D(w,F){var q=I.act;try{I.act=w,w&&w[y]&&(Xe(w[y],function(ne){ne.clr(w)}),w[y]=[]),F({cfg:a.cfg,set:a.set.bind(a),setDf:a[dd].bind(a),ref:a.ref.bind(a),rdOnly:a[_v].bind(a)})}catch(ne){var Z=a[tr];throw Z&&Z[ef](1,107,Ze(ne)),ne}finally{I.act=q||null}}function U(){if(f){var w=f;f=null,E&&E[hd](),E=null;var F=[];if(Xe(w,function(q){if(q&&(q[y]&&(Xe(q[y],function(Z){Z.clr(q)}),q[y]=null),q.fn))try{D(q,q.fn)}catch(Z){F[pn](Z)}}),f)try{U()}catch(q){F[pn](q)}F[It]>0&&x$("Watcher error(s): ",F)}}function N(w){if(w&&w.h[It]>0){f||(f=[]),E||(E=va(function(){E=null,U()},0));for(var F=0;F<w.h[It];F++){var q=w.h[F];q&&Hr(f,q)===-1&&f[pn](q)}}}function R(w,F){if(w){var q=w[y]=w[y]||[];Hr(q,F)===-1&&q[pn](F)}}return I=(s={prop:l,ro:p,rf:d},s[Mv]=m,s[M_]=a,s.add=N,s[Pv]=U,s.use=D,s.trk=R,s),I}function TH(a,s){var l={fn:s,rm:function(){l.fn=null,a=null,s=null}};return dn(l,"toJSON",{v:function(){return"WatcherHandler"+(l.fn?"":"[X]")}}),a.use(l,s),l}function kH(a,s,l){var p,d=vH(s);if(d)return d;var m=ya("dyncfg",!0),y=s&&l!==!1?s:m6(s),f;function E(){f[Pv]()}function I(Z,ne,ve){try{Z=Jv(f,Z,ne,ve)}catch(pe){yf(a,ne,"Setting value",pe)}return Z[ne]}function D(Z){return TH(f,Z)}function U(Z,ne){f.use(null,function(ve){var pe=f.upd;try{$n(ne)||(f.upd=ne),Z(ve)}finally{f.upd=pe}})}function N(Z,ne){var ve;return HS(f,Z,ne,(ve={},ve[0]=!0,ve))[ne]}function R(Z,ne){var ve;return HS(f,Z,ne,(ve={},ve[1]=!0,ve))[ne]}function w(Z,ne){var ve;return HS(f,Z,ne,(ve={},ve[2]=!0,ve))[ne]}function F(Z,ne){return ne&&Kt(ne,function(ve,pe){zS(q,Z,ve,pe)}),Z}var q=(p={uid:null,cfg:y},p[tr]=a,p[Pv]=E,p.set=I,p[dd]=F,p[Gs]=D,p.ref=N,p[_v]=R,p[Mv]=w,p._block=U,p);return dn(q,"uid",{c:!1,e:!1,w:!1,v:m}),f=SH(q),ey(f,y,"config","Creating"),q}function EH(a,s){a?(a[Dv](s),a[ef](2,108,s)):v6(s)}function ba(a,s,l,p){var d=kH(l,a||{},p);return s&&d[dd](d.cfg,s),d}function nr(a,s,l){var p=a[Zs]||a;return p.cfg&&(p.cfg===a||p.cfg[Zs]===p)?p[Gs](s):(EH(l,L$+Ze(a)),ba(a,null,l)[Gs](s))}function Ed(a,s){if(a&&a[Ws])return a[Ws](s)}function y6(a,s,l){var p;return l||(p=Xs(function(d){l=d})),a&&o$(a)>0?us(Ed(a[0],s),function(){y6(bv(a,1),s,l)}):l(),p}var AH=500,b6="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";function CH(a,s,l){return!a&&Ce(a)?s:KM(a)?a:Ii(a)[cd]()==="true"}function Oa(a){return{mrg:!0,v:a}}function w6(a,s){return{set:a,v:s}}function ty(a,s,l){return{fb:l,isVal:a,v:s}}function ur(a,s){return{fb:s,set:CH,v:!!a}}function IH(a){return{isVal:Tt,v:Ii(an)}}var qS=[$v,df,Hv,rl],ny=null,ry;function MH(a,s){return function(){var l=arguments,p=x6(s);if(p){var d=p.listener;d&&d[a]&&d[a][Qu](d,l)}}}function _H(){var a=Hn("Microsoft");return a&&(ny=a.ApplicationInsights),ny}function x6(a){var s=ny;return!s&&a.disableDbgExt!==!0&&(s=ny||_H()),s?s.ChromeDbgExt:null}function PH(a){if(!ry){ry={};for(var s=0;s<qS[It];s++)ry[qS[s]]=MH(qS[s],a)}return ry}var Ad,S6="warnToConsole",DH="AI (Internal): ",LH="AI: ",RH="AITR_",NH={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},UH=(Ad={},Ad[0]=null,Ad[1]="errorToConsole",Ad[2]=S6,Ad[3]="debugToConsole",Ad);function T6(a){return a?'"'+a[tl](/\"/g,an)+'"':an}function GS(a,s){var l=tH();if(l){var p="log";l[a]&&(p=a),_t(l[p])&&l[p](s)}}var xf=function(){function a(s,l,p,d){p===void 0&&(p=!1);var m=this;m[jv]=s,m[el]=(p?LH:DH)+s;var y=an;hf()&&(y=Ua().stringify(d));var f=(l?" message:"+T6(l):an)+(d?" props:"+T6(y):an);m[el]+=f}return a.dataType="MessageData",a}();function al(a,s){return(a||{})[tr]||new iy(s)}var iy=function(){function a(s){this.identifier="DiagnosticLogger",this.queue=[];var l=0,p={},d,m,y,f,E;Pn(a,this,function(I){E=U(s||{}),I.consoleLoggingLevel=function(){return d},I[ef]=function(w,F,q,Z,ne){ne===void 0&&(ne=!1);var ve=new xf(F,q,ne,Z);if(f)throw Ze(ve);var pe=UH[w]||S6;if($n(ve[el]))R("throw"+(w===1?"Critical":"Warning"),ve);else{if(ne){var Ee=+ve[jv];!p[Ee]&&d>=w&&(I[pe](ve[el]),p[Ee]=!0)}else d>=w&&I[pe](ve[el]);D(w,ve)}},I.debugToConsole=function(w){GS("debug",w),R("warning",w)},I[Dv]=function(w){GS("warn",w),R("warning",w)},I.errorToConsole=function(w){GS("error",w),R("error",w)},I.resetInternalMessageCount=function(){l=0,p={}},I[U_]=D,I[Ws]=function(w){E&&E.rm(),E=null};function D(w,F){if(!N()){var q=!0,Z=RH+F[jv];if(p[Z]?q=!1:p[Z]=!0,q&&(w<=m&&(I.queue[pn](F),l++,R(w===1?"error":"warn",F)),l===y)){var ne="Internal events throttle limit per PageView reached for this app.",ve=new xf(23,ne,!1);I.queue[pn](ve),w===1?I.errorToConsole(ne):I[Dv](ne)}}}function U(w){return nr(ba(w,NH,I).cfg,function(F){var q=F.cfg;d=q[R_],m=q.loggingLevelTelemetry,y=q.maxMessageLimit,f=q.enableDebug})}function N(){return l>=y}function R(w,F){var q=x6(s||{});q&&q[os]&&q[os](w,F)}})}return a.__ieDyn=1,a}();function KS(a){return a||new iy}function Be(a,s,l,p,d,m){m===void 0&&(m=!1),KS(a)[ef](s,l,p,d,m)}function ol(a,s){KS(a)[Dv](s)}function OH(a,s,l){KS(a)[U_](s,l)}var WS,sl,k6="toGMTString",E6="toUTCString",XS="cookie",YS="expires",A6="isCookieUseDisabled",ZS="disableCookiesUsage",Cd="_ckMgr",ay=null,QS=null,C6=null,po,I6={},oy={},jH=(WS={cookieCfg:Oa((sl={},sl[IS]={fb:"cookieDomain",dfVal:il},sl.path={fb:"cookiePath",dfVal:il},sl.enabled=uo,sl.ignoreCookies=uo,sl.blockedCookies=uo,sl)),cookieDomain:uo,cookiePath:uo},WS[ZS]=uo,WS);function JS(){!po&&(po=jz(function(){return Rr()}))}function FH(a,s){var l=uy[Cd]||oy[Cd];return l||(l=uy[Cd]=uy(a,s),oy[Cd]=l),l}function sy(a){return a?a.isEnabled():!0}function M6(a,s){return s&&a&&qt(a.ignoreCookies)?Hr(a.ignoreCookies,s)!==-1:!1}function BH(a,s){return s&&a&&qt(a.blockedCookies)&&Hr(a.blockedCookies,s)!==-1?!0:M6(a,s)}function _6(a,s){var l=s[gd];if(Ce(l)){var p=void 0;$n(a[A6])||(p=!a[A6]),$n(a[ZS])||(p=!a[ZS]),l=p}return l}function eT(a,s){var l;return a&&(l=a.getCookieMgr()),l||(l=FH(s,(a||{})[tr])),l}function uy(a,s){var l,p,d,m,y,f,E,I,D;a=ba(a||oy,null,s).cfg,y=nr(a,function(N){N[dd](N.cfg,jH),p=N.ref(N.cfg,"cookieCfg"),d=p[MS]||"/",m=p[IS],f=_6(a,p)!==!1,E=p.getCookie||VH,I=p.setCookie||N6,D=p.delCookie||N6},s);var U=(l={isEnabled:function(){var N=_6(a,p)!==!1&&f&&P6(s),R=oy[Cd];return N&&R&&U!==R&&(N=sy(R)),N},setEnabled:function(N){f=N!==!1,p[gd]=N},set:function(N,R,w,F,q){var Z=!1;if(sy(U)&&!BH(p,N)){var ne={},ve=sr(R||an),pe=Mi(ve,";");if(pe!==-1&&(ve=sr(Ix(R,pe)),ne=D6(to(R,pe+1))),In(ne,IS,F||m,dv,$n),!Ce(w)){var Ee=jS();if($n(ne[YS])){var Se=ro(),J=Se+w*1e3;if(J>0){var _e=new Date;_e.setTime(J),In(ne,YS,L6(_e,Ee?k6:E6)||L6(_e,Ee?k6:E6)||an,dv)}}Ee||In(ne,"max-age",an+w,null,$n)}var xe=co();xe&&xe[N_]==="https:"&&(In(ne,"secure",null,null,$n),QS===null&&(QS=!zH((no()||{})[sS])),QS&&In(ne,"SameSite","None",null,$n)),In(ne,MS,q||d,null,$n),I(N,R6(ve,ne)),Z=!0}return Z},get:function(N){var R=an;return sy(U)&&!M6(p,N)&&(R=E(N)),R},del:function(N,R){var w=!1;return sy(U)&&(w=U.purge(N,R)),w},purge:function(N,R){var w,F=!1;if(P6(s)){var q=(w={},w[MS]=R||"/",w[YS]="Thu, 01 Jan 1970 00:00:01 GMT",w);jS()||(q["max-age"]="0"),D(N,R6(an,q)),F=!0}return F}},l[Ws]=function(N){y&&y.rm(),y=null},l);return U[Cd]=U,U}function P6(a){if(ay===null){ay=!1,!po&&JS();try{var s=po.v||{};ay=s[XS]!==void 0}catch(l){Be(a,2,68,"Cannot access document.cookie - "+fn(l),{exception:Ze(l)})}}return ay}function D6(a){var s={};if(a&&a[It]){var l=sr(a)[vd](";");Xe(l,function(p){if(p=sr(p||an),p){var d=Mi(p,"=");d===-1?s[p]=null:s[sr(Ix(p,d))]=sr(to(p,d+1))}})}return s}function L6(a,s){return _t(a[s])?a[s]():null}function R6(a,s){var l=a||an;return Kt(s,function(p,d){l+="; "+p+(Ce(d)?an:"="+d)}),l}function VH(a){var s=an;if(!po&&JS(),po.v){var l=po.v[XS]||an;C6!==l&&(I6=D6(l),C6=l),s=sr(I6[a]||an)}return s}function N6(a,s){!po&&JS(),po.v&&(po.v[XS]=a+"="+s)}function zH(a){return Tt(a)?!!(qr(a,"CPU iPhone OS 12")||qr(a,"iPad; CPU OS 12")||qr(a,"Macintosh; Intel Mac OS X 10_14")&&qr(a,"Version/")&&qr(a,"Safari")||qr(a,"Macintosh; Intel Mac OS X 10_14")&&v_(a,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||qr(a,"Chrome/5")||qr(a,"Chrome/6")||qr(a,"UnrealEngine")&&!qr(a,"Chrome")||qr(a,"UCBrowser/12")||qr(a,"UCBrowser/11")):!1}var $H={perfEvtsSendAll:!1};function HH(a){a.h=null;var s=a.cb;a.cb=[],Xe(s,function(l){Er(l.fn,[l.arg])})}function Qs(a,s,l,p){Xe(a,function(d){d&&d[s]&&(l?(l.cb[pn]({fn:p,arg:d}),l.h=l.h||va(HH,0,l)):Er(p,[d]))})}var qH=function(){function a(s){this.listeners=[];var l,p,d=[],m={h:null,cb:[]},y=ba(s,$H);p=y[Gs](function(f){l=!!f.cfg.perfEvtsSendAll}),Pn(a,this,function(f){dn(f,"listeners",{g:function(){return d}}),f[Rv]=function(E){d[pn](E)},f[Lv]=function(E){for(var I=Hr(d,E);I>-1;)d[pd](I,1),I=Hr(d,E)},f[$v]=function(E){Qs(d,$v,m,function(I){I[$v](E)})},f[df]=function(E,I){Qs(d,df,m,function(D){D[df](E,I)})},f[Hv]=function(E,I){Qs(d,Hv,I?m:null,function(D){D[Hv](E,I)})},f[rl]=function(E){E&&(l||!E[cS]())&&Qs(d,rl,null,function(I){E[md]?va(function(){return I[rl](E)},0):I[rl](E)})},f[ES]=function(E){E&&E[It]&&Qs(d,ES,m,function(I){I[ES](E)})},f[AS]=function(E){E&&E[yd]&&Qs(d,AS,m,function(I){I[AS](E)})},f[CS]=function(E,I){if(E>0){var D=I||0;Qs(d,CS,m,function(U){U[CS](E,D)})}},f[Ws]=function(E){var I=function(){p&&p.rm(),p=null,d=[],m.h&&m.h[hd](),m.h=null,m.cb=[]},D;if(Qs(d,"unload",null,function(U){var N=U[Ws](E);N&&(D||(D=[]),D[pn](N))}),D)return Xs(function(U){return us(D$(D),function(){I(),U()})});I()}})}return a.__ieDyn=1,a}(),Id="ctx",tT="ParentContextKey",Sf="ChildrenContextKey",GH=null,ly=function(){function a(s,l,p){var d=this;if(d.start=ro(),d[is]=s,d[md]=p,d[cS]=function(){return!1},_t(l)){var m;dn(d,"payload",{g:function(){return!m&&_t(l)&&(m=l(),l=null),m}})}d[bd]=function(y){return y?y===a[tT]||y===a[Sf]?d[y]:(d[Id]||{})[y]:null},d[so]=function(y,f){if(y)if(y===a[tT])d[y]||(d[cS]=function(){return!0}),d[y]=f;else if(y===a[Sf])d[y]=f;else{var E=d[Id]=d[Id]||{};E[y]=f}},d[dS]=function(){var y=0,f=d[bd](a[Sf]);if(qt(f))for(var E=0;E<f[It];E++){var I=f[E];I&&(y+=I[fd])}d[fd]=ro()-d.start,d.exTime=d[fd]-y,d[dS]=function(){}}}return a.ParentContextKey="parent",a.ChildrenContextKey="childEvts",a}(),KH=function(){function a(s){this.ctx={},Pn(a,this,function(l){l.create=function(p,d,m){return new ly(p,d,m)},l.fire=function(p){p&&(p[dS](),s&&_t(s[rl])&&s[rl](p))},l[so]=function(p,d){if(p){var m=l[Id]=l[Id]||{};m[p]=d}},l[bd]=function(p){return(l[Id]||{})[p]}})}return a.__ieDyn=1,a}(),nT="CoreUtils.doPerf";function cy(a,s,l,p,d){if(a){var m=a;if(m[qv]&&(m=m[qv]()),m){var y=void 0,f=m[bd](nT);try{if(y=m.create(s(),p,d),y){if(f&&y[so]&&(y[so](ly[tT],f),f[bd]&&f[so])){var E=f[bd](ly[Sf]);E||(E=[],f[so](ly[Sf],E)),E[pn](y)}return m[so](nT,y),l(y)}}catch(I){y&&y[so]&&y[so]("exception",I)}finally{y&&m.fire(y),m[so](nT,f)}}}return l()}function WH(){return GH}function Js(){for(var a=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],s=an,l,p=0;p<4;p++)l=vf(),s+=a[l&15]+a[l>>4&15]+a[l>>8&15]+a[l>>12&15]+a[l>>16&15]+a[l>>20&15]+a[l>>24&15]+a[l>>28&15];var d=a[8+(vf()&3)|0];return zs(s,0,8)+zs(s,9,4)+"4"+zs(s,13,3)+d+zs(s,16,3)+zs(s,19,12)}var rT="00",XH="ff",U6="00000000000000000000000000000000",O6="0000000000000000";function Tf(a,s,l){return a&&a[It]===s&&a!==l?!!a.match(/^[\da-f]*$/i):!1}function j6(a,s,l){return Tf(a,s)?a:l}function YH(a){(isNaN(a)||a<0||a>255)&&(a=1);for(var s=a.toString(16);s[It]<2;)s="0"+s;return s}function F6(a,s,l,p){var d;return d={},d[Ov]=Tf(p,2,XH)?p:rT,d[hS]=iT(a)?a:Js(),d[fS]=aT(s)?s:Ix(Js(),16),d.traceFlags=l>=0&&l<=255?l:1,d}function iT(a){return Tf(a,32,U6)}function aT(a){return Tf(a,16,O6)}function B6(a){if(a){var s=YH(a[gS]);Tf(s,2)||(s="01");var l=a[Ov]||rT;return l!=="00"&&l!=="ff"&&(l=rT),"".concat(l.toLowerCase(),"-").concat(j6(a.traceId,32,U6).toLowerCase(),"-").concat(j6(a.spanId,16,O6).toLowerCase(),"-").concat(s.toLowerCase())}return""}function ZH(a){var s=a.getElementsByTagName("script"),l=[];return Xe(s,function(p){var d=p[mS]("src");if(d){var m=p[mS]("crossorigin"),y=p.hasAttribute("async")===!0,f=p.hasAttribute("defer")===!0,E=p[mS]("referrerpolicy"),I={url:d};m&&(I.crossOrigin=m),y&&(I.async=y),f&&(I.defer=f),E&&(I.referrerPolicy=E),l[pn](I)}}),l}var QH=h6("plugin");function ul(a){return QH.get(a,"state",{},!0)}function V6(a,s){for(var l=[],p=null,d=a[oo](),m;d;){var y=d[rf]();if(y){p&&p[sf]&&y[lo]&&p[sf](y),m=ul(y);var f=!!m[ao];y[ao]&&(f=y[ao]()),f||l[pn](y),p=y,d=d[oo]()}}Xe(l,function(E){var I=a[yr]();E[tf](a.getCfg(),I,s,a[oo]()),m=ul(E),!E[yr]&&!m[yr]&&(m[yr]=I),m[ao]=!0,delete m[as]})}function oT(a){return a.sort(function(s,l){var p=0;if(l){var d=l[lo];s[lo]?p=d?s[zv]-l[zv]:1:d&&(p=-1)}else p=s?1:-1;return p})}function JH(a){var s={};return{getName:function(){return s[is]},setName:function(l){s[is]=l},getTraceId:function(){return s[hS]},setTraceId:function(l){iT(l)&&(s[hS]=l)},getSpanId:function(){return s[fS]},setSpanId:function(l){aT(l)&&(s[fS]=l)},getTraceFlags:function(){return s[gS]},setTraceFlags:function(l){s[gS]=l}}}var eq="TelemetryPluginChain",z6="_hasRun",$6="_getTelCtx",H6=0;function tq(a,s,l){for(;a;){if(a[rf]()===l)return a;a=a[oo]()}return ll([l],s.config||{},s)}function sT(a,s,l,p){var d=null,m=[];s||(s=ba({},null,l[tr])),p!==null&&(d=p?tq(a,l,p):a);var y={_next:E,ctx:{core:function(){return l},diagLog:function(){return al(l,s.cfg)},getCfg:function(){return s.cfg},getExtCfg:D,getConfig:U,hasNext:function(){return!!d},getNext:function(){return d},setNext:function(R){d=R},iterate:N,onComplete:f}};function f(R,w){for(var F=[],q=2;q<arguments.length;q++)F[q-2]=arguments[q];R&&m[pn]({func:R,self:$n(w)?y.ctx:w,args:F})}function E(){var R=d;if(d=R?R[oo]():null,!R){var w=m;w&&w[It]>0&&(Xe(w,function(F){try{F.func.call(F.self,F.args)}catch(q){Be(l[tr],2,73,"Unexpected Exception during onComplete - "+Ze(q))}}),m=[])}return R}function I(R,w){var F=null,q=s.cfg;if(q&&R){var Z=q[xd];!Z&&w&&(Z={}),q[xd]=Z,Z=s.ref(q,xd),Z&&(F=Z[R],!F&&w&&(F={}),Z[R]=F,F=s.ref(Z,R))}return F}function D(R,w){var F=I(R,!0);return w&&Kt(w,function(q,Z){if(Ce(F[q])){var ne=s.cfg[q];(ne||!Ce(ne))&&(F[q]=ne)}zS(s,F,q,Z)}),s[dd](F,w)}function U(R,w,F){F===void 0&&(F=!1);var q,Z=I(R,!1),ne=s.cfg;return Z&&(Z[w]||!Ce(Z[w]))?q=Z[w]:(ne[w]||!Ce(ne[w]))&&(q=ne[w]),q||!Ce(q)?q:F}function N(R){for(var w;w=y._next();){var F=w[rf]();F&&R(F)}}return y}function ja(a,s,l,p){var d=ba(s),m=sT(a,d,l,p),y=m.ctx;function f(I){var D=m._next();return D&&D[lo](I,y),!D}function E(I,D){return I===void 0&&(I=null),qt(I)&&(I=ll(I,d.cfg,l,D)),ja(I||y[oo](),d.cfg,l,D)}return y[ci]=f,y[Ju]=E,y}function dy(a,s,l){var p=ba(s.config),d=sT(a,p,s,l),m=d.ctx;function y(E){var I=d._next();return I&&I[Ws](m,E),!I}function f(E,I){return E===void 0&&(E=null),qt(E)&&(E=ll(E,p.cfg,s,I)),dy(E||m[oo](),s,I)}return m[ci]=y,m[Ju]=f,m}function uT(a,s,l){var p=ba(s.config),d=sT(a,p,s,l),m=d.ctx;function y(E){return m.iterate(function(I){_t(I[of])&&I[of](m,E)})}function f(E,I){return E===void 0&&(E=null),qt(E)&&(E=ll(E,p.cfg,s,I)),uT(E||m[oo](),s,I)}return m[ci]=y,m[Ju]=f,m}function ll(a,s,l,p){var d=null,m=!p;if(qt(a)&&a[It]>0){var y=null;Xe(a,function(f){if(!m&&p===f&&(m=!0),m&&f&&_t(f[lo])){var E=nq(f,s,l);d||(d=E),y&&y._setNext(E),y=E}})}return p&&!d?ll([p],s,l):d}function nq(a,s,l){var p=null,d=_t(a[lo]),m=_t(a[sf]),y;a?y=a[Ks]+"-"+a[zv]+"-"+H6++:y="Unknown-0-"+H6++;var f={getPlugin:function(){return a},getNext:function(){return p},processTelemetry:D,unload:U,update:N,_id:y,_setNext:function(R){p=R}};function E(){var R;return a&&_t(a[$6])&&(R=a[$6]()),R||(R=ja(f,s,l)),R}function I(R,w,F,q,Z){var ne=!1,ve=a?a[Ks]:eq,pe=R[z6];return pe||(pe=R[z6]={}),R.setNext(p),a&&cy(R[yr](),function(){return ve+":"+F},function(){pe[y]=!0;try{var Ee=p?p._id:an;Ee&&(pe[Ee]=!1),ne=w(R)}catch(J){var Se=p?pe[p._id]:!0;Se&&(ne=!0),(!p||!Se)&&Be(R[os](),1,73,"Plugin ["+ve+"] failed during "+F+" - "+Ze(J)+", run flags: "+Ze(pe))}},q,Z),ne}function D(R,w){w=w||E();function F(q){if(!a||!d)return!1;var Z=ul(a);return Z[as]||Z[kS]?!1:(m&&a[sf](p),a[lo](R,q),!0)}I(w,F,"processTelemetry",function(){return{item:R}},!R.sync)||w[ci](R)}function U(R,w){function F(){var q=!1;if(a){var Z=ul(a),ne=a[yr]||Z[yr];a&&(!ne||ne===R.core())&&!Z[as]&&(Z[yr]=null,Z[as]=!0,Z[ao]=!1,a[as]&&a[as](R,w)===!0&&(q=!0))}return q}I(R,F,"unload",function(){},w[md])||R[ci](w)}function N(R,w){function F(){var q=!1;if(a){var Z=ul(a),ne=a[yr]||Z[yr];a&&(!ne||ne===R.core())&&!Z[as]&&a[of]&&a[of](R,w)===!0&&(q=!0)}return q}I(R,F,"update",function(){},!1)||R[ci](w)}return es(f)}function q6(){var a=[];function s(p){p&&a[pn](p)}function l(p,d){Xe(a,function(m){try{m(p,d)}catch(y){Be(p[os](),2,73,"Unexpected error calling unload handler - "+Ze(y))}}),a=[]}return{add:s,run:l}}function G6(){var a=[];function s(p){var d=a;a=[],Xe(d,function(m){try{(m.rm||m.remove).call(m)}catch(y){Be(p,2,73,"Unloading:"+Ze(y))}})}function l(p){p&&ud(a,p)}return{run:s,add:l}}var lT,eu="getPlugin",rq=(lT={},lT[xd]={isVal:il,v:{}},lT),Md=function(){function a(){var s=this,l,p,d,m,y;I(),Pn(a,s,function(D){D[tf]=function(U,N,R,w){E(U,N,w),l=!0},D[as]=function(U,N){var R,w=D[yr];if(!w||U&&w!==U[yr]())return;var F,q=!1,Z=U||dy(null,w,d&&d[eu]?d[eu]():d),ne=N||(R={reason:0},R[md]=!1,R);function ve(){q||(q=!0,m.run(Z,N),y.run(Z[os]()),F===!0&&Z[ci](ne),I())}return!D[Fv]||D[Fv](Z,ne,ve)!==!0?ve():F=!0,F},D[of]=function(U,N){var R=D[yr];if(!R||U&&R!==U[yr]())return;var w,F=!1,q=U||uT(null,R,d&&d[eu]?d[eu]():d),Z=N||{reason:0};function ne(){F||(F=!0,E(q.getCfg(),q.core(),q[oo]()))}return!D._doUpdate||D._doUpdate(q,Z,ne)!==!0?ne():w=!0,w},Kv(D,"_addUnloadCb",function(){return m},"add"),Kv(D,"_addHook",function(){return y},"add"),dn(D,"_unloadHooks",{g:function(){return y}})}),s[os]=function(D){return f(D)[os]()},s[ao]=function(){return l},s.setInitialized=function(D){l=D},s[sf]=function(D){d=D},s[ci]=function(D,U){U?U[ci](D):d&&_t(d[lo])&&d[lo](D,null)},s._getTelCtx=f;function f(D){D===void 0&&(D=null);var U=D;if(!U){var N=p||ja(null,{},s[yr]);d&&d[eu]?U=N[Ju](null,d[eu]):U=N[Ju](null,d)}return U}function E(D,U,N){ba(D,rq,al(U)),!N&&U&&(N=U[P_]()[oo]());var R=d;d&&d[eu]&&(R=d[eu]()),s[yr]=U,p=ja(N,D,U,R)}function I(){l=!1,s[yr]=null,p=null,d=null,y=G6(),m=q6()}}return a.__ieDyn=1,a}();function iq(a,s,l){var p={id:s,fn:l};ud(a,p);var d={remove:function(){Xe(a,function(m,y){if(m.id===p.id)return a[pd](y,1),-1})}};return d}function aq(a,s,l){for(var p=!1,d=a[It],m=0;m<d;++m){var y=a[m];if(y)try{if(y.fn[Qu](null,[s])===!1){p=!0;break}}catch(f){Be(l,2,64,"Telemetry initializer failed: "+fn(f),{exception:Ze(f)},!0)}}return!p}var oq=function(a){rs(s,a);function s(){var l=a.call(this)||this;l.identifier="TelemetryInitializerPlugin",l.priority=199;var p,d;m(),Pn(s,l,function(y,f){y.addTelemetryInitializer=function(E){return iq(d,p++,E)},y[lo]=function(E,I){aq(d,E,I?I[os]():y[os]())&&y[ci](E,I)},y[Fv]=function(){m()}});function m(){p=0,d=[]}return l}return s.__ieDyn=1,s}(Md),tu,K6="Plugins must provide initialize method",sq="_notificationManager",W6="SDK is still unloading...",uq="SDK is not initialized",lq=100,cq=5e4,cT=id((tu={cookieCfg:{}},tu[Sd]={rdOnly:!0,ref:!0,v:[]},tu[nl]={rdOnly:!0,ref:!0,v:[]},tu[xd]={ref:!0,v:{}},tu[TS]=uo,tu.loggingLevelConsole=0,tu.diagnosticLogInterval=uo,tu));function dq(a,s){return new KH(s)}function pq(a,s,l){var p,d=[],m=[],y={};return Xe(l,function(f){(Ce(f)||Ce(f[tf]))&&Wi(K6);var E=f[zv],I=f[Ks];f&&E&&(Ce(y[E])?y[E]=I:ol(a,"Two extensions have same priority #"+E+" - "+y[E]+", "+I)),!E||E<s?d[pn](f):m[pn](f)}),p={},p[yr]=d,p[nl]=m,p}function X6(a,s){var l=!1;return Xe(s,function(p){if(p===a)return l=!0,-1}),l}function dT(a,s,l,p){l&&Kt(l,function(d,m){p&&ui(m)&&ui(s[d])&&dT(a,s[d],m,p),p&&ui(m)&&ui(s[d])?dT(a,s[d],m,p):a.set(s,d,m)})}function Y6(a,s){var l=null,p=-1;return Xe(a,function(d,m){if(d.w===s)return l=d,p=m,-1}),{i:p,l}}function hq(a,s){var l=Y6(a,s).l;return l||(l={w:s,rm:function(){var p=Y6(a,s);p.i!==-1&&a[pd](p.i,1)}},a[pn](l)),l}function fq(a,s,l){Xe(s,function(p){var d=nr(a,p.w,l);delete p.w,p.rm=function(){d.rm()}})}function gq(a,s,l,p){return s.add(a[Gs](function(d){var m=d.cfg.disableDbgExt;m===!0&&p&&(l[Lv](p),p=null),l&&!p&&m!==!0&&(p=PH(d.cfg),l[Rv](p))})),p}function mq(a){return dn({rm:function(){a.rm()}},"toJSON",{v:function(){return"aicore::onCfgChange<"+JSON.stringify(a)+">"}})}var vq=function(){function a(){var s,l,p,d,m,y,f,E,I,D,U,N,R,w,F,q,Z,ne,ve,pe,Ee,Se,J,_e,xe,k,te,se,Re,z,Y,we;Pn(a,this,function(Q){de(),Q._getDbgPlgTargets=function(){return[J,d]},Q[ao]=function(){return l},Q.activeStatus=function(){return k},Q._setPendingStatus=function(){k=3},Q[tf]=function(fe,Ve,at,ot){R&&Wi(W6),Q[ao]()&&Wi("Core cannot be initialized more than once"),s=ba(fe,cT,at||Q[tr],!1),fe=s.cfg,Wn(s[Gs](function(Lt){var ue=Lt.cfg,be=k===3;if(!be){se=ue.initInMemoMaxSize||lq;var Ie=ue[__],Te=ue.endpointUrl;if(Ce(Ie)){Ee=null,k=qs[oS];var De="Please provide instrumentation key";l?(Be(p,1,100,De),qe()):Wi(De);return}var ke=[];if(Zo(Ie)?(ke[pn](Ie),Ee=null):Ee=Ie,Zo(Te)?(ke[pn](Te),te=null):te=Te,ke[It]){Re=!1,k=3;var ht=il(ue.initTimeOut)?ue.initTimeOut:cq,Mt=P$(ke);va(function(){Re||je()},ht),us(Mt,function(Rt){try{if(Re)return;if(!Rt.rejected){var ct=Rt[nf];if(ct&&ct[It]){var kn=ct[0];if(Ee=kn&&kn[nf],ct[It]>1){var Cr=ct[1];te=Cr&&Cr[nf]}}Ee&&(fe[__]=Ee,fe.endpointUrl=te)}je()}catch{Re||je()}})}else je();var yt=Lt.ref(Lt.cfg,xd);Kt(yt,function(Rt){Lt.ref(yt,Rt)})}})),m=ot,ve=gq(s,ne,m&&Q[Nv](),ve),fi(),Q[tr]=at;var et=fe[Sd];if(D=[],D[pn].apply(D,C_(C_([],Ve,!1),et)),U=fe[nl],L(null),(!N||N[It]===0)&&Wi("No "+nl+" available"),U&&U[It]>1){var ze=Q[rf]("TeeChannelController");(!ze||!ze.plugin)&&Be(p,1,28,"TeeChannel required")}fq(fe,Se,p),Se=null,l=!0,k===qs.ACTIVE&&qe()},Q.getChannels=function(){var fe=[];return N&&Xe(N,function(Ve){fe[pn](Ve)}),es(fe)},Q.track=function(fe){cy(Q[qv](),function(){return"AppInsightsCore:track"},function(){fe===null&&(Sn(fe),Wi("Invalid telemetry item")),!fe[is]&&Ce(fe[is])&&(Sn(fe),Wi("telemetry name required")),fe[af]=fe[af]||Ee,fe[fd]=fe[fd]||Td(new Date),fe.ver=fe.ver||"4.0",!R&&Q[ao]()&&k===qs.ACTIVE?X()[ci](fe):k!==qs[oS]&&d[It]<=se&&d[pn](fe)},function(){return{item:fe}},!fe.sync)},Q[P_]=X,Q[Nv]=function(){return m||(m=new qH(s.cfg),Q[sq]=m),m},Q[Rv]=function(fe){Q.getNotifyMgr()[Rv](fe)},Q[Lv]=function(fe){m&&m[Lv](fe)},Q.getCookieMgr=function(){return E||(E=uy(s.cfg,Q[tr])),E},Q.setCookieMgr=function(fe){E!==fe&&(Ed(E,!1),E=fe)},Q[qv]=function(){return y||f||WH()},Q.setPerfMgr=function(fe){y=fe},Q.eventCnt=function(){return d[It]},Q.releaseQueue=function(){if(l&&d[It]>0){var fe=d;d=[],k===2?Xe(fe,function(Ve){Ve[af]=Ve[af]||Ee,X()[ci](Ve)}):Be(p,2,20,"core init status is not active")}},Q[D_]=function(fe){return F=fe||null,we=!1,z&&z[hd](),pt(!0)};function je(){Re=!0,Ce(Ee)?(k=qs[oS],Be(p,1,112,"ikey can't be resolved from promises")):k=qs.ACTIVE,qe()}function qe(){l&&(Q.releaseQueue(),Q[D_]())}function pt(fe){if((!z||!z[gd])&&!we){var Ve=fe||p&&p.queue[It]>0;Ve&&(Y||(Y=!0,Wn(s[Gs](function(at){var ot=at.cfg.diagnosticLogInterval;(!ot||!(ot>0))&&(ot=1e4);var et=!1;z&&(et=z[gd],z[hd]()),z=c$(Dt,ot),z.unref(),z[gd]=et}))),z[gd]=!0)}return z}Q[L_]=function(){we=!0,z&&z[hd](),Dt()},pf(Q,function(){return w},["addTelemetryInitializer"]),Q[Ws]=function(fe,Ve,at){var ot;fe===void 0&&(fe=!0),l||Wi(uq),R&&Wi(W6);var et=(ot={reason:50},ot[md]=fe,ot.flushComplete=!1,ot),ze;fe&&!Ve&&(ze=Xs(function(be){Ve=be}));var Lt=dy(ut(),Q);Lt[Uv](function(){ne.run(Q[tr]),y6([E,m,p],fe,function(){de(),Ve&&Ve(et)})},Q);function ue(be){et.flushComplete=be,R=!0,Z.run(Lt,et),Q[L_](),Lt[ci](et)}return Dt(),Xt(fe,ue,6,at),ze},Q[rf]=Ue,Q.addPlugin=function(fe,Ve,at,ot){if(!fe){ot&&ot(!1),Ae(K6);return}var et=Ue(fe[Ks]);if(et&&!Ve){ot&&ot(!1),Ae("Plugin ["+fe[Ks]+"] is already loaded!");return}var ze={reason:16};function Lt(Ie){D[pn](fe),ze.added=[fe],L(ze),ot&&ot(!0)}if(et){var ue=[et.plugin],be={reason:2,isAsync:!!at};xt(ue,be,function(Ie){Ie?(ze.removed=ue,ze.reason|=32,Lt()):ot&&ot(!1)})}else Lt()},Q.updateCfg=function(fe,Ve){Ve===void 0&&(Ve=!0);var at;if(Q[ao]()){at={reason:1,cfg:s.cfg,oldCfg:f_({},s.cfg),newConfig:f_({},fe),merge:Ve},fe=at.newConfig;var ot=s.cfg;fe[Sd]=ot[Sd],fe[nl]=ot[nl]}s._block(function(et){var ze=et.cfg;dT(et,ze,fe,Ve),Ve||Kt(ze,function(Lt){Vs(fe,Lt)||et.set(ze,Lt,uo)}),et[dd](ze,cT)},!0),s[Pv](),at&&Wr(at)},Q.evtNamespace=function(){return q},Q.flush=Xt,Q.getTraceCtx=function(fe){return pe||(pe=JH()),pe},Q.setTraceCtx=function(fe){pe=fe||null},Q.addUnloadHook=Wn,Kv(Q,"addUnloadCb",function(){return Z},"add"),Q.onCfgChange=function(fe){var Ve;return l?Ve=nr(s.cfg,fe,Q[tr]):Ve=hq(Se,fe),mq(Ve)},Q.getWParam=function(){return r_()||s.cfg.enableWParam?0:-1};function K(){var fe={};_e=[];var Ve=function(at){at&&Xe(at,function(ot){if(ot[Ks]&&ot[Ov]&&!fe[ot.identifier]){var et=ot[Ks]+"="+ot[Ov];_e[pn](et),fe[ot.identifier]=ot}})};Ve(N),U&&Xe(U,function(at){Ve(at)}),Ve(D)}function de(){l=!1,s=ba({},cT,Q[tr]),s.cfg[R_]=1,dn(Q,"config",{g:function(){return s.cfg},s:function(Ve){Q.updateCfg(Ve,!1)}}),dn(Q,"pluginVersionStringArr",{g:function(){return _e||K(),_e}}),dn(Q,"pluginVersionString",{g:function(){return xe||(_e||K(),xe=_e.join(";")),xe||an}}),dn(Q,"logger",{g:function(){return p||(p=new iy(s.cfg),s[tr]=p),p},s:function(Ve){s[tr]=Ve,p!==Ve&&(Ed(p,!1),p=Ve)}}),Q[tr]=new iy(s.cfg),J=[];var fe=Q.config[Sd]||[];fe.splice(0,fe[It]),ud(fe,J),w=new oq,d=[],Ed(m,!1),m=null,y=null,f=null,Ed(E,!1),E=null,I=null,D=[],U=null,N=null,R=!1,F=null,q=ya("AIBaseCore",!0),Z=q6(),pe=null,Ee=null,ne=G6(),Se=[],xe=null,_e=null,we=!1,z=null,Y=!1,k=0,te=null,se=null,Re=!1}function X(){var fe=ja(ut(),s.cfg,Q);return fe[Uv](pt),fe}function L(fe){var Ve=pq(Q[tr],AH,D);I=null,xe=null,_e=null,N=(U||[])[0]||[],N=oT(ud(N,Ve[nl]));var at=ud(oT(Ve[yr]),N);J=es(at);var ot=Q.config[Sd]||[];ot.splice(0,ot[It]),ud(ot,J);var et=X();N&&N[It]>0&&V6(et[Ju](N),at),V6(et,at),fe&&Wr(fe)}function Ue(fe){var Ve=null,at=null,ot=[];return Xe(J,function(et){if(et[Ks]===fe&&et!==w)return at=et,-1;et.getChannel&&ot[pn](et)}),!at&&ot[It]>0&&Xe(ot,function(et){if(at=et.getChannel(fe),!at)return-1}),at&&(Ve={plugin:at,setEnabled:function(et){ul(at)[kS]=!et},isEnabled:function(){var et=ul(at);return!et[as]&&!et[kS]},remove:function(et,ze){var Lt;et===void 0&&(et=!0);var ue=[at],be=(Lt={reason:1},Lt[md]=et,Lt);xt(ue,be,function(Ie){Ie&&L({reason:32,removed:ue}),ze&&ze(Ie)})}}),Ve}function ut(){if(!I){var fe=(J||[]).slice();Hr(fe,w)===-1&&fe[pn](w),I=ll(oT(fe),s.cfg,Q)}return I}function xt(fe,Ve,at){if(fe&&fe[It]>0){var ot=ll(fe,s.cfg,Q),et=dy(ot,Q);et[Uv](function(){var ze=!1,Lt=[];Xe(D,function(be,Ie){X6(be,fe)?ze=!0:Lt[pn](be)}),D=Lt,xe=null,_e=null;var ue=[];U&&(Xe(U,function(be,Ie){var Te=[];Xe(be,function(De){X6(De,fe)?ze=!0:Te[pn](De)}),ue[pn](Te)}),U=ue),at&&at(ze),pt()}),et[ci](Ve)}else at(!1)}function Dt(){if(p&&p.queue){var fe=p.queue.slice(0);p.queue[It]=0,Xe(fe,function(Ve){var at,ot=(at={},at[is]=F||"InternalMessageId: "+Ve[jv],at[af]=Ee,at[fd]=Td(new Date),at.baseType=xf.dataType,at.baseData={message:Ve[el]},at);Q.track(ot)})}}function Xt(fe,Ve,at,ot){var et=1,ze=!1,Lt=null;ot=ot||5e3;function ue(){et--,ze&&et===0&&(Lt&&Lt[hd](),Lt=null,Ve&&Ve(ze),Ve=null)}if(N&&N[It]>0){var be=X()[Ju](N);be.iterate(function(Ie){if(Ie.flush){et++;var Te=!1;Ie.flush(fe,function(){Te=!0,ue()},at)||Te||(fe&&Lt==null?Lt=va(function(){Lt=null,ue()},ot):ue())}})}return ze=!0,ue(),!0}function fi(){var fe;Wn(s[Gs](function(Ve){var at=Ve.cfg.enablePerfMgr;if(at){var ot=Ve.cfg[TS];fe!==ot&&(ot||(ot=dq),di(Ve.cfg,TS,ot),fe=ot,f=null),!y&&!f&&_t(ot)&&(f=ot(Q,Q[Nv]()))}else f=null,fe=null}))}function Wr(fe){var Ve=uT(ut(),Q);Ve[Uv](pt),(!Q._updateHook||Q._updateHook(Ve,fe)!==!0)&&Ve[ci](fe)}function Ae(fe){var Ve=Q[tr];Ve?(Be(Ve,2,73,fe),pt()):Wi(fe)}function Sn(fe){var Ve=Q[Nv]();Ve&&Ve[df]([fe],2)}function Wn(fe){ne.add(fe)}})}return a.__ieDyn=1,a}();function pT(a,s){try{if(a&&a!==""){var l=Ua().parse(a);if(l&&l[F_]&&l[F_]>=l.itemsAccepted&&l.itemsReceived-l.itemsAccepted===l.errors[It])return l}}catch(p){Be(s,1,43,"Cannot parse the response. "+(p[is]||Ze(p)),{response:a})}return null}var ho="",yq="NoResponseBody",Z6="&"+yq+"=true",hT="POST",bq=function(){function a(){var s=0,l,p,d,m,y,f,E,I,D,U,N,R,w,F;Pn(a,this,function(q,Z){var ne=!0;Re(),q[tf]=function(z,Y){d=Y,p&&Be(d,1,28,"Sender is already initialized"),q.SetConfig(z),p=!0},q._getDbgPlgTargets=function(){return[p,m,f,l]},q.SetConfig=function(z){try{if(y=z.senderOnCompleteCallBack||{},f=!!z.disableCredentials,E=z.fetchCredentials,m=!!z.isOneDs,l=!!z.enableSendPromise,D=!!z.disableXhr,U=!!z.disableBeacon,N=!!z.disableBeaconSync,F=z.timeWrapper,w=!!z.addNoResponse,R=!!z.disableFetchKeepAlive,I={sendPOST:k},m||(ne=!1),f){var Y=co();Y&&Y.protocol&&Y.protocol[cd]()==="file:"&&(ne=!1)}return!0}catch{}return!1},q.getSyncFetchPayload=function(){return s},q.getSenderInst=function(z,Y){return z&&z[It]?Se(z,Y):null},q.getFallbackInst=function(){return I},q[Fv]=function(z,Y){Re()};function ve(z,Y){J(Y,200,{},z)}function pe(z,Y){Be(d,2,26,"Failed to send telemetry.",{message:z}),J(Y,400,{})}function Ee(z){pe("No endpoint url is provided for the batch",z)}function Se(z,Y){for(var we,Q=0,je=null,qe=0;je==null&&qe<z[It];)Q=z[qe],!D&&Q===1?aH()?je=se:Yv()&&(je=k):Q===2&&FS(Y)&&(!Y||!R)?je=te:Q===3&&ff()&&(Y?!N:!U)&&(je=xe),qe++;return je?(we={_transport:Q,_isSync:Y},we[B_]=je,we):null}function J(z,Y,we,Q){try{z&&z(Y,we,Q)}catch{}}function _e(z,Y){var we=no(),Q=z[lf];if(!Q)return Ee(Y),!0;Q=z[lf]+(w?Z6:ho);var je=z[yd],qe=m?je:new Blob([je],{type:"text/plain;charset=UTF-8"}),pt=we.sendBeacon(Q,qe);return pt}function xe(z,Y,we){var Q=z[yd];try{if(Q)if(_e(z,Y))ve(ho,Y);else{var je=y&&y.beaconOnRetry;je&&_t(je)?je(z,Y,_e):(I&&I[B_](z,Y,!0),Be(d,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(qe){m&&ol(d,"Failed to send telemetry using sendBeacon API. Ex:"+Ze(qe)),J(Y,m?0:400,{},ho)}}function k(z,Y,we){var Q,je,qe,pt=z[pS]||{};!we&&l&&(Q=Xs(function(L,Ue){je=L,qe=Ue})),m&&we&&z.disableXhrSync&&(we=!1);var K=z[lf];if(!K){Ee(Y),je&&je(!1);return}var de=$$(hT,K,ne,!0,we,z[wd]);m||de[V_]("Content-type","application/json"),Xe(Jo(pt),function(L){de[V_](L,pt[L])}),de.onreadystatechange=function(){m||(X(de),de.readyState===4&&je&&je(!0))},de.onload=function(){m&&X(de)};function X(L){var Ue=y&&y.xhrOnComplete,ut=Ue&&_t(Ue);if(ut)Ue(L,Y,z);else{var xt=Wv(L);J(Y,L[uf],DS(L,m),xt)}}return de.onerror=function(L){J(Y,m?de[uf]:400,DS(de,m),m?ho:Xv(de)),qe&&qe(L)},de.ontimeout=function(){J(Y,m?de[uf]:500,DS(de,m),m?ho:Xv(de)),je&&je(!1)},de.send(z[yd]),Q}function te(z,Y,we){var Q,je=z[lf],qe=z[yd],pt=m?qe:new Blob([qe],{type:"application/json"}),K,de,X,L=new Headers,Ue=qe[It],ut=!1,xt=!1,Dt=z[pS]||{},Xt=(Q={method:hT,body:pt},Q[b6]=!0,Q);z.headers&&Jo(z.headers)[It]>0&&(Xe(Jo(Dt),function(Sn){L.append(Sn,Dt[Sn])}),Xt[pS]=L),E?Xt.credentials=E:ne&&m&&(Xt.credentials="include"),we&&(Xt.keepalive=!0,s+=Ue,m?z._sendReason===2&&(ut=!0,w&&(je+=Z6)):ut=!0);var fi=new Request(je,Xt);try{fi[b6]=!0}catch{}if(!we&&l&&(K=Xs(function(Sn,Wn){de=Sn,X=Wn})),!je){Ee(Y),de&&de(!1);return}function Wr(Sn){J(Y,m?0:400,{},m?ho:Sn)}function Ae(Sn,Wn,fe){var Ve=Sn[uf],at=y.fetchOnComplete;at&&_t(at)?at(Sn,Y,fe||ho,Wn):J(Y,Ve,{},fe||ho)}try{us(fetch(m?je:fi,m?Xt:null),function(Sn){if(we&&(s-=Ue,Ue=0),!xt)if(xt=!0,Sn.rejected)Wr(Sn.reason&&Sn.reason[el]),X&&X(Sn.reason);else{var Wn=Sn[nf];try{!m&&!Wn.ok?(Wr(Wn.statusText),de&&de(!1)):m&&!Wn.body?(Ae(Wn,null,ho),de&&de(!0)):us(Wn.text(),function(fe){Ae(Wn,z,fe[nf]),de&&de(!0)})}catch(fe){Wr(Ze(fe)),X&&X(fe)}}})}catch(Sn){xt||(Wr(Ze(Sn)),X&&X(Sn))}return ut&&!xt&&(xt=!0,J(Y,200,{}),de&&de(!0)),m&&!xt&&z[wd]>0&&F&&F.set(function(){xt||(xt=!0,J(Y,500,{}),de&&de(!0))},z[wd]),K}function se(z,Y,we){var Q=Xi(),je=new XDomainRequest,qe=z[yd];je.onload=function(){var L=Wv(je),Ue=y&&y.xdrOnComplete;Ue&&_t(Ue)?Ue(je,Y,z):J(Y,200,{},L)},je.onerror=function(){J(Y,400,{},m?ho:e6(je))},je.ontimeout=function(){J(Y,500,{})},je.onprogress=function(){};var pt=Q&&Q.location&&Q.location[N_]||"",K=z[lf];if(!K){Ee(Y);return}if(!m&&K.lastIndexOf(pt,0)!==0){var de="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";Be(d,2,40,". "+de),pe(de,Y);return}var X=m?K:K[tl](/^(https?:)/,"");je.open(hT,X),z[wd]&&(je[wd]=z[wd]),je.send(qe),m&&we?F&&F.set(function(){je.send(qe)},0):je.send(qe)}function Re(){s=0,p=!1,l=!1,d=null,m=null,y=null,f=null,E=null,I=null,D=!1,U=!1,N=!1,R=!1,w=!1,F=null}})}return a.__ieDyn=1,a}(),Q6="on",J6="attachEvent",eP="addEventListener",tP="detachEvent",nP="removeEventListener",fT="events",gT="visibilitychange",py="pagehide",rP="unload",iP="beforeunload",aP=ya("aiEvtPageHide");ya("aiEvtPageShow");var wq=/\.[\.]+/g,xq=/[\.]+$/,Sq=1,hy=h6("events"),Tq=/^([^.]*)(?:\.(.+)|)/;function oP(a){return a&&a[tl]?a[tl](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,an):a}function mT(a,s){var l;if(s){var p=an;qt(s)?(p=an,Xe(s,function(m){m=oP(m),m&&(m[0]!=="."&&(m="."+m),p+=m)})):p=oP(s),p&&(p[0]!=="."&&(p="."+p),a=(a||an)+p)}var d=Tq.exec(a||an)||[];return l={},l[ss]=d[1],l.ns=(d[2]||an).replace(wq,".").replace(xq,an)[vd](".").sort().join("."),l}function sP(a,s,l){l===void 0&&(l=!0);var p=hy.get(a,fT,{},l),d=p[s];return d||(d=p[s]=[]),d}function uP(a,s,l,p){a&&s&&s[ss]&&(a[nP]?a[nP](s[ss],l,p):a[tP]&&a[tP](Q6+s[ss],l))}function kq(a,s,l,p){var d=!1;return a&&s&&s[ss]&&l&&(a[eP]?(a[eP](s[ss],l,p),d=!0):a[J6]&&(a[J6](Q6+s[ss],l),d=!0)),d}function lP(a,s,l,p){for(var d=s[It];d--;){var m=s[d];m&&(!l.ns||l.ns===m.evtName.ns)&&(!p||p(m))&&(uP(a,m.evtName,m[lS],m.capture),s[pd](d,1))}}function Eq(a,s,l){if(s[ss])lP(a,sP(a,s[ss]),s,l);else{var p=hy.get(a,fT,{});Kt(p,function(d,m){lP(a,m,s,l)}),Jo(p)[It]===0&&hy.kill(a,fT)}}function nu(a,s){var l;return s?(qt(s)?l=[a].concat(s):l=[a,s],l=mT("xx",l).ns[vd](".")):l=a,l}function ls(a,s,l,p,d){var m;d===void 0&&(d=!1);var y=!1;if(a)try{var f=mT(s,p);if(y=kq(a,f,l,d),y&&hy.accept(a)){var E=(m={guid:Sq++,evtName:f},m[lS]=l,m.capture=d,m);sP(a,f.type)[pn](E)}}catch{}return y}function _d(a,s,l,p,d){if(d===void 0&&(d=!1),a)try{var m=mT(s,p),y=!1;Eq(a,m,function(f){return m.ns&&!l||f[lS]===l?(y=!0,!0):!1}),y||uP(a,m,l,d)}catch{}}function Aq(a,s,l){var p=!1,d=Xi();d&&(p=ls(d,a,s,l),p=ls(d.body,a,s,l)||p);var m=Rr();return m&&(p=ls(m,a,s,l)||p),p}function Cq(a,s,l){var p=Xi();p&&(_d(p,a,s,l),_d(p.body,a,s,l));var d=Rr();d&&_d(d,a,s,l)}function fy(a,s,l,p){var d=!1;return s&&a&&a[It]>0&&Xe(a,function(m){m&&(!l||Hr(l,m)===-1)&&(d=Aq(m,s,p)||d)}),d}function Iq(a,s,l,p){var d=!1;return s&&a&&qt(a)&&(d=fy(a,s,l,p),!d&&l&&l[It]>0&&(d=fy(a,s,null,p))),d}function vT(a,s,l){a&&qt(a)&&Xe(a,function(p){p&&Cq(p,s,l)})}function Mq(a,s,l){return Iq([iP,rP,py],a,s,l)}function _q(a,s){vT([iP,rP,py],a,s)}function yT(a,s,l){function p(y){var f=Rr();a&&f&&f.visibilityState==="hidden"&&a(y)}var d=nu(aP,l),m=fy([py],a,s,d);return(!s||Hr(s,gT)===-1)&&(m=fy([gT],p,s,d)||m),!m&&s&&(m=yT(a,null,l)),m}function Pq(a,s){var l=nu(aP,s);vT([py],a,l),vT([gT],null,l)}var cP="_aiHooks",dP=["req","rsp","hkErr","fnErr"];function bT(a,s){if(a)for(var l=0;l<a[It]&&!s(a[l],l);l++);}function wT(a,s,l,p,d){d>=0&&d<=2&&bT(a,function(m,y){var f=m.cbks,E=f[dP[d]];if(E){s.ctx=function(){var U=p[y]=p[y]||{};return U};try{E[Qu](s.inst,l)}catch(U){var I=s.err;try{var D=f[dP[2]];D&&(s.err=U,D[Qu](s.inst,l))}catch{}finally{s.err=I}}}})}function Dq(a){return function(){var s,l=this,p=arguments,d=a.h,m=(s={},s[is]=a.n,s.inst=l,s.ctx=null,s.set=I,s),y=[],f=E([m],p);m.evt=Hn("event");function E(U,N){return bT(N,function(R){U[pn](R)}),U}function I(U,N){p=E([],p),p[U]=N,f=E([m],p)}wT(d,m,f,y,0);var D=a.f;if(D)try{m.rslt=D[Qu](l,p)}catch(U){throw m.err=U,wT(d,m,f,y,3),U}return wT(d,m,f,y,1),m.rslt}}function xT(a,s,l,p){var d=null;return a&&(fa(a,s)?d=a:l&&(d=xT(j$(a),s,p,!1))),d}function Lq(a,s,l){return a?ST(a[io],s,l,!1):null}function pP(a,s,l,p){var d=l&&l[cP];if(!d){d={i:0,n:s,f:l,h:[]};var m=Dq(d);m[cP]=d,a[s]=m}var y={id:d.i,cbks:p,rm:function(){var f=this.id;bT(d.h,function(E,I){if(E.id===f)return d.h[pd](I,1),1})}};return d.i++,d.h[pn](y),y}function ST(a,s,l,p,d){if(p===void 0&&(p=!0),a&&s&&l){var m=xT(a,s,p,d);if(m){var y=m[s];if(typeof y===k_)return pP(m,s,y,l)}}return null}function gy(a,s,l,p,d){if(a&&s&&l){var m=xT(a,s,p,d)||a;if(m)return pP(m,s,m[s],l)}return null}var my="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",hP="sampleRate",TT="ProcessLegacy",fP="http.method",kT="https://dc.services.visualstudio.com",Pd="/v2/track",fo="not_specified",ET="iKey",Tn=w$({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),Dd="split",Ft="length",kf="toLowerCase",cl="ingestionendpoint",Ld="toString",vy="push",AT="removeItem",Fa="name",ru="message",Rd="count",CT="preTriggerDate",IT="disabled",MT="interval",gP="daysOfMonth",_T="date",PT="getUTCDate",yy="stringify",DT="pathname",mP="correlationHeaderExcludePatterns",Nd="exceptions",Ba="parsedStack",go="properties",cs="measurements",Ud="sizeInBytes",ds="typeName",Ef="severityLevel",LT="problemGroup",RT="isManual",vP="CreateFromInterface",Od="assembly",dl="fileName",by="hasFullStack",wy="level",jd="method",Af="line",xy="duration",yP="receivedResponse";function bP(a,s,l){var p=s[Ft],d=Rq(a,s);if(d[Ft]!==p){for(var m=0,y=d;l[y]!==void 0;)m++,y=to(d,0,147)+Oq(m);d=y}return d}function Rq(a,s){var l;return s&&(s=sr(Ii(s)),s[Ft]>150&&(l=to(s,0,150),Be(a,2,57,"name is too long.  It has been truncated to 150 characters.",{name:s},!0))),l||s}function lr(a,s,l){l===void 0&&(l=1024);var p;return s&&(l=l||1024,s=sr(Ii(s)),s[Ft]>l&&(p=to(s,0,l),Be(a,2,61,"string value is too long. It has been truncated to "+l+" characters.",{value:s},!0))),p||s}function Sy(a,s){return xP(a,s,2048,66)}function wP(a,s){var l;return s&&s[Ft]>32768&&(l=to(s,0,32768),Be(a,2,56,"message is too long, it has been truncated to 32768 characters.",{message:s},!0)),l||s}function Nq(a,s){var l;if(s){var p=""+s;p[Ft]>32768&&(l=to(p,0,32768),Be(a,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:s},!0))}return l||s}function pl(a,s){if(s){var l={};Kt(s,function(p,d){if(Ci(d)&&hf())try{d=Ua()[yy](d)}catch(m){Be(a,2,49,"custom property is not valid",{exception:m},!0)}d=lr(a,d,8192),p=bP(a,p,l),l[p]=d}),s=l}return s}function hl(a,s){if(s){var l={};Kt(s,function(p,d){p=bP(a,p,l),l[p]=d}),s=l}return s}function Uq(a,s){return s&&xP(a,s,128,69)[Ld]()}function xP(a,s,l,p){var d;return s&&(s=sr(Ii(s)),s[Ft]>l&&(d=to(s,0,l),Be(a,2,p,"input is too long, it has been truncated to "+l+" characters.",{data:s},!0))),d||s}function Oq(a){var s="00"+a;return zs(s,s[Ft]-3)}var SP=Rr()||{},TP=0,jq=[null,null,null,null,null];function NT(a){var s=TP,l=jq,p=l[s];return SP.createElement?l[s]||(p=l[s]=SP.createElement("a")):p={host:Vq(a)},p.href=a,s++,s>=l[Ft]&&(s=0),TP=s,p}function Fq(a){var s,l=NT(a);return l&&(s=l.href),s}function Bq(a,s){return a?a.toUpperCase()+" "+s:s}function Vq(a,s){var l=kP(a)||"";if(l){var p=l.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(p!=null&&p[Ft]>3&&Tt(p[2])&&p[2][Ft]>0)return p[2]+(p[3]||"")}return l}function kP(a,s){var l=null;if(a){var p=a.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(p!=null&&p[Ft]>2&&Tt(p[2])&&p[2][Ft]>0&&(l=p[2]||"",p[Ft]>2)){var d=(p[1]||"")[kf](),m=p[3]||"";(d==="http"&&m===":80"||d==="https"&&m===":443")&&(m=""),l+=m}}return l}var zq=[kT+Pd,"https://breeze.aimon.applicationinsights.io"+Pd,"https://dc-int.services.visualstudio.com"+Pd],$q="cid-v1:";function UT(a){return Hr(zq,a[kf]())!==-1}function EP(a,s,l){if(!s||a&&a.disableCorrelationHeaders)return!1;if(a&&a[mP]){for(var p=0;p<a.correlationHeaderExcludePatterns[Ft];p++)if(a[mP][p].test(s))return!1}var d=NT(s).host[kf]();if(d&&(Mi(d,":443")!==-1||Mi(d,":80")!==-1)&&(d=(kP(s)||"")[kf]()),(!a||!a.enableCorsCorrelation)&&d&&d!==l)return!1;var m=a&&a.correlationHeaderDomains;if(m){var y;if(Xe(m,function(I){var D=new RegExp(I.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));y=y||D.test(d)}),!y)return!1}var f=a&&a.correlationHeaderExcludedDomains;if(!f||f[Ft]===0)return!0;for(var p=0;p<f[Ft];p++){var E=new RegExp(f[p].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(E.test(d))return!1}return d&&d[Ft]>0}function AP(a){if(a){var s=Hq(a,Tn[1]);if(s&&s!==$q)return s}}function Hq(a,s){if(a)for(var l=a[Dd](","),p=0;p<l[Ft];++p){var d=l[p][Dd]("=");if(d[Ft]===2&&d[0]===s)return d[1]}}function qq(a,s,l,p){var d,m=p,y=p;if(s&&s[Ft]>0){var f=NT(s);if(d=f.host,!m)if(f[DT]!=null){var E=f.pathname[Ft]===0?"/":f[DT];E.charAt(0)!=="/"&&(E="/"+E),y=f[DT],m=lr(a,l?l+" "+E:E)}else m=lr(a,s)}else d=p,m=p;return{target:d,name:m,data:y}}function Ty(){var a=ts();if(a&&a.now&&a.timing){var s=a.now()+a.timing.navigationStart;if(s>0)return s}return ro()}function _i(a,s){var l=null;return a!==0&&s!==0&&!Ce(a)&&!Ce(s)&&(l=s-a),l}function OT(a,s){var l=a||{};return{getName:function(){return l[Fa]},setName:function(p){s&&s.setName(p),l[Fa]=p},getTraceId:function(){return l.traceID},setTraceId:function(p){s&&s.setTraceId(p),iT(p)&&(l.traceID=p)},getSpanId:function(){return l.parentID},setSpanId:function(p){s&&s.setSpanId(p),aT(p)&&(l.parentID=p)},getTraceFlags:function(){return l.traceFlags},setTraceFlags:function(p){s&&s.setTraceFlags(p),l.traceFlags=p}}}var Cf=I_({LocalStorage:0,SessionStorage:1}),iu=void 0,au=void 0,CP="";function jT(){return Ey()?ky(Cf.LocalStorage):null}function ky(a){try{if(Ce(ma()))return null;var s=new Date()[Ld](),l=Hn(a===Cf.LocalStorage?"localStorage":"sessionStorage"),p=CP+s;l.setItem(p,s);var d=l.getItem(p)!==s;if(l[AT](p),!d)return l}catch{}return null}function FT(){return If()?ky(Cf.SessionStorage):null}function Gq(){iu=!1,au=!1}function BT(a){CP=a||""}function Kq(){iu=Ey(!0),au=If(!0)}function Ey(a){return(a||iu===void 0)&&(iu=!!ky(Cf.LocalStorage)),iu}function IP(a,s){var l=jT();if(l!==null)try{return l.getItem(s)}catch(p){iu=!1,Be(a,2,1,"Browser failed read of local storage. "+fn(p),{exception:Ze(p)})}return null}function MP(a,s,l){var p=jT();if(p!==null)try{return p.setItem(s,l),!0}catch(d){iu=!1,Be(a,2,3,"Browser failed write to local storage. "+fn(d),{exception:Ze(d)})}return!1}function Wq(a,s){var l=jT();if(l!==null)try{return l[AT](s),!0}catch(p){iu=!1,Be(a,2,5,"Browser failed removal of local storage item. "+fn(p),{exception:Ze(p)})}return!1}function If(a){return(a||au===void 0)&&(au=!!ky(Cf.SessionStorage)),au}function VT(a,s){var l=FT();if(l!==null)try{return l.getItem(s)}catch(p){au=!1,Be(a,2,2,"Browser failed read of session storage. "+fn(p),{exception:Ze(p)})}return null}function _P(a,s,l){var p=FT();if(p!==null)try{return p.setItem(s,l),!0}catch(d){au=!1,Be(a,2,4,"Browser failed write to session storage. "+fn(d),{exception:Ze(d)})}return!1}function PP(a,s){var l=FT();if(l!==null)try{return l[AT](s),!0}catch(p){au=!1,Be(a,2,6,"Browser failed removal of session storage item. "+fn(p),{exception:Ze(p)})}return!1}var Xq="appInsightsThrottle",Yq=function(){function a(s,l){var p=this,d,m,y,f,E,I,D,U=!1,N=!1;w(),p._getDbgPlgTargets=function(){return[D]},p.getConfig=function(){return y},p.canThrottle=function(z){var Y=te(z),we=F(z);return ne(we,d,Y)},p.isTriggered=function(z){return se(z)},p.isReady=function(){return U},p.flush=function(z){try{var Y=Re(z);if(Y&&Y[Ft]>0){var we=Y.slice(0);return D[z]=[],Xe(we,function(Q){R(Q.msgID,Q[ru],Q.severity,!1)}),!0}}catch{}return!1},p.flushAll=function(){try{if(D){var z=!0;return Kt(D,function(Y){var we=p.flush(parseInt(Y));z=z&&we}),z}}catch{}return!1},p.onReadyState=function(z,Y){return Y===void 0&&(Y=!0),U=Ce(z)?!0:z,U&&Y?p.flushAll():null},p.sendMessage=function(z,Y,we){return R(z,Y,we,!0)};function R(z,Y,we,Q){if(U){var je=k(z);if(!je)return;var qe=F(z),pt=te(z),K=ne(qe,d,pt),de=!1,X=0,L=se(z);try{K&&!L?(X=Math.min(qe.limit.maxSendNumber,pt[Rd]+1),pt[Rd]=0,de=!0,E[z]=!0,pt[CT]=new Date):(E[z]=K,pt[Rd]+=1);var Ue=ve(z);J(m,Ue,pt);for(var ut=0;ut<X;ut++)xe(z,m,Y,we)}catch{}return{isThrottled:de,throttleNum:X}}else if(Q){var xt=Re(z);xt[vy]({msgID:z,message:Y,severity:we})}return null}function w(){m=al(s),E={},f={},D={},y={},q(109),I=il(l)?l:"",s.addUnloadHook(nr(s.config,function(z){var Y=z.cfg;d=Ey();var we=Y.throttleMgrCfg||{};Kt(we,function(Q,je){q(parseInt(Q),je)})}))}function F(z){return y[z]||y[109]}function q(z,Y){var we,Q;try{var je=Y||{},qe={};qe[IT]=!!je[IT];var pt=je[MT]||{};N=pt?.daysOfMonth&&pt?.daysOfMonth[Ft]>0,qe[MT]=Z(pt);var K={samplingRate:((we=je.limit)===null||we===void 0?void 0:we.samplingRate)||100,maxSendNumber:((Q=je.limit)===null||Q===void 0?void 0:Q.maxSendNumber)||1};qe.limit=K,y[z]=qe}catch{}}function Z(z){z=z||{};var Y=z?.monthInterval,we=z?.dayInterval;return Ce(Y)&&Ce(we)&&(z.monthInterval=3,N||(z[gP]=[28],N=!0)),z={monthInterval:z?.monthInterval,dayInterval:z?.dayInterval,daysOfMonth:z?.daysOfMonth},z}function ne(z,Y,we){if(z&&!z[IT]&&Y&&il(we)){var Q=Se(),je=we[_T],qe=z[MT],pt=1;if(qe!=null&&qe.monthInterval){var K=(Q.getUTCFullYear()-je.getUTCFullYear())*12+Q.getUTCMonth()-je.getUTCMonth();pt=_e(qe.monthInterval,0,K)}var de=1;if(N)de=Hr(qe[gP],Q[PT]());else if(qe!=null&&qe.dayInterval){var X=Math.floor((Q.getTime()-je.getTime())/864e5);de=_e(qe.dayInterval,0,X)}return pt>=0&&de>=0}return!1}function ve(z,Y){var we=il(Y)?Y:"";return z?Xq+we+"-"+z:null}function pe(z){try{if(z){var Y=new Date;return z.getUTCFullYear()===Y.getUTCFullYear()&&z.getUTCMonth()===Y.getUTCMonth()&&z[PT]()===Y[PT]()}}catch{}return!1}function Ee(z,Y,we){try{var Q={date:Se(),count:0};if(z){var je=JSON.parse(z),qe={date:Se(je[_T])||Q[_T],count:je[Rd]||Q[Rd],preTriggerDate:je.preTriggerDate?Se(je[CT]):void 0};return qe}else return J(Y,we,Q),Q}catch{}return null}function Se(z){try{if(z){var Y=new Date(z);if(!isNaN(Y.getDate()))return Y}else return new Date}catch{}return null}function J(z,Y,we){try{return MP(z,Y,sr(JSON[yy](we)))}catch{}return!1}function _e(z,Y,we){return z<=0?1:we>=Y&&(we-Y)%z==0?Math.floor((we-Y)/z)+1:-1}function xe(z,Y,we,Q){Be(Y,Q||1,z,we)}function k(z){try{var Y=F(z);return dH(1e6)<=Y.limit.samplingRate}catch{}return!1}function te(z){try{var Y=f[z];if(!Y){var we=ve(z,I);Y=Ee(IP(m,we),m,we),f[z]=Y}return f[z]}catch{}return null}function se(z){var Y=E[z];if(Ce(Y)){Y=!1;var we=te(z);we&&(Y=pe(we[CT])),E[z]=Y}return E[z]}function Re(z){return D=D||{},Ce(D[z])&&(D[z]=[]),D[z]}}return a}(),Zq=";",Qq="=";function DP(a){if(!a)return{};var s=a[Dd](Zq),l=qz(s,function(d,m){var y=m[Dd](Qq);if(y[Ft]===2){var f=y[0][kf](),E=y[1];d[f]=E}return d},{});if(Jo(l)[Ft]>0){if(l.endpointsuffix){var p=l.location?l.location+".":"";l[cl]=l[cl]||"https://"+p+"dc."+l.endpointsuffix}l[cl]=l[cl]||kT,v_(l[cl],"/")&&(l[cl]=l[cl].slice(0,-1))}return l}var Jq=function(){function a(s,l,p){var d=this,m=this;m.ver=1,m.sampleRate=100,m.tags={},m[Fa]=lr(s,p)||fo,m.data=l,m.time=Td(new Date),m.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return d.sampleRate===100?4:1},tags:1,data:1}}return a}(),ou=function(){function a(s,l,p,d){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var m=this;m.ver=2,m[Fa]=lr(s,l)||fo,m[go]=pl(s,p),m[cs]=hl(s,d)}return a.envelopeType="Microsoft.ApplicationInsights.{0}.Event",a.dataType="EventData",a}(),eG="<no_method>",Fd="error",Pi="stack",zT="stackDetails",LP="errorSrc",$T="message",RP="description";function HT(a,s){var l=a;return l&&!Tt(l)&&(JSON&&JSON[yy]?(l=JSON[yy](a),s&&(!l||l==="{}")&&(_t(a[Ld])?l=a[Ld]():l=""+a)):l=""+a+" - (Missing JSON.stringify)"),l||""}function NP(a,s){var l=a;return a&&(l&&!Tt(l)&&(l=a[$T]||a[RP]||l),l&&!Tt(l)&&(l=HT(l,!0)),a.filename&&(l=l+" @"+(a.filename||"")+":"+(a.lineno||"?")+":"+(a.colno||"?"))),s&&s!=="String"&&s!=="Object"&&s!=="Error"&&Mi(l||"",s)===-1&&(l=s+": "+l),l||""}function tG(a){try{if(Ci(a))return"hasFullStack"in a&&"typeName"in a}catch{}return!1}function nG(a){try{if(Ci(a))return"ver"in a&&"exceptions"in a&&"properties"in a}catch{}return!1}function UP(a){return a&&a.src&&Tt(a.src)&&a.obj&&qt(a.obj)}function fl(a){var s=a||"";Tt(s)||(Tt(s[Pi])?s=s[Pi]:s=""+s);var l=s[Dd](`
`);return{src:s,obj:l}}function rG(a){for(var s=[],l=a[Dd](`
`),p=0;p<l[Ft];p++){var d=l[p];l[p+1]&&(d+="@"+l[p+1],p++),s[vy](d)}return{src:a,obj:s}}function OP(a){var s=null;if(a)try{if(a[Pi])s=fl(a[Pi]);else if(a[Fd]&&a[Fd][Pi])s=fl(a[Fd][Pi]);else if(a.exception&&a.exception[Pi])s=fl(a.exception[Pi]);else if(UP(a))s=a;else if(UP(a[zT]))s=a[zT];else if(Xi()&&Xi().opera&&a[$T])s=rG(a[ru]);else if(a.reason&&a.reason[Pi])s=fl(a.reason[Pi]);else if(Tt(a))s=fl(a);else{var l=a[$T]||a[RP]||"";Tt(a[LP])&&(l&&(l+=`
`),l+=" from "+a[LP]),l&&(s=fl(l))}}catch(p){s=fl(p)}return s||{src:"",obj:null}}function iG(a){var s="";return a&&(a.obj?Xe(a.obj,function(l){s+=l+`
`}):s=a.src||""),s}function aG(a){var s,l=a.obj;if(l&&l[Ft]>0){s=[];var p=0,d=0;Xe(l,function(w){var F=w[Ld]();if(GT.regex.test(F)){var q=new GT(F,p++);d+=q[Ud],s[vy](q)}});var m=32*1024;if(d>m)for(var y=0,f=s[Ft]-1,E=0,I=y,D=f;y<f;){var U=s[y][Ud],N=s[f][Ud];if(E+=U+N,E>m){var R=D-I+1;s.splice(I,R);break}I=y,D=f,y++,f--}}return s}function Ay(a){var s="";if(a&&(s=a.typeName||a[Fa]||"",!s))try{var l=/function (.{1,200})\(/,p=l.exec(a.constructor[Ld]());s=p&&p[Ft]>1?p[1]:""}catch{}return s}function qT(a){if(a)try{if(!Tt(a)){var s=Ay(a),l=HT(a,!1);return(!l||l==="{}")&&(a[Fd]&&(a=a[Fd],s=Ay(a)),l=HT(a,!0)),Mi(l,s)!==0&&s!=="String"?s+":"+l:l}}catch{}return""+(a||"")}var wa=function(){function a(s,l,p,d,m,y){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var f=this;f.ver=2,nG(l)?(f[Nd]=l[Nd]||[],f[go]=l[go],f[cs]=l[cs],l[Ef]&&(f[Ef]=l[Ef]),l.id&&(f.id=l.id,l[go].id=l.id),l[LT]&&(f[LT]=l[LT]),Ce(l[RT])||(f[RT]=l[RT])):(p||(p={}),y&&(p.id=y),f[Nd]=[new jP(s,l,p)],f[go]=pl(s,p),f[cs]=hl(s,d),m&&(f[Ef]=m),y&&(f.id=y))}return a.CreateAutoException=function(s,l,p,d,m,y,f,E){var I,D=Ay(m||y||s);return I={},I[ru]=NP(s,D),I.url=l,I.lineNumber=p,I.columnNumber=d,I.error=qT(m||y||s),I.evt=qT(y||s),I[ds]=D,I.stackDetails=OP(f||m||y),I.errorSrc=E,I},a.CreateFromInterface=function(s,l,p,d){var m=l[Nd]&&Zh(l[Nd],function(f){return jP[vP](s,f)}),y=new a(s,li(li({},l),{exceptions:m}),p,d);return y},a.prototype.toInterface=function(){var s,l=this,p=l.exceptions,d=l.properties,m=l.measurements,y=l.severityLevel,f=l.problemGroup,E=l.id,I=l.isManual,D=p instanceof Array&&Zh(p,function(U){return U.toInterface()})||void 0;return s={ver:"4.0"},s[Nd]=D,s.severityLevel=y,s.properties=d,s.measurements=m,s.problemGroup=f,s.id=E,s.isManual=I,s},a.CreateSimpleException=function(s,l,p,d,m,y){var f;return{exceptions:[(f={},f[by]=!0,f.message=s,f.stack=m,f.typeName=l,f)]}},a.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",a.dataType="ExceptionData",a.formatError=qT,a}(),jP=function(){function a(s,l,p){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var d=this;if(tG(l))d[ds]=l[ds],d[ru]=l[ru],d[Pi]=l[Pi],d[Ba]=l[Ba]||[],d[by]=l[by];else{var m=l,y=m&&m.evt;Tx(m)||(m=m[Fd]||y||m),d[ds]=lr(s,Ay(m))||fo,d[ru]=wP(s,NP(l||m,d[ds]))||fo;var f=l[zT]||OP(l);d[Ba]=aG(f),qt(d[Ba])&&Zh(d[Ba],function(E){E[Od]=lr(s,E[Od]),E[dl]=lr(s,E[dl])}),d[Pi]=Nq(s,iG(f)),d.hasFullStack=qt(d.parsedStack)&&d.parsedStack[Ft]>0,p&&(p[ds]=p[ds]||d[ds])}}return a.prototype.toInterface=function(){var s,l=this,p=l[Ba]instanceof Array&&Zh(l[Ba],function(m){return m.toInterface()}),d=(s={id:l.id,outerId:l.outerId,typeName:l[ds],message:l[ru],hasFullStack:l[by],stack:l[Pi]},s[Ba]=p||void 0,s);return d},a.CreateFromInterface=function(s,l){var p=l[Ba]instanceof Array&&Zh(l[Ba],function(m){return GT[vP](m)})||l[Ba],d=new a(s,li(li({},l),{parsedStack:p}));return d},a}(),GT=function(){function a(s,l){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var p=this;if(p[Ud]=0,typeof s=="string"){var d=s;p[wy]=l,p[jd]=eG,p[Od]=sr(d),p[dl]="",p[Af]=0;var m=d.match(a.regex);m&&m[Ft]>=5&&(p[jd]=sr(m[2])||p[jd],p[dl]=sr(m[4]),p[Af]=parseInt(m[5])||0)}else p[wy]=s[wy],p[jd]=s[jd],p[Od]=s[Od],p[dl]=s[dl],p[Af]=s[Af],p[Ud]=0;p.sizeInBytes+=p.method[Ft],p.sizeInBytes+=p.fileName[Ft],p.sizeInBytes+=p.assembly[Ft],p[Ud]+=a.baseSize,p.sizeInBytes+=p.level.toString()[Ft],p.sizeInBytes+=p.line.toString()[Ft]}return a.CreateFromInterface=function(s){return new a(s,null)},a.prototype.toInterface=function(){var s=this;return{level:s[wy],method:s[jd],assembly:s[Od],fileName:s[dl],line:s[Af]}},a.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,a.baseSize=58,a}(),oG=function(){function a(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return a}(),gl=function(){function a(s,l,p,d,m,y,f,E,I){this.aiDataContract={ver:1,metrics:1,properties:0};var D=this;D.ver=2;var U=new oG;U[Rd]=d>0?d:void 0,U.max=isNaN(y)||y===null?void 0:y,U.min=isNaN(m)||m===null?void 0:m,U[Fa]=lr(s,l)||fo,U.value=p,U.stdDev=isNaN(f)||f===null?void 0:f,D.metrics=[U],D[go]=pl(s,E),D[cs]=hl(s,I)}return a.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",a.dataType="MetricData",a}(),Mf="";function su(a){(isNaN(a)||a<0)&&(a=0),a=Math.round(a);var s=Mf+a%1e3,l=Mf+Math.floor(a/1e3)%60,p=Mf+Math.floor(a/(1e3*60))%60,d=Mf+Math.floor(a/(1e3*60*60))%24,m=Math.floor(a/(1e3*60*60*24));return s=s[Ft]===1?"00"+s:s[Ft]===2?"0"+s:s,l=l[Ft]<2?"0"+l:l,p=p[Ft]<2?"0"+p:p,d=d[Ft]<2?"0"+d:d,(m>0?m+".":Mf)+d+":"+p+":"+l+"."+s}function sG(a,s,l,p,d){return!d&&Tt(a)&&(a==="Script error."||a==="Script error")}var uu=function(){function a(s,l,p,d,m,y,f){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var E=this;E.ver=2,E.id=Uq(s,f),E.url=Sy(s,p),E[Fa]=lr(s,l)||fo,isNaN(d)||(E[xy]=su(d)),E[go]=pl(s,m),E[cs]=hl(s,y)}return a.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",a.dataType="PageviewData",a}(),ml=function(){function a(s,l,p,d,m,y,f,E,I,D,U,N){I===void 0&&(I="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var R=this;R.ver=2,R.id=l,R[xy]=su(m),R.success=y,R.resultCode=f+"",R.type=lr(s,I);var w=qq(s,p,E,d);R.data=Sy(s,d)||w.data,R.target=lr(s,w.target),D&&(R.target="".concat(R.target," | ").concat(D)),R[Fa]=lr(s,w[Fa]),R[go]=pl(s,U),R[cs]=hl(s,N)}return a.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",a.dataType="RemoteDependencyData",a}(),Bd=function(){function a(s,l,p,d,m){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var y=this;y.ver=2,l=l||fo,y[ru]=wP(s,l),y[go]=pl(s,d),y[cs]=hl(s,m),p&&(y[Ef]=p)}return a.envelopeType="Microsoft.ApplicationInsights.{0}.Message",a.dataType="MessageData",a}(),Vd=function(){function a(s,l,p,d,m,y,f){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var E=this;E.ver=2,E.url=Sy(s,p),E[Fa]=lr(s,l)||fo,E[go]=pl(s,m),E[cs]=hl(s,y),f&&(E.domProcessing=f.domProcessing,E[xy]=f[xy],E.networkConnect=f.networkConnect,E.perfTotal=f.perfTotal,E[yP]=f[yP],E.sentRequest=f.sentRequest)}return a.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",a.dataType="PageviewPerformanceData",a}(),vl=function(){function a(s,l){this.aiDataContract={baseType:1,baseData:1},this.baseType=s,this.baseData=l}return a}();function lu(a){var s="ai."+a+".";return function(l){return s+l}}var _f=lu("application"),br=lu("device"),Cy=lu("location"),zd=lu("operation"),KT=lu("session"),cu=lu("user"),yl=lu("cloud"),Pf=lu("internal"),FP=function(a){rs(s,a);function s(){return a.call(this)||this}return s}(B$({applicationVersion:_f("ver"),applicationBuild:_f("build"),applicationTypeId:_f("typeId"),applicationId:_f("applicationId"),applicationLayer:_f("layer"),deviceId:br("id"),deviceIp:br("ip"),deviceLanguage:br("language"),deviceLocale:br("locale"),deviceModel:br("model"),deviceFriendlyName:br("friendlyName"),deviceNetwork:br("network"),deviceNetworkName:br("networkName"),deviceOEMName:br("oemName"),deviceOS:br("os"),deviceOSVersion:br("osVersion"),deviceRoleInstance:br("roleInstance"),deviceRoleName:br("roleName"),deviceScreenResolution:br("screenResolution"),deviceType:br("type"),deviceMachineName:br("machineName"),deviceVMName:br("vmName"),deviceBrowser:br("browser"),deviceBrowserVersion:br("browserVersion"),locationIp:Cy("ip"),locationCountry:Cy("country"),locationProvince:Cy("province"),locationCity:Cy("city"),operationId:zd("id"),operationName:zd("name"),operationParentId:zd("parentId"),operationRootId:zd("rootId"),operationSyntheticSource:zd("syntheticSource"),operationCorrelationVector:zd("correlationVector"),sessionId:KT("id"),sessionIsFirst:KT("isFirst"),sessionIsNew:KT("isNew"),userAccountAcquisitionDate:cu("accountAcquisitionDate"),userAccountId:cu("accountId"),userAgent:cu("userAgent"),userId:cu("id"),userStoreRegion:cu("storeRegion"),userAuthUserId:cu("authUserId"),userAnonymousUserAcquisitionDate:cu("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:cu("authUserAcquisitionDate"),cloudName:yl("name"),cloudRole:yl("role"),cloudRoleVer:yl("roleVer"),cloudRoleInstance:yl("roleInstance"),cloudEnvironment:yl("environment"),cloudLocation:yl("location"),cloudDeploymentUnit:yl("deploymentUnit"),internalNodeName:Pf("nodeName"),internalSdkVersion:Pf("sdkVersion"),internalAgentVersion:Pf("agentVersion"),internalSnippet:Pf("snippet"),internalSdkSrc:Pf("sdkSrc")}));function du(a,s,l,p,d,m){var y;l=lr(p,l)||fo,(Ce(a)||Ce(s)||Ce(l))&&Wi("Input doesn't contain all required fields");var f="";a[ET]&&(f=a[ET],delete a[ET]);var E=(y={},y[Fa]=l,y.time=Td(new Date),y.iKey=f,y.ext=m||{},y.tags=[],y.data={},y.baseType=s,y.baseData=a,y);return Ce(d)||Kt(d,function(I,D){E.data[I]=D}),E}var Yi={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},Dn=new FP;function Df(a){var s=null;if(_t(Event))s=new Event(a);else{var l=Rr();l&&l.createEvent&&(s=l.createEvent("Event"),s.initEvent(a,!0,!0))}return s}function BP(a,s){_d(a,null,null,s)}function uG(a){var s=Rr(),l=no(),p=!1,d=[],m=1;l&&!Ce(l.onLine)&&!l.onLine&&(m=2);var y=0,f=N(),E=nu(ya("OfflineListener"),a);try{if(D(Xi())&&(p=!0),s){var I=s.body||s;I.ononline&&D(I)&&(p=!0)}}catch{p=!1}function D(ve){var pe=!1;return ve&&(pe=ls(ve,"online",F,E),pe&&ls(ve,"offline",q,E)),pe}function U(){return f}function N(){return!(y===2||m===2)}function R(){var ve=N();f!==ve&&(f=ve,Xe(d,function(pe){var Ee={isOnline:f,rState:m,uState:y};try{pe(Ee)}catch{}}))}function w(ve){y=ve,R()}function F(){m=1,R()}function q(){m=2,R()}function Z(){var ve=Xi();if(ve&&p){if(BP(ve,E),s){var pe=s.body||s;$n(pe.ononline)||BP(pe,E)}p=!1}}function ne(ve){return d[vy](ve),{rm:function(){var pe=d.indexOf(ve);if(pe>-1)return d.splice(pe,1)}}}return{isOnline:U,isListening:function(){return p},unload:Z,addListener:ne,setOnlineState:w}}var Iy="AppInsightsPropertiesPlugin",VP="AppInsightsChannelPlugin",zP="ApplicationInsightsAnalytics",My="toString",WT="isStorageUseDisabled",$d="_addHook",Nr="core",pu="dataType",bl="envelopeType",Zi="diagLog",wl="track",_y="trackPageView",XT="trackPreviousPageVisit",xl="sendPageViewInternal",Hd="startTime",Lf="properties",mo="duration",YT="sendPageViewPerformanceInternal",ZT="populatePageViewPerformanceEvent",Rf="href",$P="sendExceptionInternal",QT="exception",Nf="error",JT="_onerror",ek="errorSrc",tk="lineNumber",nk="columnNumber",HP="message",rk="CreateAutoException",Py="addTelemetryInitializer",lG="overridePageViewDuration",qP="autoTrackPageVisitTime",GP="isBrowserLinkTrackingEnabled",Uf="length",KP="enableAutoRouteTracking",WP="enableUnhandledPromiseRejectionTracking",ik="autoUnhandledPromiseInstrumented",ak="getEntriesByType",XP="isPerformanceTimingSupported",YP="getPerformanceTiming",Dy="navigationStart",ok="shouldCollectDuration",ZP="isPerformanceTimingDataReady",Of="responseStart",cG="requestStart",Ly="loadEventEnd",sk="responseEnd",Ry="connectEnd",QP="pageVisitStartTime",dG=function(){function a(s,l,p,d){Pn(a,this,function(m){var y=null,f=[],E=!1,I=!1,D;p&&(D=p.logger);function U(w){p&&p.flush(w,function(){})}function N(){y||(y=va(function(){y=null;var w=f.slice(0),F=!1;f=[],Xe(w,function(q){q()?F=!0:f.push(q)}),f[Uf]>0&&N(),F&&U(!0)},100))}function R(w){f.push(w),N()}m[_y]=function(w,F){var q=w.name;if(Ce(q)||typeof q!="string"){var Z=Rr();q=w.name=Z&&Z.title||""}var ne=w.uri;if(Ce(ne)||typeof ne!="string"){var ve=co();ne=w.uri=ve&&ve[Rf]||""}if(!I){var pe=ts(),Ee=pe&&pe[ak]&&pe[ak]("navigation");if(Ee&&Ee[0]&&!$n(pe.timeOrigin)){var Se=Ee[0].loadEventStart;w[Hd]=new Date(pe.timeOrigin+Se)}else{var J=(F||w[Lf]||{})[mo]||0;w[Hd]=new Date(new Date().getTime()-J)}I=!0}if(!d[XP]()){s[xl](w,F),U(!0),a_()||Be(D,2,25,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");return}var _e=!1,xe,k=d[YP]()[Dy];k>0&&(xe=_i(k,+new Date),d[ok](xe)||(xe=void 0));var te;!Ce(F)&&!Ce(F[mo])&&(te=F[mo]),(l||!isNaN(te))&&(isNaN(te)&&(F||(F={}),F[mo]=xe),s[xl](w,F),U(!0),_e=!0);var se=6e4;F||(F={}),R(function(){var Re=!1;try{if(d[ZP]()){Re=!0;var z={name:q,uri:ne};d[ZT](z),!z.isValid&&!_e?(F[mo]=xe,s[xl](w,F)):(_e||(F[mo]=z.durationMs,s[xl](w,F)),E||(s[YT](z,F),E=!0))}else k>0&&_i(k,+new Date)>se&&(Re=!0,_e||(F[mo]=se,s[xl](w,F)))}catch(Y){Be(D,1,38,"trackPageView failed on page load calculation: "+fn(Y),{exception:Ze(Y)})}return Re})},m.teardown=function(w,F){if(y){y.cancel(),y=null;var q=f.slice(0);f=[],Xe(q,function(Z){Z()})}}})}return a.__ieDyn=1,a}(),pG=36e5,JP=["googlebot","adsbot-google","apis-google","mediapartners-google"];function eD(){var a=ts();return a&&!!a.timing}function hG(){var a=ts();return a&&a.getEntriesByType&&a.getEntriesByType("navigation")[Uf]>0}function fG(){var a=ts(),s=a?a.timing:0;return s&&s.domainLookupStart>0&&s[Dy]>0&&s[Of]>0&&s[cG]>0&&s[Ly]>0&&s[sk]>0&&s[Ry]>0&&s.domLoading>0}function tD(){return eD()?ts().timing:null}function gG(){return hG()?ts()[ak]("navigation")[0]:null}function mG(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var l=no()||{},p=l.userAgent,d=!1;if(p)for(var m=0;m<JP[Uf];m++)d=d||Mi(p.toLowerCase(),JP[m])!==-1;if(d)return!1;for(var m=0;m<a[Uf];m++)if(a[m]<0||a[m]>=pG)return!1;return!0}var vG=function(){function a(s){var l=al(s);Pn(a,this,function(p){p[ZT]=function(d){d.isValid=!1;var m=gG(),y=tD(),f=0,E=0,I=0,D=0,U=0;(m||y)&&(m?(f=m[mo],E=m[Hd]===0?m[Ry]:_i(m[Hd],m[Ry]),I=_i(m.requestStart,m[Of]),D=_i(m[Of],m[sk]),U=_i(m.responseEnd,m[Ly])):(f=_i(y[Dy],y[Ly]),E=_i(y[Dy],y[Ry]),I=_i(y.requestStart,y[Of]),D=_i(y[Of],y[sk]),U=_i(y.responseEnd,y[Ly])),f===0?Be(l,2,10,"error calculating page view performance.",{total:f,network:E,request:I,response:D,dom:U}):p[ok](f,E,I,D,U)?f<Math.floor(E)+Math.floor(I)+Math.floor(D)+Math.floor(U)?Be(l,2,8,"client performance math error.",{total:f,network:E,request:I,response:D,dom:U}):(d.durationMs=f,d.perfTotal=d[mo]=su(f),d.networkConnect=su(E),d.sentRequest=su(I),d.receivedResponse=su(D),d.domProcessing=su(U),d.isValid=!0):Be(l,2,45,"Invalid page load duration value. Browser perf data won't be sent.",{total:f,network:E,request:I,response:D,dom:U}))},p[YP]=tD,p[XP]=eD,p[ZP]=fG,p[ok]=mG})}return a.__ieDyn=1,a}(),yG=function(){function a(s,l){var p="prevPageVisitData";Pn(a,this,function(d){d[XT]=function(f,E){try{var I=m(f,E);I&&l(I.pageName,I.pageUrl,I.pageVisitTime)}catch(D){ol(s,"Auto track page visit time failed, metric will not be collected: "+Ze(D))}};function m(f,E){var I=null;try{if(I=y(),If()){VT(s,p)!=null&&Wi("Cannot call startPageVisit consecutively without first calling stopPageVisit");var D=Ua().stringify(new bG(f,E));_P(s,p,D)}}catch(U){ol(s,"Call to restart failed: "+Ze(U)),I=null}return I}function y(){var f=null;try{if(If()){var E=ro(),I=VT(s,p);I&&hf()&&(f=Ua().parse(I),f.pageVisitTime=E-f[QP],PP(s,p))}}catch(D){ol(s,"Stop page visit timer failed: "+Ze(D)),f=null}return f}dn(d,"_logger",{g:function(){return s}}),dn(d,"pageVisitTimeTrackingHandler",{g:function(){return l}})})}return a.__ieDyn=1,a}(),bG=function(){function a(s,l){this[QP]=ro(),this.pageName=s,this.pageUrl=l}return a}(),nD=function(){function a(s,l){var p=this,d={};p.start=function(m){typeof d[m]<"u"&&Be(s,2,62,"start was called more than once for this event without calling stop.",{name:m,key:m},!0),d[m]=+new Date},p.stop=function(m,y,f,E){var I=d[m];if(isNaN(I))Be(s,2,63,"stop was called without a corresponding start.",{name:m,key:m},!0);else{var D=+new Date,U=_i(I,D);p.action(m,y,U,f,E)}delete d[m],d[m]=void 0}}return a}(),pi,wG="event";function jf(a,s){a&&a.dispatchEvent&&s&&a.dispatchEvent(s)}function xG(a){if(a&&a.reason){var s=a.reason;return!Tt(s)&&_t(s[My])?s[My]():Ze(s)}return a||""}var rD=6e4,SG=id((pi={sessionRenewalMs:w6(iD,30*60*1e3),sessionExpirationMs:w6(iD,24*60*60*1e3),disableExceptionTracking:ur()},pi[qP]=ur(),pi[lG]=ur(),pi[WP]=ur(),pi[ik]=!1,pi.samplingPercentage=ty(TG,100),pi[WT]=ur(),pi[GP]=ur(),pi[KP]=ur(),pi.namePrefix=IH(),pi.enableDebug=ur(),pi.disableFlushOnBeforeUnload=ur(),pi.disableFlushOnUnload=ur(!1,"disableFlushOnBeforeUnload"),pi.expCfg=Oa({inclScripts:!1,expLog:void 0,maxLogs:50}),pi));function iD(a,s){return a=a||s,a<rD&&(a=rD),+a}function TG(a){return!isNaN(a)&&a>0&&a<=100}function kG(a){$n(a[WT])||(a[WT]?Gq():Kq())}var EG=function(a){rs(s,a);function s(){var l=a.call(this)||this;l.identifier=zP,l.priority=180,l.autoRoutePVDelay=500;var p,d,m,y,f,E,I,D,U,N,R,w,F,q,Z,ne,ve,pe,Ee,Se;return Pn(s,l,function(J,_e){var xe=_e[$d];pt(),J.getCookieMgr=function(){return eT(J[Nr])},J.processTelemetry=function(K,de){J.processNext(K,de)},J.trackEvent=function(K,de){try{var X=du(K,ou[pu],ou[bl],J[Zi](),de);J[Nr][wl](X)}catch(L){qe(2,39,"trackTrace failed, trace will not be collected: "+fn(L),{exception:Ze(L)})}},J.startTrackEvent=function(K){try{p.start(K)}catch(de){qe(1,29,"startTrackEvent failed, event will not be collected: "+fn(de),{exception:Ze(de)})}},J.stopTrackEvent=function(K,de,X){try{p.stop(K,void 0,de,X)}catch(L){qe(1,30,"stopTrackEvent failed, event will not be collected: "+fn(L),{exception:Ze(L)})}},J.trackTrace=function(K,de){try{var X=du(K,Bd[pu],Bd[bl],J[Zi](),de);J[Nr][wl](X)}catch(L){qe(2,39,"trackTrace failed, trace will not be collected: "+fn(L),{exception:Ze(L)})}},J.trackMetric=function(K,de){try{var X=du(K,gl[pu],gl[bl],J[Zi](),de);J[Nr][wl](X)}catch(L){qe(1,36,"trackMetric failed, metric will not be collected: "+fn(L),{exception:Ze(L)})}},J[_y]=function(K,de){try{var X=K||{};m[_y](X,li(li(li({},X.properties),X.measurements),de)),ne&&f[XT](X.name,X.uri)}catch(L){qe(1,37,"trackPageView failed, page view will not be collected: "+fn(L),{exception:Ze(L)})}},J[xl]=function(K,de,X){var L=Rr();if(L&&(K.refUri=K.refUri===void 0?L.referrer:K.refUri),Ce(K[Hd])){var Ue=(de||K[Lf]||{})[mo]||0;K[Hd]=new Date(new Date().getTime()-Ue)}var ut=du(K,uu[pu],uu[bl],J[Zi](),de,X);J[Nr][wl](ut)},J[YT]=function(K,de,X){var L=du(K,Vd[pu],Vd[bl],J[Zi](),de,X);J[Nr][wl](L)},J.trackPageViewPerformance=function(K,de){var X=K||{};try{y[ZT](X),J[YT](X,de)}catch(L){qe(1,37,"trackPageViewPerformance failed, page view will not be collected: "+fn(L),{exception:Ze(L)})}},J.startTrackPage=function(K){try{if(typeof K!="string"){var de=Rr();K=de&&de.title||""}d.start(K)}catch(X){qe(1,31,"startTrackPage failed, page view may not be collected: "+fn(X),{exception:Ze(X)})}},J.stopTrackPage=function(K,de,X,L){try{if(typeof K!="string"){var Ue=Rr();K=Ue&&Ue.title||""}if(typeof de!="string"){var ut=co();de=ut&&ut[Rf]||""}d.stop(K,de,X,L),ne&&f[XT](K,de)}catch(xt){qe(1,32,"stopTrackPage failed, page view will not be collected: "+fn(xt),{exception:Ze(xt)})}},J[$P]=function(K,de,X){var L=K&&(K[QT]||K[Nf])||Tx(K)&&K||{name:K&&typeof K,message:K||fo};K=K||{};var Ue=new wa(J[Zi](),L,K[Lf]||de,K.measurements,K.severityLevel,K.id).toInterface(),ut=Rr();if(ut&&ve!=null&&ve.inclScripts){var xt=ZH(ut);Ue[Lf].exceptionScripts=JSON.stringify(xt)}if(ve!=null&&ve.expLog){var Dt=ve.expLog();Dt&&Dt.logs&&qt(Dt.logs)&&(Ue[Lf].exceptionLog=Dt.logs.slice(0,ve.maxLogs).join(`
`))}var Xt=du(Ue,wa[pu],wa[bl],J[Zi](),de,X);J[Nr][wl](Xt)},J.trackException=function(K,de){K&&!K[QT]&&K[Nf]&&(K[QT]=K[Nf]);try{J[$P](K,de)}catch(X){qe(1,35,"trackException failed, exception will not be collected: "+fn(X),{exception:Ze(X)})}},J[JT]=function(K){var de=K&&K[Nf],X=K&&K.evt;try{if(!X){var L=Xi();L&&(X=L[wG])}var Ue=K&&K.url||(Rr()||{}).URL,ut=K[ek]||"window.onerror@"+Ue+":"+(K[tk]||0)+":"+(K[nk]||0),xt={errorSrc:ut,url:Ue,lineNumber:K[tk]||0,columnNumber:K[nk]||0,message:K[HP]};sG(K.message,K.url,K.lineNumber,K.columnNumber,K[Nf])?Re(wa[rk]("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",Ue,K[tk]||0,K[nk]||0,de,X,null,ut),xt):(K[ek]||(K[ek]=ut),J.trackException({exception:K,severityLevel:3},xt))}catch(Xt){var Dt=de?de.name+", "+de[HP]:"null";qe(1,11,"_onError threw exception while logging error, error will not be collected: "+fn(Xt),{exception:Ze(Xt),errorString:Dt})}},J[Py]=function(K){if(J[Nr])return J[Nr][Py](K);E||(E=[]),E.push(K)},J.initialize=function(K,de,X,L){if(!J.isInitialized()){Ce(de)&&Wi("Error initializing"),_e.initialize(K,de,X,L);try{Se=nu(ya(J.identifier),de.evtNamespace&&de.evtNamespace()),E&&(Xe(E,function(Ue){de[Py](Ue)}),E=null),k(K),y=new vG(J[Nr]),m=new dG(J,Z.overridePageViewDuration,J[Nr],y),f=new yG(J[Zi](),function(Ue,ut,xt){return te(Ue,ut,xt)}),p=new nD(J[Zi](),"trackEvent"),p.action=function(Ue,ut,xt,Dt,Xt){Dt||(Dt={}),Xt||(Xt={}),Dt.duration=xt[My](),J.trackEvent({name:Ue,properties:Dt,measurements:Xt})},d=new nD(J[Zi](),"trackPageView"),d.action=function(Ue,ut,xt,Dt,Xt){Ce(Dt)&&(Dt={}),Dt.duration=xt[My]();var fi={name:Ue,uri:ut,properties:Dt,measurements:Xt};J[xl](fi,Dt)},mv()&&(z(),Y())}catch(Ue){throw J.setInitialized(!1),Ue}}},J._doTeardown=function(K,de){m&&m.teardown(K,de),_d(window,null,null,Se),pt()};function k(K){var de=J.identifier,X=J[Nr];J[$d](nr(K,function(){var L=ja(null,K,X);Z=L.getExtCfg(de,SG),ve=Z.expCfg,ne=Z[qP],K.storagePrefix&&BT(K.storagePrefix),kG(Z),I=Z[GP],se()}))}function te(K,de,X){var L={PageName:K,PageUrl:de};J.trackMetric({name:"PageVisitTime",average:X,max:X,min:X,sampleCount:1},L)}function se(){if(!D&&I){var K=["/browserLinkSignalR/","/__browserLink/"],de=function(X){if(I&&X.baseType===ml[pu]){var L=X.baseData;if(L){for(var Ue=0;Ue<K[Uf];Ue++)if(L.target&&Mi(L.target,K[Ue])>=0)return!1}}return!0};J[$d](J[Py](de)),D=!0}}function Re(K,de){var X=du(K,wa[pu],wa[bl],J[Zi](),de);J[Nr][wl](X)}function z(){var K=Xi(),de=co(!0);J[$d](nr(Z,function(){R=Z.disableExceptionTracking,!R&&!w&&!Z.autoExceptionInstrumented&&(xe(gy(K,"onerror",{ns:Se,rsp:function(X,L,Ue,ut,xt,Dt){!R&&X.rslt!==!0&&J[JT](wa[rk](L,Ue,ut,xt,Dt,X.evt))}},!1)),w=!0)})),je(K,de)}function Y(){var K=Xi(),de=co(!0);J[$d](nr(Z,function(){if(U=Z[KP]===!0,K&&U&&!N&&Bz()){var X=i_();_t(X.pushState)&&_t(X.replaceState)&&typeof Event!==rS&&Q(K,X,de)}}))}function we(){var K=null;if(J[Nr]&&J[Nr].getTraceCtx&&(K=J[Nr].getTraceCtx(!1)),!K){var de=J[Nr].getPlugin(Iy);if(de){var X=de.plugin.context;X&&(K=OT(X.telemetryTrace))}}return K}function Q(K,de,X){if(N)return;var L=Z.namePrefix||"";function Ue(){U&&jf(K,Df(L+"locationchange"))}function ut(){if(Ee&&(pe=Ee),Ee=X&&X[Rf]||"",U){var xt=we();if(xt){xt.setTraceId(Js());var Dt="_unknown_";X&&X.pathname&&(Dt=X.pathname+(X.hash||"")),xt.setName(lr(J[Zi](),Dt))}va(function(Xt){J[_y]({refUri:Xt,properties:{duration:0}})}.bind(J,pe),J.autoRoutePVDelay)}}xe(gy(de,"pushState",{ns:Se,rsp:function(){U&&(jf(K,Df(L+"pushState")),jf(K,Df(L+"locationchange")))}},!0)),xe(gy(de,"replaceState",{ns:Se,rsp:function(){U&&(jf(K,Df(L+"replaceState")),jf(K,Df(L+"locationchange")))}},!0)),ls(K,L+"popstate",Ue,Se),ls(K,L+"locationchange",ut,Se),N=!0}function je(K,de){J[$d](nr(Z,function(){F=Z[WP]===!0,w=w||Z[ik],F&&!q&&(xe(gy(K,"onunhandledrejection",{ns:Se,rsp:function(X,L){F&&X.rslt!==!0&&J[JT](wa[rk](xG(L),de?de[Rf]:"",0,0,L,X.evt))}},!1)),Z[ik]=q=!0)}))}function qe(K,de,X,L,Ue){J[Zi]().throwInternal(K,de,X,L,Ue)}function pt(){p=null,d=null,m=null,y=null,f=null,E=null,I=!1,D=!1,U=!1,N=!1,R=!1,w=!1,F=!1,q=!1,ne=!1;var K=co(!0);pe=K&&K[Rf]||"",Ee=null,Se=null,Z=null,dn(J,"config",{g:function(){return Z}})}dn(J,"_pageViewManager",{g:function(){return m}}),dn(J,"_pageViewPerformanceManager",{g:function(){return y}}),dn(J,"_pageVisitTimeManager",{g:function(){return f}}),dn(J,"_evtNamespace",{g:function(){return"."+Se}})}),l}return s.Version="3.3.3",s}(Md),Ny="featureOptIn",aD="onCfgChangeReceive",oD="nonOverrideConfigs",sD="scheduleFetchTimeout";function uD(a,s,l,p){try{var d=l>p;d&&(a=null);var m=l==0?a$({},a):a;return m&&s&&!d&&Kt(m,function(y){var f=s[y];f&&(Ci(m[y])&&Ci(f)?m[y]=uD(m[y],f,++l,p):delete m[y])}),m}catch{}return a}var qd="featureOptIn.",lD=".mode",cD=".onCfg",dD=".offCfg";function AG(a,s,l){var p;if(!s||!s.enabled)return null;var d=(s[Ny]||{})[a]||{mode:1},m=d.mode,y=d.onCfg,f=d.offCfg,E=(l||{})[a]||{mode:2},I=E.mode,D=E.onCfg,U=E.offCfg,N=!!E.blockCdnCfg,R=qd+a+lD,w=qd+a+cD,F=qd+a+dD,q=I,Z=D,ne=U;return N||(m===4||m===5?(q=m==4?3:2,Z=y||D,ne=f||U):m===2||I===2?(q=2,Z=D||y,ne=U||f):m===3?(q=3,Z=D||y,ne=U||f):m===1&&I===1&&(q=1)),p={},p[R]=q,p[w]=Z,p[F]=ne,p}function CG(a,s){try{if(!a||!a.enabled)return null;if(!a[Ny])return a.config;var l=a[Ny],p=a.config||{};return Kt(l,function(d){var m=AG(d,a,s.config[Ny]);Ce(m)||(Kt(m,function(y,f){m_(p,y,f)}),IG(d,m,p))}),p}catch{}return null}function IG(a,s,l){var p=s[qd+a+lD],d=s[qd+a+cD],m=s[qd+a+dD],y=null;p===3&&(y=d),p===2&&(y=m),y&&Kt(y,function(f,E){m_(l,f,E)})}var Ff,MG="ai_cfgsync",pD="GET",_G=18e5,Gd=void 0,PG={instrumentationKey:!0,connectionString:!0,endpointUrl:!0},DG=id((Ff={syncMode:1,blkCdnCfg:Gd,customEvtName:Gd,cfgUrl:Gd,overrideSyncFn:Gd,overrideFetchFn:Gd},Ff[aD]=Gd,Ff[sD]=_G,Ff[oD]=PG,Ff)),LG=function(a){rs(s,a);function s(){var l=a.call(this)||this;l.priority=198,l.identifier="AppInsightsCfgSyncPlugin";var p,d,m,y,f,E,I,D,U,N,R,w,F,q,Z,ne,ve=!1;return Pn(s,l,function(pe,Ee){Se(),pe.initialize=function(K,de,X,L){Ee.initialize(K,de,X,L),y=nu(ya(pe.identifier),de.evtNamespace&&de.evtNamespace()),J(K)},pe.getCfg=function(){return d},pe.pause=function(){ve=!0,pt()},pe.resume=function(){ve=!1,qe()},pe.setCfg=function(K){return _e(K)},pe.sync=function(K){return k(K)},pe.updateEventListenerName=function(K){return te(K)},pe._doTeardown=function(K,de){xe(),pt(),Se()},pe._getDbgPlgTargets=function(){return[D,I,m,U,F]};function Se(){d=null,m=null,y=null,f=null,I=null,D=null,F=null,E=null,N=null,R=null,U=null,Z=null,ne=null,w=null}function J(K){var de=pe.identifier,X=pe.core;pe._addHook(nr(K,function(){var L=ja(null,K,X);p=L.getExtCfg(de,DG);var Ue=U;U=!!p.blkCdnCfg,!Ce(Ue)&&Ue!==U&&(!U&&f?q&&q(f,Y,D):pt()),Ce(I)&&(I=p.syncMode===2),Ce(D)&&(D=p.syncMode===1);var ut=p.customEvtName||MG;m!==ut&&(I?te(ut):(xe(),m=ut)),Ce(f)&&(f=p.cfgUrl),f||(d=K,D&&k())})),ne=p.overrideSyncFn,Z=p.overrideFetchFn,w=p[aD],F=p[oD],N=p[sD],q=se(),R=0,f&&!U&&q&&q(f,Y,D)}function _e(K,de){if(K){if(d=K,de&&!ve)return k();if(I&&!ve)return pe.core.updateCfg(K),!0}return!1}function xe(){try{var K=ma();K&&_d(K,null,null,y)}catch{}}function k(K){try{return ne&&_t(ne)?ne(d,K):uH(m,d,K)}catch{}return!1}function te(K){try{return xe(),K&&(m=K,Q()),!0}catch{}return!1}function se(){var K=Z;return Ce(K)&&(FS()?K=Re:Yv()&&(K=z)),K}function Re(K,de,X){var L=ma(),Ue=L&&L.fetch||null;if(K&&Ue&&_t(Ue))try{var ut={method:pD},xt=new Request(K,ut);us(fetch(xt),function(Dt){var Xt=Dt.value;Dt.rejected?we(de,400):Xt.ok?us(Xt.text(),function(fi){we(de,Xt.status,fi.value,X)}):we(de,Xt.status,null,X)})}catch{}}function z(K,de,X){try{var L=new XMLHttpRequest;L.open(pD,K),L.onreadystatechange=function(){L.readyState===XMLHttpRequest.DONE&&we(de,L.status,L.responseText,X)},L.onerror=function(){we(de,400)},L.ontimeout=function(){we(de,400)},L.send()}catch{}}function Y(K,de,X){try{if(K>=200&&K<400&&de){R=0;var L=Ua();if(L){var Ue=L.parse(de),ut=CG(Ue,pe.core),xt=ut&&ui(ut)&&je(ut);xt&&_e(xt,X)}}else R++;R<3&&qe()}catch{}}function we(K,de,X,L){try{K(de,X,L)}catch{}}function Q(){if(I){var K=ma();if(K)try{ls(K,m,function(de){var X=de&&de.detail;if(w&&X)w(X);else{var L=X&&X.cfg,Ue=L&&ui(L)&&je(L);Ue&&_e(Ue)}},y,!0)}catch{}}}function je(K,de){var X=null;try{K&&(X=uD(K,F,0,5))}catch{}return X}function qe(){!E&&N&&(E=va(function(){E=null,q(f,Y,D)},N),E.unref())}function pt(){E&&E.cancel(),E=null,R=0}pe.processTelemetry=function(K,de){pe.processNext(K,de)}}),l}return s.__ieDyn=1,s}(Md),Sl="duration",Ur="tags",uk="deviceType",hi="data",ps="name",Bf="traceID",Wt="length",Vf="stringify",Tl="measurements",vo="dataType",kl="envelopeType",El="toString",zf="_get",Al="enqueue",Cl="count",hD="eventsLimitInMem",hs="push",Uy="item",lk="emitLineDelimitedJson",Kd="clear",ck="createNew",Oy="markAsSent",$f="clearSent",dk="bufferOverride",pk="BUFFER_KEY",hu="SENT_BUFFER_KEY",Wd="concat",Hf="MAX_BUFFER_SIZE",qf="triggerSend",Gr="diagLog",hk="initialize",Gf="_sender",Kf="endpointUrl",Wf="instrumentationKey",fk="customHeaders",fD="maxBatchSizeInBytes",gk="onunloadDisableBeacon",mk="isBeaconApiDisabled",gD="alwaysUseXhrOverride",vk="disableXhr",mD="enableSessionStorageBuffer",fu="_buffer",vD="onunloadDisableFetch",yD="disableSendBeaconSplit",bD="enableSendPromise",jy="getSenderInst",wD="unloadTransports",xD="convertUndefined",SD="maxBatchInterval",Fy="serialize",Il="_onError",yk="_onPartialSuccess",By="_onSuccess",bk="itemsReceived",wk="itemsAccepted",xk="oriPayload",Sk="baseType",Vy="sampleRate",TD="eventsSendRequest",kD="getSamplingScore",RG="getHashCodeScore",Tk="baseType",jn="baseData",Ar="properties",ED="true";function rr(a,s,l){return In(a,s,l,dv)}function NG(a,s,l){var p=l[Ur]=l[Ur]||{},d=s.ext=s.ext||{},m=s[Ur]=s[Ur]||[],y=d.user;y&&(rr(p,Dn.userAuthUserId,y.authId),rr(p,Dn.userId,y.id||y.localId));var f=d.app;f&&rr(p,Dn.sessionId,f.sesId);var E=d.device;E&&(rr(p,Dn.deviceId,E.id||E.localId),rr(p,Dn[uk],E.deviceClass),rr(p,Dn.deviceIp,E.ip),rr(p,Dn.deviceModel,E.model),rr(p,Dn[uk],E[uk]));var I=s.ext.web;if(I){rr(p,Dn.deviceLanguage,I.browserLang),rr(p,Dn.deviceBrowserVersion,I.browserVer),rr(p,Dn.deviceBrowser,I.browser);var D=l[hi]=l[hi]||{},U=D[jn]=D[jn]||{},N=U[Ar]=U[Ar]||{};rr(N,"domain",I.domain),rr(N,"isManual",I.isManual?ED:null),rr(N,"screenRes",I.screenRes),rr(N,"userConsent",I.userConsent?ED:null)}var R=d.os;R&&(rr(p,Dn.deviceOS,R[ps]),rr(p,Dn.deviceOSVersion,R.osVer));var w=d.trace;w&&(rr(p,Dn.operationParentId,w.parentID),rr(p,Dn.operationName,lr(a,w[ps])),rr(p,Dn.operationId,w[Bf]));for(var F={},q=m[Wt]-1;q>=0;q--){var Z=m[q];Kt(Z,function(ve,pe){F[ve]=pe}),m.splice(q,1)}Kt(m,function(ve,pe){F[ve]=pe});var ne=li(li({},p),F);ne[Dn.internalSdkVersion]||(ne[Dn.internalSdkVersion]=lr(a,"javascript:".concat(UG.Version),64)),l[Ur]=Q_(ne)}function gu(a,s,l){Ce(a)||Kt(a,function(p,d){Wh(d)?l[p]=d:Tt(d)?s[p]=d:hf()&&(s[p]=Ua()[Vf](d))})}function Ml(a,s){Ce(a)||Kt(a,function(l,p){a[l]=p||s})}function _l(a,s,l,p){var d=new Jq(a,p,s);rr(d,"sampleRate",l[hP]),(l[jn]||{}).startTime&&(d.time=Td(l[jn].startTime)),d.iKey=l.iKey;var m=l.iKey.replace(/-/g,"");return d[ps]=d[ps].replace("{0}",m),NG(a,l,d),l[Ur]=l[Ur]||[],Q_(d)}function Pl(a,s){Ce(s[jn])&&Be(a,1,46,"telemetryItem.baseData cannot be null.")}var UG={Version:"3.3.3"};function OG(a,s,l){Pl(a,s);var p=s[jn][Tl]||{},d=s[jn][Ar]||{};gu(s[hi],d,p),Ce(l)||Ml(d,l);var m=s[jn];if(Ce(m))return ol(a,"Invalid input for dependency data"),null;var y=m[Ar]&&m[Ar][fP]?m[Ar][fP]:"GET",f=new ml(a,m.id,m.target,m[ps],m[Sl],m.success,m.responseCode,y,m.type,m.correlationContext,d,p),E=new vl(ml[vo],f);return _l(a,ml[kl],s,E)}function AD(a,s,l){Pl(a,s);var p={},d={};s[Tk]!==ou[vo]&&(p.baseTypeSource=s[Tk]),s[Tk]===ou[vo]?(p=s[jn][Ar]||{},d=s[jn][Tl]||{}):s[jn]&&gu(s[jn],p,d),gu(s[hi],p,d),Ce(l)||Ml(p,l);var m=s[jn][ps],y=new ou(a,m,p,d),f=new vl(ou[vo],y);return _l(a,ou[kl],s,f)}function jG(a,s,l){Pl(a,s);var p=s[jn][Tl]||{},d=s[jn][Ar]||{};gu(s[hi],d,p),Ce(l)||Ml(d,l);var m=s[jn],y=wa.CreateFromInterface(a,m,d,p),f=new vl(wa[vo],y);return _l(a,wa[kl],s,f)}function FG(a,s,l){Pl(a,s);var p=s[jn],d=p[Ar]||{},m=p[Tl]||{};gu(s[hi],d,m),Ce(l)||Ml(d,l);var y=new gl(a,p[ps],p.average,p.sampleCount,p.min,p.max,p.stdDev,d,m),f=new vl(gl[vo],y);return _l(a,gl[kl],s,f)}function BG(a,s,l){Pl(a,s);var p,d=s[jn];!Ce(d)&&!Ce(d[Ar])&&!Ce(d[Ar][Sl])?(p=d[Ar][Sl],delete d[Ar][Sl]):!Ce(s[hi])&&!Ce(s[hi][Sl])&&(p=s[hi][Sl],delete s[hi][Sl]);var m=s[jn],y;((s.ext||{}).trace||{})[Bf]&&(y=s.ext.trace[Bf]);var f=m.id||y,E=m[ps],I=m.uri,D=m[Ar]||{},U=m[Tl]||{};if(Ce(m.refUri)||(D.refUri=m.refUri),Ce(m.pageType)||(D.pageType=m.pageType),Ce(m.isLoggedIn)||(D.isLoggedIn=m.isLoggedIn[El]()),!Ce(m[Ar])){var N=m[Ar];Kt(N,function(F,q){D[F]=q})}gu(s[hi],D,U),Ce(l)||Ml(D,l);var R=new uu(a,E,I,p,D,U,f),w=new vl(uu[vo],R);return _l(a,uu[kl],s,w)}function VG(a,s,l){Pl(a,s);var p=s[jn],d=p[ps],m=p.uri||p.url,y=p[Ar]||{},f=p[Tl]||{};gu(s[hi],y,f),Ce(l)||Ml(y,l);var E=new Vd(a,d,m,void 0,y,f,p),I=new vl(Vd[vo],E);return _l(a,Vd[kl],s,I)}function zG(a,s,l){Pl(a,s);var p=s[jn].message,d=s[jn].severityLevel,m=s[jn][Ar]||{},y=s[jn][Tl]||{};gu(s[hi],m,y),Ce(l)||Ml(m,l);var f=new Bd(a,p,d,m,y),E=new vl(Bd[vo],f);return _l(a,Bd[kl],s,E)}var CD=function(){function a(s,l){var p=[],d=!1,m=l.maxRetryCnt;this[zf]=function(){return p},this._set=function(y){return p=y,p},Pn(a,this,function(y){y[Al]=function(f){if(y[Cl]()>=l[hD]){d||(Be(s,2,105,"Maximum in-memory buffer size reached: "+y[Cl](),!0),d=!0);return}f.cnt=f.cnt||0,!(!Ce(m)&&f.cnt>m)&&p[hs](f)},y[Cl]=function(){return p[Wt]},y.size=function(){for(var f=p[Wt],E=0;E<p[Wt];E++)f+=p[E].item[Wt];return l[lk]||(f+=2),f},y[Kd]=function(){p=[],d=!1},y.getItems=function(){return p.slice(0)},y.batchPayloads=function(f){if(f&&f[Wt]>0){var E=[];Xe(f,function(D){E[hs](D[Uy])});var I=l[lk]?E.join(`
`):"["+E.join(",")+"]";return I}return null},y[ck]=function(f,E,I){var D=p.slice(0);f=f||s,E=E||{};var U=I?new ID(f,E):new kk(f,E);return Xe(D,function(N){U[Al](N)}),U}})}return a.__ieDyn=1,a}(),kk=function(a){rs(s,a);function s(l,p){var d=a.call(this,l,p)||this;return Pn(s,d,function(m,y){m[Oy]=function(f){y[Kd]()},m[$f]=function(f){}}),d}return s.__ieDyn=1,s}(CD),$G=["AI_buffer","AI_sentBuffer"],ID=function(a){rs(s,a);function s(p,d){var m=a.call(this,p,d)||this,y=!1,f=d?.namePrefix,E=d[dk]||{getItem:VT,setItem:_P},I=E.getItem,D=E.setItem,U=d.maxRetryCnt;return Pn(s,m,function(N,R){var w=pe(s[pk]),F=pe(s[hu]),q=J(),Z=F[Wd](q),ne=N._set(w[Wd](Z));ne[Wt]>s[Hf]&&(ne[Wt]=s[Hf]),Se(s[hu],[]),Se(s[pk],ne),N[Al]=function(xe){if(N[Cl]()>=s[Hf]){y||(Be(p,2,67,"Maximum buffer size reached: "+N[Cl](),!0),y=!0);return}xe.cnt=xe.cnt||0,!(!Ce(U)&&xe.cnt>U)&&(R[Al](xe),Se(s.BUFFER_KEY,N[zf]()))},N[Kd]=function(){R[Kd](),Se(s.BUFFER_KEY,N[zf]()),Se(s[hu],[]),y=!1},N[Oy]=function(xe){Se(s[pk],N._set(ve(xe,N[zf]())));var k=pe(s[hu]);k instanceof Array&&xe instanceof Array&&(k=k[Wd](xe),k[Wt]>s[Hf]&&(Be(p,1,67,"Sent buffer reached its maximum size: "+k[Wt],!0),k[Wt]=s[Hf]),Se(s[hu],k))},N[$f]=function(xe){var k=pe(s[hu]);k=ve(xe,k),Se(s[hu],k)},N[ck]=function(xe,k,te){te=!!te;var se=N[zf]().slice(0),Re=pe(s[hu]).slice(0);xe=xe||p,k=k||{},N[Kd]();var z=te?new s(xe,k):new kk(xe,k);return Xe(se,function(Y){z[Al](Y)}),te&&z[Oy](Re),z};function ve(xe,k){var te=[],se=[];return Xe(xe,function(Re){se[hs](Re[Uy])}),Xe(k,function(Re){!_t(Re)&&Hr(se,Re[Uy])===-1&&te[hs](Re)}),te}function pe(xe){var k=xe;return k=f?f+"_"+k:k,Ee(k)}function Ee(xe){try{var k=I(p,xe);if(k){var te=Ua().parse(k);if(Tt(te)&&(te=Ua().parse(te)),te&&qt(te))return te}}catch(se){Be(p,1,42," storage key: "+xe+", "+fn(se),{exception:Ze(se)})}return[]}function Se(xe,k){var te=xe;try{te=f?f+"_"+te:te;var se=JSON[Vf](k);D(p,te,se)}catch(Re){D(p,te,JSON[Vf]([])),Be(p,2,41," storage key: "+te+", "+fn(Re)+". Buffer cleared",{exception:Ze(Re)})}}function J(){var xe=[];try{return Xe($G,function(k){var te=_e(k);if(xe=xe[Wd](te),f){var se=f+"_"+k,Re=_e(se);xe=xe[Wd](Re)}}),xe}catch(k){Be(p,2,41,"Transfer events from previous buffers: "+fn(k)+". previous Buffer items can not be removed",{exception:Ze(k)})}return[]}function _e(xe){try{var k=Ee(xe),te=[];return Xe(k,function(se){var Re={item:se,cnt:0};te[hs](Re)}),PP(p,xe),te}catch{}return[]}}),m}var l;return l=s,s.VERSION="_1",s.BUFFER_KEY="AI_buffer"+l.VERSION,s.SENT_BUFFER_KEY="AI_sentBuffer"+l.VERSION,s.MAX_BUFFER_SIZE=2e3,s}(CD),HG=function(){function a(s){Pn(a,this,function(l){l[Fy]=function(y){var f=p(y,"root");try{return Ua()[Vf](f)}catch(E){Be(s,1,48,E&&_t(E[El])?E[El]():"Error serializing object",null,!0)}};function p(y,f){var E="__aiCircularRefCheck",I={};if(!y)return Be(s,1,48,"cannot serialize object because it is null or undefined",{name:f},!0),I;if(y[E])return Be(s,2,50,"Circular reference detected while serializing object",{name:f},!0),I;if(!y.aiDataContract){if(f==="measurements")I=m(y,"number",f);else if(f==="properties")I=m(y,"string",f);else if(f==="tags")I=m(y,"string",f);else if(qt(y))I=d(y,f);else{Be(s,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:f},!0);try{Ua()[Vf](y),I=y}catch(D){Be(s,1,48,D&&_t(D[El])?D[El]():"Error serializing object",null,!0)}}return I}return y[E]=!0,Kt(y.aiDataContract,function(D,U){var N=_t(U)?U()&1:U&1,R=_t(U)?U()&4:U&4,w=U&2,F=y[D]!==void 0,q=Ci(y[D])&&y[D]!==null;if(N&&!F&&!w)Be(s,1,24,"Missing required field specification. The field is required but not present on source",{field:D,name:f});else if(!R){var Z=void 0;q?w?Z=d(y[D],D):Z=p(y[D],D):Z=y[D],Z!==void 0&&(I[D]=Z)}}),delete y[E],I}function d(y,f){var E;if(y)if(!qt(y))Be(s,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:f},!0);else{E=[];for(var I=0;I<y[Wt];I++){var D=y[I],U=p(D,f+"["+I+"]");E[hs](U)}}return E}function m(y,f,E){var I;return y&&(I={},Kt(y,function(D,U){if(f==="string")U===void 0?I[D]="undefined":U===null?I[D]="null":U[El]?I[D]=U[El]():I[D]="invalid field: toString() is not defined.";else if(f==="number")if(U===void 0)I[D]="undefined";else if(U===null)I[D]="null";else{var N=parseFloat(U);I[D]=N}else I[D]="invalid field: "+E+" is of unknown type.",Be(s,1,I[D],null,!0)})),I}})}return a.__ieDyn=1,a}(),qG=8,GG=function(){function a(){}return a.prototype.getHashCodeScore=function(s){var l=this.getHashCode(s)/a.INT_MAX_VALUE;return l*100},a.prototype.getHashCode=function(s){if(s==="")return 0;for(;s[Wt]<qG;)s=s[Wd](s);for(var l=5381,p=0;p<s[Wt];++p)l=(l<<5)+l+s.charCodeAt(p),l=l&l;return Math.abs(l)},a.INT_MAX_VALUE=2147483647,a}(),KG=function(){function a(){var s=this,l=new GG,p=new FP;s[kD]=function(d){var m=0;return d[Ur]&&d[Ur][p.userId]?m=l.getHashCodeScore(d[Ur][p.userId]):d.ext&&d.ext.user&&d.ext.user.id?m=l[RG](d.ext.user.id):d[Ur]&&d[Ur][p.operationId]?m=l.getHashCodeScore(d[Ur][p.operationId]):d.ext&&d.ext.telemetryTrace&&d.ext.telemetryTrace[Bf]?m=l.getHashCodeScore(d.ext.telemetryTrace[Bf]):m=Math.random()*100,m}}return a}(),WG=function(){function a(s,l){this.INT_MAX_VALUE=2147483647;var p=l||al(null);(s>100||s<0)&&(p.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:s},!0),s=100),this[Vy]=s,this.samplingScoreGenerator=new KG}return a.prototype.isSampledIn=function(s){var l=this[Vy],p=!1;return l==null||l>=100||s.baseType===gl[vo]?!0:(p=this.samplingScoreGenerator[kD](s)<l,p)},a}(),Rn,fs,yo=void 0,MD="",XG=65e3;function _D(a){try{return a.responseText}catch{}return null}function YG(a){return a&&a.sendPOST}var PD=id((Rn={endpointUrl:ty(dv,kT+Pd)},Rn[lk]=ur(),Rn[SD]=15e3,Rn[fD]=102400,Rn.disableTelemetry=ur(),Rn[mD]=ur(!0),Rn.isRetryDisabled=ur(),Rn[mk]=ur(!0),Rn[yD]=ur(!0),Rn[vk]=ur(),Rn[vD]=ur(),Rn[gk]=ur(),Rn[Wf]=yo,Rn.namePrefix=yo,Rn.samplingPercentage=ty(ZG,100),Rn[fk]=yo,Rn[xD]=yo,Rn[hD]=1e4,Rn[dk]=!1,Rn.httpXHROverride={isVal:YG,v:yo},Rn[gD]=ur(),Rn.transports=yo,Rn.retryCodes=yo,Rn.maxRetryCnt={isVal:Wh,v:10},Rn));function ZG(a){return!isNaN(a)&&a>0&&a<=100}var QG=(fs={},fs[ou.dataType]=AD,fs[Bd.dataType]=zG,fs[uu.dataType]=BG,fs[Vd.dataType]=VG,fs[wa.dataType]=jG,fs[gl.dataType]=FG,fs[ml.dataType]=OG,fs),JG=function(a){rs(s,a);function s(){var l=a.call(this)||this;l.priority=1001,l.identifier=VP;var p,d,m,y,f,E,I,D,U=0,N,R,w,F,q,Z,ne,ve,pe,Ee,Se,J,_e,xe,k,te,se,Re,z,Y,we,Q,je,qe,pt,K,de;return Pn(s,l,function(X,L){wo(),X.pause=function(){ct(),y=!0},X.resume=function(){y&&(y=!1,d=null,ue(),Rt())},X.flush=function(ie,ye,$e){if(ie===void 0&&(ie=!0),!y){ct();try{return X[qf](ie,null,$e||1)}catch(We){Be(X[Gr](),1,22,"flush failed, telemetry will not be collected: "+fn(We),{exception:Ze(We)})}}},X.onunloadFlush=function(){if(!y)if(ne||Y)try{return X[qf](!0,Te,2)}catch(ie){Be(X[Gr](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+fn(ie),{exception:Ze(ie)})}else X.flush(!1)},X.addHeader=function(ie,ye){D[ie]=ye},X[hk]=function(ie,ye,$e,We){X.isInitialized()&&Be(X[Gr](),1,28,"Sender is already initialized"),L[hk](ie,ye,$e,We);var gt=X.identifier;E=new HG(ye.logger),p=0,d=null,m=0,X[Gf]=null,I=0;var lt=X[Gr]();w=nu(ya("Sender"),ye.evtNamespace&&ye.evtNamespace()),R=uG(w),X._addHook(nr(ie,function(Pt){var Vt=Pt.cfg;Vt.storagePrefix&&BT(Vt.storagePrefix);var Ge=ja(null,Vt,ye),Ct=Ge.getExtCfg(gt,PD);Zo(Ct[Kf])&&(Ct[Kf]=Vt[Kf]),Zo(Ct[Wf])&&(Ct[Wf]=Vt[Wf]),dn(X,"_senderConfig",{g:function(){return Ct}}),q!==Ct[Kf]&&(F=q=Ct[Kf]),ye.activeStatus()===qs.PENDING?X.pause():ye.activeStatus()===qs.ACTIVE&&X.resume(),Ee&&Ee!==Ct[fk]&&Xe(Ee,function(ir){delete D[ir.header]}),Z=Ct[fD],ne=(Ct[gk]===!1||Ct[mk]===!1)&&ff(),ve=Ct[gk]===!1&&ff(),pe=Ct[mk]===!1&&ff(),Y=Ct[gD],we=!!Ct[vk],de=Ct.retryCodes;var cr=Ct[dk],Ha=!!Ct[mD]&&(!!cr||If()),vs=Ct.namePrefix,Or=Ha!==te||Ha&&Re!==vs||Ha&&se!==cr;if(X[fu]){if(Or)try{X._buffer=X._buffer[ck](lt,Ct,Ha)}catch(ir){Be(X[Gr](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+fn(ir),{exception:Ze(ir)})}ue()}else X[fu]=Ha?new ID(lt,Ct):new kk(lt,Ct);Re=vs,te=Ha,se=cr,Q=!Ct[vD]&&FS(!0),pt=!!Ct[yD],X._sample=new WG(Ct.samplingPercentage,lt),J=Ct[Wf],!Zo(J)&&!At(J,Vt)&&Be(lt,1,100,"Invalid Instrumentation key "+J),Ee=Ct[fk],Tt(F)&&!UT(F)&&Ee&&Ee[Wt]>0?Xe(Ee,function(ir){l.addHeader(ir.header,ir.value)}):Ee=null,z=Ct[bD];var xo=ut();K?K.SetConfig(xo):(K=new bq,K[hk](xo,lt));var Ea=Ct.httpXHROverride,Qi=null,Xn=null,gg=t6([3,1,2],Ct.transports);Qi=K&&K[jy](gg,!1);var Hl=K&&K.getFallbackInst();je=function(ir,Li){return et(Hl,ir,Li)},qe=function(ir,Li){return et(Hl,ir,Li,!1)},Qi=Y?Ea:Qi||Ea||Hl,X[Gf]=function(ir,Li){return et(Qi,ir,Li)},Q&&(N=ht);var Xr=t6([3,1],Ct[wD]);Q||(Xr=Xr.filter(function(ir){return ir!==2})),Xn=K&&K[jy](Xr,!0),Xn=Y?Ea:Xn||Ea,(Y||Ct[wD]||!N)&&Xn&&(N=function(ir,Li){return et(Xn,ir,Li)}),N||(N=je),Se=Ct.disableTelemetry,_e=Ct[xD]||yo,xe=Ct.isRetryDisabled,k=Ct[SD]}))},X.processTelemetry=function(ie,ye){var $e;ye=X._getTelCtx(ye);var We=ye[Gr]();try{var gt=Ae(ie,We);if(!gt)return;var lt=Sn(ie,We);if(!lt)return;var Pt=E[Fy](lt),Vt=X[fu];ue(Pt);var Ge=($e={},$e[Uy]=Pt,$e.cnt=0,$e);Vt[Al](Ge),Rt()}catch(Ct){Be(We,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+fn(Ct),{exception:Ze(Ct)})}X.processNext(ie,ye)},X.isCompletelyIdle=function(){return!y&&U===0&&X._buffer[Cl]()===0},X._xhrReadyStateChange=function(ie,ye,$e){if(!ke(ye))return xt(ie,ye,$e)},X[qf]=function(ie,ye,$e){ie===void 0&&(ie=!0);var We;if(!y)try{var gt=X[fu];if(Se)gt[Kd]();else{if(gt[Cl]()>0){var lt=gt.getItems();gi($e||0,ie),ye?We=ye.call(X,lt,ie):We=X[Gf](lt,ie)}m=+new Date}ct()}catch(Vt){var Pt=o6();(!Pt||Pt>9)&&Be(X[Gr](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+fn(Vt),{exception:Ze(Vt)})}return We},X.getOfflineSupport=function(){var ie;return ie={getUrl:function(){return F},createPayload:Ve},ie[Fy]=Wn,ie.batch=fe,ie.shouldProcess=function(ye){return!!Ae(ye)},ie},X._doTeardown=function(ie,ye){X.onunloadFlush(),Ed(R,!1),wo()},X[Il]=function(ie,ye,$e){if(!ke(ie))return Dt(ie,ye)},X[yk]=function(ie,ye){if(!ke(ie))return Xt(ie,ye)},X[By]=function(ie,ye){if(!ke(ie))return fi(ie)},X._xdrOnLoad=function(ie,ye){if(!ke(ye))return Ue(ie,ye)};function Ue(ie,ye){var $e=_D(ie);if(ie&&($e+""=="200"||$e===""))p=0,X[By](ye,0);else{var We=pT($e);We&&We[bk]&&We[bk]>We[wk]&&!xe?X[yk](ye,We):X[Il](ye,e6(ie))}}function ut(){var ie;try{var ye={xdrOnComplete:function(We,gt,lt){var Pt=Wr(lt);if(Pt)return Ue(We,Pt)},fetchOnComplete:function(We,gt,lt,Pt){var Vt=Wr(Pt);if(Vt)return be(We.status,Vt,We.url,Vt[Wt],We.statusText,lt||"")},xhrOnComplete:function(We,gt,lt){var Pt=Wr(lt);if(Pt)return xt(We,Pt,Pt[Wt])},beaconOnRetry:function(We,gt,lt){return De(We,gt,lt)}},$e=(ie={},ie[bD]=z,ie.isOneDs=!1,ie.disableCredentials=!1,ie[vk]=we,ie.disableBeacon=!pe,ie.disableBeaconSync=!ve,ie.senderOnCompleteCallBack=ye,ie);return $e}catch{}return null}function xt(ie,ye,$e){ie.readyState===4&&be(ie.status,ye,ie.responseURL,$e,Xv(ie),_D(ie)||ie.response)}function Dt(ie,ye,$e){Be(X[Gr](),2,26,"Failed to send telemetry.",{message:ye}),X._buffer&&X._buffer[$f](ie)}function Xt(ie,ye){for(var $e=[],We=[],gt=ye.errors.reverse(),lt=0,Pt=gt;lt<Pt.length;lt++){var Vt=Pt[lt],Ge=ie.splice(Vt.index,1)[0];kn(Vt.statusCode)?We[hs](Ge):$e[hs](Ge)}ie[Wt]>0&&X[By](ie,ye[wk]),$e[Wt]>0&&X[Il]($e,Xv(null,["partial success",ye[wk],"of",ye.itemsReceived].join(" "))),We[Wt]>0&&(Mt(We),Be(X[Gr](),2,40,"Partial success. Delivered: "+ie[Wt]+", Failed: "+$e[Wt]+". Will retry to send "+We[Wt]+" our of "+ye[bk]+" items"))}function fi(ie,ye){X._buffer&&X._buffer[$f](ie)}function Wr(ie){try{if(ie){var ye=ie,$e=ye[xk];return $e&&$e[Wt]?$e:null}}catch{}return null}function Ae(ie,ye){if(Se)return!1;if(!ie)return ye&&Be(ye,1,7,"Cannot send empty telemetry"),!1;if(ie.baseData&&!ie[Sk])return ye&&Be(ye,1,70,"Cannot send telemetry without baseData and baseType"),!1;if(ie[Sk]||(ie[Sk]="EventData"),!X[Gf])return ye&&Be(ye,1,28,"Sender was not initialized"),!1;if(at(ie))ie[hP]=X._sample[Vy];else return ye&&Be(ye,2,33,"Telemetry item was sampled out and not sent",{SampleRate:X._sample[Vy]}),!1;return!0}function Sn(ie,ye){var $e=ie.iKey||J,We=s.constructEnvelope(ie,$e,ye,_e);if(!We){Be(ye,1,47,"Unable to create an AppInsights envelope");return}var gt=!1;if(ie[Ur]&&ie[Ur][TT]&&(Xe(ie[Ur][TT],function(lt){try{lt&&lt(We)===!1&&(gt=!0,ol(ye,"Telemetry processor check returns false"))}catch(Pt){Be(ye,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+fn(Pt),{exception:Ze(Pt)},!0)}}),delete ie[Ur][TT]),!gt)return We}function Wn(ie){var ye=MD,$e=X[Gr]();try{var We=Ae(ie,$e),gt=null;We&&(gt=Sn(ie,$e)),gt&&(ye=E[Fy](gt))}catch{}return ye}function fe(ie){var ye=MD;return ie&&ie[Wt]&&(ye="["+ie.join(",")+"]"),ye}function Ve(ie){var ye,$e=Lt();return ye={urlString:F},ye[hi]=ie,ye.headers=$e,ye}function at(ie){return X._sample.isSampledIn(ie)}function ot(ie,ye,$e,We){ye===200&&ie?X._onSuccess(ie,ie[Wt]):We&&X[Il](ie,We)}function et(ie,ye,$e,We){We===void 0&&(We=!0);var gt=function(Vt,Ge,Ct){return ot(ye,Vt,Ge,Ct)},lt=ze(ye),Pt=ie&&ie.sendPOST;return Pt&&lt?(We&&X._buffer[Oy](ye),Pt(lt,gt,!$e)):null}function ze(ie){var ye;if(qt(ie)&&ie[Wt]>0){var $e=X[fu].batchPayloads(ie),We=Lt(),gt=(ye={},ye[hi]=$e,ye.urlString=F,ye.headers=We,ye.disableXhrSync=we,ye.disableFetchKeepAlive=!Q,ye[xk]=ie,ye);return gt}return null}function Lt(){try{var ie=D||{};return UT(F)&&(ie[Tn[6]]=Tn[7]),ie}catch{}return null}function ue(ie){var ye=ie?ie[Wt]:0;return X[fu].size()+ye>Z?((!R||R.isOnline())&&X[qf](!0,null,10),!0):!1}function be(ie,ye,$e,We,gt,lt){var Pt=null;if(X._appId||(Pt=pT(lt),Pt&&Pt.appId&&(X._appId=Pt.appId)),(ie<200||ie>=300)&&ie!==0){if((ie===301||ie===307||ie===308)&&!Ie($e)){X[Il](ye,gt);return}if(R&&!R.isOnline()){if(!xe){var Vt=10;Mt(ye,Vt),Be(X[Gr](),2,40,". Offline - Response Code: ".concat(ie,". Offline status: ").concat(!R.isOnline(),". Will retry to send ").concat(ye.length," items."))}return}!xe&&kn(ie)?(Mt(ye),Be(X[Gr](),2,40,". Response code "+ie+". Will retry to send "+ye[Wt]+" items.")):X[Il](ye,gt)}else Ie($e),ie===206?(Pt||(Pt=pT(lt)),Pt&&!xe?X[yk](ye,Pt):X[Il](ye,gt)):(p=0,X[By](ye,We))}function Ie(ie){return I>=10?!1:!Ce(ie)&&ie!==""&&ie!==F?(F=ie,++I,!0):!1}function Te(ie,ye){if(N)N(ie,!1);else{var $e=K&&K[jy]([3],!0);return et($e,ie,ye)}}function De(ie,ye,$e){var We=ie,gt=We&&We[xk];if(pt)qe&&qe(gt,!0),Be(X[Gr](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var lt=[],Pt=0;Pt<gt[Wt];Pt++){var Vt=gt[Pt],Ge=[Vt],Ct=ze(Ge);$e(Ct,ye)?X._onSuccess(Ge,Ge[Wt]):lt[hs](Vt)}lt[Wt]>0&&(qe&&qe(lt,!0),Be(X[Gr](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}function ke(ie){try{if(ie&&ie[Wt])return Tt(ie[0])}catch{}return null}function ht(ie,ye){var $e=null;if(qt(ie)){for(var We=ie[Wt],gt=0;gt<ie[Wt];gt++)We+=ie[gt].item[Wt];var lt=K.getSyncFetchPayload();lt+We<=XG?$e=2:ff()?$e=3:($e=1,Be(X[Gr](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."));var Pt=K&&K[jy]([$e],!0);return et(Pt,ie,ye)}return null}function Mt(ie,ye){if(ye===void 0&&(ye=1),!(!ie||ie[Wt]===0)){var $e=X[fu];$e[$f](ie),p++;for(var We=0,gt=ie;We<gt.length;We++){var lt=gt[We];lt.cnt=lt.cnt||0,lt.cnt++,$e[Al](lt)}yt(ye),Rt()}}function yt(ie){var ye=10,$e;if(p<=1)$e=ye;else{var We=(Math.pow(2,p)-1)/2,gt=Math.floor(Math.random()*We*ye)+1;gt=ie*gt,$e=Math.max(Math.min(gt,3600),ye)}var lt=ro()+$e*1e3;d=lt}function Rt(){if(!f&&!y){var ie=d?Math.max(0,d-ro()):0,ye=Math.max(k,ie);f=va(function(){f=null,X[qf](!0,null,1)},ye)}}function ct(){f&&f.cancel(),f=null,d=null}function kn(ie){return Ce(de)?ie===401||ie===408||ie===429||ie===500||ie===502||ie===503||ie===504:de[Wt]&&de.indexOf(ie)>-1}function Cr(){var ie="getNotifyMgr";return X.core[ie]?X.core[ie]():X.core._notificationManager}function gi(ie,ye){var $e=Cr();if($e&&$e[TD])try{$e[TD](ie,ye)}catch(We){Be(X[Gr](),1,74,"send request notification failed: "+fn(We),{exception:Ze(We)})}}function At(ie,ye){var $e=ye.disableInstrumentationKeyValidation,We=Ce($e)?!1:$e;if(We)return!0;var gt="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",lt=new RegExp(gt);return lt.test(ie)}function wo(){X[Gf]=null,X[fu]=null,X._appId=null,X._sample=null,D={},R=null,p=0,d=null,m=null,y=!1,f=null,E=null,I=0,U=0,N=null,w=null,F=null,q=null,Z=0,ne=!1,Ee=null,Se=!1,J=null,_e=yo,xe=!1,te=null,Re=yo,we=!1,Q=!1,pt=!1,je=null,qe=null,K=null,dn(X,"_senderConfig",{g:function(){return J_({},PD)}})}}),l}return s.constructEnvelope=function(l,p,d,m){var y;p!==l.iKey&&!Ce(p)?y=li(li({},l),{iKey:p}):y=l;var f=QG[y.baseType]||AD;return f(d,y,m)},s}(Md),DD="duration",Dl="properties",Va="requestUrl",Xf="inst",Ll="length",gs="traceID",mu="spanID",xa="traceFlags",Yf="context",Xd="aborted",zy="traceId",$y="spanId",Hy="_addHook",za="core",Ek="includeCorrelationHeaders",Ak="getAbsoluteUrl",Rl="headers",Sa="requestHeaders",Ck="setRequestHeader",LD="trackDependencyDataInternal",Nl="startTime",Yd="toLowerCase",Ik="enableRequestHeaderTracking",RD="enableAjaxErrorStatusText",ND="enableAjaxPerfTracking",UD="maxAjaxCallsPerView",OD="excludeRequestFromAutoTrackingPatterns",jD="addRequestContext",Mk="disableAjaxTracking",FD="ajaxPerfLookupDelay",BD="disableFetchTracking",VD="enableResponseHeaderTracking",$a="status",Ul="statusText",Zd="headerMap",_k="openDone",Pk="sendDone",Ol="requestSentTime",Dk="abortDone",Lk="getTraceId",Rk="getTraceFlags",vu="method",Nk="errorStatusText",zD="stateChangeAttached",$D="responseText",Zf="responseFinishedTime",Uk="CreateTrackItem",HD="response",qD="getAllResponseHeaders",Ok="getPartAProps",qy="perfMark",Qd="name",jk="perfTiming",Qf="exception",GD="ajaxDiagnosticsMessage",Fk="correlationContext",Bk="ajaxTotalDuration",Vk="eventTraceCtx";function KD(a,s,l){var p=0,d=a[s],m=a[l];return d&&m&&(p=_i(d,m)),p}function jl(a,s,l,p,d){var m=0,y=KD(l,p,d);return y&&(m=yu(a,s,su(y))),m}function yu(a,s,l){var p="ajaxPerf",d=0;if(a&&s&&l){var m=a[p]=a[p]||{};m[s]=l,d=1}return d}function eK(a,s){var l=a[jk],p=s[Dl]||{},d=0,m="name",y="Start",f="End",E="domainLookup",I="connect",D="redirect",U="request",N="response",R="startTime",w=E+y,F=E+f,q=I+y,Z=I+f,ne=U+y,ve=U+f,pe=N+y,Ee=N+f,Se=D+y,J=D=f,_e="transferSize",xe="encodedBodySize",k="decodedBodySize",te="serverTiming";if(l){d|=jl(p,D,l,Se,J),d|=jl(p,E,l,w,F),d|=jl(p,I,l,q,Z),d|=jl(p,U,l,ne,ve),d|=jl(p,N,l,pe,Ee),d|=jl(p,"networkConnect",l,R,Z),d|=jl(p,"sentRequest",l,ne,Ee);var se=l[DD];se||(se=KD(l,R,Ee)||0),d|=yu(p,DD,se),d|=yu(p,"perfTotal",se);var Re=l[te];if(Re){var z={};Xe(Re,function(Y,we){var Q=Gv(Y[m]||""+we),je=z[Q]||{};Kt(Y,function(qe,pt){(qe!==m&&Tt(pt)||Wh(pt))&&(je[qe]&&(pt=je[qe]+";"+pt),(pt||!Tt(pt))&&(je[qe]=pt))}),z[Q]=je}),d|=yu(p,te,z)}d|=yu(p,_e,l[_e]),d|=yu(p,xe,l[xe]),d|=yu(p,k,l[k])}else a[qy]&&(d|=yu(p,"missing",a.perfAttempts));d&&(s[Dl]=p)}var tK=function(){function a(){var s=this;s[_k]=!1,s.setRequestHeaderDone=!1,s[Pk]=!1,s[Dk]=!1,s[zD]=!1}return a}(),WD=function(){function a(s,l,p,d){var m,y=this,f=p,E="responseText";y[qy]=null,y.completed=!1,y.requestHeadersSize=null,y[Sa]=null,y.responseReceivingDuration=null,y.callbackDuration=null,y[Bk]=null,y[Xd]=0,y.pageUrl=null,y[Va]=null,y.requestSize=0,y[vu]=null,y[$a]=null,y[Ol]=null,y.responseStartedTime=null,y[Zf]=null,y.callbackFinishedTime=null,y.endTime=null,y.xhrMonitoringState=new tK,y.clientFailure=0,y[gs]=s,y[mu]=l,y[xa]=d?.getTraceFlags(),d?y[Vk]=(m={},m[zy]=d[Lk](),m[$y]=d.getSpanId(),m[xa]=d[Rk](),m):y[Vk]=null,Pn(a,y,function(I){I.getAbsoluteUrl=function(){return I[Va]?Fq(I[Va]):null},I.getPathName=function(){return I[Va]?Sy(f,Bq(I[vu],I[Va])):null},I[Uk]=function(D,U,N){var R;if(I.ajaxTotalDuration=Math.round(_i(I.requestSentTime,I.responseFinishedTime)*1e3)/1e3,I[Bk]<0)return null;var w=(R={id:"|"+I[gs]+"."+I[mu],target:I[Ak]()},R[Qd]=I.getPathName(),R.type=D,R[Nl]=null,R.duration=I[Bk],R.success=+I[$a]>=200&&+I[$a]<400,R.responseCode=+I[$a],R[Dl]={HttpMethod:I[vu]},R),F=w[Dl];if(I[Xd]&&(F[Xd]=!0),I[Ol]&&(w[Nl]=new Date,w[Nl].setTime(I[Ol])),eK(I,w),U&&Jo(I.requestHeaders)[Ll]>0&&(F[Sa]=I[Sa]),N){var q=N();if(q){var Z=q[Fk];if(Z&&(w.correlationContext=Z),q[Zd]&&Jo(q.headerMap)[Ll]>0&&(F.responseHeaders=q[Zd]),I[Nk])if(I[$a]>=400){var ne=q.type;(ne===""||ne==="text")&&(F.responseText=q.responseText?q[Ul]+" - "+q[E]:q[Ul]),ne==="json"&&(F.responseText=q.response?q[Ul]+" - "+JSON.stringify(q[HD]):q[Ul])}else I[$a]===0&&(F.responseText=q[Ul]||"")}}return w},I[Ok]=function(){var D,U=null,N=I[Vk];if(N&&(N[zy]||N[$y])){U={};var R=U[Yi.TraceExt]=(D={},D[gs]=N[zy],D.parentID=N[$y],D);Ce(N[xa])||(R[xa]=N[xa])}return U}})}return a.__ieDyn=1,a}(),Kn,Jf="diagLog",bu="_ajaxData",Fl="fetch",eg="Failed to monitor XMLHttpRequest",XD=", monitoring data for this ajax call ",Jd=XD+"may be incorrect.",YD=XD+"won't be sent.",ZD="Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",QD="Failed to add custom defined request context as configured call back may missing a null check.",JD="Failed to calculate the duration of the ",eL=0;function nK(){var a=ma();return!a||Ce(a.Request)||Ce(a.Request[io])||Ce(a[Fl])?null:a[Fl]}function rK(a,s){var l,p,d=!1;if(Yv()){var m=XMLHttpRequest[io];d=!Ce(m)&&!Ce(m.open)&&!Ce(m.send)&&!Ce(m.abort)}var y=o6();if(y&&y<9&&(d=!1),d)try{var f=new XMLHttpRequest,E={xh:[],i:(l={},l[s]={},l)};f[bu]=E;var I=XMLHttpRequest[io].open;XMLHttpRequest[io].open=I}catch(D){d=!1,tg(a,15,"Failed to enable XMLHttpRequest monitoring, extension is not supported",(p={},p[Qf]=Ze(D),p))}return d}var ep=function(a,s){return a&&s&&a[bu]?(a[bu].i||{})[s]:null},iK=function(a,s,l){if(a){var p=(a[bu]||{}).xh;p&&p.push({n:s,v:l})}},zk=function(a,s){var l=!1;if(a){var p=(a[bu]||{}).xh;p&&Xe(p,function(d){if(d.n===s)return l=!0,-1})}return l};function Gy(a,s){var l="";try{var p=ep(a,s);p&&p[Va]&&(l+="(url: '"+p[Va]+"')")}catch{}return l}function tg(a,s,l,p,d){Be(a[Jf](),1,s,l,p,d)}function ms(a,s,l,p,d){Be(a[Jf](),2,s,l,p,d)}function ng(a,s,l){return function(p){var d;tg(a,s,l,(d={ajaxDiagnosticsMessage:Gy(p[Xf],a._ajaxDataId)},d[Qf]=Ze(p.err),d))}}function tp(a,s){return a&&s?Mi(a,s):-1}function tL(a,s,l){var p={id:s,fn:l};return a.push(p),{remove:function(){Xe(a,function(d,m){if(d.id===p.id)return a.splice(m,1),-1})}}}function nL(a,s,l,p){var d=!0;return Xe(s,function(m,y){try{m.fn.call(null,l)===!1&&(d=!1)}catch(f){Be(a&&a.logger,1,64,"Dependency "+p+" [#"+y+"] failed: "+fn(f),{exception:Ze(f)},!0)}}),d}function aK(a,s,l,p,d,m){var y,f=a[Ll];if(f>0){var E=(y={},y[za]=s,y.xhr=p,y.input=d,y.init=m,y.traceId=l[gs],y.spanId=l[mu],y.traceFlags=l[xa],y.context=l[Yf]||{},y.aborted=!!l[Xd],y);nL(s,a,E,"listener"),l[gs]=E[zy],l[mu]=E[$y],l[xa]=E[xa],l[Yf]=E[Yf]}}var Ky="*.blob.core.",oK=es([Ky+"windows.net",Ky+"chinacloudapi.cn",Ky+"cloudapi.de",Ky+"usgovcloudapi.net"]),sK=[/https:\/\/[^\/]*(\.pipe\.aria|aria\.pipe|events\.data|collector\.azure)\.[^\/]+\/(OneCollector\/1|Collector\/3)\.0/i],uK=es((Kn={},Kn[UD]=500,Kn[Mk]=!1,Kn[BD]=!1,Kn[OD]=void 0,Kn.disableCorrelationHeaders=!1,Kn.distributedTracingMode=1,Kn.correlationHeaderExcludedDomains=oK,Kn.correlationHeaderDomains=void 0,Kn.correlationHeaderExcludePatterns=void 0,Kn.appId=void 0,Kn.enableCorsCorrelation=!1,Kn[Ik]=!1,Kn[VD]=!1,Kn[RD]=!1,Kn[ND]=!1,Kn.maxAjaxPerfLookupAttempts=3,Kn[FD]=25,Kn.ignoreHeaders=["Authorization","X-API-Key","WWW-Authenticate"],Kn[jD]=void 0,Kn.addIntEndpoints=!0,Kn)),lK=function(a){rs(s,a);function s(){var l=a.call(this)||this;l.identifier=s.identifier,l.priority=120;var p,d,m,y,f,E,I,D,U,N,R,w,F,q,Z,ne,ve,pe,Ee,Se,J,_e,xe,k,te,se,Re,z,Y,we;return Pn(s,l,function(Q,je){var qe=je[Hy];pt(),Q.initialize=function(ue,be,Ie,Te){Q.isInitialized()||(je.initialize(ue,be,Ie,Te),Se=nu(ya("ajax"),be&&be.evtNamespace&&be.evtNamespace()),K(ue),ut(),L(),de())},Q._doTeardown=function(){pt()},Q.trackDependencyData=function(ue,be){Lt(k,Q[za],null,ue,be)},Q[Ek]=function(ue,be,Ie,Te){var De=Q._currentWindowHost||m;if(aK(xe,Q[za],ue,Te,be,Ie),be||be===""){if(EP(y,ue[Ak](),De)){Ie||(Ie={});var ke=new Headers(Ie[Rl]||(be instanceof Request?be[Rl]||{}:{}));if(N){var ht="|"+ue[gs]+"."+ue[mu];ke.set(Tn[3],ht),f&&(ue[Sa][Tn[3]]=ht)}var Mt=Y||D&&D.appId();if(Mt&&(ke.set(Tn[0],Tn[2]+Mt),f&&(ue[Sa][Tn[0]]=Tn[2]+Mt)),U){var yt=ue[xa];Ce(yt)&&(yt=1);var Rt=B6(F6(ue[gs],ue[mu],yt));ke.set(Tn[4],Rt),f&&(ue[Sa][Tn[4]]=Rt)}Ie[Rl]=ke}return Ie}else if(Te){if(EP(y,ue[Ak](),De)){if(N)if(zk(Te,Tn[3]))ms(Q,71,"Unable to set ["+Tn[3]+"] as it has already been set by another instance");else{var ht="|"+ue[gs]+"."+ue[mu];Te[Ck](Tn[3],ht),f&&(ue[Sa][Tn[3]]=ht)}var Mt=Y||D&&D.appId();if(Mt&&(zk(Te,Tn[0])?ms(Q,71,"Unable to set ["+Tn[0]+"] as it has already been set by another instance"):(Te[Ck](Tn[0],Tn[2]+Mt),f&&(ue[Sa][Tn[0]]=Tn[2]+Mt))),U){var yt=ue[xa];if(Ce(yt)&&(yt=1),zk(Te,Tn[4]))ms(Q,71,"Unable to set ["+Tn[4]+"] as it has already been set by another instance");else{var Rt=B6(F6(ue[gs],ue[mu],yt));Te[Ck](Tn[4],Rt),f&&(ue[Sa][Tn[4]]=Rt)}}}return Te}},Q[LD]=function(ue,be,Ie){if(F===-1||I<F){(z===2||z===1)&&typeof ue.id=="string"&&ue.id[ue.id[Ll]-1]!=="."&&(ue.id+="."),Ce(ue[Nl])&&(ue[Nl]=new Date);var Te=du(ue,ml.dataType,ml.envelopeType,Q[Jf](),be,Ie);Q[za].track(Te)}else I===F&&tg(Q,55,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0);++I},Q.addDependencyListener=function(ue){return tL(xe,_e++,ue)},Q.addDependencyInitializer=function(ue){return tL(k,_e++,ue)};function pt(){var ue=co();p=!1,d=!1,we=!1,m=ue&&ue.host&&ue.host[Yd](),y=null,f=!1,E=!1,I=0,D=null,U=!1,N=!1,R=null,w=!1,F=0,q=!1,Z={},ne=!1,ve=!1,pe=null,Ee=null,Se=null,_e=0,xe=[],k=[],J=ya("ajaxData"),Q._ajaxDataId=J,te=null,se=1,Re=1,z=1,Y=null}function K(ue){Q[Hy](nr(ue,function(be){var Ie=be.cfg,Te=ja(null,Ie,Q[za]);y=Te.getExtCfg(s.identifier,uK),z=y.distributedTracingMode,f=y[Ik],E=y[RD],w=y[ND],F=y[UD],pe=[].concat(y[OD]||[],y.addIntEndpoints!==!1?sK:[]),Ee=y[jD],N=z===0||z===1,U=z===1||z===2,w&&(R=J),ne=!!y[Mk],se=y.maxAjaxPerfLookupAttempts,Re=y[FD],te=y.ignoreHeaders,Y=y.appId}))}function de(){var ue=Q[za].getPlugin(Iy);ue&&(D=ue.plugin[Yf])}function X(ue){var be=!0;return(ue||te)&&Xe(te,function(Ie){if(Ie[Yd]()===ue[Yd]())return be=!1,-1}),be}function L(){var ue=nK();if(ue){var be=ma(),Ie=ue.polyfill;Q[Hy](nr(y,function(){ve=!!y[BD],q=y[VD],!ve&&!p?(qe(ST(be,Fl,{ns:Se,req:function(Te,De,ke){var ht;if(!ve&&p&&!xt(null,De,ke)&&!(Ie&&d)){var Mt=Te.ctx();ht=at(De,ke);var yt=Q[Ek](ht,De,ke);yt!==ke&&Te.set(1,yt),Mt.data=ht}},rsp:function(Te,De){if(!ve){var ke=Te.ctx().data;ke&&(Te.rslt=Te.rslt.then(function(ht){return et(Te,(ht||{})[$a],De,ht,ke,function(){var Mt,yt=(Mt={statusText:(ht||{})[Ul]},Mt[Zd]=null,Mt[Fk]=ze(ht),Mt);if(q&&ht){var Rt={};ht.headers.forEach(function(ct,kn){X(kn)&&(Rt[kn]=ct)}),yt[Zd]=Rt}return yt}),ht}).catch(function(ht){throw et(Te,0,De,null,ke,null,{error:ht.message||Ze(ht)}),ht}))}},hkErr:ng(Q,15,"Failed to monitor Window.fetch"+Jd)},!0,a_())),p=!0):Ie&&!we&&(qe(ST(be,Fl,{ns:Se,req:function(Te,De,ke){xt(null,De,ke)}})),we=!0)})),Ie&&(be[Fl].polyfill=Ie)}}function Ue(ue,be,Ie){qe(Lq(ue,be,Ie))}function ut(){rK(Q,J)&&Q[Hy](nr(y,function(){ne=!!y[Mk],f=y[Ik],!ne&&!d&&(Ue(XMLHttpRequest,"open",{ns:Se,req:function(ue,be,Ie,Te){if(!ne){var De=ue[Xf],ke=ep(De,J);!xt(De,Ie)&&Dt(De,ke,!0)&&((!ke||!ke.xhrMonitoringState[_k])&&(ke=fi(De,be,Ie,Te)),Wr(De,ke))}},hkErr:ng(Q,15,eg+".open"+Jd)}),Ue(XMLHttpRequest,"send",{ns:Se,req:function(ue,be){if(!ne){var Ie=ue[Xf],Te=ep(Ie,J);Dt(Ie,Te)&&!Te.xhrMonitoringState[Pk]&&(fe("xhr",Te),Te[Ol]=Ty(),Q[Ek](Te,void 0,void 0,Ie),Te.xhrMonitoringState[Pk]=!0)}},hkErr:ng(Q,17,eg+Jd)}),Ue(XMLHttpRequest,"abort",{ns:Se,req:function(ue){if(!ne){var be=ue[Xf],Ie=ep(be,J);Dt(be,Ie)&&!Ie.xhrMonitoringState[Dk]&&(Ie[Xd]=1,Ie.xhrMonitoringState[Dk]=!0)}},hkErr:ng(Q,13,eg+".abort"+Jd)}),Ue(XMLHttpRequest,"setRequestHeader",{ns:Se,req:function(ue,be,Ie){if(!ne){var Te=ue[Xf],De=ep(Te,J);De&&Dt(Te,De)&&(iK(Te,be,Ie),f&&X(be)&&De&&(De[Sa][be]=Ie))}},hkErr:ng(Q,71,eg+".setRequestHeader"+Jd)}),d=!0)}))}function xt(ue,be,Ie){var Te=!1,De=((Tt(be)?be:(be||{}).url||"")||"")[Yd]();if(Xe(pe,function(Mt){var yt=Mt;Tt(Mt)&&(yt=new RegExp(Mt)),Te||(Te=yt.test(De))}),Te)return Te;var ke=tp(De,"?"),ht=tp(De,"#");return(ke===-1||ht!==-1&&ht<ke)&&(ke=ht),ke!==-1&&(De=De.substring(0,ke)),Ce(ue)?Ce(be)||(Te=(typeof be=="object"?be[my]===!0:!1)||(Ie?Ie[my]===!0:!1)):Te=ue[my]===!0||De[my]===!0,!Te&&De&&UT(De)&&(Te=!0),Te?Z[De]||(Z[De]=1):Z[De]&&(Te=!0),Te}function Dt(ue,be,Ie){var Te=!0,De=d;return Ce(ue)||(Te=Ie===!0||!Ce(be)),De&&Te}function Xt(){var ue=null;return Q[za]&&Q[za].getTraceCtx&&(ue=Q[za].getTraceCtx(!1)),!ue&&D&&D.telemetryTrace&&(ue=OT(D.telemetryTrace)),ue}function fi(ue,be,Ie,Te){var De,ke=Xt(),ht=ke&&ke[Lk]()||Js(),Mt=zs(Js(),0,16),yt=ue[bu]=ue[bu]||{xh:[],i:{}},Rt=yt.i=yt.i||{},ct=Rt[J]=Rt[J]||new WD(ht,Mt,Q[Jf](),(De=Q.core)===null||De===void 0?void 0:De.getTraceCtx());return ct[xa]=ke&&ke[Rk](),ct[vu]=be,ct[Va]=Ie,ct.xhrMonitoringState[_k]=!0,ct[Sa]={},ct.async=Te,ct[Nk]=E,ct}function Wr(ue,be){be.xhrMonitoringState[zD]=ls(ue,"readystatechange",function(){var Ie;try{ue&&ue.readyState===4&&Dt(ue,be)&&Sn(ue)}catch(De){var Te=Ze(De);(!Te||tp(Te[Yd](),"c00c023f")===-1)&&tg(Q,16,eg+" 'readystatechange' event handler"+Jd,(Ie={},Ie[GD]=Gy(ue,J),Ie[Qf]=Te,Ie))}},Se)}function Ae(ue){try{var be=ue.responseType;if(be===""||be==="text")return ue[$D]}catch{}return null}function Sn(ue){var be=ep(ue,J);be[Zf]=Ty(),be[$a]=ue[$a];function Ie(Te,De){var ke=De||{};ke.ajaxDiagnosticsMessage=Gy(ue,J),Te&&(ke.exception=Ze(Te)),ms(Q,14,JD+"ajax call"+YD,ke)}Ve("xmlhttprequest",be,function(){try{var Te=be[Uk]("Ajax",f,function(){var yt,Rt=(yt={statusText:ue[Ul]},yt[Zd]=null,yt[Fk]=Wn(ue),yt.type=ue.responseType,yt[$D]=Ae(ue),yt.response=ue[HD],yt);if(q){var ct=ue[qD]();if(ct){var kn=sr(ct).split(/[\r\n]+/),Cr={};Xe(kn,function(gi){var At=gi.split(": "),wo=At.shift(),ie=At.join(": ");X(wo)&&(Cr[wo]=ie)}),Rt[Zd]=Cr}}return Rt}),De=void 0;try{Ee&&(De=Ee({status:ue[$a],xhr:ue}))}catch{ms(Q,104,QD)}if(Te){De!==void 0&&(Te[Dl]=li(li({},Te.properties),De));var ke=be[Ok]();Lt(k,Q[za],be,Te,null,ke)}else Ie(null,{requestSentTime:be[Ol],responseFinishedTime:be[Zf]})}finally{try{var ht=ue[bu]||{i:{}},Mt=ht.i||{};Mt[J]&&(Mt[J]=null)}catch{}}},function(Te){Ie(Te,null)})}function Wn(ue){var be;try{var Ie=ue[qD]();if(Ie!==null){var Te=tp(Ie[Yd](),Tn[8]);if(Te!==-1){var De=ue.getResponseHeader(Tn[0]);return AP(De)}}}catch(ke){ms(Q,18,ZD,(be={},be[GD]=Gy(ue,J),be[Qf]=Ze(ke),be))}}function fe(ue,be){if(be[Va]&&R&&w){var Ie=ts();if(Ie&&_t(Ie.mark)){eL++;var Te=R+ue+"#"+eL;Ie.mark(Te);var De=Ie.getEntriesByName(Te);De&&De[Ll]===1&&(be[qy]=De[0])}}}function Ve(ue,be,Ie,Te){var De=be[qy],ke=ts(),ht=se,Mt=Re,yt=be[Va],Rt=0;(function ct(){try{if(ke&&De){Rt++;for(var kn=null,Cr=ke.getEntries(),gi=Cr[Ll]-1;gi>=0;gi--){var At=Cr[gi];if(At){if(At.entryType==="resource")At.initiatorType===ue&&(tp(At[Qd],yt)!==-1||tp(yt,At[Qd])!==-1)&&(kn=At);else if(At.entryType==="mark"&&At[Qd]===De[Qd]){be[jk]=kn;break}if(At[Nl]<De[Nl]-1e3)break}}}!De||be[jk]||Rt>=ht||be.async===!1?(De&&_t(ke.clearMarks)&&ke.clearMarks(De[Qd]),be.perfAttempts=Rt,Ie()):va(ct,Mt)}catch(wo){Te(wo)}})()}function at(ue,be){var Ie,Te=Xt(),De=Te&&Te[Lk]()||Js(),ke=zs(Js(),0,16),ht=new WD(De,ke,Q[Jf](),(Ie=Q.core)===null||Ie===void 0?void 0:Ie.getTraceCtx());ht[xa]=Te&&Te[Rk](),ht[Ol]=Ty(),ht[Nk]=E;var Mt;if(ue instanceof Request?Mt=(ue||{}).url||"":Mt=ue,Mt===""){var yt=co();yt&&yt.href&&(Mt=g_(yt.href,"#")[0])}ht[Va]=Mt;var Rt="GET";be&&be[vu]?Rt=be[vu]:ue&&ue instanceof Request&&(Rt=ue[vu]),ht[vu]=Rt;var ct={};if(f){var kn=new Headers((be?be[Rl]:0)||(ue instanceof Request?ue[Rl]||{}:{}));kn.forEach(function(Cr,gi){X(gi)&&(ct[gi]=Cr)})}return ht[Sa]=ct,fe(Fl,ht),ht}function ot(ue){var be="";try{Ce(ue)||(typeof ue=="string"?be+="(url: '".concat(ue,"')"):be+="(url: '".concat(ue.url,"')"))}catch(Ie){tg(Q,15,"Failed to grab failed fetch diagnostics message",{exception:Ze(Ie)})}return be}function et(ue,be,Ie,Te,De,ke,ht){if(!De)return;function Mt(yt,Rt,ct){var kn=ct||{};kn.fetchDiagnosticsMessage=ot(Ie),Rt&&(kn.exception=Ze(Rt)),ms(Q,yt,JD+"fetch call"+YD,kn)}De[Zf]=Ty(),De[$a]=be,Ve(Fl,De,function(){var yt=De[Uk]("Fetch",f,ke),Rt;try{Ee&&(Rt=Ee({status:be,request:Ie,response:Te}))}catch{ms(Q,104,QD)}if(yt){Rt!==void 0&&(yt[Dl]=li(li({},yt.properties),Rt));var ct=De[Ok]();Lt(k,Q[za],De,yt,null,ct)}else Mt(14,null,{requestSentTime:De[Ol],responseFinishedTime:De[Zf]})},function(yt){Mt(18,yt,null)})}function ze(ue){var be;if(ue&&ue[Rl])try{var Ie=ue[Rl].get(Tn[0]);return AP(Ie)}catch(Te){ms(Q,18,ZD,(be={fetchDiagnosticsMessage:ot(ue)},be[Qf]=Ze(Te),be))}}function Lt(ue,be,Ie,Te,De,ke){var ht,Mt=!0,yt=ue[Ll];if(yt>0){var Rt=(ht={item:Te},ht[Dl]=De,ht.sysProperties=ke,ht.context=Ie?Ie[Yf]:null,ht.aborted=Ie?!!Ie[Xd]:!1,ht);Mt=nL(be,ue,Rt,"initializer")}Mt&&Q[LD](Te,De,ke)}}),l}return s.prototype.processTelemetry=function(l,p){this.processNext(l,p)},s.prototype.addDependencyInitializer=function(l){return null},s.identifier="AjaxDependencyPlugin",s}(Md),cK=function(){function a(){}return a}(),dK=function(){function a(){this.id="browser",this.deviceClass="Browser"}return a}(),pK="3.3.3",hK=function(){function a(s,l){var p=this,d=nr(s,function(){var m=s.sdkExtension;p.sdkVersion=(m?m+"_":"")+"javascript:"+pK});l&&l.add(d)}return a}(),fK=function(){function a(){}return a}(),Wy="sessionManager",Xy="update",Yy="isUserCookieSet",Zy="isNewUser",$k="getTraceCtx",Hk="telemetryTrace",rL="applySessionContext",iL="applyApplicationContext",aL="applyDeviceContext",oL="applyOperationContext",sL="applyUserContext",uL="applyOperatingSystemContxt",lL="applyLocationContext",cL="applyInternalContext",Bl="accountId",Qy="getSessionId",qk="namePrefix",gK="sessionCookiePostfix",dL="userCookiePostfix",Jy="idLength",Gk="getNewId",e1="length",np="automaticSession",rp="authenticatedId",rg="acquisitionDate",t1="renewalDate",ig="join",ag="cookieSeparator",Kk="authUserCookieName",mK="ai_session",vK=864e5,yK=18e5,bK=6e4,pL=function(){function a(){}return a}(),wK=function(){function a(s,l,p){var d=this,m,y,f=al(l),E=eT(l),I,D;Pn(a,d,function(U){s||(s={});var N=nr(s,function(ne){I=s.sessionExpirationMs||vK,D=s.sessionRenewalMs||yK;var ve=s.sessionCookiePostfix||s[qk]||"";m=mK+ve});p&&p.add(N),U[np]=new pL,U[Xy]=function(){var ne=ro(),ve=!1,pe=U[np];if(pe.id||(ve=!R(pe)),!ve&&I>0){var Ee=ne-pe[rg],Se=ne-pe[t1];ve=Ee<0||Se<0,ve=ve||Ee>I,ve=ve||Se>D}ve?F(ne):(!y||ne-y>bK)&&q(pe,ne)},U.backup=function(){var ne=U[np];Z(ne.id,ne[rg],ne[t1])};function R(ne,ve){var pe=!1,Ee=E.get(m);if(Ee&&_t(Ee.split))pe=w(ne,Ee);else{var Se=IP(f,m);Se&&(pe=w(ne,Se))}return pe||!!ne.id}function w(ne,ve){var pe=!1,Ee=", session will be reset",Se=ve.split("|");if(Se[e1]>=2)try{var J=+Se[1]||0,_e=+Se[2]||0;isNaN(J)||J<=0?Be(f,2,27,"AI session acquisition date is 0"+Ee):isNaN(_e)||_e<=0?Be(f,2,27,"AI session renewal date is 0"+Ee):Se[0]&&(ne.id=Se[0],ne[rg]=J,ne[t1]=_e,pe=!0)}catch(xe){Be(f,1,9,"Error parsing ai_session value ["+(ve||"")+"]"+Ee+" - "+fn(xe),{exception:Ze(xe)})}return pe}function F(ne){var ve=s[Gk]||BS;U.automaticSession.id=ve(s[Jy]||22),U[np][rg]=ne,q(U[np],ne),Ey()||Be(f,2,0,"Browser does not support local storage. Session durations will be inaccurate.")}function q(ne,ve){var pe=ne[rg];ne[t1]=ve;var Ee=D,Se=pe+I-ve,J=[ne.id,pe,ve],_e=0;Se<Ee?_e=Se/1e3:_e=Ee/1e3;var xe=s.cookieDomain||null;E.set(m,J[ig]("|"),I>0?_e:null,xe),y=ve}function Z(ne,ve,pe){MP(f,m,[ne,ve,pe][ig]("|"))}})}return a.__ieDyn=1,a}(),xK=function(){function a(s,l,p,d){var m=this;m.traceID=s||Js(),m.parentID=l;var y=co();!p&&y&&y.pathname&&(p=y.pathname),m.name=lr(d,p)}return a}();function hL(a){return!(typeof a!="string"||!a||a.match(/,|;|=| |\|/))}var SK=function(){function a(s,l,p){this.isNewUser=!1,this.isUserCookieSet=!1;var d=al(l),m=eT(l),y;Pn(a,this,function(f){dn(f,"config",{g:function(){return s}});var E=nr(s,function(){var N=s[dL]||"";y=a.userCookieName+N;var R=m.get(y);if(R){f[Zy]=!1;var w=R.split(a[ag]);w[e1]>0&&(f.id=w[0],f[Yy]=!!f.id)}if(!f.id){f.id=I();var F=D(f.id);U(F[ig](a[ag]));var q=(s[qk]||"")+"ai_session";Wq(d,q)}f[Bl]=s[Bl]||void 0;var Z=m.get(a[Kk]);if(Z){Z=decodeURI(Z);var ne=Z.split(a[ag]);ne[0]&&(f[rp]=ne[0]),ne[e1]>1&&ne[1]&&(f[Bl]=ne[1])}});p&&p.add(E);function I(){var N=s||{},R=N[Gk]||BS,w=R(N[Jy]?s[Jy]:22);return w}function D(N){var R=Td(new Date);f.accountAcquisitionDate=R,f[Zy]=!0;var w=[N,R];return w}function U(N){var R=31536e3;f[Yy]=m.set(y,N,R)}f.setAuthenticatedUserContext=function(N,R,w){w===void 0&&(w=!1);var F=!hL(N)||R&&!hL(R);if(F){Be(d,2,60,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0);return}f[rp]=N;var q=f[rp];R&&(f[Bl]=R,q=[f[rp],f.accountId][ig](a[ag])),w&&m.set(a[Kk],encodeURI(q))},f.clearAuthenticatedUserContext=function(){f[rp]=null,f[Bl]=null,m.del(a[Kk])},f[Xy]=function(N){if(f.id!==N||!f[Yy]){var R=N||I(),w=D(R);U(w[ig](a[ag]))}}})}return a.cookieSeparator="|",a.userCookieName="ai_user",a.authUserCookieName="ai_authUser",a}(),n1="ext",r1="tags";function ip(a,s){a&&a[s]&&Jo(a[s])[e1]===0&&delete a[s]}function fL(){return null}var TK=function(){function a(s,l,p,d){var m=this,y=s.logger;Pn(a,this,function(f){if(f.appId=fL,f[Qy]=fL,f.application=new cK,f.internal=new hK(l,d),mv()){f[Wy]=new wK(l,s,d),f.device=new dK,f.location=new fK,f.user=new SK(l,s,d);var E=void 0,I=void 0,D;p&&(E=p.getTraceId(),I=p.getSpanId(),D=p.getName()),f[Hk]=new xK(E,I,D,y),f.session=new pL}f[Qy]=function(){var U=f.session,N=null;if(U&&Tt(U.id))N=U.id;else{var R=(f[Wy]||{})[np];N=R&&Tt(R.id)?R.id:null}return N},f[rL]=function(U,N){In(di(U.ext,Yi.AppExt),"sesId",f[Qy](),Tt)},f[uL]=function(U,N){In(U.ext,Yi.OSExt,f.os)},f[iL]=function(U,N){var R=f.application;if(R){var w=di(U,r1);In(w,Dn.applicationVersion,R.ver,Tt),In(w,Dn.applicationBuild,R.build,Tt)}},f[aL]=function(U,N){var R=f.device;if(R){var w=di(di(U,n1),Yi.DeviceExt);In(w,"localId",R.id,Tt),In(w,"ip",R.ip,Tt),In(w,"model",R.model,Tt),In(w,"deviceClass",R.deviceClass,Tt)}},f[cL]=function(U,N){var R=f.internal;if(R){var w=di(U,r1);In(w,Dn.internalAgentVersion,R.agentVersion,Tt),In(w,Dn.internalSdkVersion,lr(y,R.sdkVersion,64),Tt),(U.baseType===xf.dataType||U.baseType===uu.dataType)&&(In(w,Dn.internalSnippet,R.snippetVer,Tt),In(w,Dn.internalSdkSrc,R.sdkSrc,Tt))}},f[lL]=function(U,N){var R=m.location;R&&In(di(U,r1,[]),Dn.locationIp,R.ip,Tt)},f[oL]=function(U,N){var R=f[Hk];if(R){var w=di(di(U,n1),Yi.TraceExt,{traceID:void 0,parentID:void 0});In(w,"traceID",R.traceID,Tt,Ce),In(w,"name",R.name,Tt,Ce),In(w,"parentID",R.parentID,Tt,Ce)}},f.applyWebContext=function(U,N){var R=m.web;R&&In(di(U,n1),Yi.WebExt,R)},f[sL]=function(U,N){var R=f.user;if(R){var w=di(U,r1,[]);In(w,Dn.userAccountId,R[Bl],Tt);var F=di(di(U,n1),Yi.UserExt);In(F,"id",R.id,Tt),In(F,"authId",R[rp],Tt)}},f.cleanUp=function(U,N){var R=U.ext;R&&(ip(R,Yi.DeviceExt),ip(R,Yi.UserExt),ip(R,Yi.WebExt),ip(R,Yi.OSExt),ip(R,Yi.AppExt),ip(R,Yi.TraceExt))}})}return a.__ieDyn=1,a}(),Kr,Wk,ap=null,kK=id((Kr={},Kr[Bl]=ap,Kr.sessionRenewalMs=30*60*1e3,Kr.samplingPercentage=100,Kr.sessionExpirationMs=24*60*60*1e3,Kr.cookieDomain=ap,Kr.sdkExtension=ap,Kr.isBrowserLinkTrackingEnabled=!1,Kr.appId=ap,Kr[Qy]=ap,Kr[qk]=Wk,Kr[gK]=Wk,Kr[dL]=Wk,Kr[Jy]=22,Kr[Gk]=ap,Kr)),EK=function(a){rs(s,a);function s(){var l=a.call(this)||this;l.priority=110,l.identifier=Iy;var p,d,m,y,f;return Pn(s,l,function(E,I){D(),dn(E,"context",{g:function(){return y}}),E.initialize=function(R,w,F,q){I.initialize(R,w,F,q),U(R)},E.processTelemetry=function(R,w){if(!Ce(R)){w=E._getTelCtx(w),R.name===uu.envelopeType&&w.diagLog().resetInternalMessageCount();var F=y||{};F.session&&typeof y.session.id!="string"&&F[Wy]&&F[Wy][Xy]();var q=F.user;if(q&&!q[Yy]&&q[Xy](F.user.id),N(R,w),q&&q[Zy]&&(q[Zy]=!1,!f)){var Z=new xf(72,(no()||{}).userAgent||"");OH(w.diagLog(),1,Z)}E.processNext(R,w)}},E._doTeardown=function(R,w){var F=(R||{}).core();if(F&&F[$k]){var q=F[$k](!1);q===d&&F.setTraceCtx(m)}D()};function D(){p=null,d=null,m=null,y=null,f=!0}function U(R){var w=E.identifier,F=E.core;E._addHook(nr(R,function(){var q=ja(null,R,F);R.storagePrefix&&BT(R.storagePrefix),f=R.disableUserInitMessage!==!1,p=q.getExtCfg(w,kK),E._extConfig=p})),m=F[$k](!1),y=new TK(F,p,m,E._unloadHooks),d=OT(E.context[Hk],m),F.setTraceCtx(d),E.context.appId=function(){var q=F.getPlugin(VP);return q?q.plugin._appId:null}}function N(R,w){di(R,"tags",[]),di(R,"ext",{});var F=E.context;F[rL](R,w),F[iL](R,w),F[aL](R,w),F[oL](R,w),F[sL](R,w),F[uL](R,w),F.applyWebContext(R,w),F[lL](R,w),F[cL](R,w),F.cleanUp(R,w)}}),l}return s.__ieDyn=1,s}(Md),gL="AuthenticatedUserContext",op="track",Xk="snippet",AK="getCookieMgr",CK="startTrackPage",IK="stopTrackPage",Yk="flush",MK="startTrackEvent",_K="stopTrackEvent",PK="addTelemetryInitializer",mL="pollInternalLogs",Zk="getPlugin",Qk="evtNamespace",DK=op+"Event",LK=op+"Trace",RK=op+"Metric",NK=op+"PageView",UK=op+"Exception",OK=op+"DependencyData",jK="set"+gL,FK="clear"+gL,BK="https://js.monitor.azure.com/scripts/b/ai.config.1.cfg.json",Jk="version",Vl="queue",i1="connectionString",og="instrumentationKey",vL="instrumentationkey",sp="userOverrideEndpointUrl",a1="endpointUrl",yL="ingestionendpoint",sg="onunloadFlush",Ta="context",bL="addHousekeepingBeforeUnload",e3="sendMessage",VK="updateSnippetDefinitions",bo,ug,up,t3,lg,wL=[Xk,"dependencies","properties","_snippetVersion","appInsightsNew","getSKUDefaults"],xL="iKeyUsage",SL="CdnUsage",TL="SdkLoaderVer",o1=void 0,zK={samplingRate:100,maxSendNumber:1},$K={monthInterval:3,daysOfMonth:[28]},s1={disabled:!0,limit:Oa(zK),interval:Oa($K)},HK=(bo={},bo[i1]=o1,bo[a1]=o1,bo[og]=o1,bo[sp]=o1,bo.diagnosticLogInterval=ty(qK,1e4),bo.featureOptIn=(ug={},ug[xL]={mode:3},ug[SL]={mode:2},ug[TL]={mode:2},ug),bo.throttleMgrCfg=Oa((up={},up[109]=Oa(s1),up[106]=Oa(s1),up[111]=Oa(s1),up[110]=Oa(s1),up)),bo.extensionConfig=Oa((t3={},t3.AppInsightsCfgSyncPlugin=Oa({cfgUrl:BK,syncMode:2}),t3)),bo);function qK(a){return a&&a>0}var GK=function(){function a(s){var l=this,p,d,m,y,f,E,I,D,U,N,R,w,F,q;Pn(a,this,function(Z){pe(),dn(Z,"config",{g:function(){return D}}),Xe(["pluginVersionStringArr","pluginVersionString"],function(J){dn(Z,J,{g:function(){return I?I[J]:null}})}),y=""+(s.sv||s[Jk]||""),s[Vl]=s[Vl]||[],s[Jk]=s[Jk]||2;var ne=ba(s.config||{},HK);D=ne.cfg,U=new EG,dn(Z,"appInsights",{g:function(){return U}}),d=new EK,p=new lK,m=new JG,I=new vq,dn(Z,"core",{g:function(){return I}}),Se(nr(ne,function(){var J=D[i1];function _e(){return cf(function(Re,z){us(J,function(Y){var we=Y&&Y.value,Q=null;!Y.rejected&&we&&(D[i1]=we,Q=DP(we)),Re(Q)})})}if(Zo(J)){var xe=cf(function(Re,z){_e().then(function(Y){var we=D[og];we=Y&&Y[vL]||we,Re(we)}).catch(function(Y){Re(null)})}),k=D[sp];Ce(k)&&(k=cf(function(Re,z){_e().then(function(Y){var we=D[a1],Q=Y&&Y[yL];we=Q?Q+Pd:we,Re(we)}).catch(function(Y){Re(null)})})),D[og]=xe,D[a1]=k}if(Tt(J)&&J){var te=DP(J),se=te[yL];D.endpointUrl=D[sp]?D[sp]:se+Pd,D[og]=te[vL]||D[og]}D.endpointUrl=D[sp]?D[sp]:D[a1]})),Z[Xk]=s,Z[Yk]=function(J,_e){J===void 0&&(J=!0);var xe;return cy(I,function(){return"AISKU.flush"},function(){J&&!_e&&(xe=Xs(function(se){_e=se}));var k=1,te=function(){k--,k===0&&_e()};Xe(I.getChannels(),function(se){se&&(k++,se[Yk](J,te))}),te()},null,J),xe},Z[sg]=function(J){J===void 0&&(J=!0),Xe(I.getChannels(),function(_e){_e[sg]?_e[sg]():_e[Yk](J)})},Z.loadAppInsights=function(J,_e,xe){J===void 0&&(J=!1),J&&Wz("Legacy Mode is no longer supported");function k(te){if(te){var se="";Ce(y)||(se+=y),Z[Ta]&&Z[Ta].internal&&(Z[Ta].internal.snippetVer=se||"-"),Kt(Z,function(Re,z){Tt(Re)&&!_t(z)&&Re&&Re[0]!=="_"&&Hr(wL,Re)===-1&&te[Re]!==z&&(te[Re]=z)})}}return cy(Z.core,function(){return"AISKU.loadAppInsights"},function(){I.initialize(D,[m,d,p,U,N],_e,xe),dn(Z,"context",{g:function(){return d[Ta]}}),R||(R=new Yq(I));var te=KK();te&&Z[Ta]&&(Z[Ta].internal.sdkSrc=te),k(Z[Xk]),Z.emptyQueue(),Z[mL](),Z[bL](Z),Se(nr(ne,function(){var se=!1;D.throttleMgrCfg[109]&&(se=!D.throttleMgrCfg[109].disabled),!R.isReady()&&D.extensionConfig&&D.extensionConfig[N.identifier]&&se&&R.onReadyState(!0);var Re;!w&&!D[i1]&&_S(xL,D)&&(Re=R[e3](106,"See Instrumentation key support at aka.ms/IkeyMigrate"),w=!0),!F&&Z[Ta].internal.sdkSrc&&Z[Ta].internal.sdkSrc.indexOf("az416426")!=-1&&_S(SL,D)&&(Re=R[e3](110,"See Cdn support notice at aka.ms/JsActiveCdn"),F=!0),!q&&parseInt(y)<6&&_S(TL,D)&&(Re=R[e3](111,"An updated Sdk Loader is available, see aka.ms/SnippetVer"),q=!0)}))}),Z},Z[VK]=function(J){F$(J,Z,function(_e){return _e&&Hr(wL,_e)===-1})},Z.emptyQueue=function(){try{if(qt(Z.snippet[Vl])){for(var J=Z.snippet[Vl].length,_e=0;_e<J;_e++){var xe=Z.snippet[Vl][_e];xe()}Z.snippet[Vl]=void 0,delete Z.snippet[Vl]}}catch(te){var k={};te&&_t(te.toString)&&(k.exception=te.toString())}},Z[bL]=function(J){if(mv()||r_()){var _e=function(){if(J[sg](!1),_t(Z.core[Zk])){var k=l.core[Zk](Iy);if(k){var te=k.plugin;te&&te[Ta]&&te[Ta]._sessionManager&&te[Ta]._sessionManager.backup()}}},xe=!1;E||(E=nu(f,I[Qk]&&I[Qk]())),Se(nr(D,function(k){var te=k.cfg,se=J.appInsights,Re=ja(null,te,se.core),z=Re.getExtCfg(se.identifier||zP);Ee();var Y=te.disablePageUnloadEvents;z.disableFlushOnBeforeUnload||(Mq(_e,Y,E)&&(xe=!0),yT(_e,Y,E)&&(xe=!0),!xe&&!iH()&&Be(I.logger,1,19,"Could not add handler for beforeunload and pagehide")),!xe&&!z.disableFlushOnUnload&&yT(_e,Y,E)}))}},Z.getSender=function(){return m},Z.unload=function(J,_e,xe){var k=!1,te;J&&!_e&&(te=Xs(function(Re){_e=Re}));function se(Re){k||(k=!0,pe(),_e&&_e(Re))}return Z[sg](J),Ee(),I.unload&&I.unload(J,se,xe),te},pf(Z,U,[AK,DK,NK,"trackPageViewPerformance",UK,"_onerror",LK,RK,CK,IK,MK,_K]),pf(Z,ve,[OK,"addDependencyListener","addDependencyInitializer"]),pf(Z,I,[PK,mL,"stopPollingInternalLogs",Zk,"addPlugin",Qk,"addUnloadCb","getTraceCtx","updateCfg","onCfgChange"]),pf(Z,function(){var J=d[Ta];return J?J.user:null},[jK,FK]);function ve(){return p}function pe(){f=ya("AISKU"),E=null,p=null,d=null,m=null,y=null,R=null,w=!1,F=!1,q=!1,N=new LG}function Ee(){E&&(_q(null,E),Pq(null,E))}function Se(J){I.addUnloadHook(J)}})}return a.prototype.addDependencyInitializer=function(s){return null},a}();function KK(){if(lg)return lg;var a=null,s=!1,l=["://js.monitor.azure.com/","://az416426.vo.msecnd.net/"];try{var p=(document||{}).currentScript;p&&(a=p.src)}catch{}if(a){try{var d=a.toLowerCase();if(d){var m="";Xe(l,function(y,f){if(Mi(d,y)!==-1)return m="cdn"+(f+1),Mi(d,"/scripts/")===-1&&(Mi(d,"/next/")!==-1?m+="-next":Mi(d,"/beta/")!==-1&&(m+="-beta")),lg=m+(s?".mod":""),-1})}}catch{}lg=a}return lg}var lp=(a=>(a.PlayerLoadDurationMs="playerLoadDurationMs",a.BufferDurationMs="bufferDurationMs",a.InitialPlaybackStartDurationMs="initialPlaybackStartDurationMs",a.PosterImageLoadDurationMs="posterImageLoadDurationMs",a))(lp||{}),Di=(a=>(a.BufferComplete="BufferComplete",a.CommonPlayerImpression="CommonPlayerImpression",a.ContentCheckpoint="ContentCheckpoint",a.ContentComplete="ContentComplete",a.ContentError="ContentError",a.FullScreenEnter="FullScreenEnter",a.FullScreenExit="FullScreenExit",a.InviewEnter="InviewEnter",a.InviewExit="InviewExit",a.Mute="Mute",a.Pause="Pause",a.Play="Play",a.PlayerError="PlayerError",a.Replay="Replay",a.Resume="Resume",a.Seek="Seek",a.Unmute="Unmute",a.VideoAudioTrackControl="VideoAudioTrackControl",a.VideoPlayerClick="VideoPlayerClick",a))(Di||{});class kL{constructor(s,l,p,d=!1,m){this.reporterName="Reporter",this._playerInfo=s,this._player=l,this._playerStateContext=p,this._isDebugMode=d,m&&(this.reporterName=m)}log(s){this._isDebugMode&&console.log(JSON.stringify(s),this.reporterName)}get playerInfo(){return this._playerInfo}set playerInfo(s){this._playerInfo=s}reportNominalMetric(s,l){if(this.shouldEmitNominalMetric(s)){const p=this.formatNominalMetric(s,this.getBaseTelemetryData(),l);this.log(p),this.emitTelemetry(p)}}reportNumericMetric(s,l){if(this.shouldEmitNumericMetric(s)){const p=this.formatNumericMetric(s,l,this.getBaseTelemetryData());this.log(p),this.emitTelemetry(p)}}reportError(s){if(this.shouldEmitError(s.errorType)){const l=this.formatError(s,this.getBaseTelemetryData());this.log(l),this.emitTelemetry(l)}}getBaseTelemetryData(){var s;return{deliveryMethod:this._playerInfo.deliveryMethod,playerInstanceId:this._playerInfo.playerInstanceId,playerCommit:this._playerInfo.playerCommit,playerVersionNumber:this._playerInfo.playerVersionNumber,playerUrl:this._playerInfo.playerUrl,title:this._playerInfo.title,videoId:this._playerInfo.videoId,videoElapsedTime:this._player.currentTime,videoDuration:this._player.duration,language:this._player.options.language,playerState:{autoplay:(s=this._player)==null?void 0:s.autoplay,muted:this._player.muted,loop:this._player.loop,visible:this._playerStateContext.value.visible}}}}class WK extends kL{constructor(s,l,p,d=!1){super(s,l,p,d,"AppInsightsReporter"),this.hasEmittedFirstNonUmpMessage=!1,this.playerTech="shaka",this.formatNominalMetric=()=>{throw new Error("Unsupported by AppInsights reporter.")},this.shouldEmitNominalMetric=()=>!1,this.shouldEmitNumericMetric=m=>Object.values(lp).includes(m),this.shouldEmitError=()=>!0,this.isException=m=>m.exception!==void 0;try{this._appInsights=this.initAppInsights()}catch(m){d&&console.error("Error Initializing AppInsights.",m)}this.contextProvider=p}initAppInsights(){const s=new GK({config:{connectionString:"InstrumentationKey=81bc6725-8164-4f38-93f8-ea681394304b;IngestionEndpoint=https://westus2-2.in.applicationinsights.azure.com/;LiveEndpoint=https://westus2.livediagnostics.monitor.azure.com/;ApplicationId=ef77fed2-4fcc-4568-aed4-b87c867a1e21",disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0}});return s.loadAppInsights(),s.addTelemetryInitializer(this.telemetryInitializer.bind(this)),s}telemetryInitializer(s){var l;return s.baseData=s.baseData||{},s.baseData.properties={...s.baseData.properties,deliveryMethod:this._playerInfo.deliveryMethod,playerInstanceId:this._playerInfo.playerInstanceId,playerVersionNumber:this._playerInfo.playerVersionNumber,uri:window.location.href,partnerName:this._playerInfo.partnerName,playerTech:this.playerTech,playerVisible:(l=this.contextProvider.value)==null?void 0:l.visible},document.referrer&&document.referrer!==window.location.href&&(s.baseData.properties.referrer=document.referrer),s.baseData.properties.ump?(delete s.baseData.properties.ump,!0):(s.baseData.properties.nonump=!0,this.hasEmittedFirstNonUmpMessage?!1:(this.hasEmittedFirstNonUmpMessage=!0,!0))}emitTelemetry(s){var l,p;this.isException(s)?(l=this._appInsights)==null||l.trackException(s):(p=this._appInsights)==null||p.trackMetric({name:s.name,average:s.average,properties:s.properties})}formatNumericMetric(s,l,p){return{name:s,average:l,properties:{playerUrl:p.playerUrl,language:p.language,ump:!0}}}formatError(s,l){return{exception:Object.assign(new Error(s.errorDescription),{name:s.errorType}),properties:{playerUrl:l.playerUrl,language:l.language,errorMessage:s.errorDescription,ump:!0}}}}var wr=(a=>(a[a.VideoSeen=239]="VideoSeen",a[a.VideoStart=240]="VideoStart",a[a.VideoPause=241]="VideoPause",a[a.VideoContinue=242]="VideoContinue",a[a.VideoCheckpoint=243]="VideoCheckpoint",a[a.VideoJump=244]="VideoJump",a[a.VideoComplete=245]="VideoComplete",a[a.VideoBuffering=246]="VideoBuffering",a[a.VideoError=247]="VideoError",a[a.VideoMute=248]="VideoMute",a[a.VideoUnmute=249]="VideoUnmute",a[a.VideoFullscreen=250]="VideoFullscreen",a[a.VideoUnfullscreen=251]="VideoUnfullscreen",a[a.VideoReplay=252]="VideoReplay",a[a.VideoPlayerLoad=253]="VideoPlayerLoad",a[a.VideoPlayerClick=254]="VideoPlayerClick",a[a.VideoVolumeControl=255]="VideoVolumeControl",a[a.VideoAudioTrackControl=256]="VideoAudioTrackControl",a[a.VideoClosedCaptionControl=257]="VideoClosedCaptionControl",a[a.VideoClosedCaptionStyle=258]="VideoClosedCaptionStyle",a[a.VideoResolutionControl=259]="VideoResolutionControl",a[a.VideoUndefinedEvent=0]="VideoUndefinedEvent",a))(wr||{});const EL={243:{actionType:"A",telemetryMethodType:"capturePageAction"},245:{actionType:"A",telemetryMethodType:"capturePageAction"},246:{actionType:"A",telemetryMethodType:"captureContentUpdate"},253:{actionType:"A",telemetryMethodType:"captureContentUpdate"},239:{actionType:"O",telemetryMethodType:"captureContentUpdate"},0:{actionType:"O",telemetryMethodType:"captureContentUpdate"},247:{actionType:"O",telemetryMethodType:"captureContentUpdate"},252:{actionType:"CL",telemetryMethodType:"capturePageAction"},240:{actionType:"CL",telemetryMethodType:"capturePageAction"},241:{actionType:"CL",telemetryMethodType:"capturePageAction"},242:{actionType:"CL",telemetryMethodType:"capturePageAction"},244:{actionType:"CL",telemetryMethodType:"capturePageAction"},248:{actionType:"CL",telemetryMethodType:"capturePageAction"},249:{actionType:"CL",telemetryMethodType:"capturePageAction"},250:{actionType:"CL",telemetryMethodType:"capturePageAction"},251:{actionType:"CL",telemetryMethodType:"capturePageAction"},254:{actionType:"CL",telemetryMethodType:"capturePageAction"},255:{actionType:"CL",telemetryMethodType:"capturePageAction"},256:{actionType:"CL",telemetryMethodType:"capturePageAction"},257:{actionType:"CL",telemetryMethodType:"capturePageAction"},258:{actionType:"CL",telemetryMethodType:"capturePageAction"},259:{actionType:"CL",telemetryMethodType:"capturePageAction"}},n3={BufferComplete:wr.VideoBuffering,CommonPlayerImpression:wr.VideoPlayerLoad,ContentCheckpoint:wr.VideoCheckpoint,ContentComplete:wr.VideoComplete,ContentError:wr.VideoError,FullScreenEnter:wr.VideoFullscreen,FullScreenExit:wr.VideoUnfullscreen,InviewEnter:wr.VideoSeen,Mute:wr.VideoMute,Pause:wr.VideoPause,Play:wr.VideoStart,PlayerError:wr.VideoError,Replay:wr.VideoReplay,Resume:wr.VideoContinue,Seek:wr.VideoJump,Unmute:wr.VideoUnmute,VideoAudioTrackControl:wr.VideoAudioTrackControl,VideoPlayerClick:wr.VideoPlayerClick};class XK extends kL{constructor(s,l,p,d=!1){super(s,l,p,d,"MartechReporter"),this.formatNominalMetric=(m,y,f)=>{const E=n3[m],I=EL[E];return{actionType:I?.actionType,behavior:E,contentTags:{...this.createContentTags(y),additionalData:f}}},this.formatNumericMetric=()=>{throw new Error("Unsupported by Martech reporter.")},this.formatError=(m,y)=>({actionType:"O",behavior:n3.ContentError,contentTags:{...this.createContentTags(y),errorDetails:m}}),this.shouldEmitNominalMetric=m=>n3[m]!==void 0,this.shouldEmitNumericMetric=()=>!1,this.shouldEmitError=()=>!0,this.createContentTags=m=>({playerInstanceId:m.playerInstanceId,containerName:"Universal Media Player",compnm:"Universal Media Player",vidnm:m.title,vidid:m.videoId,vidpct:Math.round(m.videoElapsedTime/m.videoDuration*100),viddur:Math.round(m.videoDuration),vidwt:Math.round(m.videoElapsedTime),playerState:m.playerState})}emitTelemetry(s){var l,p,d,m;const y=window.owap,f=window.awa,{telemetryMethodType:E}=EL[s.behavior];(l=y?.isInitialized)!=null&&l.call(y)?(p=y?.[E])==null||p.call(y,null,s):f?.isInitialized===!0&&((m=(d=f?.ct)==null?void 0:d[E])==null||m.call(d,null,s))}}class YK{constructor(s,l,p,d,m=!1){this._playerInfo={},this.reporters=[],d&&this.reporters.push(new XK(s,l,p,m)),this.sampleInstance()&&this.reporters.push(new WK(s,l,p,m)),this.playerInfo=s}get playerInfo(){return this._playerInfo}set playerInfo(s){this._playerInfo=s,s.partnerName||console.warn('"partnerName" is undefined and must be provided to the video player options.'),this.reporters.forEach(l=>l.playerInfo=s)}sampleInstance(){return Math.random()*100<1}reportNominalMetric(s,l){this.reporters.forEach(p=>p.reportNominalMetric(s,l))}reportNumericMetric(s,l){this.reporters.forEach(p=>p.reportNumericMetric(s,l))}reportError(s){this.reporters.forEach(l=>l.reportError(s))}}function ZK(a,s,l){const p=d=>{QK(d,s,l)};return a.addEventListener("error",p),s.addEventListener("error",p),()=>{a.removeEventListener("error",p),s.removeEventListener("error",p)}}function QK(a,s,l){if(s.dispatchEvent(new Et("playererror")),a instanceof vn.util.FakeEvent){const p=a.detail;p.umpErrorType?l.reportError({errorType:p.umpErrorType,errorDescription:p.umpErrorDescription}):l.reportError({errorType:`Shaka Error: ${p.code}. Severity: ${p.severity}`,errorDescription:`${p.category}: ${p.data.toString()}`})}else l.reportError({errorType:"unknown error event",errorDescription:"unknown error event"})}function JK(a,s,l){nW(a,l),eW(a,l),tW(a,l),rW(a,l),iW(a,s,l),aW(a,s,l),dW(a,l),oW(a,s,l),pW(a,s,l),sW(a,l),uW(a,l),lW(a,l),cW(a,s,l),hW(s,l)}function eW(a,s){a.addEventListener("play",()=>{const l=performance.now();a.addEventListener("playing",()=>{s.reportNumericMetric(lp.InitialPlaybackStartDurationMs,performance.now()-l)},{once:!0})},{once:!0})}function tW(a,s){a.addEventListener("umpplay",()=>{s.reportNominalMetric(Di.Play)},{once:!0})}function nW(a,s){a.addEventListener("ended",()=>{s.reportNominalMetric(Di.ContentComplete)},{once:!0})}function rW(a,s){a.addEventListener("umppause",()=>{s.reportNominalMetric(Di.Pause)})}function iW(a,s,l){a.addEventListener("resume",()=>{s.dispatchEvent(new Et("resume")),l.reportNominalMetric(Di.Resume)})}function aW(a,s,l){a.addEventListener("replay",()=>{s.dispatchEvent(new Et("replay")),l.reportNominalMetric(Di.Replay)})}function oW(a,s,l){let p;a.addEventListener("buffering",d=>{d.buffering?(s.dispatchEvent(new Et("buffering")),p=performance.now()):(l.reportNominalMetric(Di.BufferComplete),l.reportNumericMetric(lp.BufferDurationMs,performance.now()-p))})}function sW(a,s){a.addEventListener("fullscreenchanged",()=>{a.fullscreen?s.reportNominalMetric(Di.FullScreenEnter):s.reportNominalMetric(Di.FullScreenExit)})}function uW(a,s){a.addEventListener("playerloadmediastart",()=>{const l=performance.now();a.addEventListener("playerloadmediaend",()=>{s.reportNumericMetric(lp.PlayerLoadDurationMs,performance.now()-l)})})}function lW(a,s){const l=performance.now();a.addEventListener("playerposterloadcomplete",()=>{s.reportNumericMetric(lp.PosterImageLoadDurationMs,performance.now()-l)},{once:!0})}function cW(a,s,l){const p=[.25,.5,.75],d=a.options.checkpoints.filter(m=>m>=0&&m<=1).sort((m,y)=>m-y);a.addEventListener("timeupdate",()=>{const m=a.currentTime/a.duration;for(;p.length>0&&m>=p[0];)p.shift(),l.reportNominalMetric(Di.ContentCheckpoint);for(;d.length>0&&m>=d[0];)d.shift(),s.dispatchEvent(new Et("checkpoint"))})}function dW(a,s){a.addEventListener("seeked",()=>{(a.currentTime>=.2||a.currentTime===0)&&s.reportNominalMetric(Di.Seek)})}function pW(a,s,l){let p=a.options.muted;a.addEventListener("volumechange",()=>{const d=a.volume===0||a.muted;p!==d&&(p=d,l.reportNominalMetric(d?Di.Mute:Di.Unmute),s.dispatchEvent(new Et(d?"mute":"unmute")))})}function hW(a,s){a.addEventListener("ready",()=>{s.reportNominalMetric(Di.CommonPlayerImpression)},{once:!0})}function fW(a,s){return l=>{const p={deliveryMethod:"cdn",playerInstanceId:a.umpId,playerVersionNumber:1737055056299,playerCommit:"f10b591ec73eead1df5d2d9ed284b6bdc8312e5c",playerUrl:fz,title:l.options.unlocalizedTitle||l.options.title,partnerName:l.options.partnerName},d=new YK(p,l,s,l.options.reporting,l.options.debug);JK(l,a,d);const m=ZK(l,a,d);return()=>{m()}}}const gW=`<svg width='24' height='24'
     viewBox='0 0 24 24'
     xmlns='http://www.w3.org/2000/svg'
    class="spinner-icon"
  >
  <defs>
    <clipPath id="circleClip">
      <circle cx="12" cy="12" r="12"/>
    </clipPath>
  </defs>
  <style>
    .spinner-icon {
      --stroke-width: 2;
      --stroke-bg: #333;
      --stroke-fg: #fff;

      transform-origin: center;
      animation: rotate 2s linear infinite;
      stroke-width: var(--stroke-width);
    }

    .spinner-bg {
      stroke: var(--stroke-bg);
    }
    
    .spinner-stroke {
      stroke: var(--stroke-fg);
      animation: animate-stroke 1.5s ease-out infinite;
    }

    @keyframes rotate {
      100% {
        transform: rotate(360deg)
      }
    }

    @keyframes animate-stroke {
      0% {
        stroke-dasharray: 0 150;
        stroke-dashoffset: 0;
      }

      47.5% {
        stroke-dasharray: 42 150;
        stroke-dashoffset: -16;
      }

      95%,
      100% {
        stroke-dasharray: 42 150;
        stroke-dashoffset: -59
      }
    }
  </style>
    <circle class="spinner-bg" cx='12' cy='12' r='9.5' fill='none' clip-path="url(#circleClip)"></circle>
    <circle class="spinner-stroke" cx='12' cy='12' r='9.5' fill='none' clip-path="url(#circleClip)"></circle>
</svg>`;function mW(a){return`data:image/svg+xml,${encodeURIComponent(a).replace(/'/g,"%27").replace(/"/g,"%22")}`}const vW=xn`
.spinner{background-image:url('${Hw(mW(gW))}');background-repeat:no-repeat;background-position:center;background-size:cover;width:var(--size-8);height:var(--size-8)}
`;var yW=Object.defineProperty,bW=Object.getOwnPropertyDescriptor,AL=(a,s,l,p)=>{for(var d=p>1?void 0:p?bW(s,l):s,m=a.length-1,y;m>=0;m--)(y=a[m])&&(d=(p?y(s,l,d):y(d))||d);return p&&d&&yW(s,l,d),d};let u1=class extends yn{render(){return this.playerState.controlsState==="none"||!this.playerState.loading?null:ft`<div class="spinner"></div>`}};u1.styles=[vW,xn`
.spinner{width:var(--size-12);height:var(--size-12)}
    `],AL([gr({context:mr,subscribe:!0})],u1.prototype,"playerState",2),u1=AL([zn("ump-loading-spinner")],u1);const CL=xn`
:host{--border-radius-none:0;--border-radius-small:2px;--border-radius-medium:4px;--border-radius-large:6px;--border-radius-x-large:8px;--border-radius-circular:10000px;--font-size-base-100:0.625rem;--font-size-base-200:0.75rem;--font-size-base-300:0.875rem;--font-size-base-400:1rem;--font-size-base-500:1.25rem;--font-size-base-600:1.5rem;--font-size-hero-700:1.75rem;--font-size-hero-800:2rem;--font-size-hero-900:2.5rem;--font-size-hero-1000:2.25rem;--font-weight-regular:400;--font-weight-medium:500;--font-weight-semibold:600;--font-weight-bold:700;--duration-ultra-fast:50ms;--duration-faster:100ms;--duration-fast:150ms;--duration-normal:200ms;--duration-gentle:250ms;--duration-slow:300ms;--duration-slower:400ms;--duration-ultra-slow:500ms;--curve-accelerate-max:cubic-bezier(0.9,0.1,1,0.2);--curve-accelerate-mid:cubic-bezier(1,0,1,1);--curve-accelerate-min:cubic-bezier(0.8,0,0.78,1);--curve-decelerate-max:cubic-bezier(0.1,0.9,0.2,1);--curve-decelerate-mid:cubic-bezier(0,0,0,1);--curve-decelerate-min:cubic-bezier(0.33,0,0.1,1);--curve-easy-ease-max:cubic-bezier(0.8,0,0.2,1);--curve-easy-ease:cubic-bezier(0.33,0,0.67,1);--curve-linear:cubic-bezier(0,0,1,1);--line-height-base-100:0.875rem;--line-height-base-200:1rem;--line-height-base-300:1.25rem;--line-height-base-400:1.375rem;--line-height-base-500:1.75rem;--line-height-base-600:2rem;--line-height-hero-700:2.25rem;--line-height-hero-800:2.5rem;--line-height-hero-900:3.125rem;--line-height-hero-1000:5.75rem;--spacing-none:0;--spacing-xxs:0.125rem;--spacing-xs:0.25rem;--spacing-s-nudge:0.375rem;--spacing-s:0.5rem;--spacing-m-nudge:0.625rem;--spacing-m:0.75rem;--spacing-l:1rem;--spacing-xl:1.25rem;--spacing-xxl:1.5rem;--spacing-xxxl:2rem;--spacing-xxxxl:2.25rem;--size-0:0px;--size-px:1px;--size-0-5:0.125rem;--size-1:0.25rem;--size-1-5:0.375rem;--size-2:0.5rem;--size-2-5:0.625rem;--size-3:0.75rem;--size-3-5:0.875rem;--size-4:1rem;--size-5:1.25rem;--size-6:1.5rem;--size-7:1.75rem;--size-8:2rem;--size-9:2.25rem;--size-10:2.5rem;--size-11:2.75rem;--size-12:3rem;--size-14:3.5rem;--size-16:4rem;--size-20:5rem;--size-24:6rem;--size-28:7rem;--size-32:8rem;--size-36:9rem;--size-40:10rem;--size-44:11rem;--size-48:12rem;--size-52:13rem;--size-56:14rem;--size-60:15rem;--size-64:16rem;--size-72:18rem;--size-80:20rem;--size-96:24rem;--size-100:30rem;--stroke-width-thin:1px;--stroke-width-thick:2px;--stroke-width-thicker:3px;--stroke-width-thickest:4px;--color-neutral-shadow-ambient:rgb(0 0 0/24%);--color-neutral-shadow-key:rgb(0 0 0/28%);--color-neutral-shadow-ambient-lighter:rgb(0 0 0/12%);--color-neutral-shadow-key-lighter:rgb(0 0 0/14%);--color-neutral-shadow-ambient-darker:rgb(0 0 0/40%);--color-neutral-shadow-key-darker:rgb(0 0 0/48%);--color-brand-shadow-ambient:rgb(0 0 0/30%);--color-brand-shadow-key:rgb(0 0 0/25%);--color-grey-2:#050505;--color-grey-4:#0a0a0a;--color-grey-6:#0f0f0f;--color-grey-8:#141414;--color-grey-10:#1a1a1a;--color-grey-12:#1f1f1f;--color-grey-14:#242424;--color-grey-16:#292929;--color-grey-18:#2e2e2e;--color-grey-20:#333;--color-grey-22:#383838;--color-grey-24:#3d3d3d;--color-grey-26:#424242;--color-grey-28:#474747;--color-grey-30:#4d4d4d;--color-grey-32:#525252;--color-grey-34:#575757;--color-grey-36:#5c5c5c;--color-grey-38:#616161;--color-grey-40:#666;--color-grey-42:#6b6b6b;--color-grey-44:#707070;--color-grey-46:#757575;--color-grey-48:#7a7a7a;--color-grey-50:#808080;--color-grey-52:#858585;--color-grey-54:#8a8a8a;--color-grey-56:#8f8f8f;--color-grey-58:#949494;--color-grey-60:#999;--color-grey-62:#9e9e9e;--color-grey-64:#a3a3a3;--color-grey-66:#a8a8a8;--color-grey-68:#adadad;--color-grey-70:#b3b3b3;--color-grey-72:#b8b8b8;--color-grey-74:#bdbdbd;--color-grey-76:#c2c2c2;--color-grey-78:#c7c7c7;--color-grey-80:#ccc;--color-grey-82:#d1d1d1;--color-grey-84:#d6d6d6;--color-grey-86:#dbdbdb;--color-grey-88:#e0e0e0;--color-grey-90:#e6e6e6;--color-grey-92:#ebebeb;--color-grey-94:#f0f0f0;--color-grey-96:#f5f5f5;--color-grey-98:#fafafa;--color-white:#fff;--color-white-alpha-5:rgb(255 255 255/5%);--color-white-alpha-10:rgb(255 255 255/10%);--color-white-alpha-20:rgb(255 255 255/20%);--color-white-alpha-30:rgb(255 255 255/30%);--color-white-alpha-40:rgb(255 255 255/40%);--color-white-alpha-50:rgb(255 255 255/50%);--color-white-alpha-60:rgb(255 255 255/60%);--color-white-alpha-70:rgb(255 255 255/70%);--color-white-alpha-80:rgb(255 255 255/80%);--color-white-alpha-90:rgb(255 255 255/90%);--color-black:#000;--color-black-alpha-5:rgb(0 0 0/5%);--color-black-alpha-10:rgb(0 0 0/10%);--color-black-alpha-20:rgb(0 0 0/20%);--color-black-alpha-30:rgb(0 0 0/30%);--color-black-alpha-40:rgb(0 0 0/40%);--color-black-alpha-50:rgb(0 0 0/50%);--color-black-alpha-60:rgb(0 0 0/60%);--color-black-alpha-70:rgb(0 0 0/70%);--color-black-alpha-80:rgb(0 0 0/80%);--color-black-alpha-90:rgb(0 0 0/90%);--color-grey-10-alpha-5:rgb(26 26 26/5%);--color-grey-10-alpha-10:rgb(26 26 26/10%);--color-grey-10-alpha-20:rgb(26 26 26/20%);--color-grey-10-alpha-30:rgb(26 26 26/30%);--color-grey-10-alpha-40:rgb(26 26 26/40%);--color-grey-10-alpha-50:rgb(26 26 26/50%);--color-grey-10-alpha-60:rgb(26 26 26/60%);--color-grey-10-alpha-70:rgb(26 26 26/70%);--color-grey-10-alpha-80:rgb(26 26 26/80%);--color-grey-10-alpha-90:rgb(26 26 26/90%);--color-grey-12-alpha-5:rgb(31 31 31/5%);--color-grey-12-alpha-10:rgb(31 31 31/10%);--color-grey-12-alpha-20:rgb(31 31 31/20%);--color-grey-12-alpha-30:rgb(31 31 31/30%);--color-grey-12-alpha-40:rgb(31 31 31/40%);--color-grey-12-alpha-50:rgb(31 31 31/50%);--color-grey-12-alpha-60:rgb(31 31 31/60%);--color-grey-12-alpha-70:rgb(31 31 31/70%);--color-grey-12-alpha-80:rgb(31 31 31/80%);--color-grey-12-alpha-90:rgb(31 31 31/90%);--color-grey-14-alpha-5:rgb(36 36 36/5%);--color-grey-14-alpha-10:rgb(36 36 36/10%);--color-grey-14-alpha-20:rgb(36 36 36/20%);--color-grey-14-alpha-30:rgb(36 36 36/30%);--color-grey-14-alpha-40:rgb(36 36 36/40%);--color-grey-14-alpha-50:rgb(36 36 36/50%);--color-grey-14-alpha-60:rgb(36 36 36/60%);--color-grey-14-alpha-70:rgb(36 36 36/70%);--color-grey-14-alpha-80:rgb(36 36 36/80%);--color-grey-14-alpha-90:rgb(36 36 36/90%);--color-brand-10:#061724;--color-brand-20:#082338;--color-brand-30:#0a2e4a;--color-brand-40:#0c3b5e;--color-brand-50:#0e4775;--color-brand-60:#0f548c;--color-brand-70:#115ea3;--color-brand-80:#0f6cbd;--color-brand-90:#2886de;--color-brand-100:#479ef5;--color-brand-110:#62abf5;--color-brand-120:#77b7f7;--color-brand-130:#96c6fa;--color-brand-140:#b4d6fa;--color-brand-150:#cfe4fa;--color-brand-160:#ebf3fc;--color-neutral-foreground-1:var(--color-white);--color-neutral-foreground-1-hover:var(--color-white);--color-neutral-foreground-1-pressed:var(--color-white);--color-neutral-foreground-1-selected:var(--color-white);--color-neutral-foreground-2:var(--color-grey-84);--color-neutral-foreground-2-hover:var(--color-white);--color-neutral-foreground-2-pressed:var(--color-white);--color-neutral-foreground-2-selected:var(--color-white);--color-neutral-foreground-2-brand-hover:var(--color-brand-100);--color-neutral-foreground-2-brand-pressed:var(--color-brand-90);--color-neutral-foreground-2-brand-selected:var(--color-brand-100);--color-neutral-foreground-3:var(--color-grey-68);--color-neutral-foreground-3-hover:var(--color-grey-84);--color-neutral-foreground-3-pressed:var(--color-grey-84);--color-neutral-foreground-3-selected:var(--color-grey-84);--color-neutral-foreground-3-brand-hover:var(--color-brand-100);--color-neutral-foreground-3-brand-pressed:var(--color-brand-90);--color-neutral-foreground-3-brand-selected:var(--color-brand-100);--color-neutral-foreground-4:var(--color-grey-60);--color-neutral-foreground-disabled:var(--color-grey-36);--color-neutral-foreground-inverted-disabled:var(--color-white-alpha-40);--color-brand-foreground-link:var(--color-brand-100);--color-brand-foreground-link-hover:var(--color-brand-110);--color-brand-foreground-link-pressed:var(--color-brand-90);--color-brand-foreground-link-selected:var(--color-brand-100);--color-neutral-foreground-2-link:var(--color-grey-84);--color-neutral-foreground-2-link-hover:var(--color-white);--color-neutral-foreground-2-link-pressed:var(--color-white);--color-neutral-foreground-2-link-selected:var(--color-white);--color-compound-brand-foreground-1:var(--color-brand-100);--color-compound-brand-foreground-1-hover:var(--color-brand-110);--color-compound-brand-foreground-1-pressed:var(--color-brand-90);--color-brand-foreground-1:var(--color-brand-100);--color-brand-foreground-2:var(--color-brand-110);--color-brand-foreground-2-hover:var(--color-brand-130);--color-brand-foreground-2-pressed:var(--color-brand-160);--color-neutral-foreground-1-static:var(--color-grey-14);--color-neutral-foreground-static-inverted:var(--color-white);--color-neutral-foreground-inverted:var(--color-grey-14);--color-neutral-foreground-inverted-hover:var(--color-grey-14);--color-neutral-foreground-inverted-pressed:var(--color-grey-14);--color-neutral-foreground-inverted-selected:var(--color-grey-14);--color-neutral-foreground-inverted-2:var(--color-grey-14);--color-neutral-foreground-on-brand:var(--color-white);--color-neutral-foreground-inverted-link:var(--color-white);--color-neutral-foreground-inverted-link-hover:var(--color-white);--color-neutral-foreground-inverted-link-pressed:var(--color-white);--color-neutral-foreground-inverted-link-selected:var(--color-white);--color-brand-foreground-inverted:var(--color-brand-80);--color-brand-foreground-inverted-hover:var(--color-brand-70);--color-brand-foreground-inverted-pressed:var(--color-brand-60);--color-brand-foreground-on-light:var(--color-brand-80);--color-brand-foreground-on-light-hover:var(--color-brand-70);--color-brand-foreground-on-light-pressed:var(--color-brand-50);--color-brand-foreground-on-light-selected:var(--color-brand-60);--color-neutral-background-1:var(--color-grey-16);--color-neutral-background-1-hover:var(--color-grey-24);--color-neutral-background-1-pressed:var(--color-grey-12);--color-neutral-background-1-selected:var(--color-grey-22);--color-neutral-background-2:var(--color-grey-12);--color-neutral-background-2-hover:var(--color-grey-20);--color-neutral-background-2-pressed:var(--color-grey-8);--color-neutral-background-2-selected:var(--color-grey-18);--color-neutral-background-3:var(--color-grey-8);--color-neutral-background-3-hover:var(--color-grey-16);--color-neutral-background-3-pressed:var(--color-grey-4);--color-neutral-background-3-selected:var(--color-grey-14);--color-neutral-background-4:var(--color-grey-4);--color-neutral-background-4-hover:var(--color-grey-12);--color-neutral-background-4-pressed:var(--color-black);--color-neutral-background-4-selected:var(--color-grey-10);--color-neutral-background-5:var(--color-black);--color-neutral-background-5-hover:var(--color-grey-8);--color-neutral-background-5-pressed:var(--color-grey-2);--color-neutral-background-5-selected:var(--color-grey-6);--color-neutral-background-6:var(--color-grey-20);--color-neutral-background-inverted:var(--color-white);--color-neutral-background-static:var(--color-grey-24);--color-neutral-background-alpha:var(--color-grey-10-alpha-50);--color-neutral-background-alpha-2:var(--color-grey-12-alpha-70);--color-neutral-background-disabled:var(--color-grey-8);--color-neutral-background-inverted-disabled:var(--color-white-alpha-10);--color-subtle-background:transparent;--color-subtle-background-hover:var(--color-grey-22);--color-subtle-background-pressed:var(--color-grey-18);--color-subtle-background-selected:var(--color-grey-20);--color-subtle-background-light-alpha-hover:var(--color-grey-14-alpha-80);--color-subtle-background-light-alpha-pressed:var(--color-grey-14-alpha-50);--color-subtle-background-light-alpha-selected:transparent;--color-subtle-background-inverted:transparent;--color-subtle-background-inverted-hover:var(--color-black-alpha-10);--color-subtle-background-inverted-pressed:var(--color-black-alpha-30);--color-subtle-background-inverted-selected:var(--color-black-alpha-20);--color-transparent-background:transparent;--color-transparent-background-hover:transparent;--color-transparent-background-pressed:transparent;--color-transparent-background-selected:transparent;--color-background-overlay:var(--color-black-alpha-50);--color-brand-background:var(--color-brand-70);--color-brand-background-hover:var(--color-brand-80);--color-brand-background-pressed:var(--color-brand-40);--color-brand-background-selected:var(--color-brand-60);--color-compound-brand-background:var(--color-brand-100);--color-compound-brand-background-hover:var(--color-brand-110);--color-compound-brand-background-pressed:var(--color-brand-90);--color-brand-background-static:var(--color-brand-80);--color-brand-background-2:var(--color-brand-20);--color-brand-background-2-hover:var(--color-brand-40);--color-brand-background-2-pressed:var(--color-brand-10);--color-brand-background-3-static:var(--color-brand-60);--color-brand-background-4-static:var(--color-brand-40);--color-brand-background-inverted:var(--color-white);--color-brand-background-inverted-hover:var(--color-brand-160);--color-brand-background-inverted-pressed:var(--color-brand-140);--color-brand-background-inverted-selected:var(--color-brand-150);--color-neutral-card-background:var(--color-grey-20);--color-neutral-card-background-hover:var(--color-grey-24);--color-neutral-card-background-pressed:var(--color-grey-18);--color-neutral-card-background-selected:var(--color-grey-22);--color-neutral-card-background-disabled:var(--color-grey-8);--color-neutral-stroke-accessible:var(--color-grey-68);--color-neutral-stroke-accessible-hover:var(--color-grey-74);--color-neutral-stroke-accessible-pressed:var(--color-grey-70);--color-neutral-stroke-accessible-selected:var(--color-brand-100);--color-neutral-stroke-1:var(--color-grey-40);--color-neutral-stroke-1-hover:var(--color-grey-46);--color-neutral-stroke-1-pressed:var(--color-grey-42);--color-neutral-stroke-1-selected:var(--color-grey-44);--color-neutral-stroke-2:var(--color-grey-32);--color-neutral-stroke-3:var(--color-grey-24);--color-neutral-stroke-subtle:var(--color-grey-4);--color-neutral-stroke-on-brand:var(--color-grey-16);--color-neutral-stroke-on-brand-2:var(--color-white);--color-neutral-stroke-on-brand-2-hover:var(--color-white);--color-neutral-stroke-on-brand-2-pressed:var(--color-white);--color-neutral-stroke-on-brand-2-selected:var(--color-white);--color-brand-stroke-1:var(--color-brand-100);--color-brand-stroke-2:var(--color-brand-50);--color-brand-stroke-2-hover:var(--color-brand-50);--color-brand-stroke-2-pressed:var(--color-brand-30);--color-brand-stroke-2-contrast:var(--color-brand-50);--color-compound-brand-stroke:var(--color-brand-100);--color-compound-brand-stroke-hover:var(--color-brand-110);--color-compound-brand-stroke-pressed:var(--color-brand-90);--color-neutral-stroke-disabled:var(--color-grey-26);--color-neutral-stroke-inverted-disabled:var(--color-white-alpha-40);--color-transparent-stroke:transparent;--color-transparent-stroke-interactive:transparent;--color-transparent-stroke-disabled:transparent;--color-neutral-stroke-alpha:var(--color-white-alpha-10);--color-neutral-stroke-alpha-2:var(--color-white-alpha-20);--color-stroke-focus-1:var(--color-black);--color-stroke-focus-2:var(--color-white);--shadow-2:0 0 2px var(--color-neutral-shadow-ambient),0 1px 2px var(--color-neutral-shadow-key);--shadow-4:0 0 2px var(--color-neutral-shadow-ambient),0 2px 4px var(--color-neutral-shadow-key);--shadow-8:0 0 2px var(--color-neutral-shadow-ambient),0 4px 8px var(--color-neutral-shadow-key);--shadow-16:0 0 2px var(--color-neutral-shadow-ambient),0 8px 16px var(--color-neutral-shadow-key);--shadow-28:0 0 8px var(--color-neutral-shadow-ambient),0 14px 28px var(--color-neutral-shadow-key);--shadow-64:0 0 8px var(--color-neutral-shadow-ambient),0 32px 64px var(--color-neutral-shadow-key);--shadow-2-brand:0 0 2px var(--color-brand-shadow-ambient),0 1px 2px var(--color-brand-shadow-key);--shadow-4-brand:0 0 2px var(--color-brand-shadow-ambient),0 2px 4px var(--color-brand-shadow-key);--shadow-8-brand:0 0 2px var(--color-brand-shadow-ambient),0 4px 8px var(--color-brand-shadow-key);--shadow-16-brand:0 0 2px var(--color-brand-shadow-ambient),0 8px 16px var(--color-brand-shadow-key);--shadow-28-brand:0 0 8px var(--color-brand-shadow-ambient),0 14px 28px var(--color-brand-shadow-key);--shadow-64-brand:0 0 8px var(--color-brand-shadow-ambient),0 32px 64px var(--color-brand-shadow-key);--font-family-default:'Segoe UI','Segoe UI Web (West European)',-apple-system,blinkmacsystemfont,roboto,'Helvetica Neue',sans-serif}
`,wW='<svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M16 13a1 1 0 0 1 1 1v9a1 1 0 1 1-2 0v-9a1 1 0 0 1 1-1Zm0-2a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM2 16a14 14 0 1 1 28 0 14 14 0 0 1-28 0ZM16 4a12 12 0 1 0 0 24 12 12 0 0 0 0-24Z"/></svg>';var xW=Object.defineProperty,SW=Object.getOwnPropertyDescriptor,TW=(a,s,l,p)=>{for(var d=p>1?void 0:p?SW(s,l):s,m=a.length-1,y;m>=0;m--)(y=a[m])&&(d=(p?y(s,l,d):y(d))||d);return p&&d&&xW(s,l,d),d};let r3=class extends yn{render(){return ft`
      <div class="dialog">
        <div class="header-icon">${rn(wW)}</div>

        <div class="content">
          <hgroup>
            <h2>${me("You may not access this content")}</h2>
            <p>
              ${me(`An age restriction has been implemented due to mature themes or
              legal requirements intended to protect younger audiences.`)}
            </p>
          </hgroup>
        </div>
      </div>
    `}};r3.styles=[Ja,rv,xn`
:host{display:flex;align-items:center;justify-content:center;background-color:var(--color-neutral-background-2)}.dialog{padding:var(--spacing-xxxl) var(--spacing-xxxl);display:flex;align-items:flex-start;gap:var(--spacing-xl);z-index:10;margin:var(--spacing-xxl);max-width:var(--size-100)}.content{display:flex;align-items:flex-start;flex-direction:column;gap:var(--spacing-xxl);padding-right:var(--spacing-xxxl)}.header-icon{padding:var(--spacing-s);color:var(--color-brand-130);fill:currentcolor}h2{margin:0;padding:0}hgroup{display:flex;flex-direction:column;gap:var(--spacing-xs)}p{margin:0;padding:0}.select-container{display:flex;gap:var(--spacing-m)}
    `],r3=TW([zn("ump-age-gate-restricted")],r3);const kW='<svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M9 9a7 7 0 1 1 14 0A7 7 0 0 1 9 9Zm7-6a6 6 0 1 0 0 12 6 6 0 0 0 0-12Zm.38 15H7.5A3.5 3.5 0 0 0 4 21.5v.67C4 24.32 6.77 30 16 30c.43 0 .84-.01 1.24-.04-.31-.3-.6-.62-.87-.96H16c-8.77 0-11-5.32-11-6.83v-.67A2.5 2.5 0 0 1 7.5 19h8.2c.2-.35.43-.68.68-1Zm7.12-2a7.5 7.5 0 1 0 0 15 7.5 7.5 0 0 0 0-15Zm4.53 4.72c.3.3.3.77 0 1.06l-5.25 5.25c-.3.3-.77.3-1.06 0l-2.5-2.5a.75.75 0 1 1 1.06-1.06l1.97 1.97 4.72-4.72c.3-.3.77-.3 1.06 0Z"/></svg>',EW=xn`
.select{--svg:url('data:image/svg+xml;utf8,${Hw(encodeURIComponent('<svg width="16" height="16" fill="none" stroke="#666" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4.293 8.293a1 1 0 0 1 1.414 0L12 14.586l6.293-6.293a1 1 0 1 1 1.414 1.414l-7 7a1 1 0 0 1-1.414 0l-7-7a1 1 0 0 1 0-1.414Z" fill="#ffffff"/></svg>'))}');position:relative;display:inline-flex;align-items:center;gap:var(--spacing-s-nudge);margin:0;-webkit-appearance:none;appearance:none;padding:var(--spacing-s) var(--spacing-xxxl) var(--spacing-s) var(--spacing-l);color:var(--color-neutral-foreground-1);transition-duration:var(--duration-faster);transition-property:background,color;font-size:var(--font-size-base-400);transition-timing-function:var(--curve-easy-ease);cursor:pointer;-webkit-user-select:none;user-select:none;background-color:var(--color-neutral-background-1);border-radius:var(--border-radius-medium);border:none;background-image:var(--svg);background-repeat:no-repeat;background-position-y:center;background-position-x:calc(100% - 8px);font-family:var(--font-family-default)}.select:focus{outline:none;border-bottom:solid var(--stroke-width-thick) var(--color-brand-stroke-1)}.select:focus-within{outline:none;border-bottom:solid var(--stroke-width-thick) var(--color-brand-stroke-1)}.select.focus-always:focus,.select.focus-default:focus-visible{outline:var(--stroke-width-thick) solid var(--color-stroke-focus-2)}.select:active{outline:none}.select-outline{border:solid var(--stroke-width-thick) var(--color-neutral-stroke-1)}.select-outline.focus-always:focus,.select-outline.focus-default:focus-visible{border:solid var(--stroke-width-thick) var(--color-neutral-stroke-1)}
`;function AW(a){const s=new Date,l=new Date(a);l.setFullYear(s.getFullYear());let p=s.getFullYear()-a.getFullYear();return s<l&&p--,p}function i3(a,s){return Array.from({length:s-a+1},(l,p)=>a+p)}var CW=Object.defineProperty,IW=Object.getOwnPropertyDescriptor,cg=(a,s,l,p)=>{for(var d=p>1?void 0:p?IW(s,l):s,m=a.length-1,y;m>=0;m--)(y=a[m])&&(d=(p?y(s,l,d):y(d))||d);return p&&d&&CW(s,l,d),d};const MW=i3(1,12),_W=i3(1,31),PW=i3(1900,new Date().getFullYear()).reverse();let zl=class extends yn{render(){return ft`
    <div class="dialog">
      <div class="header-icon">${rn(kW)}</div>

        <div class="content">
          <hgroup>
            <h2>${me("Please enter your date of birth")}</h2>
            <p>${me("Age verification is required to access this content.")}</p>
          </hgroup>

          <div class="select-container">
            <div class="select-wrapper">
              <label for="month">${me("Month")}</label>
              <select 
                class=${it({...dt(this.playerState),select:!0,"select-outline":!0})}
                aria-label="${me("Month")}" 
                data-testid="month" 
                id="month"
                >
                <option disabled selected value=''></option>
                ${MW.map(a=>ft`<option value=${a}>${a}</option>`)}
              </select>
            </div>

            <div class="select-wrapper">
              <label for="day">${me("Day")}</label>
              <select 
                class=${it({...dt(this.playerState),select:!0,"select-outline":!0})}
                aria-label="${me("Day")}" 
                data-testid="day" 
                id="day"
                >
                <option disabled selected value=''></option>
                ${_W.map(a=>ft`<option value=${a}>${a}</option>`)}
              </select>
            </div>
            
            <div class="select-wrapper">
              <label for="year">${me("Year")}</label>
              <select 
                class=${it({...dt(this.playerState),select:!0,"select-outline":!0})}
                aria-label="${me("Year")}" 
                data-testid="year" 
                id="year"
                >
                <option disabled selected value=''></option>
                ${PW.map(a=>ft`<option value=${a}>${a}</option>`)}
              </select>
            </div>
          </div>

          <button 
            type="button"
            class=${it({btn:!0,"btn-s":!0,"btn-brand":!0,...dt(this.playerState)})}
            data-testid="age-gate-submit"
          @click=${this.submitButtonClicked}>${me("Submit")}</button>
        </div>
      </div>
    </div>
    `}submitButtonClicked(){const a=this.monthSelect.value,s=this.daySelect.value,l=this.yearSelect.value;if(!a||!s||!l)return;const p=AW(new Date(Number(l),Number(a)-1,Number(s)));this.dispatchEvent(new Et("user-age-set",p))}};zl.styles=[Ja,EW,rv,xn`
:host{display:flex;align-items:center;justify-content:center}.dialog{padding:var(--spacing-xxl) var(--spacing-xxxl);display:flex;align-items:flex-start;gap:var(--spacing-xl);z-index:10;margin:var(--spacing-xxl);max-width:var(--size-100)}.content{display:flex;align-items:flex-start;flex-direction:column;gap:var(--spacing-xxxl);padding-right:var(--spacing-xxl)}.header-icon{padding:var(--spacing-s);color:var(--color-brand-130);fill:currentcolor}hgroup{display:flex;flex-direction:column;gap:var(--spacing-xs)}hgroup h2{margin:0;padding:0}hgroup p{margin:0;padding:0}.select-container{display:flex;flex-direction:row;gap:var(--spacing-m)}.select-wrapper{display:flex;flex-direction:column}.select{background-color:var(--color-brand-30)}.select-outline{border-color:var(--color-brand-150);border-width:var(--stroke-width-thin)}.select-outline.default:focus-visible,.select-outline.focus-always:focus{border-width:var(--stroke-width-thin)}
    `],cg([On("#month")],zl.prototype,"monthSelect",2),cg([On("#day")],zl.prototype,"daySelect",2),cg([On("#year")],zl.prototype,"yearSelect",2),cg([gr({context:mr,subscribe:!0})],zl.prototype,"playerState",2),zl=cg([zn("ump-age-gate-verification")],zl);const DW='<svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M17.25 22a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0ZM16 9a1 1 0 0 0-1 1v8a1 1 0 1 0 2 0v-8a1 1 0 0 0-1-1Zm-3.06-5.2a3.5 3.5 0 0 1 6.12 0l10.5 19a3.5 3.5 0 0 1-3.07 5.2H5.51a3.5 3.5 0 0 1-3.07-5.2l10.5-19Zm4.37.98a1.5 1.5 0 0 0-2.62 0l-10.5 19A1.5 1.5 0 0 0 5.51 26h20.98a1.5 1.5 0 0 0 1.32-2.23l-10.5-19Z"/></svg>';var LW=Object.defineProperty,RW=Object.getOwnPropertyDescriptor,IL=(a,s,l,p)=>{for(var d=p>1?void 0:p?RW(s,l):s,m=a.length-1,y;m>=0;m--)(y=a[m])&&(d=(p?y(s,l,d):y(d))||d);return p&&d&&LW(s,l,d),d};let l1=class extends yn{render(){return ft`
      <div class="dialog message-container" data-testid="error-message">
        <div class="header-icon">${rn(DW)}</div>

        <div class="content">
          <hgroup>
            <h2>${me("Playback Error")}</h2>
            <p>${this.playerState.error}</p>
          </hgroup>
        </div>
      </div>
    `}};l1.styles=[Ja,rv,xn`
:host{display:flex;align-items:center;justify-content:center;background-color:var(--color-brand-10)}.message-container{display:flex;align-items:flex-start;gap:var(--spacing-xl);padding:var(--spacing-xxxl) var(--spacing-xxxl)}.content{display:flex;align-items:flex-start;flex-direction:column;gap:var(--spacing-xxl);padding-right:var(--spacing-xxxl)}.header-icon{padding:var(--spacing-s);color:var(--color-brand-foreground-1);fill:currentcolor}h2{margin:0;padding:0}hgroup{display:flex;flex-direction:column;gap:var(--spacing-xs)}p{margin:0;padding:0}.select-container{display:flex;gap:var(--spacing-m)}
    `],IL([gr({context:mr,subscribe:!0})],l1.prototype,"playerState",2),l1=IL([zn("ump-error-modal")],l1);var NW=Object.defineProperty,UW=Object.getOwnPropertyDescriptor,ML=(a,s,l,p)=>{for(var d=p>1?void 0:p?UW(s,l):s,m=a.length-1,y;m>=0;m--)(y=a[m])&&(d=(p?y(s,l,d):y(d))||d);return p&&d&&NW(s,l,d),d};let c1=class extends yn{render(){return this.playerState.error?ft`<ump-error-modal class="modal"></ump-error-modal>`:this.playerState.ageGate==="waiting"?ft`<div
        data-testid="age-gate-overlay"
        class="overlay modal"
      ></div>`:this.playerState.ageGate==="verification"?ft`<ump-age-gate-verification
        class="modal"
      ></ump-age-gate-verification> `:this.playerState.ageGate==="denied"?ft`<ump-age-gate-restricted
        class="modal"
      ></ump-age-gate-restricted>`:null}updated(a){var s;super.updated(a);const l=!((s=this.shadowRoot)!=null&&s.children.length);this.ariaHidden=l.toString()}};c1.styles=[CL,xn`
:host([aria-hidden='true']){display:none}.overlay{background-color:var(--color-black)}.modal{position:absolute;inset:0;width:100%;height:100%;text-align:left}ump-age-gate-verification,ump-age-gate-restricted{background-color:var(--color-brand-10)}
    `],ML([gr({context:mr,subscribe:!0})],c1.prototype,"playerState",2),c1=ML([zn("ump-modals")],c1);function dg(a){return a.map(s=>({...s,type:kM[s.type]??s.type})).sort((s,l)=>{let p=TM.indexOf(s.type)-TM.indexOf(l.type);return p===0&&s.type==="video/mp4"&&(p=Q0.indexOf(s.quality)-Q0.indexOf(l.quality)),p}).filter(OW)}function OW(a){return document.createElement("video").canPlayType(a.type)!=""?!0:"ManagedMediaSource"in window||"MediaSource"in window}function a3(a){const s=a.map(l=>({...l,ccType:NB[l.ccType]??l.ccType})).reduce((l,p)=>(l[p.locale]||(l[p.locale]=[]),l[p.locale].push(p),l),{});return Object.values(s).map(l=>l.find(p=>p.ccType==="text/vtt")??l[0])}function o3(a){let s=!1,l;return(...p)=>(s||(l=a(...p),s=!0),l)}const jW=o3(async()=>{try{const a=document.createElement("video"),s=a.volume;a.volume=s/2+.1;const l=a.volume;return s!==l&&await new Promise(p=>setTimeout(p,1)),s!==a.volume}catch{return!1}}),FW=o3(()=>typeof document.createElement("div").requestFullscreen=="function");function BW(a){return"webkitEnterFullscreen"in a&&"webkitSupportsFullscreen"in a&&typeof a.webkitEnterFullscreen=="function"&&a.webkitSupportsFullscreen}function VW(a,s){return Object.fromEntries(Object.entries(a).filter(([l,p])=>!s(l,p)))}function zW(a){return VW(a,(s,l)=>l==null)}const s3=["abort","canplay","canplaythrough","complete","cuechange","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"];class $W extends vn.Player{constructor(s,l,p){super(),this.videoElementEventListeners={},this.plugins=[],this.pluginOnDestroy=[],this.loadRequested=!1,this._autoplay=!1,this.onFullscreenChange=()=>{this.dispatchEvent(new vn.util.FakeEvent("fullscreenchanged"))},this.options={...ex,...zW(s)},s.autoplay&&s.muted!==!1&&(this.options.muted=!0),this.videoElement=l,this.lastSelectedVolume=l.volume,this.captionDisplay=p,this.configure({streaming:{bufferBehind:300,ignoreTextStreamFailures:!0}})}async initialize(){this.plugins.forEach(s=>this.pluginOnDestroy.push(s(this))),this.setVideoContainer(this.captionDisplay.captionContainer),this.forwardVideoElementEvents(),this.loop=this.options.loop,this.muted=this.options.muted,this.options.hidePosterImage||(this.poster=this.options.poster),this.videoElement.disablePictureInPicture=!0,this.videoElement.playsInline=!0,await this.attach(this.videoElement)}async destroy(){Object.entries(this.videoElementEventListeners).forEach(([s,l])=>this.videoElement.removeEventListener(s,l)),this.pluginOnDestroy.forEach(s=>s()),this.removeFullscreenListener(),await super.destroy()}load(s,l,p){return p===kM.MP4&&(this.adaptiveBitrate=!1),super.load(s,l,p)}async loadCaptions(s=this.options.ccFiles){for(const l of a3(s))await this.addTextTrackAsync(l.url,l.locale,"captions",l.ccType)}async play(){if(this.getLoadMode()===vn.Player.LoadMode.NOT_LOADED){this.addEventListener("loadsourcescomplete",this.handleLoadSourcesComplete),this.loadRequest();return}return this.videoElement.play()}pause(){if(!this.isFullyLoaded()){this.removeEventListener("loadsourcescomplete",this.handleLoadSourcesComplete);return}return this.videoElement.pause()}loadRequest(){this.loadRequested||(this.loadRequested=!0,this.dispatchEvent(new vn.util.FakeEvent("loadsourcesrequest")))}handleLoadSourcesComplete(){this.videoElement.play()}requestFullscreen(s){this.removeFullscreenListener(),FW()?(this.fullscreenElement=s,s.addEventListener("fullscreenchange",this.onFullscreenChange),s.requestFullscreen({navigationUI:"hide"})):BW(this.videoElement)&&this.videoElement.webkitEnterFullscreen()}exitFullscreen(){document.exitFullscreen()}get fullscreen(){return document.fullscreenElement!==null}get ended(){return this.videoElement.ended}get paused(){return this.videoElement.paused}get duration(){return this.videoElement.duration}get currentTime(){return this.videoElement.currentTime}set currentTime(s){this.videoElement.currentTime=s}get loop(){return this.videoElement.loop}set loop(s){this.videoElement.loop=s}get autoplay(){return this._autoplay}set autoplay(s){this._autoplay=s}get muted(){return this.volume===0?!0:this.videoElement.muted}set muted(s){this.videoElement.muted=s,this.videoElement.volume=s?0:this.lastSelectedVolume}get playbackRate(){return this.getPlaybackRate()}set playbackRate(s){this.videoElement.playbackRate=s}get poster(){return this.videoElement.poster}set poster(s){const l=new Image;l.addEventListener("load",()=>{this.dispatchEvent(new vn.util.FakeEvent("playerposterloadcomplete"))}),l.src=s,this.videoElement.poster=l.src}get volume(){return this.videoElement.volume}set volume(s){this.videoElement.muted=!1,this.videoElement.volume=s}get adaptiveBitrate(){return this.getConfiguration().abr.enabled}set adaptiveBitrate(s){this.configure({abr:{enabled:s}})}get videoQualities(){if(this.getManifestType()){const s=this.filterRelatedAdaptiveTracks();return s.length===0?[]:[Oh,...s]}else return this.filterStaticMp4Tracks()}get activeVideoId(){var s,l;if(this.getManifestType()){const p=(s=this.getVariantTracks().find(d=>d.active))==null?void 0:s.videoId;if(p)return p}else{const p=this.getAssetUri();return(l=this.options.sources.find(d=>d.src===p))==null?void 0:l.quality}}get buffered(){const s=this.videoElement,l=[];for(let p=0;p<s.buffered.length;p++)l.push({start:s.buffered.start(p),end:s.buffered.end(p)});return l}dispatchUmpError(s){this.dispatchEvent(new vn.util.FakeEvent("error",new Map().set("detail",s)))}saveLastSelectedVolume(s){s!==0&&(this.lastSelectedVolume=s)}async selectVideoQuality(s){if(this.getManifestType()){if(s.videoId===Oh.videoId){this.adaptiveBitrate=!0;return}this.adaptiveBitrate=!1;const l=this.getVariantTracks().filter(p=>p.audioId===this.activeAudioTrackId).find(p=>p.videoId===s.videoId);if(!l)throw new vn.util.Error(vn.util.Error.Severity.RECOVERABLE,vn.util.Error.Category.MEDIA,vn.util.Error.Code.VIDEO_ERROR);this.adaptiveBitrate=!1,this.selectVariantTrack(l,!0)}else{const l=dg(this.options.sources).find(m=>m.quality===s.videoId);if(!l)throw new vn.util.Error(vn.util.Error.Severity.RECOVERABLE,vn.util.Error.Category.MEDIA,vn.util.Error.Code.VIDEO_ERROR);const p=!this.paused,d=this.activeCaptionTrack;await this.load(l.src,this.videoElement.currentTime,l.type),p&&this.play(),await this.loadCaptions(),this.captionTrack=d}}get audioTracks(){const s=this.getVariantTracks(),l=s.find(y=>y.active);if(!l)return[];const p=s.filter(y=>y.videoId===l.videoId),d=p.map(y=>{const f=y.originalLanguage??y.language;return f.startsWith(tx)?f.substring(tx.length):f}),m=tv(d);return p.map((y,f)=>({audioId:y.audioId,language:y.language.toLowerCase(),label:m[d[f]],role:y.language.startsWith(tx)?"public.accessibility.describes-video":y.roles[0]})).sort((y,f)=>y.label.localeCompare(f.label))}get activeAudioTrackId(){var s;const l=(s=this.getVariantTracks().find(p=>p.active))==null?void 0:s.audioId;if(l)return l}set audioTrack(s){this.selectAudioLanguage(s.language,s.role)}get captionTracks(){const s=tv(this.getTextTracks().map(p=>p.language)),l=this.getTextTracks().map(p=>({captionId:p.id,language:p.language,label:s[p.language]})).sort((p,d)=>p.label.localeCompare(d.label));return[jh,...l]}get activeCaptionTrack(){var s;const l=(s=this.getTextTracks().find(d=>d.active))==null?void 0:s.id,p=this.captionTracks.find(d=>d.captionId===l);return!p||!this.isTextTrackVisible()?jh:p}get activeCaptionTrackId(){return this.activeCaptionTrack.captionId}set captionTrack(s){if(s.captionId===jh.captionId){this.setTextTrackVisibility(!1);return}this.selectTextLanguage(s.language),this.setTextTrackVisibility(!0)}addPlugin(s){this.plugins.push(s)}addPlugins(...s){s.forEach(l=>this.addPlugin(l))}addEventListener(s,l,p){p?.once===!0?HW(this,s,l):super.addEventListener(s,l,p)}forwardVideoElementEvents(){s3.forEach(s=>{const l=()=>this.dispatchEvent(new vn.util.FakeEvent(s));this.videoElementEventListeners[s]=l,this.videoElement.addEventListener(s,l)})}filterStaticMp4Tracks(){return dg(this.options.sources).filter(s=>s.type==="video/mp4").sort((s,l)=>Q0.indexOf(s.quality)-Q0.indexOf(l.quality)).map(s=>({videoId:s.quality,label:s.quality}))}filterRelatedAdaptiveTracks(){const s=this.getVariantTracks(),l=s.find(p=>p.active);return l?s.filter(p=>p.audioId===l.audioId).sort((p,d)=>d.height===p.height||p.height==null||d.height==null?d.bandwidth-p.bandwidth:d.height-p.height).reduce((p,d)=>{const m=new Set(p.map(f=>f.height??f.bandwidth)),y=d.height??d.bandwidth;return m.has(y)||p.push(d),p},[]).map(p=>({videoId:p.videoId,label:p.height?p.height.toString():`${(p.bandwidth/1e6).toFixed(2)} Mbps`})):[]}removeFullscreenListener(){this.fullscreenElement&&this.fullscreenElement.removeEventListener("fullscreenchange",this.onFullscreenChange)}}function HW(a,s,l){const p=d=>{a.removeEventListener(s,p),l(d)};a.addEventListener(s,p)}class qW{constructor(s,l){this.prefix=s,this.store=l}getItem(s){return this.store.getItem(this.prefixed(s))}getNumber(s){const l=this.getItem(s);if(l===null)return null;const p=Number(l);return isNaN(p)?null:p}setNumber(s,l){this.setItem(s,l.toString())}setItem(s,l){this.store.setItem(this.prefixed(s),l)}removeItem(s){this.store.removeItem(this.prefixed(s))}prefixed(s){return`${this.prefix}:${s}`}}const _L=new qW(EM,window.sessionStorage),u3="agegateupdate",l3="UserAge";function GW(a,s){return l=>{var p,d;if(l.options.ageGate===!1)return()=>{};let m=typeof l.options.ageGate=="object"&&typeof((p=l.options.ageGate)==null?void 0:p.minimumAge)=="number"?l.options.ageGate.minimumAge:null,y=typeof l.options.ageGate=="object"&&typeof((d=l.options.ageGate)==null?void 0:d.userAge)=="number"?l.options.ageGate.userAge:_L.getNumber(l3);f();function f(){if(s.value.ageGate==="verified"){N();return}return m===0?E("verified"):m===null?E("waiting"):y===null?E("verification"):y>=m?E("verified"):E("denied")}function E(q){s.setValue({...s.value,ageGate:q})}function I(q){m=q.detail,f()}function D(q){y=q.detail,f(),KW(y)}function U(q){y=q.detail,f(),window.removeEventListener(u3,U)}function N(){w.removeAllListeners(),F.removeAllListeners()}function R(q){if(q.key!==`${EM}:${l3}`||!q.newValue)return;const Z=Number(q.newValue);isNaN(Z)||(y=Z,f(),window.removeEventListener("storage",R))}const w=Gh(window),F=Gh(a);return w.addEventListener(u3,U),w.addEventListener("storage",R),F.addEventListener("minimum-age-set",I),F.addEventListener("user-age-set",D),()=>{N()}}}function KW(a){_L.setNumber(l3,a),window.dispatchEvent(new Et(u3,a))}const c3=new EventTarget;let d3=null;function WW(a){a!==d3&&(d3=a,c3.dispatchEvent(new Event("change")))}function PL(){return d3}function XW(a,s){return l=>{if(!l.options.autoplay)return()=>{};const p=window.matchMedia("(prefers-reduced-motion: reduce)"),d={threshold:l.options.percentage/100},m=new IntersectionObserver(R=>{N(R[0]),y()&&(R[0].isIntersecting?l.paused&&l.play():l.paused||l.pause())},d);function y(){if(typeof s.value.ageGate=="string"&&s.value.ageGate!=="verified")return!1;const R=PL();return typeof R=="boolean"?R:!p.matches}function f(){l.autoplay=y()}function E(){f()}function I(){f()}function D(){f(),p.addEventListener("change",E),c3.addEventListener("change",I),a.addEventListener("click",U,{once:!0}),l.addEventListener("ended",U,{once:!0}),m.observe(a)}function U(){l.autoplay=!1,m.disconnect(),p.removeEventListener("change",E),c3.removeEventListener("change",I),a.removeEventListener("click",U)}const N=o3(R=>{(!l.autoplay||!R.isIntersecting)&&(l.options.hideControls==null&&s.setValue({...s.value,controlsState:"bigplaybutton"}),l.options.hidePosterImage||(l.poster=l.options.poster))});return D(),U}}function YW(a){return()=>{async function s(){const l=await jW();a.setValue({...a.value,showVolumeSlider:l})}return s(),()=>{}}}function ZW(a,s){return l=>{var p;function d(y){a.dir=y,s.setValue({...s.value,dir:y})}const m=(p=document.documentElement.getAttribute("dir"))==null?void 0:p.toLowerCase();return d(l.options.dir==="ltr"||l.options.dir==="rtl"?l.options.dir:m==="ltr"||m==="rtl"?m:"ltr"),()=>{}}}function QW(a){return s=>(a.setValue({...a.value,disableKeyboardEvents:s.options.disableKeyboardEvents}),()=>{})}function JW(a,s){return l=>{if(!l.options.showDownloadMenu)return s.setValue({...s.value,showDownloadMenu:!1}),()=>{};const p=Gh(a);p.addEventListener("download-file-clicked",d),p.addEventListener("download-files-updated",m),l.options.downloadableFiles.length>0&&y(l.options.downloadableFiles);async function d(f){let E=null;try{const{url:I}=f.detail,D=await fetch(I);if(!D.ok)throw new Error(`Failed to download file: ${D.url} ${D.statusText}`);const U=await D.blob();E=document.createElement("a"),E.href=URL.createObjectURL(U);const N=I.split("/").pop();E.download=N,document.body.appendChild(E),E.dispatchEvent(new MouseEvent("click",{bubbles:!1}))}catch(I){console.error(`Failed to download file: ${I}`)}finally{E!=null&&E.href&&(URL.revokeObjectURL(E.href),document.body.removeChild(E))}}function m(f){y(f.detail)}function y(f){const E=tv(f.filter(N=>N.mediaType==="video").map(N=>N.locale)),I=f.filter(N=>N.mediaType==="video").map(N=>({...N,locale:E[N.locale]})).sort((N,R)=>N.locale.localeCompare(R.locale)),D=tv(f.filter(N=>N.mediaType==="transcript").map(N=>N.locale)),U=f.filter(N=>N.mediaType==="transcript").map(N=>({...N,locale:D[N.locale]})).sort((N,R)=>N.locale.localeCompare(R.locale));s.setValue({...s.value,downloadableVideoFiles:I,downloadableTranscriptFiles:U})}return()=>{p.removeAllListeners()}}}function eX(a){return s=>{const l={abrstatuschanged:()=>$l(a,s),adaptation:()=>$l(a,s),loaded:()=>{LL(a,s),$l(a,s),DL(a,s)},mediaqualitychanged:()=>$l(a,s),trackschanged:()=>LL(a,s),textchanged:()=>$l(a,s),texttrackvisibility:()=>$l(a,s),timeupdate:()=>nX(a,s),variantchanged:()=>$l(a,s),volumechange:()=>DL(a,s),ended:()=>rX(a),playing:()=>iX(a),pause:()=>aX(a),seeking:()=>oX(a),durationchange:()=>sX(a,s),fullscreenchanged:()=>uX(a,s),ratechange:()=>lX(a,s),error:p=>cX(a,s,p.detail),progress:()=>dX(a,s)};return tX(a,s),pX(a,s),Object.entries(l).forEach(([p,d])=>s.addEventListener(p,d)),()=>{}}}function tX(a,s){const l=s.options.playbackRates.map(p=>({label:p===1?"Normal":`${p}x`,value:p}));a.setValue({...a.value,playbackRates:l})}function nX(a,s){a.setValue({...a.value,currentTime:s.currentTime})}function DL(a,s){a.setValue({...a.value,volume:s.volume,muted:s.muted})}function $l(a,s){const l=s.activeVideoId;a.setValue({...a.value,activeVideoQualityId:l,selectedVideoQualityId:s.adaptiveBitrate?Oh.videoId:l,selectedAudioTrackId:s.activeAudioTrackId,selectedCaptionTrackId:s.activeCaptionTrackId})}function LL(a,s){a.setValue({...a.value,videoQualities:s.videoQualities,audioTracks:s.audioTracks,captionTracks:s.captionTracks})}function rX(a){a.setValue({...a.value,ended:!0})}function iX(a){a.setValue({...a.value,paused:!1})}function aX(a){a.setValue({...a.value,paused:!0})}function oX(a){a.setValue({...a.value,ended:!1})}function sX(a,s){a.setValue({...a.value,duration:s.duration})}function uX(a,s){a.setValue({...a.value,fullscreen:s.fullscreen})}function lX(a,s){a.setValue({...a.value,playbackRate:s.playbackRate})}function cX(a,s,l){l.severity===vn.util.Error.Severity.CRITICAL&&(s.options.showImageOnError?(s.unload(),a.setValue({...a.value,controlsState:"none"})):a.setValue({...a.value,error:OB}))}function dX(a,s){a.setValue({...a.value,buffered:s.buffered})}function pX(a,s){function l(m){a.setValue({...a.value,loading:m})}function p(){l(!0);const m=s.currentTime,y=()=>{m!==s.currentTime&&(l(!1),s.removeEventListener("timeupdate",y))};s.addEventListener("timeupdate",y)}function d(m){m.detail.severity===vn.util.Error.Severity.CRITICAL&&l(!1)}s.addEventListener("playerloadmediastart",p),s.addEventListener("waiting",p),s.addEventListener("error",d),s.addEventListener("ended",()=>l(!1)),s.addEventListener("playing",()=>l(!1)),s.addEventListener("canplay",()=>l(!1)),s.addEventListener("canplaythrough",()=>l(!1))}function hX(a,s){return l=>{const p=[],d={contentVisibilityAuto:!0,opacityProperty:!0,visibilityProperty:!0},m=()=>{const N=a.getBoundingClientRect();return!(N.width===0||N.height===0)},y=N=>({size:()=>m(),visibility:()=>a.checkVisibility(d),all:()=>m()||a.checkVisibility(d)})[N](),f=N=>{const R=y(N);s.setValue({...s.value,visible:R}),R||l.pause()},E=N=>{N.forEach(R=>{R.type==="attributes"&&R.attributeName==="style"&&f("visibility")})},I={attributes:!0};(N=>{const R=new MutationObserver(E);for(;N;){R.observe(N,I),p.push(R);const w=N?.getRootNode();N=N?.assignedSlot||N?.parentElement||(w instanceof ShadowRoot?w.host:null)}})(a);const D=N=>{N.forEach(()=>{f("size")})},U=new ResizeObserver(D);return U.observe(a),f("all"),()=>{p.forEach(N=>N.disconnect()),U.disconnect()}}}function fX(a){return s=>(s.options.playFullScreen&&s.addEventListener("play",()=>{s.requestFullscreen(a)},{once:!0}),()=>{})}function gX(a){return s=>{s.options.qualityBehavior==="forceHighestQuality"&&s.configure({abr:{enable:!1,defaultBandwidthEstimate:1e10,useNetworkInformation:!1}}),a.setValue({...a.value,showQualityMenu:s.options.showQualityMenu});async function l(){if(s.options.qualityBehavior==="forceHighestQuality"&&s.getManifest()){const p=s.videoQualities[1];p&&s.selectVideoQuality(p)}}return s.addEventListener("loadsourcescomplete",l,{once:!0}),()=>{}}}const mX=`<svg
  width="38"
  height="37"
  viewBox="0 0 38 37"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M8.01585 5.78125C5.14224 5.78125 2.81272 8.11077 2.81272 10.9844V12.695C2.81242 12.7102 2.81243 12.7253 2.81272 12.7405V26.0156C2.81272 28.8892 5.14224 31.2188 8.01585 31.2188H29.9846C32.8582 31.2188 35.1877 28.8892 35.1877 26.0156V12.7405C35.188 12.7253 35.188 12.7102 35.1877 12.695V10.9844C35.1877 8.11077 32.8582 5.78125 29.9846 5.78125H8.01585ZM32.8752 12.0281L19.0002 19.4993L5.12522 12.0281V10.9844C5.12522 9.38793 6.4194 8.09375 8.01585 8.09375H29.9846C31.581 8.09375 32.8752 9.38793 32.8752 10.9844V12.0281ZM5.12522 14.6546L18.452 21.8305C18.7943 22.0148 19.2062 22.0148 19.5484 21.8305L32.8752 14.6546V26.0156C32.8752 27.6121 31.581 28.9062 29.9846 28.9062H8.01585C6.4194 28.9062 5.12522 27.6121 5.12522 26.0156V14.6546Z"
  />
</svg>`,vX=`<svg
  width="16"
  height="30"
  viewBox="0 0 16 30"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <g clip-path="url(#clip0_511_2982)">
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M15.6346 4.86093C9.21328 4.47388 10.4141 7.03694 10.35 11.136C11.691 11.136 14.6137 11.1421 15.4183 11.1421C15.0983 13.2175 14.6746 15.9452 14.6045 16.3993C13.0777 16.4054 11.6819 16.4114 10.3592 16.4145C10.3653 19.008 10.3683 27.8614 10.344 29.3425C9.42357 29.3425 5.54394 29.3974 4.65708 29.3425C4.65708 27.258 4.65098 18.5631 4.65098 16.3993C3.51422 16.3993 1.47535 16.4114 0.012491 16.3932C0.012491 15.3265 -0.00579475 12.9829 0.012491 11.133C0.844494 11.1116 3.70012 11.133 4.66317 11.1025C4.66317 9.9139 4.65708 8.7619 4.65403 7.25332C4.63879 1.92911 8.11919 -1.12157 15.6407 0.387011C15.6407 1.64568 15.6407 3.93445 15.6407 4.86093H15.6346Z"
    />
  </g>
  <defs>
    <clipPath id="clip0_511_2982">
      <rect width="15.6343" height="29.37" fill="white" />
    </clipPath>
  </defs>
</svg>`,yX=`<svg
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <g clip-path="url(#clip0_511_2987)">
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M13.3045 7.94905L8.62619 7.98985L8.59559 24C10.1698 24 11.7439 24 13.3181 23.9831C13.3181 21.9567 13.3113 18.9444 13.3181 16.5372C13.3215 14.4599 13.4303 12.0731 16.1502 11.9712C18.9687 11.8658 19.0163 14.3953 19.0197 16.51C19.0231 18.8458 18.9007 21.5691 19.0197 23.8607L23.8918 23.8811C23.9292 23.5377 23.902 17.0438 23.902 16.5134C23.902 15.3337 23.9734 13.9975 23.9156 12.8347C23.7592 9.66941 21.3147 7.47306 18.1902 7.46966C16.854 7.46966 15.3546 7.99325 14.4502 8.81603C13.9913 9.23422 13.7295 9.62521 13.3283 10.0332C13.3283 9.36002 13.3147 8.57804 13.3011 7.94565L13.3045 7.94905ZM0.571791 23.8437H5.29087C5.28067 22.9563 5.28747 9.67961 5.29087 7.94905H0.571791V23.8437ZM2.61174 0.0272487C0.986581 0.255043 -0.18639 1.60141 0.024405 3.27417C0.2114 4.76673 1.53737 6.0723 3.26792 5.8615C4.74009 5.68131 6.04225 4.32474 5.82466 2.60778C5.64106 1.15602 4.3015 -0.210745 2.61174 0.0272487Z"
    />
  </g>
  <defs>
    <clipPath id="clip0_511_2987">
      <rect
        width="23.9422"
        height="24"
        fill="white"
        transform="translate(0.000610352)"
      />
    </clipPath>
  </defs>
</svg>`,bX=`<svg
  width="28"
  height="24"
  viewBox="0 0 28 24"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <g clip-path="url(#clip0_511_2985)">
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M20.2899 21.4804C19.8539 20.897 6.12454 2.76639 5.93862 2.51957C6.09569 2.51957 7.90683 2.51957 8.08955 2.51957C8.30112 2.80166 22.0401 20.7111 22.5947 21.4804H20.2899ZM17.001 10.0815C18.5685 8.26713 24.8995 0.891145 25.5951 0.0544945L21.7324 0.02885C20.6842 1.23734 15.5585 6.98811 15.0937 7.4978C14.4878 6.73167 9.34933 0.368639 9.07366 0H0.867432C1.87718 1.30466 10.4777 12.5081 10.8559 12.9985C8.76592 15.3963 2.15927 22.987 1.38994 23.8782L5.65012 23.9327L12.7889 15.781C13.8019 17.0792 18.5813 23.3653 19.216 24.0032C19.8924 24.0032 26.9703 23.9519 27.3902 23.9423C26.4991 22.7755 17.6068 10.8732 17.0042 10.0815H17.001Z"
    />
  </g>
  <defs>
    <clipPath id="clip0_511_2985">
      <rect
        width="26.5196"
        height="24"
        fill="white"
        transform="translate(0.867188)"
      />
    </clipPath>
  </defs>
</svg>`;function wX(a,s){return l=>{const p=xX(l).map(f=>SX(f));s.setValue({...s.value,shareOptions:p});function d(){s.setValue({...s.value,shareDialogOpened:!0})}function m(){var f,E,I,D,U,N;s.setValue({...s.value,shareDialogOpened:!1}),(N=(U=(D=(I=(E=(f=a.renderRoot)==null?void 0:f.querySelector("ump-controls"))==null?void 0:E.renderRoot.querySelector("ump-control-bar"))==null?void 0:I.renderRoot.querySelector("ump-more-menu"))==null?void 0:D.renderRoot.querySelector('[data-id="more-menu-button"]'))==null?void 0:U.focus)==null||N.call(U)}const y=Gh(a);return y.addEventListener("share-button-clicked",d),y.addEventListener("share-dialog-closed",m),()=>{y.removeAllListeners()}}}function xX(a){return a.options.share?a.options.shareOptions.length===0?xM:a.options.shareOptions:[]}function SX(a){const s=new URL(window.location.href);s.searchParams.delete("jsapi");const l=s.toString();switch(a){case"facebook":return{id:"facebook",url:`https://www.facebook.com/share.php?u=${encodeURIComponent(l)}`,icon:vX};case"linkedin":return{id:"linkedin",url:`https://www.linkedin.com/shareArticle?mini=true&url=${encodeURIComponent(l)}&title=&summary=&source=`,icon:yX};case"twitter":return{id:"twitter",url:`https://x.com/share?url=${encodeURIComponent(l)}&text=`,icon:bX};case"mail":return{id:"mail",url:`mailto:?subject=Check out this great video&body=${encodeURIComponent(l)}`,icon:mX};default:return{id:"copy",url:l,icon:""}}}function TX(){return a=>{if(a.options.sources.length===0)return()=>{};a.addEventListener("loadsourcesrequest",s);async function s(){a.dispatchEvent(new vn.util.FakeEvent("playerloadmediastart"));const l=dg(a.options.sources);try{await a.load(l[0].src,a.options.startTime,l[0].type)}catch{a.dispatchUmpError({severity:vn.util.Error.Severity.CRITICAL,umpErrorType:"Error loading video source",umpErrorDescription:`Error loading video source: ${l[0].src}`});return}await a.loadCaptions(),a.dispatchEvent(new vn.util.FakeEvent("playerloadmediaend")),a.dispatchEvent(new vn.util.FakeEvent("loadsourcescomplete"))}return()=>{}}}const kX="https://afe-vidapi-pmeprod-gae4fddud0fpdxfb.b02.azurefd.net";class EX{constructor(s){this.dispose=()=>{this.abortController.abort()},this.options=s,this.abortController=new AbortController}async fetchVideoApiMetadata(){const s=this.options.adobeCms,l=this.abortController.signal,p=this.constructAdobeCmsEndpoint(s?.operatingGroup,s?.videoId,s?.posterWidth,s?.posterHeight),d=await fetch(p.toString(),{signal:l});if(!d.ok)throw new Error(`Error fetching AdobeCMS Metadata from ${p}`);const m=await d.json();return{poster:m.posterUrl,sources:this.parseVideoFiles(m.sources),ccFiles:a3(m.closedCaptions),downloadableFiles:m.downloadableFiles,title:m.videoTitle,ageGate:{minimumAge:m.minimumAge}}}constructAdobeCmsEndpoint(s,l,p,d){const m=new URL(`${kX}/api/videos/${s}/${l}/videoInfo`);return p&&m.searchParams.set("posterWidth",p),d&&m.searchParams.set("posterHeight",d),m}parseVideoFiles(s){return dg(s.map(l=>({src:l.url,type:l.type})))}}const AX="h.264_",CX="transcript",IX="TTML",MX="DASH",_X="HLS";class PX{constructor(s){this.dispose=()=>{this.abortController.abort()},this.player=s,this.abortController=new AbortController}async fetchVideoApiMetadata(){var s;const l=`https://prod-video-cms-rt-microsoft-com.akamaized.net/vhs/api/videos/${(s=this.player.options.plugins.powerCms)==null?void 0:s.videoId}`,p=this.abortController.signal,d=await fetch(`${l}`,{signal:p});if(!d.ok)throw new Error(`Error fetching PowerCMS Metadata from ${l}`);const m=await d.json();return{poster:this.forceHttps(m.snippet.thumbnails.medium.url),sources:this.parseVideoFiles(m),ccFiles:this.parseCcFiles(m),downloadableFiles:this.parseDownloadableFiles(m),title:m.snippet.title,ageGate:{minimumAge:m.snippet.minimumAge}}}parseVideoFiles(s){return dg([{src:this.forceHttps(s.streams.mPEG_DASH.url),type:MX},{src:this.forceHttps(s.streams.apple_HTTP_Live_Streaming.url),type:_X}])}parseCcFiles(s){return a3(Object.entries(s.captions).map(([l,p])=>({ccType:IX,url:this.forceHttps(p.url),locale:l})))}parseDownloadableFiles(s){const l=Object.entries(s.streams).filter(([p])=>p.startsWith(AX)).map(([,p])=>p).reduce((p,d)=>p.widthPixels>d.widthPixels?p:d);return[...Object.entries(s.transcripts).map(([p,d])=>({mediaType:CX,url:this.forceHttps(d.url),locale:p})),{mediaType:"video",url:this.forceHttps(l.url),locale:s.snippet.culture}]}forceHttps(s){return s.replace("http://","https://")}}function DX(a){return s=>{var l;const p=s.options.adobeCms,d=(l=s.options.plugins)==null?void 0:l.powerCms;if((!(p!=null&&p.operatingGroup)||!(p!=null&&p.videoId))&&!(d!=null&&d.videoId))return()=>{};let m=()=>{},y=p!=null&&p.operatingGroup&&p!=null&&p.videoId?1:0;const f=new AbortController;let E={};async function I(){var q,Z;if(!((Z=(q=s.options.plugins)==null?void 0:q.powerCms)!=null&&Z.videoId))return;const ne=`https://www.microsoft.com/videoplayer/umpOptionsMappings/${s.options.plugins.powerCms.videoId}.json`,ve=f.signal;try{const pe=await fetch(ne,{signal:ve});if(!pe.ok)return;E=await pe.json(),y=2}catch(pe){console.error("Error fetching video options mapping",pe)}}const D=I();s.addEventListener("loadsourcesrequest",F);const U=[],N=[];async function R(){await D;let q;switch(y){case 1:case 2:{const Z=new EX(y===2?E:s.options);m=Z.dispose,q=await Z.fetchVideoApiMetadata();break}case 0:{const Z=new PX(s);m=Z.dispose,q=await Z.fetchVideoApiMetadata();break}}if(!q||q.sources.length===0)throw new Error("No metadata or no sources found in metadata");q.title&&(a.ariaLabel=q.title),U.push(...q.sources),s.options.hidePosterImage||(s.poster=q.poster),N.push(...q.ccFiles),a.dispatchEvent(new Et("minimum-age-set",q.ageGate.minimumAge??0)),q.downloadableFiles.length>0&&a.dispatchEvent(new Et("download-files-updated",q.downloadableFiles))}const w=(async()=>{try{await R()}catch(q){q instanceof Error&&s.dispatchUmpError({severity:vn.util.Error.Severity.CRITICAL,umpErrorType:"Error fetching video metadata",umpErrorDescription:JSON.stringify(q.message)})}})();async function F(){s.dispatchEvent(new vn.util.FakeEvent("playerloadmediastart")),await w,await s.load(U[0].src,s.options.startTime,U[0].type),await s.loadCaptions(N),s.dispatchEvent(new vn.util.FakeEvent("playerloadmediaend")),s.dispatchEvent(new vn.util.FakeEvent("loadsourcescomplete"))}return()=>{f.abort(),m()}}}function LX(){try{return crypto.randomUUID()}catch{return`10000000-1000-4000-8000-${1e11}`.replace(/[018]/g,a=>(a^crypto.getRandomValues(new Uint8Array(1))[0]&15>>a/4).toString(16))}}var RX=Object.defineProperty,NX=Object.getOwnPropertyDescriptor,pg=(a,s,l,p)=>{for(var d=p>1?void 0:p?NX(s,l):s,m=a.length-1,y;m>=0;m--)(y=a[m])&&(d=(p?y(s,l,d):y(d))||d);return p&&d&&RX(s,l,d),d};vn.polyfill.installAll();const p3="options";function h3(a,s,l){const p=a instanceof ka?a:ka.getById(a);return l&&p.addEventListener("ready",l,{once:!0}),p.setAttribute("options",JSON.stringify(s)),p}Object.defineProperty(h3,"allowAutoplay",{get:PL,set:WW});let ka=class extends yn{constructor(){super(...arguments),this.umpId=`ump-${LX()}`,this.ariaLabel=null,this.playerStateContext=new Vw(this,{context:mr,initialValue:SM}),this.onVideoEvent=a=>{this.dispatchEvent(new Et(a.type,a.target))}}render(){return ft`
      <ump-caption-display></ump-caption-display>
      <ump-controls class="fill-parent"></ump-controls>
      <ump-loading-spinner></ump-loading-spinner>
      <ump-modals class="fill-parent"></ump-modals>
      <ump-aria-announcer></ump-aria-announcer>
    `}setMinimumAge(a){this.dispatchEvent(new Et("minimum-age-set",a))}setAge(a){this.dispatchEvent(new Et("user-age-set",a))}dispose(){this.destroyPlayer()}get currentState(){var a;if(this.player)return{duration:this.player.duration,currentTime:this.player.currentTime,percentageComplete:this.player.currentTime/this.player.duration,autoPlay:this.player.autoplay,muted:this.player.muted,loop:this.player.loop,title:this.player.options.title,powerCmsVideoId:(a=this.player.options.plugins.powerCms)==null?void 0:a.videoId}}play(){var a;(a=this.player)==null||a.play()}pause(){var a;(a=this.player)==null||a.pause()}async updated(a){a.has(p3)&&(await this.destroyPlayer(),this.options&&await this.initPlayer(this.options))}async disconnectedCallback(){super.disconnectedCallback(),await this.destroyPlayer()}connectedCallback(){super.connectedCallback(),this.requestUpdate()}async initPlayer(a){var s,l;this.playerStateContext.setValue(SM);const p=this.addVideo();this.player=new $W(a,p,this.captionDisplay),this.player.addPlugins(fW(this,this.playerStateContext),TX(),DX(this),eX(this.playerStateContext),JW(this,this.playerStateContext),wX(this,this.playerStateContext),hz(this,this.playerStateContext),GW(this,this.playerStateContext),hX(this,this.playerStateContext),fX(this),XW(this,this.playerStateContext),YW(this.playerStateContext),gX(this.playerStateContext),QW(this.playerStateContext),zB(this.playerStateContext),ZW(this,this.playerStateContext)),this.updateStyles(this.player),this.ariaLabel=((s=this.options)==null?void 0:s.title)||null,kV(EV((l=this.options)==null?void 0:l.language)),await this.player.initialize(),this.dispatchEvent(new Et("ready",this.player))}addVideo(){var a;const s=document.createElement("video");return s.classList.add("fill-parent"),s3.forEach(l=>{s.addEventListener(l,this.onVideoEvent)}),(a=this.shadowRoot)==null||a.prepend(s),s}removeVideo(){var a;const s=(a=this.player)==null?void 0:a.getMediaElement();s&&(s3.forEach(l=>{s.removeEventListener(l,this.onVideoEvent)}),s.remove())}async destroyPlayer(){var a;this.removeVideo(),await((a=this.player)==null?void 0:a.destroy()),this.player=void 0}updateStyles(a){this.style.setProperty("--ump-aspect-ratio",a.options.aspectRatio.replace(":"," /")),a.options.layout==="fill"?this.style.setProperty("--ump-height","100%"):this.style.setProperty("--ump-height","unset")}static getById(a){const s=document.getElementById(a);if(!(s instanceof ka))throw new Error(`Not a valid element. To use Universal Media Player, you must pass in an element named "${jB}" but you passed in id ${a} which resolves to element ${s?.tagName}.`);return s}};ka.shadowRootOptions={...yn.shadowRootOptions,delegatesFocus:!0},ka.styles=[CL,xn`
:host{--ump-aspect-ratio:unset;--ump-height:unset;container-type:size;container-name:universalmediaplayer;display:inline-block;position:relative;width:100%;height:var(--ump-height);aspect-ratio:var(--ump-aspect-ratio);background-color:var(--color-black);font-family:var(--font-family-default);font-size:var(--font-size-base-300);word-break:normal}video{object-fit:contain}.fill-parent{position:absolute;inset:0;width:100%;height:100%}ump-controls{z-index:10}ump-modals{z-index:20}ump-loading-spinner{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:15}
    `],pg([er({type:Object,attribute:p3,reflect:!0})],ka.prototype,"options",2),pg([er({reflect:!0})],ka.prototype,"umpId",2),pg([er({attribute:"aria-label",reflect:!0})],ka.prototype,"ariaLabel",2),pg([On("ump-caption-display")],ka.prototype,"captionDisplay",2),ka=pg([zn("universal-media-player")],ka),window.ump=h3,window.ISOBoxer=KF;export{p3 as OPTIONS_ATTRIBUTE_NAME,ka as UniversalMediaPlayer,AV as registerTranslation,CV as setTranslationLoader,h3 as ump};
